(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{LSTS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a("q1tI"),i=l(o),r=l(a("17x9"));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.scrollListener=a.scrollListener.bind(a),a.eventListenerOptions=a.eventListenerOptions.bind(a),a.mousewheelListener=a.mousewheelListener.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(a){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,a=this.getParentElement(e),n=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;n=this.props.isReverse?i:this.calculateOffset(e,i)}else n=this.props.isReverse?a.scrollTop:e.scrollHeight-a.scrollTop-a.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=a.scrollHeight,this.beforeScrollTop=a.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),a=t.children,n=t.element,o=t.hasMore,r=(t.initialLoad,t.isReverse),l=t.loader,s=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,s&&s(t)};var d=[a];return o&&(l?r?d.unshift(l):d.push(l):this.defaultLoader&&(r?d.unshift(this.defaultLoader):d.push(this.defaultLoader))),i.default.createElement(n,c,d)}}]),t}(o.Component);s.propTypes={children:r.default.node.isRequired,element:r.default.node,hasMore:r.default.bool,initialLoad:r.default.bool,isReverse:r.default.bool,loader:r.default.node,loadMore:r.default.func.isRequired,pageStart:r.default.number,ref:r.default.func,getScrollParent:r.default.func,threshold:r.default.number,useCapture:r.default.bool,useWindow:r.default.bool},s.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=s,e.exports=t.default},RoTl:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),i=a("vOnD"),r=a("8CDE"),l=a("nShV"),s=a("OXt0"),c=a("RKiZ"),d=a("hYBG");const p=Object(i.d)(r.a).withConfig({displayName:"FilterBar__Wrap",componentId:"sc-1lvfs1u-0"})(["display:flex;width:100%;&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 100ms,blur 100ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity 100ms,blur 100ms;}"]),u=Object(i.d)(l.b).withConfig({displayName:"FilterBar__List",componentId:"sc-1lvfs1u-1"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(256px,1fr));@media only screen and (max-width:480px){grid-gap:var(--default-gap);}"]),h=({isOpen:e=!0,filters:t,options:a,duration:n})=>o.a.createElement(d.a,{in:e,animation:"fade",timeout:n},o.a.createElement(p,null,o.a.createElement(c.a,{clear:!0}),t&&t.length>0&&o.a.createElement(u,null,t.map((e=>e))),a&&a.length>0&&o.a.createElement(l.b,null,o.a.createElement(s.b,{defaultValue:a[0],options:a,stretch:!0})),o.a.createElement(c.a,{clear:!0})));h.defaultProps={duration:150},t.a=h},RotF:function(e,t,a){e.exports=a("LSTS")},VP1n:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),i=a("UUyv");t.a=Object(i.trackWindowScroll)((({children:e})=>o.a.createElement(i.LazyLoadComponent,null,e)))},coMr:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("q1tI"),o=a.n(n),i=a("vOnD"),r=a("nShV"),l=a("8CDE"),s=a("ZeZO"),c=a("feIE"),d=a("OXt0"),p=a("DTT8"),u=a("79b8"),h=a("RKiZ"),m=a("VWQm");const f=Object(i.d)(l.a).withConfig({displayName:"HandleBar__Wrap",componentId:"phr6ix-0"})([""]),g=Object(i.d)(r.b).withConfig({displayName:"HandleBar__Header",componentId:"phr6ix-1"})(["justify-content:space-between;grid-gap:var(--default-gap);flex-wrap:wrap;"]),v=Object(i.d)(r.b).withConfig({displayName:"HandleBar__ActionGroup",componentId:"phr6ix-2"})(["justify-content:flex-end;@media only screen and (max-width:996px){width:100%;","{width:auto;}}@media only screen and (max-width:480px){flex-wrap:wrap;grid-gap:var(--default-gap);","{flex-direction:row;flex-grow:1;}","{button{width:100%;height:100%;}}}"],d.a,d.a,m.a),b=Object(i.d)(s.a).withConfig({displayName:"HandleBar__CreateButton",componentId:"phr6ix-3"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}@media only screen and (max-width:996px){width:100%;}"]),w=Object(i.d)(r.b).withConfig({displayName:"HandleBar__Footer",componentId:"phr6ix-4"})(["justify-content:space-between;@media only screen and (max-width:480px){flex-direction:column;align-items:end;grid-gap:var(--default-gap);}"]),y=Object(i.d)(s.a).withConfig({displayName:"HandleBar__DeleteButton",componentId:"phr6ix-5"})(["color:var(--default-color-red);background:none;border:none;&:hover{background:none;border:none;color:var(--default-color-red);}",""],(({disabled:e})=>e&&Object(i.c)(["color:var(--ghost-color-text);&:hover{color:var(--ghost-color-text);}"]))),E=[{label:o.a.createElement(c.a,{icon:"menu"}),value:"list",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u043e\u043c"},{label:o.a.createElement(c.a,{icon:"category"}),value:"grid",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u043a\u043e\u0439"}],x=({icon:e,title:t,buttonCreateText:a,buttonDeleteDisabled:i,defaultDisplayMethod:r,defaultVisibleFilters:l,withoutFooter:x,withFilters:O,checked:_,onCreate:C,onChecked:k,onDeleteAll:j,onChangeDisplayMethod:L,onChangeVisibleFilter:S})=>{const[I,P]=Object(n.useState)(_),[N,T]=Object(n.useState)(l),[W,M]=Object(n.useState)(E.find((e=>e.value===r)));return Object(n.useEffect)((()=>{P(_)}),[_]),o.a.createElement(f,null,o.a.createElement(g,null,o.a.createElement(p.c,{icon:e,text:t}),o.a.createElement(v,null,C&&o.a.createElement(b,{type:"button",onClick:C},o.a.createElement("span",null,a),o.a.createElement(c.a,{icon:"add",stroke:"white"})),O&&o.a.createElement(m.b,{text:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432"},o.a.createElement(s.a,{type:"button",kind:"icon",onClick:()=>{T(!N),S&&S()},revert:!N},o.a.createElement(c.a,{icon:"filter2",stroke:N?"white":"var(--default-color-accent)"}))),o.a.createElement(d.b,{defaultValue:W||E[1],options:E,onChange:e=>(e=>{M(e),L&&L(e)})(e)}))),o.a.createElement(h.a,{clear:!0}),!x&&o.a.createElement(w,null,o.a.createElement(u.a,{label:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435",checked:I,onChange:e=>{const t=e.target.checked;P(t),k&&k(t)}}),o.a.createElement(y,{appearance:"clear",disabled:i,onClick:j},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435")))};x.defaultProps={buttonCreateText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",buttonDeleteDisabled:!0},t.b=x},p9yE:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),i=a("g4pe"),r=a.n(i),l=a("YFqc"),s=a.n(l),c=a("20a2"),d=a("vOnD"),p=a("VX74"),u=a("/MKj"),h=a("nShV"),m=a("N0uN"),f=a("auMy"),g=a("8CDE"),v=a("ZeZO"),b=a("V0nP"),w=a("t7jn"),y=a("VWQm"),E=a("feIE"),x=a("ApjV"),O=a("wOhW"),_=a("586Q"),C=a("ThpJ"),k=a("RKiZ"),j=a("7sPp"),L=a("QUga"),S=a("hfch"),I=a("NWnW");const P="rgba(255, 255, 255, 25%)",N=Object(d.d)(h.b).withConfig({displayName:"SideBar__Wrap",componentId:"sc-158a552-0"})(["--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}"]),T=Object(d.d)(h.b).withConfig({displayName:"SideBar__Profile",componentId:"sc-158a552-1"})(["padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);","{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}"],C.a),W=Object(d.d)(g.a).withConfig({displayName:"SideBar__Info",componentId:"sc-158a552-2"})(["grid-gap:0;"]),M=Object(d.d)(j.a).withConfig({displayName:"SideBar__Name",componentId:"sc-158a552-3"})(["font-size:var(--font-h4);font-weight:var(--font-weight-medium);"]),R=Object(d.d)(L.b).withConfig({displayName:"SideBar__Role",componentId:"sc-158a552-4"})(["color:",";"],P),B=d.d.div.withConfig({displayName:"SideBar__Strip",componentId:"sc-158a552-5"})(["display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}"]),D=Object(d.d)(h.b).withConfig({displayName:"SideBar__Label",componentId:"sc-158a552-6"})(["align-items:center;"]),V=Object(d.d)(E.a).withConfig({displayName:"SideBar__LabelIcon",componentId:"sc-158a552-7"})(["width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);"," @media only screen and (max-width:480px){background:var(--default-color-accent-dim);"," svg{path{stroke:var(--default-color-accent);","}}}"],(({active:e})=>e&&Object(d.c)(["background:white;"])),(({active:e})=>e&&Object(d.c)(["background:var(--default-color-accent);"])),(({active:e})=>e&&Object(d.c)(["stroke:white;"]))),H=Object(d.d)(L.b).withConfig({displayName:"SideBar__LabelText",componentId:"sc-158a552-8"})(["color:",";font-weight:var(--font-weight-medium);",""],P,(({active:e})=>e&&Object(d.c)(["color:white;"]))),z=({active:e,icon:t,text:a,count:n})=>o.a.createElement(B,null,o.a.createElement(D,null,o.a.createElement(V,{icon:t,size:"xs",stroke:e?"var(--default-color-accent)":P,active:e}),o.a.createElement(H,{active:e},a)),n&&o.a.createElement(S.a,{count:n,size:"xs",style:e?{}:{background:P,borderColor:"transparent",color:"var(--admin-color-accent)"}})),U=({user:e,link:t,links:a,...n})=>o.a.createElement(N,n,o.a.createElement(T,null,o.a.createElement(C.b,{src:e.avatar,alt:"Avatar",size:"m"}),o.a.createElement(W,null,o.a.createElement(M,null,e.name),o.a.createElement(R,null,Object(I.g)(e.role)))),o.a.createElement(k.a,{style:{background:"var(--admin-color-accent-dim)",margin:"10px 0"}}),a&&a.length>0&&a.map(((e,a)=>o.a.createElement(o.a.Fragment,{key:a},e.divide&&o.a.createElement(k.a,{style:{background:"var(--admin-color-accent-dim)",margin:"10px 0"}}),o.a.createElement(t,{href:e.path},e.component)))));U.defaultProps={link:({children:e,...t})=>o.a.createElement("a",t,e)};var F=U,A=a("+EEm"),q=a("8ihE");var Z=e=>{const t=t=>e.find((e=>e===t)),a=[{path:"/",component:o.a.createElement(z,{icon:"activity",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}],n=t("VIEW_USER"),i=t("VIEW_CATEGORY"),r=t("VIEW_ARTICLE"),l=t("VIEW_PROJECT"),s=t("VIEW_TICKET"),c=t("VIEW_ROLE"),d=t("VIEW_USER");return n&&a.push({path:"/users",component:o.a.createElement(z,{icon:"user2",text:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),i&&a.push({path:"/categories",component:o.a.createElement(z,{icon:"folder",text:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),r&&a.push({path:"/articles",component:o.a.createElement(z,{icon:"document",text:"\u0421\u0442\u0430\u0442\u044c\u0438"})}),l&&a.push({path:"/projects",component:o.a.createElement(z,{icon:"work",text:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})}),s&&a.push({path:"/tickets",component:o.a.createElement(z,{icon:"ticket",text:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"})}),c&&a.push({divide:!0,path:"/roles",component:o.a.createElement(z,{icon:"lock",text:"\u0420\u043e\u043b\u0438"})}),d&&a.push({path:"/settings",component:o.a.createElement(z,{icon:"setting",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),a},Y=a("u2Cb"),K=a("rOcY");const Q=d.d.main.withConfig({displayName:"dashboard__Main",componentId:"sc-9r28sr-0"})(["display:flex;grid-gap:var(--default-gap);width:100%;"]),G=d.d.header.withConfig({displayName:"dashboard__Header",componentId:"sc-9r28sr-1"})(["position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;"]),J=Object(d.d)(F).withConfig({displayName:"dashboard__SideBar",componentId:"sc-9r28sr-2"})(["position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}"]),X=Object(d.d)(v.a).withConfig({displayName:"dashboard__MenuButton",componentId:"sc-9r28sr-3"})(["display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}"]),$=Object(d.d)(h.b).withConfig({displayName:"dashboard__LogoZone",componentId:"sc-9r28sr-4"})(["justify-content:space-between;@media only screen and (max-width:996px){width:auto;}"]),ee=d.d.div.withConfig({displayName:"dashboard__Logotype",componentId:"sc-9r28sr-5"})(["display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}"]),te=Object(d.d)(m.a).withConfig({displayName:"dashboard__Content",componentId:"sc-9r28sr-6"})(["padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}"]);t.a=({children:e,title:t="\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})=>{var a,i;const l=Object(x.b)(),d=Object(c.useRouter)(),{root:h,user:m}=Object(u.c)((e=>e)),[v,{data:C,loading:k}]=Object(p.useLazyQuery)(Y.a.GET_USER),j=Object(u.b)();return Object(n.useEffect)((()=>{localStorage.getItem(K.a.get("secret"))?v():d.push("/")}),[]),Object(n.useEffect)((()=>{if(C&&C.getUser){var e;(null===(e=C.getUser.role)||void 0===e?void 0:e.permissions.find((e=>"ACCESS_DASHBOARD"===e)))?j(Object(q.b)(C.getUser)):d.push("/")}}),[C,j]),k||!m.authenticated?o.a.createElement(_.a,null,o.a.createElement(f.a,null)):o.a.createElement(O.a,null,o.a.createElement(r.a,null,o.a.createElement("meta",{name:"keywords",content:"next,javascript,nextjs,react"}),o.a.createElement("meta",{name:"description",content:h.settings.meta.description}),o.a.createElement("title",null,t)),o.a.createElement(G,null,o.a.createElement(X,{kind:"icon",appearance:"clear",onClick:l(A.e,{links:Z((null===m||void 0===m?void 0:m.role.permissions)||[]).map(((e,t)=>({id:t,text:e.component,onClick:()=>d.push(`/dashboard${e.path}`)})))})},o.a.createElement(E.a,{icon:"menu"})),o.a.createElement($,null,o.a.createElement(y.b,{text:h.settings.meta.description,offset:{bottom:5},place:"bottom",maxWidth:256,multiline:!0},o.a.createElement(ee,null,o.a.createElement(s.a,{href:"/"},o.a.createElement("a",null,o.a.createElement(b.a,{src:null===(a=h.settings.general.logotype)||void 0===a?void 0:a.path,alt:"Logotype"})))))),o.a.createElement(w.a,{appearance:"ghost"})),o.a.createElement(Q,null,o.a.createElement(J,{user:{name:m.name,role:m.role.name,avatar:(null===m||void 0===m||null===(i=m.avatar)||void 0===i?void 0:i.path)||"/images/avatar-default.png"},link:s.a,links:Z((null===m||void 0===m?void 0:m.role.permissions)||[]).map(((e,t)=>{const a=`/dashboard${e.path.length>1?e.path:""}`;return{...e,path:a,component:o.a.createElement("a",{key:t,className:d.pathname===a?"active":""},o.a.cloneElement(e.component,{active:d.pathname===a}))}}))}),o.a.createElement(te,null,o.a.createElement(g.a,null,e))))}}}]);