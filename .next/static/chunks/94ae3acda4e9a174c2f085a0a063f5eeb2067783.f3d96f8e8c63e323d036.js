(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{UwjQ:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("vOnD"),c=a("nShV"),l=a("8CDE"),i=a("7sPp"),d=a("V0nP"),s=a("aBfq"),m=a("h4VS"),u=a("QUga"),p=a("ZeZO"),b=a("feIE"),E=o.a.createElement;function g(){var e=Object(m.a)(["\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n"]);return g=function(){return e},e}var f=Object(r.c)(c.b)(g()),v=function(e){var t=e.text,a=e.withText,n=e.withButton,o=e.onClick;return E(f,{onClick:o},a&&E(u.b,{style:{color:"var(--default-color-accent)"}},t),n&&E(p.a,{kind:"icon"},E(b.a,{icon:"arrowRight",stroke:"white"})))};v.defaultProps={text:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",withText:!0};var w=v,j=a("79b8"),h=a("VWQm");const y=Object(r.c)(c.b).withConfig({displayName:"ArticleCard__Wrap",componentId:"sc-17tznl7-0"})(["display:grid;grid-template-columns:1fr 2fr;padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);"," "," "," "," @media only screen and (max-width:480px){display:flex;flex-direction:column;grid-gap:var(--default-gap);}"],(({layout:e})=>"column"===e&&Object(r.b)(["display:flex;flex-wrap:wrap;grid-gap:var(--default-gap);"])),(({appearance:e})=>"default"===e&&Object(r.b)(["padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);"])),(({appearance:e})=>"ghost"===e&&Object(r.b)(["padding:0;border:none;background:none;border-radius:0;box-shadow:none;"])),(({appearance:e})=>"clear"===e&&Object(r.b)(["padding:0;border:none;background:none;border-radius:0;box-shadow:none;"]))),C=Object(r.c)(d.a).withConfig({displayName:"ArticleCard__Poster",componentId:"sc-17tznl7-1"})(["object-fit:cover;width:100%;height:100%;border-radius:var(--surface-border-radius);",""],(({layout:e})=>"column"===e&&Object(r.b)(["height:128px;"]))),x=Object(r.c)(c.b).withConfig({displayName:"ArticleCard__Header",componentId:"sc-17tznl7-2"})(["justify-content:space-between;align-items:center;"]),O=Object(r.c)(c.b).withConfig({displayName:"ArticleCard__Actions",componentId:"sc-17tznl7-3"})(["grid-gap:5px;"]),k=Object(r.c)(i.a).withConfig({displayName:"ArticleCard__Name",componentId:"sc-17tznl7-4"})(["transition:opacity 150ms ease;",""],(({onClick:e})=>e&&Object(r.b)(["cursor:pointer;&:hover{opacity:0.45;}"]))),A=Object(r.c)((({content:e,className:t})=>o.a.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:e}}))).withConfig({displayName:"ArticleCard__ShortText",componentId:"sc-17tznl7-5"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;"]),_=({layout:e,article:t,preview:a,appearance:n,onLink:r,onChecked:c,onEdit:i,onDelete:d})=>{var m;return o.a.createElement(y,{appearance:n,layout:e},t.preview&&o.a.createElement(C,{src:t.preview.path,layout:e}),o.a.createElement(l.a,{style:{gridGap:5,width:"100%",gridColumn:!t.preview&&"1 / 3"}},o.a.createElement(x,null,o.a.createElement(s.a,{date:t.createdAt,category:null===(m=t.category)||void 0===m?void 0:m.name,short:!0}),(c||i||d)&&o.a.createElement(O,null,d&&o.a.createElement(h.b,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"},o.a.createElement(p.a,{kind:"icon",size:"xs",appearance:"red",onClick:d},o.a.createElement(b.a,{icon:"delete",size:"xs",stroke:"white"}))),i&&o.a.createElement(h.b,{text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"},o.a.createElement(p.a,{kind:"icon",size:"xs",onClick:i},o.a.createElement(b.a,{icon:"edit",size:"xs",stroke:"white"}))),c&&o.a.createElement(h.b,{text:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e",self:!0},o.a.createElement(j.a,null)))),o.a.createElement(k,{tag:"h4",onClick:r},t.title),t.body&&o.a.createElement(A,{content:t.body}),!a&&o.a.createElement(w,{onClick:r,withButton:!0})))};_.defaultProps={appearance:"default"};t.a=_},owvJ:function(e,t,a){"use strict";a.d(t,"d",(function(){return V})),a.d(t,"a",(function(){return I})),a.d(t,"c",(function(){return R})),a.d(t,"b",(function(){return U}));var n=a("q1tI"),o=a.n(n),r=a("vOnD"),c=a("NKCw"),l=a("VX74"),i=a("nShV"),d=a("8CDE"),s=a("7sPp"),m=a("Gliw"),u=a("ZeZO"),p=a("QclZ"),b=a("QWIf"),E=a("kJLk"),g=a("ZwIX"),f=a("RKiZ"),v=a("auMy"),w=a("qoM+"),j=a("ObTy"),h=a("u2Cb"),y=a("rOcY");const C=r.c.div.withConfig({displayName:"FormArticle__Loader",componentId:"sc-1ftxonu-0"})(["position:absolute;display:flex;justify-content:center;align-items:center;flex-grow:1;width:100%;height:100%;"]);var x=({article:e,categories:t,statuses:a,mutation:n,appearance:r,className:x,canEditStatus:O,onSubmit:k})=>{const{data:A,loading:_,error:N}=e?Object(l.useQuery)(h.a.GET_ARTICLE,{variables:{id:e}}):{data:{getArticle:{}},loading:!1,error:!1};return o.a.createElement(w.b,{className:x,appearance:r,mutation:n,onSubmit:k},(({register:n,loading:r,errors:l,control:w,getValues:h})=>{var x,k,L,S,D;return!_&&A?o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,null,o.a.createElement(s.a,{tag:"h4"},"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435"),l&&l.preview&&o.a.createElement(g.a,{style:{width:"100%"},appearance:"error"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u0435\u0432\u044c\u044e"),o.a.createElement(c.a,{name:"preview",control:w,rules:{required:!0},defaultValue:(null===(x=A.getArticle)||void 0===x?void 0:x.preview)||null,render:({value:e,onChange:t})=>o.a.createElement(E.b,{accept:"image/*",defaultValue:e,onChange:t,placeholder:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u0435\u0432\u044c\u044e",tooltip:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435: 960x480px. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: jpeg, jpg, png. \u041c\u0430\u043a\u0441. \u0440\u0430\u0437\u043c\u0435\u0440: 15 MB"})}),l&&l.title&&o.a.createElement(g.a,{style:{width:"100%"},appearance:"error"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0430\u0442\u044c\u0438"),o.a.createElement(m.a,{type:"text",name:"title",ref:n({required:!0}),defaultValue:h("title")||(null===(k=A.getArticle)||void 0===k?void 0:k.title),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",appearance:"ghost",disabled:r}),o.a.createElement(c.a,{name:"category",control:w,defaultValue:null!==(L=A.getArticle)&&void 0!==L&&L.category?{value:A.getArticle.category.id,label:Object(j.c)(A.getArticle.category.name)}:null,render:({value:e,onChange:a})=>o.a.createElement(p.a,{appearance:"ghost",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b",options:t.filter((e=>"DIVISION"===e.type)).map((e=>({value:e.id,label:Object(j.c)(e.name)}))),onChange:a,defaultValue:e,isLoading:r,isClearable:!0})}),l&&l.body&&o.a.createElement(g.a,{style:{width:"100%"},appearance:"error"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"),o.a.createElement(c.a,{name:"body",control:w,defaultValue:h("body")||(null===(S=A.getArticle)||void 0===S?void 0:S.body)||null,rules:{required:!0},render:({value:e,onChange:t})=>o.a.createElement(b.a,{apiKey:y.a.get("tiny-key"),appearance:"ghost",defaultValue:e,onChange:t})}),O&&o.a.createElement(f.a,{clear:!0}),O&&o.a.createElement(c.a,{name:"status",control:w,defaultValue:null!==(D=A.getArticle)&&void 0!==D&&D.status?{value:A.getArticle.status,label:Object(j.f)(A.getArticle.status)}:null,render:({value:e,onChange:t})=>o.a.createElement(p.a,{appearance:"ghost",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",options:a.map((e=>({value:e,label:Object(j.f)(e)}))),onChange:t,defaultValue:e,menuPlacement:"top",isLoading:r,isClearable:!0})})),o.a.createElement(f.a,{clear:!0}),o.a.createElement(i.b,null,o.a.createElement(u.a,{style:{flexGrow:1},type:"submit",disabled:r},!e&&"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",e&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))):N?o.a.createElement(g.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u0423\u043f\u0441! \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0442\u0430\u0442\u044c\u0435"):o.a.createElement(C,null,o.a.createElement(v.a,null))}))},O=a("xAqQ"),k=a("UwjQ"),A=a("s3Zn"),_=a.n(A),N=a("j8/+"),L=a("Ztxg"),S=a("9Xo6"),D=a("rP4V");function V(e,t){const{id:a,auth:n}=t;e(Object(L.a)({icon:"document",title:"\u0421\u0442\u0430\u0442\u044c\u044f",content:o.a.createElement(_.a,{article:a,appearance:"clear",onCommentLink:t=>Object(D.i)(e,{email:t,auth:n})})}))}function I(e,t){const{categories:a,statuses:n,canEditStatus:r,mutation:c}=t;e(Object(L.a)({icon:"document",title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",content:o.a.createElement(x,{mutation:c,categories:a,statuses:n,appearance:"clear",canEditStatus:r,onSubmit:async(t,a)=>{try{var n,o,r,c;const l=await a({variables:{input:{title:t.title,body:t.body,preview:null===(n=t.preview)||void 0===n?void 0:n.file,previewSize:null===(o=t.preview)||void 0===o?void 0:o.file.size,category:null===(r=t.category)||void 0===r?void 0:r.value,status:null===(c=t.status)||void 0===c?void 0:c.value}}});e(Object(N.a)(l.data.createArticle)),e(Object(L.a)(null)),e(Object(S.c)({type:"success",message:"\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}))}catch(l){e(Object(L.a)(null)),e(Object(S.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}))}}})}))}function R(e,t){const{id:a,auth:n,categories:r,statuses:c,canEditStatus:l,mutation:i}=t;e(Object(L.a)({icon:"document",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",content:o.a.createElement(x,{article:a,mutation:i,categories:r,statuses:c,appearance:"clear",canEditStatus:l,onSubmit:async(t,n)=>{try{var o,r,c,l,i;const d=await n({variables:{id:a,input:{title:t.title,body:t.body,preview:null===(o=t.preview)||void 0===o?void 0:o.file,previewSize:null===(r=t.preview)||void 0===r||null===(c=r.file)||void 0===c?void 0:c.size,category:null===(l=t.category)||void 0===l?void 0:l.value,status:null===(i=t.status)||void 0===i?void 0:i.value}}});e(Object(N.a)(d.data.updateArticle)),e(Object(S.c)({type:"success",message:"\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}))}catch(d){e(Object(S.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}))}finally{e(Object(L.a)(null))}},onCommentLink:t=>Object(D.i)(e,{email:t,auth:n})})}))}function U(e,t){const{id:a,article:n,auth:r,mutation:c}=t;e(Object(L.a)({icon:"delete",color:"red",title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438",content:o.a.createElement(O.a,{mutation:c,appearance:"clear",onCancel:()=>e(Object(L.a)(null)),onSubmit:async(t,n)=>{try{const t=await n({variables:{id:a}});e(Object(N.a)(t.data.deleteArticle)),e(Object(S.c)({type:"success",message:"\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"}))}catch(o){e(Object(S.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}))}finally{e(Object(L.a)(null))}}},o.a.createElement(k.a,{article:n,appearance:"clear",onLink:()=>V(e,{id:n.id}),onCommentLink:t=>Object(D.i)(e,{email:t,auth:r})}))}))}},s3Zn:function(e,t){throw new Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-babel-loader.js):\nSyntaxError: C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ArticleView\\index.js: Identifier 'HTMLView' has already been declared (86:13)\n\n\x1b[0m \x1b[90m 84 | \x1b[39m\x1b[32m`\x1b[39m\x1b[0m\n\x1b[0m \x1b[90m 85 | \x1b[39m\x1b[0m\n\x1b[0m\x1b[31m\x1b[1m>\x1b[22m\x1b[39m\x1b[90m 86 | \x1b[39m\x1b[36mexport\x1b[39m \x1b[36mconst\x1b[39m \x1b[33mHTMLView\x1b[39m \x1b[33m=\x1b[39m ({ content }) \x1b[33m=>\x1b[39m (\x1b[0m\n\x1b[0m \x1b[90m    | \x1b[39m             \x1b[31m\x1b[1m^\x1b[22m\x1b[39m\x1b[0m\n\x1b[0m \x1b[90m 87 | \x1b[39m  \x1b[33m<\x1b[39m\x1b[33mHTMLContent\x1b[39m dangerouslySetInnerHTML\x1b[33m=\x1b[39m{{ __html\x1b[33m:\x1b[39m content }} \x1b[33m/\x1b[39m\x1b[33m>\x1b[39m\x1b[0m\n\x1b[0m \x1b[90m 88 | \x1b[39m)\x1b[0m\n\x1b[0m \x1b[90m 89 | \x1b[39m\x1b[0m\n    at Object._raise (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:28993)\n    at Object.raiseWithData (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:28932)\n    at Object.raise (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:28753)\n    at ScopeHandler.checkRedeclarationInScope (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:109173)\n    at ScopeHandler.declareName (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:108643)\n    at Object.checkLVal (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:190861)\n    at Object.parseVarId (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:240754)\n    at Object.parseVar (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:240156)\n    at Object.parseVarStatement (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:236718)\n    at Object.parseStatementContent (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:229306)\n    at Object.parseStatement (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:228228)\n    at Object.parseExportDeclaration (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:251202)\n    at Object.maybeParseExportDeclaration (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:250245)\n    at Object.parseExport (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:248975)\n    at Object.parseStatementContent (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:229879)\n    at Object.parseStatement (C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\compiled\\babel\\bundle.js:2113:228228)")}}]);