(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"/y2W":function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("VX74"),c=a("/MKj"),r=a("20a2"),o=a("vOnD"),d=a("nShV"),s=a("7BXr"),u=a("ZwIX"),m=a("auMy"),p=a("RKiZ"),h=a("ZeZO"),b=a("EJJs"),g=a("586Q"),f=a("VP1n");const E=["PUBLISHED","MODERATION"],v=o.d.div.withConfig({displayName:"List__Wrap",componentId:"sc-1jo6mxw-0"})(["width:100%;","{width:calc(100vw - 280px);}"],b.b),y=(Object(o.d)(u.a).withConfig({displayName:"List__CenterAlert",componentId:"sc-1jo6mxw-1"})(["width:100%;text-align:center;"]),()=>l.a.createElement(g.e,{key:"loader"},l.a.createElement(m.a,null))),w=e=>{const{search:t,params:a}=Object(c.c)((t=>({search:e?"":t.root.search,params:e?{}:t.root.params})));return{search:t,params:a}},O=Object(n.memo)((({type:e,refetch:t,loading:a,template:i,component:o,variables:u,limit:m=6,emptyMessage:E,initialList:O,initialDisplayMethod:x,withoutSearch:j,withoutMore:C,setCheckedList:k,gridOptions:_,onChecked:T,onClick:S,onEdit:I,onDelete:D})=>{var M;const A=Object(r.useRouter)(),N=Object(c.c)((e=>e.root.displayMethod)),{search:L,params:R}=w(j),[V,z]=Object(n.useState)(O||[]),[q,F]=Object(n.useState)(Number(null===(M=A.query)||void 0===M?void 0:M.page)||1),[P,U]=Object(n.useState)(!1),[B,H]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{(null===V||void 0===V?void 0:V.length)>0&&k&&k(V)}),[V,k]),l.a.createElement(v,null,"grid"===(x||N)&&l.a.createElement(s.a,_,V.map((e=>l.a.createElement(f.a,{key:e.id||e.email},o(e))))),"list"===(x||N)&&l.a.createElement(b.c,{data:V,template:i,onChecked:T,onClick:S,onEdit:I,onDelete:D}),(a||P)&&!C&&l.a.createElement(y,null),!a&&!P&&0===V.length&&l.a.createElement(g.b,null,E),V.length>0&&!B&&!a&&!C&&l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null),l.a.createElement(d.b,{style:{justifyContent:"center"}},l.a.createElement(h.a,{type:"button",disabled:P,style:{width:245},onClick:async()=>{if(!B&&!a&&t){U(!0);const a=await t({...u,...R,offset:m*q,search:L,limit:m});if(null!==a&&void 0!==a&&a.data){const t=a.data[e];0===t.length&&H(!0),t.length>0&&z((e=>[...e,...t])),F((e=>e+1))}U(!1)}}},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"))))})),x=Object(n.memo)((({type:e,query:t,limit:a,template:r,component:o,variables:d,startOffset:s,emptyMessage:u,initialDisplayMethod:m,setCheckedList:p,withoutSearch:h,withoutMore:b,gridOptions:g,onChecked:f,onDelete:v,onClick:x,onEdit:j})=>{const{data:C,loading:k,refetch:_}=((e,{startOffset:t,limit:a,variables:l,withoutSearch:r})=>{const[o,d]=Object(i.useLazyQuery)(e),s=Object(c.c)((e=>e.root.isIgnoreFetch)),{search:u,params:m}=w(r),p=Object(n.useCallback)((()=>o({variables:{status:E,...l,...m,offset:t,search:u,limit:a}})),[a,u,l,m,t,o]);return Object(n.useEffect)((()=>{s||p()}),[s,p]),Object(n.useEffect)((()=>{p()}),[]),d})(t,{startOffset:s,limit:a,variables:d,withoutSearch:h});return k?l.a.createElement(y,null):l.a.createElement(O,{type:e,limit:a,query:t,refetch:_,template:r,component:o,emptyMessage:u,initialList:e&&C&&C[e],initialDisplayMethod:m,setCheckedList:p,withoutSearch:h,withoutMore:b,gridOptions:g,onChecked:f,onDelete:v,onClick:x,onEdit:j})}));x.defaultProps={startOffset:0},t.a=x},EJJs:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return j}));var n=a("q1tI"),l=a.n(n),i=a("vOnD"),c=a("7Cbv"),r=a("nShV"),o=a("8CDE"),d=a("feIE"),s=a("ZeZO"),u=a("OXt0"),m=a("DTT8"),p=a("79b8"),h=a("VWQm"),b=a("vJvq");const g=Object(i.d)(o.a).withConfig({displayName:"Table__Wrap",componentId:"gzldu8-0"})([""]),f=Object(i.d)(r.b).withConfig({displayName:"Table__Manage",componentId:"gzldu8-1"})(["display:grid;grid-template-columns:36px 1fr 70px;",""],(({checkable:e})=>e&&Object(i.c)(["grid-template-columns:1fr 40px;"]))),E=Object(i.d)(u.b).withConfig({displayName:"Table__Headers",componentId:"gzldu8-2"})([""," ",""],(({width:e})=>e&&Object(i.c)(["span{width:",";}"],e)),(({first:e,width:t})=>e&&t&&Object(i.c)(["span:first-child{width:calc("," + 45px);}"],t))),v=(Object(i.d)(r.b).withConfig({displayName:"Table__Header",componentId:"gzldu8-3"})(["display:flex;justify-content:flex-start;align-items:center;width:100%;height:30px;color:#959595;&:last-child{justify-content:flex-end;}"]),Object(i.d)(r.b).withConfig({displayName:"Table__Track",componentId:"gzldu8-4"})(["transition:opacity 150ms ease;",""],(({checked:e})=>e&&Object(i.c)(["opacity:0.45;"])))),y=Object(i.d)(r.b).withConfig({displayName:"Table__Content",componentId:"gzldu8-5"})(["padding:5px 15px;width:calc(100% - 85px);"," "," "," "," & > label{display:flex;justify-content:center;align-items:center;width:calc(var(--input-height-m) - 15px);margin-left:5px;& > span{margin:0;}}"],(({checkable:e})=>e&&Object(i.c)(["width:100%;"])),(({editable:e})=>e&&Object(i.c)(["width:calc(100% - 55px);"])),(({appearance:e})=>"default"===e&&Object(i.c)(["border:1px solid var(--surface-border);background:var(--surface-background);box-shadow:1px solid var(--surface-shadow);border-radius:var(--surface-border-radius);"])),(({appearance:e})=>"clear"===e&&Object(i.c)(["border:none;background:none;box-shadow:none;border-radius:0;"]))),w=Object(i.d)(r.b).withConfig({displayName:"Table__Container",componentId:"gzldu8-6"})(["width:100%;",""],(({onClick:e})=>e&&Object(i.c)(["cursor:pointer;"]))),O=Object(i.d)(o.a).withConfig({displayName:"Table__Actions",componentId:"gzldu8-7"})(["justify-content:center;align-items:center;width:70px;padding:5px;grid-gap:5px;button{width:100%;flex-grow:1;}","{width:100%;}"," "," "," ",""],h.a,(({checkable:e})=>e&&Object(i.c)(["width:40px;"])),(({horizontal:e})=>e&&Object(i.c)(["flex-direction:row;"])),(({appearance:e})=>"default"===e&&Object(i.c)(["border:1px solid var(--surface-border);background:var(--surface-background);box-shadow:1px solid var(--surface-shadow);border-radius:var(--surface-border-radius);"])),(({appearance:e})=>"clear"===e&&Object(i.c)(["border:none;background:none;box-shadow:none;border-radius:0;padding:0;"]))),x=Object(i.d)(b.b).withConfig({displayName:"Table__FieldsPopper",componentId:"gzldu8-8"})(["display:flex;align-items:center;& > div{display:flex;}"]),j=Object(i.d)(m.d).withConfig({displayName:"Table__Cell",componentId:"gzldu8-9"})(["align-items:center;flex-grow:1;width:",";overflow:hidden;& > div{width:100%;}h4{font-size:var(--font-size-m);font-weight:var(--font-weight-bold);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],(({width:e})=>e)),C=Object(i.d)(o.a).withConfig({displayName:"Table__HeaderList",componentId:"gzldu8-10"})(["border:1px solid var(--surface-border);background:var(--surface-background);box-shadow:var(--surface-shadow);border-radius:var(--surface-border-radius);padding:10px;grid-gap:10px;"]),k=Object(i.d)(h.b).withConfig({displayName:"Table__CheckboxTooltip",componentId:"gzldu8-11"})(["display:flex;justify-content:flex-end;align-items:center;"]),_=e=>{var t;return"ADMIN"===(null===(t=e.name)||void 0===t?void 0:t.toUpperCase())},T=({data:e,template:t,className:a,style:i,appearance:r,onClick:o,onChecked:u,onDelete:m,onEdit:b})=>{const[j,T]=Object(n.useState)(!1),[S,I]=Object(n.useState)((e||[]).map((e=>({...e,id:e.id||Object(c.a)(),checked:!1})))),D=Object(n.useMemo)((()=>!S.find((e=>e.checked))),[S]),M=`${Math.floor(100/t.length)}%`,A=Object(n.useMemo)((()=>(t||[]).map((e=>({value:Object(c.a)(),label:e.header,tooltip:e.tooltip||`\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \xab${e.header}\xbb`,visible:!e.hidden})))),[]);return Object(n.useEffect)((()=>{const e=S.reduce(((e,t)=>e+(t.checked?1:0)),0);S.length>0&&e===S.length&&T(!0)}),[S]),l.a.createElement(g,{className:a,style:i},l.a.createElement(f,{checkable:!u},u&&l.a.createElement(k,{text:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0432\u0441\u0435",self:!0},l.a.createElement(p.a,{size:"s",checked:j,onChange:()=>{const e=!j;I((t=>t.map((t=>({...t,checked:!_(t)&&e}))))),T(e)}})),l.a.createElement(E,{defaultValue:A[0],options:A.filter((e=>e.visible)),first:u,stretch:!0}),l.a.createElement(O,{appearance:r,checkable:!u,horizontal:!0},m&&l.a.createElement(h.b,{text:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e",place:"left"},l.a.createElement(s.a,{size:"xs",kind:"icon",appearance:D?"ghost":"red",disabled:D,onClick:()=>m(S.filter((e=>e.checked)))},l.a.createElement(d.a,{icon:"delete",size:"xs",stroke:D?"var(--ghost-color-text)":"white"}))),l.a.createElement(x,{place:"left",offset:{bottom:80},body:l.a.createElement(C,null,A.map(((e,t)=>l.a.createElement(p.a,{key:t,size:"s",label:e.label,checked:e.visible})))),appearance:"clear"},l.a.createElement(h.b,{text:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439",place:"left"},l.a.createElement(s.a,{size:"xs",kind:"icon"},l.a.createElement(d.a,{icon:"show",size:"xs",stroke:"white"})))))),S.map(((e,a)=>l.a.createElement(v,{key:a,checked:e.checked},l.a.createElement(y,{appearance:r,checkable:!u,editable:!u&&b},u&&l.a.createElement(k,{text:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",self:!0},l.a.createElement(p.a,{size:"s",checked:!_(e)&&(j||e.checked),onChange:!_(e)&&(()=>(e=>{I((t=>{const a=t=>t.id===e.id;return t.find(a)?t.map((t=>a(t)?{...e,checked:!t.checked}:{...t,checked:j||t.checked})):[...t,{...e,checked:!0}]})),T(!1)})(e))})),l.a.createElement(w,{onClick:()=>o(e)},t.map(((t,a)=>A[a].visible?l.a.cloneElement(t.content(e),{key:a,label:t.header,width:(null===t||void 0===t?void 0:t.width)||M}):null)))),(b||m)&&l.a.createElement(O,{appearance:r,checkable:!u},b&&l.a.createElement(h.b,{text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",place:"left"},l.a.createElement(s.a,{size:"xs",kind:"icon",disabled:_(e)||e.checked,onClick:()=>b(e)},l.a.createElement(d.a,{icon:"edit",size:"xs",stroke:"white",fill:_(e)||e.checked?"var(--ghost-color-text)":"var(--default-color-accent)"}))),m&&l.a.createElement(h.b,{text:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",place:"left"},l.a.createElement(s.a,{size:"xs",kind:"icon",appearance:"red",disabled:_(e)||e.checked,onClick:()=>m(e)},l.a.createElement(d.a,{icon:"delete",size:"xs",stroke:"white",fill:_(e)||e.checked?"var(--ghost-color-text)":"var(--default-color-red)"}))))))))};T.defaultProps={appearance:"default"},t.c=T},OqOz:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a("q1tI"),l=a.n(n),i=a("/MKj"),c=a("7Cbv"),r=a("8CDE"),o=a("7BXr"),d=a("p9yE"),s=a("/y2W"),u=a("RoTl"),m=a("coMr"),p=a("xAqQ"),h=a("Sza6"),b=a("Ztxg"),g=a("9Xo6"),f=a("NWnW");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const v=e=>{var t;return"ADMIN"!==(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())},y=({item:e,query:t,component:a,entityMultiText:c,entitySingleText:r,onSubmit:d})=>{const s=Object(n.useMemo)((()=>Array.isArray(e)),[e]),u=Object(i.b)(),m=a;return l.a.createElement(p.a,{mutation:t,appearance:"clear",onCancel:()=>u(Object(b.a)(null)),onSubmit:async(t,a)=>{try{var n;await a({variables:{...s&&null!==(n=e[0])&&void 0!==n&&n.email||e.email?{email:s?e.map((e=>e.email)):[e.email]}:{id:s?e.map((e=>e.id)):[e.id]}}}),u(Object(g.c)({type:"success",message:s?`${c} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b`:`${r} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d`}))}catch(l){l&&u(Object(g.c)({type:"error",message:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}))}finally{u(Object(b.a)(null)),d&&d()}}},s?l.a.createElement(o.a,{length:"auto-fit"},e.map((e=>l.a.createElement(m,{key:e.id,item:e})))):l.a.createElement(m,{item:e}))},w=({item:e,checked:t,appearance:a,component:n,withoutActions:i,withoutChecked:c,onChecked:r,onLink:o,onEdit:d,onDelete:s})=>l.a.cloneElement(n,{checked:t,appearance:a,onLink:o&&(()=>o(e)),onEdit:!i&&d&&(()=>d(e)),onChecked:!c&&r&&(t=>r({...e,checked:t})),onDelete:!i&&s&&(()=>s(e))}),O=({render:e,title:t,icon:a,field:o,template:p,limit:g=6,startOffset:O=6,buttonCreateText:x,filterConfig:j,variables:C,getType:k,getQuery:_,entityType:T,deleteQuery:S,deleteEntityMultiText:I,deleteEntitySingleText:D,onLink:M,onEdit:A,onCreate:N,emptyMessage:L,withoutChecked:R})=>{const{displayMethod:V,visibleFilters:z}=Object(i.c)((e=>({displayMethod:e.root.displayMethod,visibleFilters:e.root.visibleFilters}))),{isAccessibleForView:q,isAccessibleForAdd:F,isAccessibleForEdit:P,isAccessibleForDelete:U}=((e="")=>{const t=Object(i.c)((e=>e.user)),a=Object(n.useCallback)((a=>Object(f.k)(t,`${a}_${e}`.toUpperCase())),[t,e]);return{isAccessibleForView:Object(n.useMemo)((()=>a("view")),[a]),isAccessibleForAdd:Object(n.useMemo)((()=>a("add")),[a]),isAccessibleForEdit:Object(n.useMemo)((()=>a("edit")),[a]),isAccessibleForDelete:Object(n.useMemo)((()=>a("delete")),[a]),getAccess:a}})(T),B=Object(i.b)(),[H,G]=Object(n.useState)(!1),[W,Q]=Object(n.useState)([]),[J,Z]=Object(n.useState)("list"),K=Object(n.useCallback)((e=>{var t;return null===(t=W.find((t=>t[o]===e[o])))||void 0===t?void 0:t.checked}),[W]),X=()=>Z(Object(c.a)()),$=e=>{Q((t=>{const a=t=>t[o]===e[o];return t.find(a)?t.map((t=>a(t)?{...e,checked:!t.checked}:{...t,checked:H||t.checked})):[...t,{...e,checked:!0}]})),G(!1)},Y=()=>{const e=!H;Q((t=>t.map((t=>({...t,checked:!!v(t)&&e}))))),G(e)},ee=t=>B(Object(b.a)({icon:"delete",color:"red",title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",content:l.a.createElement(y,{item:t,query:S,component:t=>l.a.cloneElement(e(t.item),{appearance:"clear",onEdit:null,onDelete:null}),entityMultiText:I,entitySingleText:D,onSubmit:()=>Z(Object(c.a)())})}));return Object(n.useEffect)((()=>{const e=W.reduce(((e,t)=>e+(t.checked?1:0)),0);W.length>0&&e===W.length&&G(!0)}),[W]),l.a.createElement(d.a,{title:t},l.a.createElement(r.a,null,l.a.createElement(m.b,{title:t,icon:a,checked:H,defaultDisplayMethod:V,defaultVisibleFilters:z,buttonDeleteDisabled:!W.find((e=>e.checked)),buttonCreateText:x,onCreate:F&&(()=>N&&N(X)),onChecked:U&&(()=>"grid"===V&&Y&&Y()),onChangeVisibleFilter:()=>B(Object(h.v)(!z)),onChangeDisplayMethod:e=>B(Object(h.l)(e.value)),onDeleteAll:U&&(()=>ee(W.filter((e=>e.checked)))),withoutFooter:!U||"list"===V,withFilters:j}),l.a.createElement(u.a,E({},j||{},{isOpen:z,withoutDivider:!0})),l.a.createElement(s.a,{key:J,limit:g,type:k,query:_,template:p,variables:C,startOffset:O,emptyMessage:L,setCheckedList:Q,component:t=>l.a.createElement(w,{item:t,component:e(t),withoutChecked:!U&&R,withoutActions:!P&&!U,checked:v(t)&&(H||K(t)),onLink:M&&q&&(e=>M(e)),onEdit:A&&P&&(e=>A(e,X)),onChecked:U&&$,onDelete:U&&ee}),onClick:M&&q&&(e=>M(e)),onEdit:A&&P&&(e=>A(e,X)),onChecked:U&&$,onDelete:U&&ee})))};O.defaultProps={field:"id"};t.b=O},RkzV:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI"),l=a("/MKj"),i=a("owvJ"),c=a("ApjV"),r=a("u2Cb");const o=({isManage:e}={})=>{const t=Object(c.b)(),a=Object(l.c)((e=>e.user)),o=Object(n.useMemo)((()=>{var e;return a&&"ADMIN"===(null===a||void 0===a||null===(e=a.role)||void 0===e?void 0:e.name)}),[a]),d=Object(n.useCallback)((e=>{var t;return null===a||void 0===a||null===(t=a.articles)||void 0===t?void 0:t.find((t=>t.id===e.id))}),[a]),s=Object(n.useCallback)(((e,n)=>{t(i.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email,withStatus:n})}),[a,t]);return{user:a,hasOwned:d,onLink:s,onEdit:e&&((e,a)=>t(i.c,{id:e.id,canEditStatus:o,mutation:r.a.UPDATE_ARTICLE,onAfter:a})()),onCreate:e&&(e=>t(i.a,{canEditStatus:o,mutation:r.a.CREATE_ARTICLE,onAfter:e})())}}},RoTl:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("NKCw"),c=a("/MKj"),r=a("vOnD"),o=a("8CDE"),d=a("nShV"),s=a("OXt0"),u=a("RKiZ"),m=a("hYBG"),p=a("wZgm"),h=a("IZrO"),b=a("VX74"),g=a("QclZ");var f=({type:e,name:t,query:a,variables:i={},defaultValue:r,placeholder:o,selectValueField:d,selectLabelField:s,selectRestrictions:u,selectLabelDecorator:m,isMulti:p,onChange:h})=>{const f=Object(c.c)((e=>e.root.params)),{data:E,loading:v}=Object(b.useQuery)(a,{variables:i}),y=Object(n.useCallback)((e=>{if(s){const t=e[s];return m?m(t):t}return!s&&m?m(e):e}),[s,m]),w=Object(n.useMemo)((()=>{const t=e&&E&&E[e]||[];return t.filter((e=>Boolean(u?!(e=>(Array.isArray(u)?u:[]).includes(e))(e):e))).map((e=>({value:d?e[d]:e,label:y(e)})))}),[e,E,d,u,y]);return l.a.createElement(g.a,{options:w,placeholder:o,defaultValue:w.find((e=>(null===e||void 0===e?void 0:e.value)===f[t]))||r,onChange:h,isLoading:v,isMulti:p,isSearchable:!0,isClearable:!0})};const E=Object(r.d)(o.a).withConfig({displayName:"FilterBar__Wrap",componentId:"sc-1lvfs1u-0"})(["width:100%;&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 100ms,blur 100ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity 100ms,blur 100ms;}"]),v=r.d.form.withConfig({displayName:"FilterBar__Form",componentId:"sc-1lvfs1u-1"})(["display:flex;flex-direction:column;grid-gap:var(--default-gap);width:100%;"]),y=Object(r.d)(d.b).withConfig({displayName:"FilterBar__List",componentId:"sc-1lvfs1u-2"})(["display:flex;flex-wrap:wrap;grid-gap:var(--default-gap);& > div{min-width:256px;flex-grow:1;}"]),w=({isOpen:e=!0,duration:t,sort:a,filter:r,withoutDivider:o})=>{const{search:b,params:g}=Object(c.c)((e=>({search:e.root.search,params:e.root.params}))),{control:w,getValues:O}=Object(i.b)(),[x]=Object(h.a)(),j=Object(n.useCallback)((e=>t=>{e&&e(t),x(b,(e=>{const t=e=>e instanceof Date?e.getTime().toString():Array.isArray(e)?e.map((e=>e.value)):(null===e||void 0===e?void 0:e.value)||e;return Object.entries(e).filter((([e,t])=>t)).reduce(((e,[a,n])=>({...e,[a]:t(n)})),{})})(O()))}),[b,O,x]),C=Object(n.useMemo)((()=>(r||[]).map((e=>{switch(e.type){case"DATEPICKER":return l.a.createElement(i.a,{key:e.name,control:w,name:e.name,defaultValue:O(e.name)||g&&g[(null===e||void 0===e?void 0:e.name)||""]||null,render:({value:t,onChange:a})=>l.a.createElement(p.a,{defaultValue:t,placeholder:e.label,onChange:j(a),withNavigate:!0})});case"SELECT":return l.a.createElement(i.a,{key:e.name,control:w,name:e.name,defaultValue:O(e.name)||null,render:({value:t,onChange:a})=>l.a.createElement(f,{name:e.name,query:e.query,defaultValue:t,type:e.queryType,placeholder:e.label,variables:e.variables,selectValueField:e.selectValueField,selectLabelField:e.selectLabelField,selectRestrictions:e.selectRestrictions,selectLabelDecorator:e.selectLabelDecorator,onChange:j(a)})});case"MULTISELECT":return l.a.createElement(i.a,{key:e.name,control:w,name:e.name,defaultValue:O(e.name)||null,render:({value:t,onChange:a})=>l.a.createElement(f,{name:e.name,query:e.query,defaultValue:t,type:e.queryType,placeholder:e.label,variables:e.variables,selectValueField:e.selectValueField,selectLabelField:e.selectLabelField,selectRestrictions:e.selectRestrictions,selectLabelDecorator:e.selectLabelDecorator,onChange:j(a),isMulti:!0})});default:return null}}))),[g,w,r,j,O]),k=Object(n.useMemo)((()=>a||[]),[a]);return l.a.createElement(m.a,{in:e,animation:"fade",timeout:t},l.a.createElement(E,null,l.a.createElement(v,null,!o&&l.a.createElement(u.a,{clear:!0}),C&&C.length>0&&l.a.createElement(y,null,C.map((e=>e))),k&&k.length>0&&l.a.createElement(d.b,null,l.a.createElement(i.a,{name:"sort",control:w,defaultValue:O("sort")||(null===g||void 0===g?void 0:g.sort)&&k.find((e=>(null===e||void 0===e?void 0:e.value)===g.sort))||k[0]||null,render:({value:e,onChange:t})=>l.a.createElement(s.b,{defaultValue:e,onChange:j(t),options:k,stretch:!0})})),l.a.createElement(u.a,{clear:!0}))))};w.defaultProps={duration:150};t.a=w},U1Bd:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("q1tI"),l=a("/MKj"),i=a("rP4V"),c=a("+EEm"),r=a("ApjV"),o=a("lphG"),d=a("u2Cb");const s=({isManage:e}={})=>{const t=Object(r.b)(),a=Object(o.a)(),s=Object(l.c)((e=>e.user)),u=Object(l.b)(),m=Object(n.useMemo)((()=>"ADMIN"!==(null===s||void 0===s?void 0:s.account)),[s]),p=Object(n.useMemo)((()=>{var e;return s&&"ADMIN"===(null===s||void 0===s||null===(e=s.role)||void 0===e?void 0:e.name)}),[s]),h=Object(n.useCallback)((e=>(null===e||void 0===e?void 0:e.name)===(null===s||void 0===s?void 0:s.name)),[s]),b=Object(n.useCallback)((e=>{const a=(null===e||void 0===e?void 0:e.name)!==(null===s||void 0===s?void 0:s.name);t(i.i,{id:null===e||void 0===e?void 0:e.email,auth:null===s||void 0===s?void 0:s.email,sender:s,recipient:e,owned:a,queries:{userChats:d.a.GET_USER_CHATS,chat:d.a.GET_CHAT},mutations:{addUserChat:d.a.ADD_USER_CHAT,sendMessage:d.a.SEND_MESSAGE}})()}),[s,u,a,t]),g=Object(n.useCallback)((e=>{t(c.a,{sender:s,recipient:e,queries:{userChats:d.a.GET_USER_CHATS,chat:d.a.GET_CHAT},mutations:{addUserChat:d.a.ADD_USER_CHAT,sendMessage:d.a.SEND_MESSAGE}})()}),[s,a,u]),f=Object(n.useCallback)((e=>{t(i.j,{id:null===e||void 0===e?void 0:e.email,auth:null===s||void 0===s?void 0:s.email})()}),[s,t]),E=Object(n.useCallback)((e=>{t(i.a,{user:e})()}),[t]),v=Object(n.useCallback)((e=>{var a;t(i.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:null===s||void 0===s?void 0:s.email,queries:{userChats:d.a.GET_USER_CHATS,chat:d.a.GET_CHAT},mutations:{addUserChat:d.a.ADD_USER_CHAT,sendMessage:d.a.SEND_MESSAGE}})()}),[s,t]);return{user:s,hasOwned:h,onLink:b,onChat:g,onAboutMore:E,onMembers:f,onCompanyLink:(null===s||void 0===s?void 0:s.company)&&v,onEdit:e&&((e,a)=>t(i.f,{user:e.email,auth:null===s||void 0===s?void 0:s.email,canEditAccount:m,canEditRole:p,mutations:{del:d.a.DELETE_USER,update:d.a.UPDATE_USER},onAfter:a})()),onCreate:e&&(e=>t(i.d,{canEditRole:p,mutation:d.a.CREATE_USER,onAfter:e})())}}},VP1n:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("UUyv");t.a=Object(i.trackWindowScroll)((({children:e})=>l.a.createElement(i.LazyLoadComponent,null,e)))},coMr:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a("q1tI"),l=a.n(n),i=a("/MKj"),c=a("vOnD"),r=a("nShV"),o=a("8CDE"),d=a("ZeZO"),s=a("feIE"),u=a("OXt0"),m=a("DTT8"),p=a("79b8"),h=a("RKiZ"),b=a("VWQm"),g=a("Sza6");const f=Object(c.d)(o.a).withConfig({displayName:"HandleBar__Wrap",componentId:"phr6ix-0"})([""]),E=Object(c.d)(r.b).withConfig({displayName:"HandleBar__Header",componentId:"phr6ix-1"})(["justify-content:space-between;grid-gap:var(--default-gap);flex-wrap:wrap;"]),v=Object(c.d)(r.b).withConfig({displayName:"HandleBar__ActionGroup",componentId:"phr6ix-2"})(["justify-content:flex-end;@media only screen and (max-width:996px){width:100%;","{width:auto;}}@media only screen and (max-width:480px){flex-wrap:wrap;grid-gap:var(--default-gap);","{flex-direction:row;flex-grow:1;}","{button{width:100%;height:100%;}}}"],u.a,u.a,b.a),y=Object(c.d)(d.a).withConfig({displayName:"HandleBar__CreateButton",componentId:"phr6ix-3"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}@media only screen and (max-width:996px){width:100%;}"]),w=Object(c.d)(r.b).withConfig({displayName:"HandleBar__Footer",componentId:"phr6ix-4"})(["justify-content:space-between;@media only screen and (max-width:480px){flex-direction:column;align-items:end;grid-gap:var(--default-gap);}"]),O=Object(c.d)(d.a).withConfig({displayName:"HandleBar__DeleteButton",componentId:"phr6ix-5"})(["color:var(--default-color-red);background:none;border:none;&:hover{background:none;border:none;color:var(--default-color-red);}",""],(({disabled:e})=>e&&Object(c.c)(["color:var(--ghost-color-text);&:hover{color:var(--ghost-color-text);}"]))),x=[{label:l.a.createElement(s.a,{icon:"menu"}),value:"list",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u043e\u043c"},{label:l.a.createElement(s.a,{icon:"category"}),value:"grid",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u043a\u043e\u0439"}],j=({icon:e,title:t,buttonCreateText:a,buttonDeleteDisabled:c,defaultDisplayMethod:r,withoutFooter:o,withFilters:j,checked:C,onCreate:k,onChecked:_,onDeleteAll:T,onChangeDisplayMethod:S})=>{const[I,D]=Object(n.useState)(C),[M,A]=Object(n.useState)(x.find((e=>e.value===r))),N=Object(i.c)((e=>e.root.visibleFilters)),L=Object(i.b)();return Object(n.useEffect)((()=>{D(C)}),[C]),l.a.createElement(f,null,l.a.createElement(E,null,l.a.createElement(m.d,{icon:e,text:t}),l.a.createElement(v,null,k&&l.a.createElement(y,{type:"button",onClick:k},l.a.createElement("span",null,a),l.a.createElement(s.a,{icon:"add",stroke:"white"})),j&&l.a.createElement(b.b,{text:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432"},l.a.createElement(d.a,{type:"button",kind:"icon",onClick:()=>L(Object(g.v)(!N)),revert:!N},l.a.createElement(s.a,{icon:"filter2",stroke:N?"white":"var(--default-color-accent)"}))),l.a.createElement(u.b,{defaultValue:M||x[1],options:x,onChange:e=>(e=>{A(e),S&&S(e)})(e)}))),l.a.createElement(h.a,{clear:!0}),!o&&l.a.createElement(w,null,l.a.createElement(p.a,{label:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435",checked:I,onChange:e=>{const t=e.target.checked;D(t),_&&_(t)}}),l.a.createElement(O,{appearance:"clear",disabled:c,onClick:T},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435")))};j.defaultProps={buttonCreateText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",buttonDeleteDisabled:!0},t.b=j},p9yE:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("g4pe"),c=a.n(i),r=a("YFqc"),o=a.n(r),d=a("20a2"),s=a("vOnD"),u=a("VX74"),m=a("/MKj"),p=a("nShV"),h=a("N0uN"),b=a("t7jn"),g=a("VWQm"),f=a("auMy"),E=a("8CDE"),v=a("ZeZO"),y=a("V0nP"),w=a("QUga"),O=a("feIE"),x=a("wOhW"),j=a("ApjV"),C=a("586Q"),k=a("ThpJ"),_=a("RKiZ"),T=a("7sPp"),S=a("hfch"),I=a("NWnW");const D="rgba(255, 255, 255, 25%)",M=Object(s.d)(p.b).withConfig({displayName:"SideBar__Wrap",componentId:"sc-158a552-0"})(["--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}"]),A=Object(s.d)(p.b).withConfig({displayName:"SideBar__Profile",componentId:"sc-158a552-1"})(["padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);","{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}"],k.a),N=Object(s.d)(E.a).withConfig({displayName:"SideBar__Info",componentId:"sc-158a552-2"})(["grid-gap:0;"]),L=Object(s.d)(T.a).withConfig({displayName:"SideBar__Name",componentId:"sc-158a552-3"})(["font-size:var(--font-h4);font-weight:var(--font-weight-medium);"]),R=Object(s.d)(w.b).withConfig({displayName:"SideBar__Role",componentId:"sc-158a552-4"})(["color:",";"],D),V=s.d.div.withConfig({displayName:"SideBar__Strip",componentId:"sc-158a552-5"})(["display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}"]),z=Object(s.d)(p.b).withConfig({displayName:"SideBar__Label",componentId:"sc-158a552-6"})(["align-items:center;"]),q=Object(s.d)(O.a).withConfig({displayName:"SideBar__LabelIcon",componentId:"sc-158a552-7"})(["width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);"," @media only screen and (max-width:480px){background:var(--default-color-accent-dim);"," svg{path{stroke:var(--default-color-accent);","}}}"],(({active:e})=>e&&Object(s.c)(["background:white;"])),(({active:e})=>e&&Object(s.c)(["background:var(--default-color-accent);"])),(({active:e})=>e&&Object(s.c)(["stroke:white;"]))),F=Object(s.d)(w.b).withConfig({displayName:"SideBar__LabelText",componentId:"sc-158a552-8"})(["color:",";font-weight:var(--font-weight-medium);",""],D,(({active:e})=>e&&Object(s.c)(["color:white;"]))),P=({active:e,icon:t,text:a,count:n})=>l.a.createElement(V,null,l.a.createElement(z,null,l.a.createElement(q,{icon:t,size:"xs",stroke:e?"var(--default-color-accent)":D,active:e}),l.a.createElement(F,{active:e},a)),n&&l.a.createElement(S.a,{count:n,size:"xs",style:e?{}:{background:D,borderColor:"transparent",color:"var(--admin-color-accent)"}})),U=({user:e,link:t,links:a,...n})=>l.a.createElement(M,n,l.a.createElement(A,null,l.a.createElement(k.b,{src:e.avatar,alt:"Avatar",size:"m"}),l.a.createElement(N,null,l.a.createElement(L,null,e.name),l.a.createElement(R,null,Object(I.h)(e.role)))),l.a.createElement(_.a,{style:{background:"var(--admin-color-accent-dim)",margin:"10px 0"}}),a&&a.length>0&&a.map(((e,a)=>l.a.createElement(l.a.Fragment,{key:a},e.divide&&l.a.createElement(_.a,{style:{background:"var(--admin-color-accent-dim)",margin:"10px 0"}}),l.a.createElement(t,{href:e.path},e.component)))));U.defaultProps={link:({children:e,...t})=>l.a.createElement("a",t,e)};var B=U,H=a("QclZ"),G=a("ZwIX");const W=Object(s.d)(E.a).withConfig({displayName:"GlobalSearch__Wrap",componentId:"sc-1i2qzsl-0"})(["padding:var(--default-gap);"]),Q=s.d.div.withConfig({displayName:"GlobalSearch__Loader",componentId:"sc-1i2qzsl-1"})(["display:flex;justify-content:center;align-items:center;width:100%;height:100%;flex-grow:1;"]),J=({result:e,search:t,loading:a,entities:i,initialEntity:c,appearance:r,style:o,className:d,onChange:s,onSubmit:u})=>{const[m,p]=Object(n.useState)(c),h=Object(n.useRef)(null);return Object(n.useEffect)((()=>{s&&s(m)}),[m,s]),l.a.createElement(W,{style:o,className:d,appearance:r},l.a.createElement(H.a,{appearance:"ghost",defaultValue:m,placeholder:"\u0413\u0434\u0435 \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043a\u0430\u0442\u044c?",label:"\u0417\u043e\u043d\u0430 \u043f\u043e\u0438\u0441\u043a\u0430",options:i,onChange:e=>{p(e),null!==h&&void 0!==h&&h.current&&(h.current.value="",u&&u(""))},isLoading:a,isSearchable:!0,isClearable:!0}),!a&&m&&l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{ref:h,appearance:"ghost",placeholder:"\u041f\u043e\u0438\u0441\u043a",defaultValue:t,onSubmit:u}),(null===e||void 0===e?void 0:e.length)>0?e.map((e=>m.render&&l.a.createElement(l.a.Fragment,{key:e.id||e.email},m.render(e)))):l.a.createElement(G.a,{style:{width:"100%",textAlign:"center",flexGrow:1}},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")),a&&l.a.createElement(Q,null,l.a.createElement(f.a,null)))};J.defaultProps={appearance:"clear"};var Z=J,K=a("OqOz"),X=a("qOKH"),$=a("RkzV"),Y=a("QfFT");const ee={getUsers:a("U1Bd").a,getArticles:$.a,getProjects:Y.a},te=({item:e,elem:t,onJump:a})=>{const n=ee[t.value]?ee[t.value]():{},i=Object(m.b)(),c=()=>i(Object(X.a)(null));return l.a.createElement(K.a,{key:e.id||e.email,item:e,appearance:"clear",component:t.render(e,{...n,onAboutMore:()=>a("/detail",e)}),onLink:c,onEdit:c,onDelete:c,withoutChecked:!0})},ae=Object(n.memo)((({data:e,loading:t,search:a,entity:n,entities:i,onChange:c,onJump:r,onSubmit:o})=>l.a.createElement(Z,{search:a,loading:t,initialEntity:n,result:a&&e&&n&&e[null===n||void 0===n?void 0:n.value],entities:(i||[]).map((e=>({...e,render:t=>l.a.createElement(te,{item:t,elem:e,onJump:r})}))),onSubmit:o,onChange:c})));var ne=Object(n.memo)((({search:e,entity:t,entities:a,setSearch:n,onHide:i,onChange:c,onJump:r})=>{const[o,{data:d,loading:s,refetch:m}]=t?Object(u.useLazyQuery)(t.query):[null,{data:null,loading:!1,refetch:null}];return l.a.createElement(ae,{data:d,entity:t,search:e,loading:s,entities:a,onHide:i,onJump:r,onChange:c,onSubmit:e=>{const t={search:e};n&&n(e),e&&(m&&m(t),o&&o({variables:t}))}})})),le=a("TsNn"),ie=a("yEVw"),ce=a("UwjQ"),re=a("1zqG"),oe=a("4nJQ"),de=a("4NP5"),se=a("u2Cb");function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const me=[{value:"getUsers",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",singlePath:"user",originPath:"users",query:se.a.GET_USERS,deleteQuery:se.a.DELETE_USER,deleteEntityMultiText:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",deleteEntitySingleText:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",render:(e,t)=>l.a.createElement(le.a,ue({},t,{user:e}))},{value:"getCategories",label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",singlePath:"category",originPath:"categories",query:se.a.GET_CATEGORIES,deleteQuery:se.a.DELETE_CATEGORY,deleteEntityMultiText:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",deleteEntitySingleText:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",render:(e,t)=>l.a.createElement(ie.a,ue({},t,{category:e}))},{value:"getArticles",label:"\u0421\u0442\u0430\u0442\u044c\u0438",singlePath:"article",originPath:"articles",query:se.a.GET_ARTICLES,deleteQuery:se.a.DELETE_ARTICLE,deleteEntityMultiText:"\u0421\u0442\u0430\u0442\u044c\u0438",deleteEntitySingleText:"\u0421\u0442\u0430\u0442\u044c\u044f",render:(e,t)=>l.a.createElement(ce.a,ue({},t,{article:e}))},{value:"getProjects",label:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",singlePath:"project",originPath:"projects",query:se.a.GET_PROJECTS,deleteQuery:se.a.DELETE_PROJECT,deleteEntityMultiText:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b",deleteEntitySingleText:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442",render:(e,t)=>l.a.createElement(re.b,ue({},t,{project:e,preview:!0}))},{value:"getTickets",label:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",singlePath:"ticket",originPath:"tickets",query:se.a.GET_TICKETS,deleteQuery:se.a.DELETE_TICKET,deleteEntityMultiText:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",deleteEntitySingleText:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",render:(e,t)=>l.a.createElement(oe.a,ue({},t,{ticket:e}))},{value:"getRoles",label:"\u0420\u043e\u043b\u0438",singlePath:"role",originPath:"roles",query:se.a.GET_ROLES,deleteQuery:se.a.DELETE_ROLE,deleteEntityMultiText:"\u0420\u043e\u043b\u0438",deleteEntitySingleText:"\u0420\u043e\u043b\u044c",render:(e,t)=>l.a.createElement(de.a,ue({},t,{role:e}))}];var pe=({onJump:e,onHide:t})=>{const[a,i]=Object(n.useState)(null),[c,r]=Object(n.useState)(null);return l.a.createElement(ne,{search:c,entity:a,entities:me,setSearch:r,onChange:i,onJump:e,onHide:t})},he=a("+EEm"),be=a("8ihE"),ge=a("rOcY");var fe=e=>{const t=t=>e.find((e=>e===t)),a=[{path:"/",component:l.a.createElement(P,{icon:"activity",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}],n=t("VIEW_USER"),i=t("VIEW_CATEGORY"),c=t("VIEW_ARTICLE"),r=t("VIEW_PROJECT"),o=t("VIEW_TICKET"),d=t("VIEW_ROLE"),s=t("VIEW_USER");return n&&a.push({path:"/users",component:l.a.createElement(P,{icon:"user2",text:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),i&&a.push({path:"/categories",component:l.a.createElement(P,{icon:"folder",text:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),c&&a.push({path:"/articles",component:l.a.createElement(P,{icon:"document",text:"\u0421\u0442\u0430\u0442\u044c\u0438"})}),r&&a.push({path:"/projects",component:l.a.createElement(P,{icon:"work",text:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})}),o&&a.push({path:"/tickets",component:l.a.createElement(P,{icon:"ticket",text:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"})}),d&&a.push({divide:!0,path:"/roles",component:l.a.createElement(P,{icon:"lock",text:"\u0420\u043e\u043b\u0438"})}),s&&a.push({path:"/settings",component:l.a.createElement(P,{icon:"setting",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),a};const Ee=s.d.main.withConfig({displayName:"dashboard__Main",componentId:"sc-9r28sr-0"})(["display:flex;grid-gap:var(--default-gap);width:100%;"]),ve=s.d.header.withConfig({displayName:"dashboard__Header",componentId:"sc-9r28sr-1"})(["position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;"]),ye=Object(s.d)(B).withConfig({displayName:"dashboard__SideBar",componentId:"sc-9r28sr-2"})(["position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}"]),we=Object(s.d)(v.a).withConfig({displayName:"dashboard__MenuButton",componentId:"sc-9r28sr-3"})(["display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}"]),Oe=Object(s.d)(p.b).withConfig({displayName:"dashboard__LogoZone",componentId:"sc-9r28sr-4"})(["justify-content:space-between;@media only screen and (max-width:996px){width:auto;}"]),xe=s.d.div.withConfig({displayName:"dashboard__Logotype",componentId:"sc-9r28sr-5"})(["display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}"]),je=Object(s.d)(h.a).withConfig({displayName:"dashboard__Content",componentId:"sc-9r28sr-6"})(["padding:0 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:0 15px 15px 80px;}@media only screen and (max-width:480px){padding:0 15px 15px 15px;}"]);t.a=({children:e,title:t="\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})=>{var a,i;const r=Object(j.b)(),s=Object(d.useRouter)(),{root:p,user:h}=Object(m.c)((e=>e)),[v,{data:k,loading:_}]=Object(u.useLazyQuery)(se.a.GET_USER),T=Object(m.b)();return Object(n.useEffect)((()=>{localStorage.getItem(ge.a.get("secret"))?v():s.push("/")}),[]),Object(n.useEffect)((()=>{if(k&&k.getUser){var e;(null===(e=k.getUser.role)||void 0===e?void 0:e.permissions.find((e=>"ACCESS_DASHBOARD"===e)))?T(Object(be.c)(k.getUser)):s.push("/")}}),[k,T]),_||!h.authenticated?l.a.createElement(C.c,null,l.a.createElement(f.a,null)):l.a.createElement(x.a,null,l.a.createElement(c.a,null,l.a.createElement("meta",{name:"keywords",content:"next,javascript,nextjs,react"}),l.a.createElement("meta",{name:"description",content:p.settings.meta.description}),l.a.createElement("title",null,t)),l.a.createElement(ve,null,l.a.createElement(we,{kind:"icon",appearance:"clear",onClick:r(he.d,{links:fe((null===h||void 0===h?void 0:h.role.permissions)||[]).map(((e,t)=>({id:t,text:e.component,onClick:()=>s.push(`/dashboard${e.path}`)})))})},l.a.createElement(O.a,{icon:"menu"})),l.a.createElement(Oe,null,l.a.createElement(g.b,{text:p.settings.meta.description,offset:{bottom:5},place:"bottom",maxWidth:256,multiline:!0},l.a.createElement(xe,null,l.a.createElement(o.a,{href:"/"},l.a.createElement("a",null,l.a.createElement(y.a,{src:null===(a=p.settings.general.logotype)||void 0===a?void 0:a.path,alt:"Logotype"})))))),l.a.createElement(b.a,{appearance:"ghost",onClick:()=>T(Object(X.a)([{path:"/",title:"\u041f\u043e\u0438\u0441\u043a",component:({jump:e,close:t})=>l.a.createElement(pe,{onJump:e,onHide:t})},{path:"/detail",title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",component:({data:e})=>l.a.createElement(E.a,{style:{padding:"15px"}},l.a.createElement(w.b,null,e.about||e.description))}],"l")),disable:!0})),l.a.createElement(Ee,null,l.a.createElement(ye,{user:{name:h.name,role:h.role.name,avatar:(null===h||void 0===h||null===(i=h.avatar)||void 0===i?void 0:i.path)||"/images/avatar-default.png"},link:o.a,links:fe((null===h||void 0===h?void 0:h.role.permissions)||[]).map(((e,t)=>{const a=`/dashboard${e.path.length>1?e.path:""}`;return{...e,path:a,component:l.a.createElement("a",{key:t,className:s.pathname===a?"active":""},l.a.cloneElement(e.component,{active:s.pathname===a}))}}))}),l.a.createElement(je,null,l.a.createElement(E.a,null,e))))}}}]);