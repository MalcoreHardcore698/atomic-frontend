_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"+fJr":function(e,a,t){"use strict";t.r(a);var l=t("q1tI"),o=t.n(l),n=t("vOnD"),i=t("/MKj"),d=t("VX74"),r=t("DTT8"),c=t("p9yE"),s=t("NKCw"),u=t("7Cbv"),p=t("nShV"),m=t("7sPp"),f=t("QUga"),g=t("ZeZO"),v=t("kJLk"),b=t("79b8"),h=t("RKiZ"),E=t("QclZ"),y=t("8CDE"),x=t("Gliw"),w=t("qoM+"),j=t("u2Cb");function _(){return(_=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e}).apply(this,arguments)}const S=128,C=30,O=1440,T=990,N=Object(n.d)(v.b).withConfig({displayName:"FormSettings__Logotype",componentId:"sc-13smq0j-0"})(["width:320px;height:128px;min-height:128px;img{object-fit:contain;}"]),k=Object(n.d)(v.b).withConfig({displayName:"FormSettings__Background",componentId:"sc-13smq0j-1"})(["width:100%;height:100%;max-width:","px;max-height:","px;"],O,T),V=(Object(n.d)(y.a).withConfig({displayName:"FormSettings__Wrap",componentId:"sc-13smq0j-2"})([""]),Object(n.d)(p.b).withConfig({displayName:"FormSettings__TabLabelList",componentId:"sc-13smq0j-3"})(["position:relative;display:flex;flex-flow:row nowrap;background:linear-gradient(to top,rgba(0,0,0,15%) 1px,transparent 1px) 0 100% no-repeat;"])),D=Object(n.d)(p.b).withConfig({displayName:"FormSettings__TabContentList",componentId:"sc-13smq0j-4"})(["display:flex;flex-flow:row nowrap;"]),R=Object(n.d)(f.b).withConfig({displayName:"FormSettings__TabLabel",componentId:"sc-13smq0j-5"})(["position:relative;display:inline-flex;margin-right:40px;padding-bottom:12px;font-family:var(--default-font-family);font-weight:500;font-size:0.875rem;line-height:1;color:rgba(0,0,0,75%);border-bottom:2px solid transparent;cursor:pointer;transition:color 0.2s;&:last-child{margin-right:0;}&:hover{color:black;}",""],(({active:e})=>e&&Object(n.c)(["color:var(--default-color-accent);border-color:var(--default-color-accent);&:hover{color:var(--default-color-accent);}"]))),I=Object(n.d)(y.a).withConfig({displayName:"FormSettings__TabContent",componentId:"sc-13smq0j-6"})(["display:none;flex-grow:1;",""],(({active:e})=>e&&Object(n.c)(["display:flex;"]))),q=({watch:e,register:a,loading:t,control:n,getValues:i,settings:r})=>{var c,f,v,y,w,_,q,L,P,A,M,F,$,G,z;const[B,J]=Object(l.useState)(0),Q=e("[scaffold][isRandom]"),{data:X,loading:Z}=Object(d.useQuery)(j.a.GET_META_SETTINGS_PROJECTS,{variables:{status:["PUBLISHED"]}});return o.a.createElement(o.a.Fragment,null,o.a.createElement(V,null,["\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435","Scaffold","\u041c\u0435\u0442\u0430"].map(((e,a)=>o.a.createElement(R,{key:Object(u.a)(),active:B===a,onClick:()=>J(a)},e)))),o.a.createElement(D,null,o.a.createElement(I,{active:0===B},o.a.createElement(m.a,{tag:"h4"},"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"),o.a.createElement(s.a,{name:"[general][logotype]",control:n,defaultValue:i("[general][logotype]")||(null===r||void 0===r||null===(c=r.general)||void 0===c?void 0:c.logotype)||null,render:({value:e,onChange:a})=>o.a.createElement(N,{accept:"image/*",defaultValue:e,onChange:a,placeholder:`\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${S}x${C}px`,tooltip:`\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435: ${S}x${C}px. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: jpeg, jpg, png. \u041c\u0430\u043a\u0441. \u0440\u0430\u0437\u043c\u0435\u0440: 1 MB`})})),o.a.createElement(I,{active:1===B},o.a.createElement(m.a,{tag:"h4"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),o.a.createElement(x.a,{type:"text",name:"[scaffold][title]",ref:a(),defaultValue:i("title")||(null===r||void 0===r||null===(f=r.scaffold)||void 0===f?void 0:f.title)||"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439 \u0448\u043a\u043e\u043b\u0443 \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0441 \u043d\u0430\u043c\u0438",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",appearance:"ghost",disabled:t}),o.a.createElement(m.a,{tag:"h4"},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),o.a.createElement(s.a,{name:"[scaffold][isRandom]",control:n,defaultValue:i("[scaffold][isRandom]")||(null===r||void 0===r||null===(v=r.scaffold)||void 0===v?void 0:v.isRandom),render:({value:e,onChange:a})=>o.a.createElement(b.a,{defaultChecked:e,label:"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b",onChange:e=>a(e.target.checked)})}),o.a.createElement(s.a,{name:"[scaffold][primary]",control:n,defaultValue:i("[scaffold][primary]")||(null!==r&&void 0!==r&&null!==(y=r.scaffold)&&void 0!==y&&y.primary?{value:null===r||void 0===r||null===(w=r.scaffold)||void 0===w?void 0:w.primary.id,label:null===r||void 0===r||null===(_=r.scaffold)||void 0===_?void 0:_.primary.title}:null),render:({value:e,onChange:a})=>o.a.createElement(E.a,{appearance:"ghost",defaultValue:e,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",options:((null===X||void 0===X?void 0:X.getProjects)||[]).map((e=>({value:e.id,label:e.title}))),onChange:a,isLoading:Z,isDisabled:Q,isSearchable:!0,cacheOptions:!0})}),o.a.createElement(s.a,{name:"[scaffold][residues][0]",control:n,defaultValue:i("[scaffold][residues][0]")||(null!==r&&void 0!==r&&null!==(q=r.scaffold)&&void 0!==q&&q.residues[0]?{value:null===r||void 0===r||null===(L=r.scaffold)||void 0===L?void 0:L.residues[0].id,label:null===r||void 0===r||null===(P=r.scaffold)||void 0===P?void 0:P.residues[0].title}:null),render:({value:e,onChange:a})=>o.a.createElement(E.a,{appearance:"ghost",defaultValue:e,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",options:((null===X||void 0===X?void 0:X.getProjects)||[]).map((e=>({value:e.id,label:e.title}))),onChange:a,isLoading:Z,isDisabled:Q,isSearchable:!0,cacheOptions:!0})}),o.a.createElement(s.a,{name:"[scaffold][residues][1]",control:n,defaultValue:i("[scaffold][residues][1]")||(null!==r&&void 0!==r&&null!==(A=r.scaffold)&&void 0!==A&&A.residues[1]?{value:null===r||void 0===r||null===(M=r.scaffold)||void 0===M?void 0:M.residues[1].id,label:null===r||void 0===r||null===(F=r.scaffold)||void 0===F?void 0:F.residues[1].title}:null),render:({value:e,onChange:a})=>o.a.createElement(E.a,{appearance:"ghost",defaultValue:e,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0440\u0435\u0442\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",options:((null===X||void 0===X?void 0:X.getProjects)||[]).map((e=>({value:e.id,label:e.title}))),onChange:a,isLoading:Z,isDisabled:Q,isSearchable:!0,cacheOptions:!0})}),o.a.createElement(m.a,{tag:"h4"},"\u0424\u043e\u043d"),o.a.createElement(s.a,{name:"[scaffold][background]",control:n,defaultValue:i("[scaffold][background]")||(null===r||void 0===r||null===($=r.scaffold)||void 0===$?void 0:$.background)||null,render:({value:e,onChange:a})=>o.a.createElement(k,{accept:"image/*",defaultValue:e,onChange:a,placeholder:`\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${O}x${T}px`,tooltip:`\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435: ${O}x${T}px. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: jpeg, jpg, png. \u041c\u0430\u043a\u0441. \u0440\u0430\u0437\u043c\u0435\u0440: 15 MB`})})),o.a.createElement(I,{active:2===B},o.a.createElement(m.a,{tag:"h4"},"\u041c\u0435\u0442\u0430 \u0442\u0435\u0433\u0438"),o.a.createElement(x.a,{type:"text",name:"[meta][title]",ref:a(),defaultValue:i("[meta][title]")||(null===r||void 0===r||null===(G=r.meta)||void 0===G?void 0:G.title)||"Atomic",placeholder:"\u041c\u0435\u0442\u0430-\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",appearance:"ghost",disabled:t}),o.a.createElement(x.a,{type:"text",name:"[meta][description]",ref:a(),defaultValue:i("[meta][description]")||(null===r||void 0===r||null===(z=r.meta)||void 0===z?void 0:z.description),placeholder:"\u041c\u0435\u0442\u0430-\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",appearance:"ghost",disabled:t}))),o.a.createElement(h.a,{clear:!0}),o.a.createElement(p.b,null,o.a.createElement(g.a,{style:{flexGrow:1},type:"submit",disabled:t},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))};var L=({settings:e,mutation:a,appearance:t,className:l,onSubmit:n})=>o.a.createElement(w.b,{className:l,appearance:t,mutation:a,onSubmit:n},(a=>o.a.createElement(q,_({},a,{settings:e})))),P=t("2qQv"),A=t("9Xo6"),M=t("Sza6");const F="\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",$=n.d.div.withConfig({displayName:"settings__Container",componentId:"mgp0x9-0"})(["width:100%;max-width:745px;@media only screen and (max-width:768px){max-width:100%;}"]);a.default=()=>{const{data:e,loading:a,error:t}=Object(d.useQuery)(j.a.GET_META_DASHBOARD_SETTINGS),[n,s]=Object(l.useState)(null),u=Object(i.b)();return Object(l.useEffect)((()=>{!a&&e&&s(e.getDashboardSettings)}),[e,a]),o.a.createElement(c.a,{title:F},o.a.createElement(r.d,{icon:"setting",text:F}),o.a.createElement($,null,o.a.createElement(P.b,{data:null===e||void 0===e?void 0:e.getDashboardSettings,loading:a,error:t,errorMessage:"\u0423\u043f\u0441! \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",emptyMessage:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0435 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b"},o.a.createElement(L,{settings:n,mutation:j.a.UPDATE_META_DASHBOARD_SETTINGS,onSubmit:async(e,a)=>{try{var t,l,o,n,i,d,r,c,p,m,f,g,v,b,h,E;const y=await a({variables:{input:{general:{logotype:null===(t=e.general)||void 0===t||null===(l=t.logotype)||void 0===l?void 0:l.file,logotypeSize:null===(o=e.general)||void 0===o||null===(n=o.logotype)||void 0===n?void 0:n.size},scaffold:{title:null===(i=e.scaffold)||void 0===i?void 0:i.title,primary:null===(d=e.scaffold)||void 0===d||null===(r=d.primary)||void 0===r?void 0:r.value,residues:null===(c=e.scaffold)||void 0===c||null===(p=c.residues)||void 0===p?void 0:p.map((e=>e.value)),background:null===(m=e.scaffold)||void 0===m||null===(f=m.background)||void 0===f?void 0:f.file,backgroundSize:null===(g=e.scaffold)||void 0===g||null===(v=g.background)||void 0===v?void 0:v.size,isRandom:null===(b=e.scaffold)||void 0===b?void 0:b.isRandom},meta:{title:null===(h=e.meta)||void 0===h?void 0:h.title,description:null===(E=e.meta)||void 0===E?void 0:E.description}}}});s(y.data.updateDashboardSettings),u(Object(M.u)(y.data.updateDashboardSettings)),u(Object(A.c)({type:"success",message:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"}))}catch(y){u(Object(A.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}))}}}))))}},RaRx:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings",function(){return t("+fJr")}])}},[["RaRx",1,2,5,6,0,3,4,8]]]);