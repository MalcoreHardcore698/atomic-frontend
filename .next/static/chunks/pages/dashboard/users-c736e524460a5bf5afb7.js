_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"07fs":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("vOnD");const i=r.d.div.withConfig({displayName:"FadeLoad__Wrap",componentId:"sc-1rdnrub-0"})(["opacity:0;transition:opacity 100ms ease;",""],(({isVisible:e})=>e&&Object(r.c)(["opacity:1;"])));t.a=({children:e})=>{const[t,a]=Object(n.useState)(!0),r=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>a(e.isIntersecting)))}));return e.observe(r.current),()=>e.unobserve(r.current)}),[]),o.a.createElement(i,{isVisible:t,ref:r},e)}},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("vOnD"),i=a("nShV"),l=a("ZeZO"),c=a("feIE"),s=a("t7jn"),u=a("coMr");const d=Object(r.d)(i.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),E=Object(r.d)(s.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),m=Object(r.d)(l.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(r.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,onCreate:a,onChangeFilter:r,onSubmit:i})=>{const[l,s]=Object(n.useState)(!1);return o.a.createElement(d,null,o.a.createElement(E,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:i}),o.a.createElement(m,{type:"button",kind:"icon",onClick:()=>{s(!l),r&&r(!l)},visibleFilter:l},o.a.createElement(c.a,{icon:"filter2",stroke:l?"white":"var(--default-color-accent)"})),a&&o.a.createElement(u.a,{type:"button",onClick:a},o.a.createElement("span",null,t),o.a.createElement(c.a,{type:"button",icon:"add",stroke:"white"})))}},"HL7+":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return a("jNog")}])},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),r=a("20a2"),i=a("vOnD"),l=a("VX74"),c=a("RotF"),s=a.n(c),u=a("7Cbv"),d=a("8CDE"),E=a("wZgm"),m=a("auMy"),b=a("QclZ"),h=a("X+Rt"),p=a("p9yE"),f=a("RoTl"),v=a("EYtC"),S=a("coMr"),_=a("586Q"),C=a("/MKj");const j=Object(i.d)(d.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(i.c)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:i,filters:c,options:d,scaffold:O,dashboard:w,variables:T={},limit:g=6,startOffset:y=6,initialize:D,children:R})=>{const A=Object(r.useRouter)(),U=Object(C.c)((e=>e.root.search)),M=w?p.a:h.a,[N,k]=Object(n.useState)(),[I,P]=Object(n.useState)(),[L,H]=Object(n.useState)(null),[q,x]=Object(n.useState)(!1),[G,F]=Object(n.useState)(y+1),[V,X]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[Q,B]=Object(n.useState)(!1),W=Object(n.useMemo)((()=>{var e;return Number(null===(e=A.query)||void 0===e?void 0:e.page)||1}),[A]),[J,{data:K,loading:Z,refetch:z}]=Object(l.useLazyQuery)(a),[Y,{data:$,loading:ee,refetch:te}]=Object(l.useLazyQuery)(a),ae=e=>{if(X([]),e)H(e),J({variables:{...T,search:e,offset:0,limit:y*W}});else{const e={...T,offset:0,limit:g};H(null),te?te(e):Y({variables:e})}F(0)};return Object(n.useEffect)((()=>{D&&Y({variables:{offset:G,limit:g}})}),[D]),Object(n.useEffect)((()=>{U&&ae(U)}),[U]),Object(n.useEffect)((()=>{const e=!L&&!ee&&$||L&&!Z&&K;if(e){const t=e[Object.keys(e)[0]];t.length>0&&X((e=>[...e,...t])),0===t.length&&B(!0)}}),[L,ee,Z,$,K,B]),o.a.createElement(M,{title:e,scaffold:O},o.a.createElement(j,{clear:O||w},!O&&!w&&o.a.createElement(v.a,{onChangeFilter:()=>x(!q),onSubmit:ae}),w&&i&&o.a.createElement(S.b,{title:e,icon:i.icon,buttonCreateText:i.buttonCreateText,onCreate:i.onCreate,onChangeVisibleFilter:()=>x(!q),onChangeDisplayMethod:i.onChangeDisplayMethod}),(c||d)&&o.a.createElement(f.a,{isOpen:q,filters:c.map((e=>{switch(e.type){case"DATEPICKER":return o.a.createElement(E.a,{key:Object(u.a)(),value:N,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:k,withNavigate:!0});case"SELECT":return o.a.createElement(b.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:I,onChange:e=>P(e)});default:return null}})),options:d}),o.a.createElement(s.a,{pageStart:W||0,loadMore:async e=>{const t={...T,offset:G,limit:g};L&&z?await z(T):te?(await te(t),F(g*e+y+1)):await Y({variables:t})},hasMore:!Q,loader:o.a.createElement(_.d,{key:"loader"},o.a.createElement(m.a,null))},"function"===typeof R?o.a.createElement(R,{documents:V}):R)))}},jNog:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return v}));var n=a("q1tI"),o=a.n(n),r=a("/MKj"),i=a("7BXr"),l=a("EJJs"),c=a("e3uv"),s=a("ApjV"),u=a("QX5T"),d=a("TsNn"),E=a("VP1n"),m=a("07fs"),b=a("rP4V"),h=a("j8/+"),p=a("+EEm"),f=a("u2Cb");var v=!0;t.default=({store:e})=>{const t=Object(s.b)(),{user:a,documents:v}=Object(r.c)((e=>({user:e.user,documents:e.documents}))),S=Object(r.b)(),[_,C]=Object(n.useState)("grid"),j=Object(n.useMemo)((()=>a&&"ADMIN"===a.role.name),[a]),O=Object(n.useMemo)((()=>e.roles),[e]);return Object(n.useEffect)((()=>{S(Object(h.a)(null))}),[]),o.a.createElement(u.a,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438"},{type:"SELECT",placeholder:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",options:[]}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438",value:"createdAt"}],handle:{icon:"user2",buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onCreate:t(b.d,{roles:O,canEditRole:j,mutation:f.a.CREATE_USER}),onChangeDisplayMethod:e=>C(e.value)},limit:12,startOffset:12,bottomScrollOffset:0,query:f.a.GET_USERS,store:{documents:v||e.users},dashboard:!0},(({documents:e})=>"list"===_?o.a.createElement(l.b,{data:e,template:c.a.user,onChecked:()=>{},onClick:e=>{const n=e.name===a.name;return t(b.i,{id:e.email,auth:null===a||void 0===a?void 0:a.email,owned:n,queries:{userChats:f.a.GET_USER_CHATS,chat:f.a.GET_CHAT},mutations:{addUserChat:f.a.ADD_USER_CHAT,sendMessage:f.a.SEND_MESSAGE}})()},onDelete:e=>t(b.e,{id:e.email,user:e,auth:null===a||void 0===a?void 0:a.email,mutation:f.a.DELETE_USER})(),onEdit:e=>t(b.f,{user:e.email,auth:null===a||void 0===a?void 0:a.email,roles:O,canEditRole:j,mutations:{update:f.a.UPDATE_USER,del:f.a.DELETE_USER,changePassword:f.a.UPDATE_USER}})(),style:{overflowX:"auto",width:"calc(100vw - 290px)"}}):o.a.createElement(i.a,null,e.map((e=>{const n=e.name===a.name;return o.a.createElement(m.a,{key:e.email},o.a.createElement(E.a,null,o.a.createElement(d.a,{user:e,onChecked:()=>{},onChat:a.email&&t(p.a,{id:e.email,auth:null===a||void 0===a?void 0:a.email,queries:{userChats:f.a.GET_USER_CHATS,chat:f.a.GET_CHAT},mutations:{addUserChat:f.a.ADD_USER_CHAT,sendMessage:f.a.SEND_MESSAGE}}),onLink:t(b.i,{id:e.email,auth:null===a||void 0===a?void 0:a.email,owned:n,queries:{userChats:f.a.GET_USER_CHATS,chat:f.a.GET_CHAT},mutations:{addUserChat:f.a.ADD_USER_CHAT,sendMessage:f.a.SEND_MESSAGE}}),onAboutMore:t(b.a,{user:e}),onDelete:t(b.e,{id:e.email,user:e,auth:null===a||void 0===a?void 0:a.email,mutation:f.a.DELETE_USER}),onEdit:t(b.f,{user:e.email,auth:null===a||void 0===a?void 0:a.email,roles:O,canEditRole:j,mutations:{update:f.a.UPDATE_USER,del:f.a.DELETE_USER,changePassword:f.a.UPDATE_USER}}),preview:!0})))})))))}}},[["HL7+",0,2,1,3,4,5,6,7,8]]]);