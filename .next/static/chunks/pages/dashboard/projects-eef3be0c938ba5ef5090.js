_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{"07fs":function(e,t,a){"use strict";var n=a("q1tI"),c=a.n(n),o=a("vOnD");const r=o.c.div.withConfig({displayName:"FadeLoad__Wrap",componentId:"sc-1rdnrub-0"})(["opacity:0;transition:opacity 100ms ease;",""],(({isVisible:e})=>e&&Object(o.b)(["opacity:1;"])));t.a=({children:e})=>{const[t,a]=Object(n.useState)(!0),o=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>a(e.isIntersecting)))}));return e.observe(o.current),()=>e.unobserve(o.current)}),[]),c.a.createElement(r,{isVisible:t,ref:o},e)}},"0RHc":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return v}));var n=a("q1tI"),c=a.n(n),o=a("/MKj"),r=a("7BXr"),s=a("EJJs"),i=a("e3uv"),l=a("ApjV"),u=a("lphG"),d=a("QX5T"),m=a("1zqG"),p=a("VP1n"),b=a("07fs"),E=a("IxyI"),h=a("j8/+"),f=a("NWnW"),O=a("rP4V"),j=a("u2Cb");var v=!0;t.default=({store:e})=>{const t=Object(l.b)(),a=Object(u.a)(),{user:v,documents:g}=Object(o.c)((e=>({user:e.user,documents:e.documents}))),w=Object(o.b)(),[C,S]=Object(n.useState)("grid"),y=Object(n.useMemo)((()=>v&&"ADMIN"===v.role.name),[v]);return Object(n.useEffect)((()=>{w(Object(h.a)(null))}),[]),c.a.createElement(d.a,{title:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",filters:[{type:"DATEPICKER"},{type:"SELECT",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(f.d)(e.name)})))}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",value:"createdAt"}],handle:{icon:"work",buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",onCreate:t(E.b,{companies:e.companies,categories:e.categories,statuses:e.statuses,canEditStatus:y,mutation:j.a.CREATE_PROJECT,query:j.a.GET_USERS}),onChangeDisplayMethod:e=>S(e.value)},limit:12,startOffset:12,bottomScrollOffset:0,query:j.a.GET_PROJECTS,variables:{status:"PUBLISHED"},store:{documents:g||e.projects},dashboard:!0},(({documents:n})=>"list"===C?c.a.createElement(s.b,{data:n,template:i.a.project,onChecked:()=>{},onClick:e=>t(E.e,{id:e.id,auth:v})(),onDelete:e=>t(E.c,{id:e.id,project:e,auth:v,mutation:j.a.DELETE_PROJECT})(),onEdit:n=>t(E.d,{id:n.id,companies:e.companies,categories:e.categories,statuses:e.statuses,canEditStatus:y,mutation:j.a.UPDATE_PROJECT,query:j.a.GET_USERS,onCompanyInputChange:a(j.a.GET_USERS,{account:"ENTITY"})})(),style:{overflowX:"auto",width:"calc(100vw - 290px)"}}):c.a.createElement(r.a,null,n.map((n=>c.a.createElement(b.a,{key:n.id},c.a.createElement(p.a,null,c.a.createElement(m.c,{project:n,onChecked:()=>{},onScreenshotClick:(e,a)=>t(E.f,{screenshots:[n.preview,...n.screenshots],key:a})(),onLink:t(E.e,{id:n.id,user:v}),onAboutMore:t(O.a,{user:n}),onDelete:t(E.c,{id:n.id,project:n,auth:v,mutation:j.a.DELETE_PROJECT}),onEdit:t(E.d,{id:n.id,companies:e.companies,categories:e.categories,statuses:e.statuses,canEditStatus:y,mutation:j.a.UPDATE_PROJECT,query:j.a.GET_USERS,onCompanyInputChange:a(j.a.GET_USERS,{account:"ENTITY"})}),preview:!0}))))))))}},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),c=a.n(n),o=a("vOnD"),r=a("nShV"),s=a("ZeZO"),i=a("feIE"),l=a("t7jn");const u=Object(o.c)(r.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),d=Object(o.c)(l.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),m=Object(o.c)(s.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(o.b)(["background:var(--default-color-accent);"])));t.a=({appearance:e,onChangeFilter:t,onSubmit:a})=>{const[o,r]=Object(n.useState)(!1);return c.a.createElement(u,null,c.a.createElement(d,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:a}),c.a.createElement(m,{type:"button",kind:"icon",onClick:()=>{r(!o),t&&t(!o)},visibleFilter:o},c.a.createElement(i.a,{icon:"filter2",stroke:o?"white":"var(--default-color-accent)"})))}},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),c=a.n(n),o=a("vOnD"),r=a("VX74"),s=a("7Cbv"),i=a("8CDE"),l=a("ZwIX"),u=a("wZgm"),d=a("auMy"),m=a("QclZ");const p=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[c,o]=Object(n.useState)(0);Object(n.useEffect)((()=>{const n=document.documentElement,r=()=>{if(!n)return;const r=n.scrollTop-c;t&&r>0&&n.scrollTop+n.clientHeight>=n.scrollHeight-a&&t(n.scrollTop,n.scrollHeight),e&&r<0&&n.scrollTop<=a&&e(n.scrollTop,n.scrollHeight),o(n.scrollTop)};return n&&window.addEventListener("scroll",r),()=>{n&&window.removeEventListener("scroll",r)}}),[e,t,a])};var b=a("X+Rt"),E=a("p9yE"),h=a("RoTl"),f=a("EYtC"),O=a("coMr"),j=a("586Q");const v=Object(o.c)(i.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(o.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:o,filters:i,options:g,research:w,scaffold:C,dashboard:S,variables:y={},limit:T=6,startOffset:_=6,initialize:I,children:k})=>{const R=S?E.a:b.a,[D,N]=Object(n.useState)(),[P,x]=Object(n.useState)(),[A,L]=Object(n.useState)(null),[q,J]=Object(n.useState)(!1),[M,X]=Object(n.useState)(!1),[B,G]=Object(n.useState)(_),[U,V]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[F,{data:H,loading:W,error:Q,refetch:Z}]=Object(r.useLazyQuery)(a),[z,{data:Y,loading:K,error:$,refetch:ee}]=Object(r.useLazyQuery)(a),te=e=>{if(V([]),e)L(e),F({variables:{...y,search:e,offset:0,limit:_}});else{const e={...y,offset:0,limit:T};L(null),ee?ee(e):z({variables:e})}G(0)};return p({callbackOnBottom:async()=>{if(!K&&!q){J(!0);const e={...y,offset:B,limit:T};A?await Z(y):ee?(await ee(e),G((e=>e+T))):await z({variables:e}),J(!1)}},offset:850}),Object(n.useEffect)((()=>{I&&z({variables:{offset:B,limit:T}})}),[I]),Object(n.useEffect)((()=>{w&&te(w)}),[w]),Object(n.useEffect)((()=>{const e=!A&&!K&&Y||A&&!W&&H;e&&V((t=>[...t,...e[Object.keys(e)[0]]]))}),[A,K,W,Y,H]),c.a.createElement(R,{title:e,scaffold:C},c.a.createElement(v,{clear:C||S},!C&&!S&&c.a.createElement(f.a,{onChangeFilter:()=>X(!M),onSubmit:te}),S&&o&&c.a.createElement(O.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>X(!M),onChangeDisplayMethod:o.onChangeDisplayMethod}),(i||g)&&c.a.createElement(h.a,{isOpen:M,filters:i.map((e=>{switch(e.type){case"DATEPICKER":return c.a.createElement(u.a,{key:Object(s.a)(),value:D,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:N,withNavigate:!0});case"SELECT":return c.a.createElement(m.a,{key:Object(s.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:P,onChange:e=>x(e)});default:return null}})),options:g}),c.a.createElement(k,{documents:U}),A&&!W&&0===U.length&&c.a.createElement(l.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(A&&Q||!A&&$)&&c.a.createElement(l.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(q||!$&&K||A&&!Q&&W)&&c.a.createElement(j.d,null,c.a.createElement(d.a,null)),!A&&!K&&!W&&!Q&&0===U.length&&c.a.createElement(l.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},e0St:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/projects",function(){return a("0RHc")}])}},[["e0St",0,2,1,3,4,5,6,7,8]]]);