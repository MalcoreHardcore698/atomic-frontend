_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"07fs":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("vOnD");const i=o.d.div.withConfig({displayName:"FadeLoad__Wrap",componentId:"sc-1rdnrub-0"})(["opacity:0;transition:opacity 100ms ease;",""],(({isVisible:e})=>e&&Object(o.c)(["opacity:1;"])));t.a=({children:e})=>{const[t,a]=Object(n.useState)(!0),o=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>a(e.isIntersecting)))}));return e.observe(o.current),()=>e.unobserve(o.current)}),[]),r.a.createElement(i,{isVisible:t,ref:o},e)}},"4yYH":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("+nv6"),i=a("EJJs"),c=r.a.createElement,u=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){return c(i.a,{text:e.name||"-"})},width:"15%"},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return c(i.a,{text:e.description||"-"})},width:"70%"},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return c(i.a,{text:c(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},width:"15%"}];t.a=u},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("vOnD"),i=a("nShV"),c=a("ZeZO"),u=a("feIE"),l=a("t7jn"),d=a("coMr");const s=Object(o.d)(i.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),m=Object(o.d)(l.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),h=Object(o.d)(c.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(o.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,defaultValue:a,onCreate:o,onChangeFilter:i,onSubmit:c})=>{const[l,E]=Object(n.useState)(!1);return r.a.createElement(s,null,r.a.createElement(m,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",defaultValue:a,onSubmit:c}),r.a.createElement(h,{type:"button",kind:"icon",onClick:()=>{E(!l),i&&i(!l)},visibleFilter:l},r.a.createElement(u.a,{icon:"filter2",stroke:l?"white":"var(--default-color-accent)"})),o&&r.a.createElement(d.a,{type:"button",onClick:o},r.a.createElement("span",null,t),r.a.createElement(u.a,{type:"button",icon:"add",stroke:"white"})))}},"HL7+":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/users",function(){return a("jNog")}])},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("20a2"),i=a("vOnD"),c=a("VX74"),u=a("RotF"),l=a.n(u),d=a("7Cbv"),s=a("8CDE"),m=a("wZgm"),h=a("auMy"),E=a("QclZ"),v=a("X+Rt"),f=a("p9yE"),p=a("RoTl"),b=a("EYtC"),g=a("coMr"),y=a("586Q"),C=a("/MKj");const S=Object(i.d)(s.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(i.c)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:i,filters:u,options:s,scaffold:_,dashboard:j,variables:O={},limit:w=6,startOffset:x=6,initialize:T,children:A})=>{const D=Object(o.useRouter)(),R=Object(C.c)((e=>e.root.search)),M=j?f.a:v.a,[U,N]=Object(n.useState)(),[k,I]=Object(n.useState)(),[H,L]=Object(n.useState)(null),[P,q]=Object(n.useState)(!1),[V,G]=Object(n.useState)(x+1),[F,J]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[X,Q]=Object(n.useState)(!1),B=Object(n.useMemo)((()=>{var e;return Number(null===(e=D.query)||void 0===e?void 0:e.page)||1}),[D]),[W,{data:Y,loading:K,refetch:Z}]=Object(c.useLazyQuery)(a),[z,{data:$,loading:ee,refetch:te}]=Object(c.useLazyQuery)(a),ae=e=>{if(J([]),e)L(e),W({variables:{...O,search:e,offset:0,limit:x*B}});else{const e={...O,offset:0,limit:w};L(null),te?te(e):z({variables:e})}G(0)};return Object(n.useEffect)((()=>{T&&z({variables:{offset:V,limit:w}})}),[T]),Object(n.useEffect)((()=>{R&&ae(R)}),[R]),Object(n.useEffect)((()=>{const e=!H&&!ee&&$||H&&!K&&Y;if(e){const t=e[Object.keys(e)[0]];t.length>0&&J((e=>[...e,...t])),0===t.length&&Q(!0)}}),[H,ee,K,$,Y,Q]),r.a.createElement(M,{title:e,scaffold:_},r.a.createElement(S,{clear:_||j},!_&&!j&&r.a.createElement(b.a,{defaultValue:R||H,onChangeFilter:()=>q(!P),onSubmit:ae}),j&&i&&r.a.createElement(g.b,{title:e,icon:i.icon,buttonCreateText:i.buttonCreateText,onCreate:i.onCreate,onChangeVisibleFilter:()=>q(!P),onChangeDisplayMethod:i.onChangeDisplayMethod}),(u||s)&&r.a.createElement(p.a,{isOpen:P,filters:u.map((e=>{switch(e.type){case"DATEPICKER":return r.a.createElement(m.a,{key:Object(d.a)(),value:U,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:N,withNavigate:!0});case"SELECT":return r.a.createElement(E.a,{key:Object(d.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:k,onChange:e=>I(e)});default:return null}})),options:s}),H?"function"===typeof A?r.a.createElement(A,{documents:F}):A:r.a.createElement(l.a,{pageStart:B||0,loadMore:async e=>{const t={...O,offset:V,limit:w};H&&Z?await Z(O):te?(await te(t),G(w*e+x+1)):await z({variables:t})},hasMore:!X,loader:r.a.createElement(y.d,{key:"loader"},r.a.createElement(h.a,null))},"function"===typeof A?r.a.createElement(A,{documents:F}):A)))}},e3uv:function(e,t,a){"use strict";var n=a("4yYH"),r=a("q1tI"),o=a.n(r),i=a("+nv6"),c=a("EJJs"),u=o.a.createElement,l=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return u(c.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return u(c.a,{text:e.body||"-"})}},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:function(e){var t;return u(c.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u0410\u0432\u0442\u043e\u0440",content:function(e){var t,a,n;return u(c.a,{img:null===(t=e.author)||void 0===t||null===(a=t.avatar)||void 0===a?void 0:a.path,text:(null===(n=e.author)||void 0===n?void 0:n.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:function(e){return u(c.a,{text:e.publishedAt||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return u(c.a,{text:u(i.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}],d=o.a.createElement,s=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return d(c.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return d(c.a,{text:e.body||"-"})}},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:function(e){var t;return d(c.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",content:function(e){var t,a,n;return d(c.a,{img:null===(t=e.company)||void 0===t||null===(a=t.avatar)||void 0===a?void 0:a.path,text:(null===(n=e.company)||void 0===n?void 0:n.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:function(e){return d(c.a,{text:d(i.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return d(c.a,{text:d(i.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}],m=o.a.createElement,h=[{header:"\u041d\u043e\u043c\u0435\u0440",content:function(e){return m(c.a,{text:e.token||"-"})}},{header:"\u0410\u0432\u0442\u043e\u0440",content:function(e){var t,a;return m(c.a,{img:null===(t=e.author)||void 0===t?void 0:t.avatar,text:(null===(a=e.author)||void 0===a?void 0:a.name)||"-"})}},{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return m(c.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",content:function(e){var t;return m(c.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",content:function(e){var t;return m(c.a,{text:(null===(t=e.messages)||void 0===t?void 0:t.length)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:function(e){return m(c.a,{text:m(i.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}],E=o.a.createElement,v=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){return E(c.a,{text:e.name||"-"})},width:"15%"},{header:"\u041f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438",content:function(e){var t;return E(c.a,{text:(null===(t=e.permissions)||void 0===t?void 0:t.length)||"-"})},width:"75%"},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return E(c.a,{text:E(i.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},width:"10%"}],f=o.a.createElement,p=function(e){switch(e){case"ADMIN":return"\u0410\u0434\u043c\u0438\u043d";case"MODERATOR":return"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440";case"OFICIAL":return"\u041e\u0444. \u043b\u0438\u0446\u043e";case"ENTITY":return"\u042e\u0440. \u043b\u0438\u0446\u043e";default:return"\u0424\u0438\u0437. \u043b\u0438\u0446\u043e"}},b=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return f(c.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.name||"-"})}},{header:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",content:function(e){return f(c.a,{text:e.account&&p(e.account)||"-"})}},{header:"\u041e \u0441\u0435\u0431\u0435",content:function(e){return f(c.a,{text:e.about||"-"})}},{header:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",content:function(e){var t;return f(c.a,{text:(null===(t=e.projects)||void 0===t?void 0:t.length)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:function(e){return f(c.a,{text:f(i.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}],g=n.a,y=l,C=s,S=h,_=v,j=b;t.a={category:g,article:y,project:C,ticket:S,role:_,user:j}},jNog:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return b}));var n=a("q1tI"),r=a.n(n),o=a("/MKj"),i=a("7BXr"),c=a("EJJs"),u=a("e3uv"),l=a("ApjV"),d=a("QX5T"),s=a("TsNn"),m=a("VP1n"),h=a("07fs"),E=a("rP4V"),v=a("j8/+"),f=a("+EEm"),p=a("u2Cb");var b=!0;t.default=({store:e})=>{const t=Object(l.b)(),{user:a,documents:b}=Object(o.c)((e=>({user:e.user,documents:e.documents}))),g=Object(o.b)(),[y,C]=Object(n.useState)("grid"),S=Object(n.useMemo)((()=>a&&"ADMIN"===a.role.name),[a]),_=Object(n.useMemo)((()=>e.roles),[e]);return Object(n.useEffect)((()=>{g(Object(v.a)(null))}),[]),r.a.createElement(d.a,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438"},{type:"SELECT",placeholder:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",options:[]}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438",value:"createdAt"}],handle:{icon:"user2",buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onCreate:t(E.d,{roles:_,canEditRole:S,mutation:p.a.CREATE_USER}),onChangeDisplayMethod:e=>C(e.value)},limit:12,startOffset:12,bottomScrollOffset:0,query:p.a.GET_USERS,store:{documents:b||e.users},dashboard:!0},(({documents:e})=>"list"===y?r.a.createElement(c.b,{data:e,template:u.a.user,onChecked:()=>{},onClick:e=>{const n=e.name===a.name;return t(E.i,{id:e.email,auth:null===a||void 0===a?void 0:a.email,owned:n,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}})()},onDelete:e=>t(E.e,{id:e.email,user:e,auth:null===a||void 0===a?void 0:a.email,mutation:p.a.DELETE_USER})(),onEdit:e=>t(E.f,{user:e.email,auth:null===a||void 0===a?void 0:a.email,roles:_,canEditRole:S,mutations:{update:p.a.UPDATE_USER,del:p.a.DELETE_USER,changePassword:p.a.UPDATE_USER}})(),style:{overflowX:"auto",width:"calc(100vw - 290px)"}}):r.a.createElement(i.a,null,e.map((e=>{const n=e.name===a.name;return r.a.createElement(h.a,{key:e.email},r.a.createElement(m.a,null,r.a.createElement(s.a,{user:e,onChecked:()=>{},onChat:a.email&&t(f.a,{id:e.email,auth:null===a||void 0===a?void 0:a.email,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}}),onLink:t(E.i,{id:e.email,auth:null===a||void 0===a?void 0:a.email,owned:n,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}}),onAboutMore:t(E.a,{user:e}),onDelete:t(E.e,{id:e.email,user:e,auth:null===a||void 0===a?void 0:a.email,mutation:p.a.DELETE_USER}),onEdit:t(E.f,{user:e.email,auth:null===a||void 0===a?void 0:a.email,roles:_,canEditRole:S,mutations:{update:p.a.UPDATE_USER,del:p.a.DELETE_USER,changePassword:p.a.UPDATE_USER}}),preview:!0})))})))))}}},[["HL7+",0,2,1,3,4,5,6,7,8]]]);