_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"17Xh":function(e,a,t){"use strict";t.r(a),t.d(a,"__N_SSP",(function(){return B}));var n=t("q1tI"),r=t.n(n),l=t("/MKj"),o=t("7BXr"),c=t("ZwIX"),i=t("wZgm"),s=t("QclZ"),d=t("EJJs"),u=t("e3uv"),p=t("ApjV"),b=t("p9yE"),m=t("coMr"),g=t("RoTl"),h=t("UwjQ"),f=t("nShV"),v=t("8CDE"),E=t("7sPp"),w=t("Gliw"),O=t("ZeZO"),j=t("qoM+"),y=t("ObTy");var k=({role:e,permissions:a,mutation:t,appearance:l,className:o,onSubmit:i})=>{var d;const[u,p]=Object(n.useState)(!1),[b,m]=Object(n.useState)((null===e||void 0===e||null===(d=e.permissions)||void 0===d?void 0:d.map((e=>({value:e,label:Object(y.d)(e)}))))||null),[g,h]=Object(n.useState)(!0);return r.a.createElement(j.b,{className:o,appearance:l,mutation:t,onSubmit:(e,a)=>{(null===b||void 0===b?void 0:b.length)>0?i({...e,permissions:b},a):p(!0)}},(({register:t,loading:n,errors:l,getValues:o})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{tag:"h4"},"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435"),l&&l.name&&r.a.createElement(c.a,{style:{width:"100%"},appearance:"error"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"),r.a.createElement(w.a,{type:"text",name:"name",ref:t({required:!0,pattern:/[A-Za-z]/}),onChange:a=>{a.target.value===(null===e||void 0===e?void 0:e.name)?h(!0):h(!1)},defaultValue:(null===e||void 0===e?void 0:e.name)||o("name"),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",appearance:"ghost",disabled:n}),u&&r.a.createElement(c.a,{style:{width:"100%"},appearance:"error"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u044d\u043b\u0435\u043c\u0435\u043d\u0442"),r.a.createElement(s.a,{name:"permissions",appearance:"ghost",defaultValue:b,onChange:a=>{var t;m(a),p(!1),a.value.length===(null===e||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.length)?h(!0):h(!1)},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438",options:Object(y.a)(a).map((e=>({...e,label:Object(y.d)(e.label)}))),isLoading:n,isClearable:!0,isMulti:!0})),r.a.createElement(f.b,null,r.a.createElement(O.a,{style:{flexGrow:1},type:"submit",disabled:g||n},!e&&"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",e&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))},C=t("xAqQ"),x=t("vOnD"),_=t("7Cbv"),N=t("aBfq"),S=t("RKiZ"),A=t("JyfY");const R=Object(x.c)(v.a).withConfig({displayName:"RoleView__Wrap",componentId:"sc-3s69fr-0"})(["grid-gap:var(--default-gap);height:max-content;"," "," ",""],(({appearance:e})=>"default"===e&&Object(x.b)(["padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);"])),(({appearance:e})=>"ghost"===e&&Object(x.b)(["padding:0;border:none;background:none;border-radius:0;box-shadow:none;"])),(({appearance:e})=>"clear"===e&&Object(x.b)(["padding:0;border:none;background:none;border-radius:0;box-shadow:none;"]))),T=Object(x.c)(f.b).withConfig({displayName:"RoleView__Permissions",componentId:"sc-3s69fr-1"})(["flex-wrap:wrap;grid-gap:10px;"]),I=({role:e,appearance:a,className:t,style:n})=>r.a.createElement(R,{className:t,style:n,appearance:a},r.a.createElement(v.a,{style:{gridGap:0}},r.a.createElement(N.a,{date:e.createdAt}),r.a.createElement(E.a,{tag:"h4"},Object(y.e)(e.name))),r.a.createElement(S.a,{clear:!0}),e&&e.permissions.length>0?r.a.createElement(T,null,e.permissions.map((e=>r.a.createElement(A.a,{key:Object(_.a)(),color:"ghost",appearance:"outlined"},Object(y.d)(e))))):r.a.createElement(c.a,null,"\u041f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"));I.defaultProps={appearance:"default"};var P=I,D=t("j8/+"),V=t("Ztxg"),z=t("9Xo6");function L(e,a){const{role:t}=a;e(Object(V.a)({icon:"lock",title:"\u0420\u043e\u043b\u044c",content:r.a.createElement(P,{role:t,appearance:"clear"})}))}function Z(e,a){const{permissions:t,mutation:n}=a;e(Object(V.a)({icon:"lock",title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",content:r.a.createElement(k,{mutation:n,permissions:t,appearance:"clear",onSubmit:async(a,t)=>{try{const n=await t({variables:{input:{name:a.name,permissions:a.permissions.map((e=>e.value))}}});e(Object(D.a)(n.data.createRole)),e(Object(V.a)(null)),e(Object(z.c)({type:"success",message:"\u0420\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}))}catch(n){e(Object(V.a)(null)),e(Object(z.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c"}))}}})}))}function X(e,a){const{role:t,permissions:n,mutation:l}=a;e(Object(V.a)({icon:"lock",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",content:r.a.createElement(k,{role:t,mutation:l,permissions:n,appearance:"clear",onSubmit:async(a,n)=>{try{const r=await n({variables:{id:t.id,input:{name:a.name,permissions:a.permissions.map((e=>e.value))}}});e(Object(D.a)(r.data.updateRole)),e(Object(V.a)(null)),e(Object(z.c)({type:"success",message:"\u0420\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}))}catch(r){e(Object(V.a)(null)),e(Object(z.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u043e\u043b\u044c"}))}}})}))}function q(e,a){const{role:t,mutation:n}=a;e(Object(V.a)({icon:"delete",color:"red",title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",content:r.a.createElement(C.a,{mutation:n,appearance:"clear",onCancel:()=>e(Object(V.a)(null)),onSubmit:async(a,n)=>{try{const a=await n({variables:{id:t.id}});e(Object(D.a)(a.data.deleteRole)),e(Object(z.c)({type:"success",message:"\u0420\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"}))}catch(r){e(Object(z.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u043e\u043b\u044c"}))}finally{e(Object(V.a)(null))}}},r.a.createElement(P,{role:t,appearance:"clear"}))}))}var M=t("wha1"),U=t("u2Cb");const Q="\u0420\u043e\u043b\u0438";var B=!0;a.default=({store:e,permissions:a})=>{const t=Object(p.a)(),f=Object(l.c)((e=>e.documents)),v=Object(l.b)(),[E,w]=Object(n.useState)(),[O,j]=Object(n.useState)(),[y,k]=Object(n.useState)(!1),[C,x]=Object(n.useState)("grid"),_=Object(n.useMemo)((()=>f||e.roles),[f,e]);return Object(n.useEffect)((()=>{v(Object(D.a)(null))}),[]),r.a.createElement(b.a,{title:Q},r.a.createElement(m.a,{icon:"lock",title:Q,buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c",onCreate:t(Z,{permissions:a,mutation:U.a.CREATE_ROLE}),onChangeVisibleFilter:()=>k(!y),onChangeDisplayMethod:e=>x(e.value)}),r.a.createElement(g.a,{isOpen:y,filters:[r.a.createElement(i.a,{key:0,value:E,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:w,withNavigate:!0}),r.a.createElement(s.a,{key:1,options:M.a,placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:O,onChange:e=>j(e)})],options:"list"===C?[]:u.a.role.map(((e,a)=>({label:e.header,value:a})))}),0===_.length&&r.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},"\u0420\u043e\u043b\u0435\u0439 \u043d\u0435\u0442"),"list"===C&&r.a.createElement(d.b,{data:_,template:u.a.role,onChecked:()=>{},onClick:e=>t(L,{id:e.id,role:e})(),onDelete:e=>t(q,{id:e.id,role:e,mutation:U.a.DELETE_ROLE})(),onEdit:e=>t(X,{id:e.id,role:e,permissions:a,mutation:U.a.UPDATE_ROLE})(),style:{overflowX:"auto",width:"calc(100vw - 290px)"}}),"grid"===C&&r.a.createElement(o.a,null,_.map((e=>r.a.createElement(h.a,{key:e.id,role:e,onChecked:()=>{},onLink:t(L,{id:e.id,role:e}),onDelete:t(q,{id:e.id,role:e,mutation:U.a.DELETE_ROLE}),onEdit:t(X,{id:e.id,role:e,permissions:a,mutation:U.a.UPDATE_ROLE})})))))}},"98EU":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/roles",function(){return t("17Xh")}])},UwjQ:function(e,a,t){"use strict";var n=t("q1tI"),r=t.n(n),l=t("vOnD"),o=t("nShV"),c=t("8CDE"),i=t("7sPp"),s=t("V0nP"),d=t("aBfq"),u=t("h4VS"),p=t("QUga"),b=t("ZeZO"),m=t("feIE"),g=r.a.createElement;function h(){var e=Object(u.a)(["\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n"]);return h=function(){return e},e}var f=Object(l.c)(o.b)(h()),v=function(e){var a=e.text,t=e.withText,n=e.withButton,r=e.onClick;return g(f,{onClick:r},t&&g(p.b,{style:{color:"var(--default-color-accent)"}},a),n&&g(b.a,{kind:"icon"},g(m.a,{icon:"arrowRight",stroke:"white"})))};v.defaultProps={text:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",withText:!0};var E=v,w=t("79b8"),O=t("VWQm");const j=Object(l.c)(o.b).withConfig({displayName:"ArticleCard__Wrap",componentId:"sc-17tznl7-0"})(["display:grid;grid-template-columns:1fr 2fr;padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);"," "," "," "," @media only screen and (max-width:480px){display:flex;flex-direction:column;grid-gap:var(--default-gap);}"],(({layout:e})=>"column"===e&&Object(l.b)(["display:flex;flex-wrap:wrap;grid-gap:var(--default-gap);"])),(({appearance:e})=>"default"===e&&Object(l.b)(["padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);"])),(({appearance:e})=>"ghost"===e&&Object(l.b)(["padding:0;border:none;background:none;border-radius:0;box-shadow:none;"])),(({appearance:e})=>"clear"===e&&Object(l.b)(["padding:0;border:none;background:none;border-radius:0;box-shadow:none;"]))),y=Object(l.c)(s.a).withConfig({displayName:"ArticleCard__Poster",componentId:"sc-17tznl7-1"})(["object-fit:cover;width:100%;height:100%;border-radius:var(--surface-border-radius);",""],(({layout:e})=>"column"===e&&Object(l.b)(["height:128px;"]))),k=Object(l.c)(o.b).withConfig({displayName:"ArticleCard__Header",componentId:"sc-17tznl7-2"})(["justify-content:space-between;align-items:center;"]),C=Object(l.c)(o.b).withConfig({displayName:"ArticleCard__Actions",componentId:"sc-17tznl7-3"})(["grid-gap:5px;"]),x=Object(l.c)(i.a).withConfig({displayName:"ArticleCard__Name",componentId:"sc-17tznl7-4"})(["transition:opacity 150ms ease;",""],(({onClick:e})=>e&&Object(l.b)(["cursor:pointer;&:hover{opacity:0.45;}"]))),_=Object(l.c)((({content:e,className:a})=>r.a.createElement("div",{className:a,dangerouslySetInnerHTML:{__html:e}}))).withConfig({displayName:"ArticleCard__ShortText",componentId:"sc-17tznl7-5"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;"]),N=({layout:e,article:a,preview:t,appearance:n,onLink:l,onChecked:o,onEdit:i,onDelete:s})=>{var u;return r.a.createElement(j,{appearance:n,layout:e},a.preview&&r.a.createElement(y,{src:a.preview.path,layout:e}),r.a.createElement(c.a,{style:{gridGap:5,width:"100%",gridColumn:!a.preview&&"1 / 3"}},r.a.createElement(k,null,r.a.createElement(d.a,{date:a.createdAt,category:null===(u=a.category)||void 0===u?void 0:u.name,short:!0}),(o||i||s)&&r.a.createElement(C,null,s&&r.a.createElement(O.b,{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"},r.a.createElement(b.a,{kind:"icon",size:"xs",appearance:"red",onClick:s},r.a.createElement(m.a,{icon:"delete",size:"xs",stroke:"white"}))),i&&r.a.createElement(O.b,{text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"},r.a.createElement(b.a,{kind:"icon",size:"xs",onClick:i},r.a.createElement(m.a,{icon:"edit",size:"xs",stroke:"white"}))),o&&r.a.createElement(O.b,{text:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e",self:!0},r.a.createElement(w.a,null)))),r.a.createElement(x,{tag:"h4",onClick:l},a.title),a.body&&r.a.createElement(_,{content:a.body}),!t&&r.a.createElement(E,{onClick:l,withButton:!0})))};N.defaultProps={appearance:"default"};a.a=N},wha1:function(e,a,t){"use strict";t.d(a,"f",(function(){return n})),t.d(a,"e",(function(){return r})),t.d(a,"b",(function(){return l})),t.d(a,"d",(function(){return o})),t.d(a,"a",(function(){return c})),t.d(a,"c",(function(){return i}));const n=[{label:"\u041e \u0440\u0435\u0441\u0443\u0440\u0441\u0435",path:"/about"},{label:"\u041b\u044e\u0434\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430",path:"/creators"},{label:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",path:"/support"},{label:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a",path:"/guide"}],r=["/images/socials/gmail.png","/images/socials/vk.png","/images/socials/facebook.png"],l=[{label:"\u0433. \u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433, \u0443\u043b. \u0414\u0435\u043a\u0430\u0431\u0440\u0438\u0441\u0442\u043e\u0432 20\u0430, \u043e\u0444. 302",icon:"location"},{label:"+7 (499) 222-54-86",icon:"call"},{label:"info@mail.ru",icon:"message"}],o=[{label:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u044b",value:"/projects"},{label:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",value:"/liked"},{label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",value:"/feed"}],c=[{value:0,label:"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},{value:1,label:"\u0420\u0435\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"},{value:2,label:"\u041a\u0430\u043f\u0438\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u043c\u043e\u043d\u0442"},{value:3,label:"\u0426\u0438\u0444\u0440\u043e\u0432\u0430\u044f \u0441\u0440\u0435\u0434\u0430"}],i=[{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",value:"rating"},{label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438",value:"followers"},{label:"\u0414\u0430\u0442\u0430",value:"date"}]}},[["98EU",0,2,1,3,4,5,6,8]]]);