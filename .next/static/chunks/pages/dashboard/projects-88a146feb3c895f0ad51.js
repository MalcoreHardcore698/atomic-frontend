_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"0RHc":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),l=a.n(n),r=a("/MKj"),o=a("+nv6"),i=a("EJJs");var c=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:e=>{var t;return l.a.createElement(i.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:e=>l.a.createElement(i.a,{text:e.body||"-"})},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:e=>{var t;return l.a.createElement(i.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",content:e=>{var t,a,n;return l.a.createElement(i.a,{img:null===(t=e.company)||void 0===t||null===(a=t.avatar)||void 0===a?void 0:a.path,text:(null===(n=e.company)||void 0===n?void 0:n.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:e=>l.a.createElement(i.a,{text:l.a.createElement(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:e=>l.a.createElement(i.a,{text:l.a.createElement(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"}),hidden:!0}],u=a("WpSk"),d=a("OqOz"),s=a("j8/+"),E=a("QfFT"),b=a("6bB6"),v=a("v0uu"),y=a("u2Cb");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.default=()=>{const{onCreate:e,onEdit:t,...a}=Object(E.a)({isManage:!0}),o=Object(r.b)();return Object(n.useEffect)((()=>{o(Object(s.a)(null))}),[]),l.a.createElement(d.b,{title:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",icon:"work",template:c,entityType:"project",getType:"getProjects",filterConfig:b.c,limit:v.c,emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442",getQuery:y.a.GET_PROJECTS,buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",deleteEntityMultiText:"\u043f\u0440\u043e\u0435\u043a\u0442\u044b",deleteEntitySingleText:"\u043f\u0440\u043e\u0435\u043a\u0442",startOffset:v.b,deleteQuery:y.a.DELETE_PROJECT,render:e=>l.a.createElement(u.a,p({},a,{project:e,withSocials:!1,preview:!0})),onCreate:e,onEdit:t})}},"6bB6":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c}));var n={};a.r(n),a.d(n,"sort",(function(){return s})),a.d(n,"filter",(function(){return E})),a.d(n,"default",(function(){return b}));var l={};a.r(l),a.d(l,"sort",(function(){return v})),a.d(l,"filter",(function(){return y})),a.d(l,"default",(function(){return p}));var r={};a.r(r),a.d(r,"sort",(function(){return T})),a.d(r,"filter",(function(){return m})),a.d(r,"default",(function(){return f}));var o={};a.r(o),a.d(o,"sort",(function(){return C})),a.d(o,"filter",(function(){return S})),a.d(o,"default",(function(){return O}));var i={};a.r(i),a.d(i,"sort",(function(){return A})),a.d(i,"filter",(function(){return R})),a.d(i,"default",(function(){return _}));var c={};a.r(c),a.d(c,"sort",(function(){return g})),a.d(c,"filter",(function(){return h})),a.d(c,"default",(function(){return j}));var u=a("NWnW"),d=a("u2Cb");const s=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}],E=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u041f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0438",name:"permissions",type:"MULTISELECT",selectLabelDecorator:u.f,query:d.a.GET_PERMISSIONS,queryType:"getPermissions"}];var b={sort:s,filter:E};const v=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"account",label:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"},{value:"company",label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}],y=[{label:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",name:"account",type:"SELECT",selectRestrictions:["ADMIN"],selectLabelDecorator:u.g,query:d.a.GET_ACCOUNT_TYPES,queryType:"getAccountTypes"},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",name:"company",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:d.a.GET_USERS,queryType:"getUsers",variables:{account:["ENTITY"],role:"USER"}}];var p={sort:v,filter:y};const T=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"category",label:"\u0420\u0430\u0437\u0434\u0435\u043b"},{value:"author",label:"\u0410\u0432\u0442\u043e\u0440"},{value:"counsellor",label:"\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u043d\u0442"},{value:"status",label:"\u0421\u0442\u0430\u0442\u0443\u0441"}],m=[{label:"\u0414\u0430\u0442\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",name:"createdAt",type:"DATEPICKER"},{label:"\u0420\u0430\u0437\u0434\u0435\u043b",name:"category",type:"SELECT",selectValueField:"id",selectLabelField:"name",query:d.a.GET_CATEGORIES,queryType:"getCategories",variables:{type:"TICKET"}},{label:"\u0410\u0432\u0442\u043e\u0440",name:"author",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:d.a.GET_USERS,queryType:"getUsers",variables:{account:["INDIVIDUAL","ENTITY","OFICIAL"],role:"USER"}},{label:"\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u043d\u0442",name:"counsellor",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:d.a.GET_USERS,queryType:"getUsers",variables:{role:"MODERATOR"}},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",name:"status",type:"SELECT",selectLabelDecorator:u.i,query:d.a.GET_STATUS_TICKET_TYPES,queryType:"getStatusTicketTypes"}];var f={sort:T,filter:m};const C=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"category",label:"\u0420\u0430\u0437\u0434\u0435\u043b"}],S=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u0420\u0430\u0437\u0434\u0435\u043b",name:"category",type:"SELECT",selectValueField:"id",selectLabelField:"name",query:d.a.GET_CATEGORIES,queryType:"getCategories",variables:{type:"DIVISION"}}];var O={sort:C,filter:S};const A=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{value:"category",label:"\u0420\u0430\u0437\u0434\u0435\u043b"},{value:"company",label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}],R=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u0420\u0430\u0437\u0434\u0435\u043b",name:"category",type:"SELECT",selectValueField:"id",selectLabelField:"name",query:d.a.GET_CATEGORIES,queryType:"getCategories",variables:{type:"DIVISION"}},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",name:"company",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:d.a.GET_USERS,queryType:"getUsers",variables:{account:["ENTITY"],role:"USER"}}];var _={sort:A,filter:R};const g=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{value:"type",label:"\u0422\u0438\u043f"}],h=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u0422\u0438\u043f",name:"type",type:"SELECT",selectLabelDecorator:u.e,query:d.a.GET_CATEGORY_TYPES,queryType:"getCategoryTypes"}];var j={sort:g,filter:h}},QfFT:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a("q1tI"),l=a("/MKj"),r=a("IxyI"),o=a("rP4V"),i=(a("+EEm"),a("8ihE")),c=a("8UhZ"),u=a("ApjV"),d=a("lphG"),s=a("u2Cb");const E=({isManage:e}={})=>{const t=Object(u.b)(),a=Object(d.a)(),{user:E,folder:b}=Object(l.c)((e=>({user:e.user,folder:e.root.folder}))),v=Object(l.b)(),y=Object(n.useMemo)((()=>{var e;return E&&"ADMIN"===(null===E||void 0===E||null===(e=E.role)||void 0===e?void 0:e.name)}),[E]),p=Object(n.useCallback)((e=>{var t;return!(null===E||void 0===E||null===(t=E.folders)||void 0===t||!t.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id))))))}),[E]),T=Object(n.useCallback)((e=>!!(e.rating||[]).find((e=>(null===e||void 0===e?void 0:e.email)===(null===E||void 0===E?void 0:E.email)))),[E]),m=Object(n.useCallback)((e=>t(r.a,{id:e.id,folders:null===E||void 0===E?void 0:E.folders,mutations:{addProject:s.a.ADD_USER_PROJECT,createFolder:s.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};v(Object(i.d)(a))}})()),[E,t,v]),f=Object(n.useCallback)((e=>{null!==E&&void 0!==E&&E.email&&a(s.a.LIKE_PROJECT,{id:e.id},(e=>v(Object(i.f)(e.data.likeProject))))}),[E,a,v]),C=Object(n.useCallback)((e=>{var n;const l=null===E||void 0===E||null===(n=E.projects)||void 0===n?void 0:n.find((t=>t.id===e.id));t(r.e,Object(c.b)(e.id,E,l,v,a,t,(t=>{const a={...t,projects:[...t.projects,e.id]};v(Object(i.d)(a))})))()}),[E,v,a,t]),S=Object(n.useCallback)((e=>t(r.f,{id:e.id,folder:b,mutation:s.a.REMOVE_USER_PROJECT})()),[E,t]),O=Object(n.useCallback)((e=>{t(o.a,{user:e})()}),[t]),A=Object(n.useCallback)((e=>{var a;t(o.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:null===E||void 0===E?void 0:E.email,recipient:e.author,query:s.a.GET_USER_CHATS,mutation:s.a.SEND_MESSAGE})()}),[E,t]),R=Object(n.useCallback)(((e,a)=>{t(r.g,{screenshots:[e.preview,...e.screenshots],key:a})()}),[t]);return{user:E,hasAdded:p,hasLiked:T,onAdd:m,onLike:f,onLink:C,onRemove:S,onAboutMore:O,onCompanyLink:A,onScreenshotClick:R,onEdit:e&&((e,n)=>t(r.d,{id:e.id,canEditStatus:y,mutation:s.a.UPDATE_PROJECT,query:s.a.GET_USERS,onCompanyInputChange:a(s.a.GET_USERS,{account:"ENTITY"}),onAfter:n})()),onCreate:e&&(e=>t(r.b,{canEditStatus:y,mutation:s.a.CREATE_PROJECT,query:s.a.GET_USERS,onAfter:e})())}}},WpSk:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("1zqG");const o=({user:e,style:t,layout:a,preview:n,project:o,checked:i,canRemove:c,appearance:u,withSocials:d,className:s,hasAdded:E,hasLiked:b,onAdd:v,onLike:y,onLink:p,onRemove:T,onAboutMore:m,onCompanyLink:f,onScreenshotClick:C,onChecked:S,onDelete:O,onEdit:A})=>l.a.createElement(r.b,{style:t,layout:a,project:o,preview:n,checked:i,className:s,canRemove:c,appearance:u,withSocials:d,added:E&&E(o),liked:b&&b(o),onLink:()=>p&&p(o),onAdd:(null===e||void 0===e?void 0:e.email)&&(()=>v&&v(o)),onAboutMore:()=>m&&m(o),onLike:(null===e||void 0===e?void 0:e.email)&&(()=>y&&y(o)),onCompanyLink:()=>f&&f(o),onRemove:(null===e||void 0===e?void 0:e.email)&&(()=>T&&T(o)),onScreenshotClick:(e,t)=>C&&C(o,t),onChecked:S,onDelete:O,onEdit:A});o.defaultProps={withSocials:!0},t.a=o},e0St:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/projects",function(){return a("0RHc")}])},v0uu:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return o}));const n=0,l=4,r=12,o=12}},[["e0St",0,2,6,7,1,3,4,5,8]]]);