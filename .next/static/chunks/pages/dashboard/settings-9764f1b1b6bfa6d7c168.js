_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"+fJr":function(e,a,t){"use strict";t.r(a);var l=t("q1tI"),n=t.n(l),o=t("vOnD"),i=t("/MKj"),r=t("VX74"),d=t("DTT8"),c=t("p9yE"),s=t("NKCw"),u=t("7Cbv"),m=t("nShV"),p=t("7sPp"),g=t("QUga"),f=t("ZeZO"),v=t("kJLk"),b=t("RKiZ"),h=t("QclZ"),E=t("8CDE"),y=t("Gliw"),x=t("qoM+"),w=t("u2Cb");const _=128,j=30,S=1440,O=990,C=Object(o.d)(v.b).withConfig({displayName:"FormSettings__Logotype",componentId:"sc-13smq0j-0"})(["width:320px;height:128px;min-height:128px;img{object-fit:contain;}"]),T=Object(o.d)(v.b).withConfig({displayName:"FormSettings__Background",componentId:"sc-13smq0j-1"})(["width:100%;height:100%;max-width:","px;max-height:","px;"],S,O),N=(Object(o.d)(E.a).withConfig({displayName:"FormSettings__Wrap",componentId:"sc-13smq0j-2"})([""]),Object(o.d)(m.b).withConfig({displayName:"FormSettings__TabLabelList",componentId:"sc-13smq0j-3"})(["position:relative;display:flex;flex-flow:row nowrap;background:linear-gradient(to top,rgba(0,0,0,15%) 1px,transparent 1px) 0 100% no-repeat;"])),k=Object(o.d)(m.b).withConfig({displayName:"FormSettings__TabContentList",componentId:"sc-13smq0j-4"})(["display:flex;flex-flow:row nowrap;"]),D=Object(o.d)(g.b).withConfig({displayName:"FormSettings__TabLabel",componentId:"sc-13smq0j-5"})(["position:relative;display:inline-flex;margin-right:40px;padding-bottom:12px;font-family:var(--default-font-family);font-weight:500;font-size:0.875rem;line-height:1;color:rgba(0,0,0,75%);border-bottom:2px solid transparent;cursor:pointer;transition:color 0.2s;&:last-child{margin-right:0;}&:hover{color:black;}",""],(({active:e})=>e&&Object(o.c)(["color:var(--default-color-accent);border-color:var(--default-color-accent);&:hover{color:var(--default-color-accent);}"]))),I=Object(o.d)(E.a).withConfig({displayName:"FormSettings__TabContent",componentId:"sc-13smq0j-6"})(["display:none;flex-grow:1;",""],(({active:e})=>e&&Object(o.c)(["display:flex;"]))),V=(e,a,t,l,o,i,r)=>n.a.createElement(s.a,{name:e,control:i,defaultValue:r(e)||(t?{value:t.id,label:t.title}:null),render:({value:e,onChange:t})=>n.a.createElement(h.a,{appearance:"ghost",defaultValue:e,placeholder:a,options:((null===l||void 0===l?void 0:l.getProjects)||[]).map((e=>({value:e.id,label:e.title}))),onChange:t,isLoading:o,isSearchable:!0,cacheOptions:!0})});var F=({settings:e,mutation:a,appearance:t,className:o,onSubmit:i})=>{const[d,c]=Object(l.useState)(0),g=["\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435","Scaffold","\u041c\u0435\u0442\u0430"],{data:v,loading:h}=Object(r.useQuery)(w.a.GET_META_SETTINGS_PROJECTS);return n.a.createElement(x.b,{className:o,appearance:t,mutation:a,onSubmit:i},(({register:a,loading:t,control:l,getValues:o})=>n.a.createElement(n.a.Fragment,null,n.a.createElement(N,null,g.map(((e,a)=>n.a.createElement(D,{key:Object(u.a)(),active:d===a,onClick:()=>c(a)},e)))),n.a.createElement(k,null,n.a.createElement(I,{active:0===d},((e,a,t,l)=>{var o;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{tag:"h4"},"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"),n.a.createElement(s.a,{name:"[general][logotype]",control:t,defaultValue:l("[general][logotype]")||(null===e||void 0===e||null===(o=e.general)||void 0===o?void 0:o.logotype)||null,render:({value:e,onChange:a})=>n.a.createElement(C,{accept:"image/*",defaultValue:e,onChange:a,placeholder:`\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${_}x${j}px`,tooltip:`\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435: ${_}x${j}px. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: jpeg, jpg, png. \u041c\u0430\u043a\u0441. \u0440\u0430\u0437\u043c\u0435\u0440: 1 MB`})}))})(e,0,l,o)),n.a.createElement(I,{active:1===d},((e,a,t,l,o,i)=>{var r,d,c,u,m;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{tag:"h4"},"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),n.a.createElement(y.a,{type:"text",name:"[scaffold][title]",ref:a(),defaultValue:i("title")||(null===e||void 0===e||null===(r=e.scaffold)||void 0===r?void 0:r.title)||"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439 \u0448\u043a\u043e\u043b\u0443 \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0441 \u043d\u0430\u043c\u0438",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",appearance:"ghost",disabled:l}),n.a.createElement(p.a,{tag:"h4"},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),V("[scaffold][primary]","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",null===e||void 0===e||null===(d=e.scaffold)||void 0===d?void 0:d.primary,t,l,o,i),V("[scaffold][residues][0]","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",null===e||void 0===e||null===(c=e.scaffold)||void 0===c?void 0:c.residues[0],t,l,o,i),V("[scaffold][residues][1]","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0440\u0435\u0442\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442",null===e||void 0===e||null===(u=e.scaffold)||void 0===u?void 0:u.residues[1],t,l,o,i),n.a.createElement(p.a,{tag:"h4"},"\u0424\u043e\u043d"),n.a.createElement(s.a,{name:"[scaffold][background]",control:o,defaultValue:i("[scaffold][background]")||(null===e||void 0===e||null===(m=e.scaffold)||void 0===m?void 0:m.background)||null,render:({value:e,onChange:a})=>n.a.createElement(T,{accept:"image/*",defaultValue:e,onChange:a,placeholder:`\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c ${S}x${O}px`,tooltip:`\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435: ${S}x${O}px. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: jpeg, jpg, png. \u041c\u0430\u043a\u0441. \u0440\u0430\u0437\u043c\u0435\u0440: 15 MB`})}))})(e,a,v,t||h,l,o)),n.a.createElement(I,{active:2===d},((e,a,t,l,o)=>{var i,r;return n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,{tag:"h4"},"\u041c\u0435\u0442\u0430 \u0442\u0435\u0433\u0438"),n.a.createElement(y.a,{type:"text",name:"[meta][title]",ref:a(),defaultValue:o("[meta][title]")||(null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.title)||"Atomic",placeholder:"\u041c\u0435\u0442\u0430-\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",appearance:"ghost",disabled:t}),n.a.createElement(y.a,{type:"text",name:"[meta][description]",ref:a(),defaultValue:o("[meta][description]")||(null===e||void 0===e||null===(r=e.meta)||void 0===r?void 0:r.description),placeholder:"\u041c\u0435\u0442\u0430-\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",appearance:"ghost",disabled:t}))})(e,a,t,0,o))),n.a.createElement(b.a,{clear:!0}),n.a.createElement(m.b,null,n.a.createElement(f.a,{style:{flexGrow:1},type:"submit",disabled:t},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))},q=t("2qQv"),A=t("9Xo6"),M=t("Sza6");const R="\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",$=o.d.div.withConfig({displayName:"settings__Container",componentId:"mgp0x9-0"})(["width:100%;max-width:745px;@media only screen and (max-width:768px){max-width:100%;}"]);a.default=()=>{const{data:e,loading:a,error:t}=Object(r.useQuery)(w.a.GET_META_DASHBOARD_SETTINGS),[o,s]=Object(l.useState)(null),u=Object(i.b)();return Object(l.useEffect)((()=>{!a&&e&&s(e.getDashboardSettings)}),[e,a]),n.a.createElement(c.a,{title:R},n.a.createElement(d.d,{icon:"setting",text:R}),n.a.createElement($,null,n.a.createElement(q.a,{data:null===e||void 0===e?void 0:e.getDashboardSettings,loading:a,error:t,errorMessage:"\u0423\u043f\u0441! \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",emptyMessage:"\u041a\u0430\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0435 \u0431\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b"},n.a.createElement(F,{settings:o,mutation:w.a.UPDATE_META_DASHBOARD_SETTINGS,onSubmit:async(e,a)=>{try{var t,l,n,o,i,r,d,c,m,p,g,f,v,b,h;const E=await a({variables:{input:{general:{logotype:null===(t=e.general)||void 0===t||null===(l=t.logotype)||void 0===l?void 0:l.file,logotypeSize:null===(n=e.general)||void 0===n||null===(o=n.logotype)||void 0===o?void 0:o.size},scaffold:{title:null===(i=e.scaffold)||void 0===i?void 0:i.title,primary:null===(r=e.scaffold)||void 0===r||null===(d=r.primary)||void 0===d?void 0:d.value,residues:null===(c=e.scaffold)||void 0===c||null===(m=c.residues)||void 0===m?void 0:m.map((e=>e.value)),background:null===(p=e.scaffold)||void 0===p||null===(g=p.background)||void 0===g?void 0:g.file,backgroundSize:null===(f=e.scaffold)||void 0===f||null===(v=f.background)||void 0===v?void 0:v.size},meta:{title:null===(b=e.meta)||void 0===b?void 0:b.title,description:null===(h=e.meta)||void 0===h?void 0:h.description}}}});s(E.data.updateDashboardSettings),u(Object(M.s)(E.data.updateDashboardSettings)),u(Object(A.c)({type:"success",message:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b"}))}catch(E){u(Object(A.c)({type:"error",message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}))}}}))))}},RaRx:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/settings",function(){return t("+fJr")}])}},[["RaRx",0,2,6,7,1,3,4,5,8]]]);