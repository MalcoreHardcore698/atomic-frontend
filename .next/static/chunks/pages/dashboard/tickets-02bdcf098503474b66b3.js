_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{"07fs":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("vOnD");const c=o.d.div.withConfig({displayName:"FadeLoad__Wrap",componentId:"sc-1rdnrub-0"})(["opacity:0;transition:opacity 100ms ease;",""],(({isVisible:e})=>e&&Object(o.c)(["opacity:1;"])));t.a=({children:e})=>{const[t,a]=Object(n.useState)(!0),o=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>a(e.isIntersecting)))}));return e.observe(o.current),()=>e.unobserve(o.current)}),[]),i.a.createElement(c,{isVisible:t,ref:o},e)}},IUYj:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tickets",function(){return a("dsNT")}])},RoTl:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("vOnD"),c=a("8CDE"),l=a("nShV"),r=a("OXt0"),d=a("RKiZ"),s=a("hYBG");const p=Object(o.d)(c.a).withConfig({displayName:"FilterBar__Wrap",componentId:"sc-1lvfs1u-0"})(["display:flex;width:100%;&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 100ms,blur 100ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity 100ms,blur 100ms;}"]),m=Object(o.d)(l.b).withConfig({displayName:"FilterBar__List",componentId:"sc-1lvfs1u-1"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(256px,1fr));@media only screen and (max-width:480px){grid-gap:var(--default-gap);}"]),u=({isOpen:e=!0,filters:t,options:a,duration:n})=>i.a.createElement(s.a,{in:e,animation:"fade",timeout:n},i.a.createElement(p,null,i.a.createElement(d.a,{clear:!0}),t&&t.length>0&&i.a.createElement(m,null,t.map((e=>e))),a&&a.length>0&&i.a.createElement(l.b,null,i.a.createElement(r.b,{defaultValue:a[0],options:a,stretch:!0})),i.a.createElement(d.a,{clear:!0})));u.defaultProps={duration:150},t.a=u},VP1n:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("UUyv");t.a=Object(o.trackWindowScroll)((({children:e})=>i.a.createElement(o.LazyLoadComponent,null,e)))},coMr:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a("q1tI"),i=a.n(n),o=a("vOnD"),c=a("nShV"),l=a("8CDE"),r=a("ZeZO"),d=a("feIE"),s=a("OXt0"),p=a("DTT8"),m=a("79b8"),u=a("RKiZ"),h=a("VWQm");const b=Object(o.d)(l.a).withConfig({displayName:"HandleBar__Wrap",componentId:"phr6ix-0"})([""]),g=Object(o.d)(c.b).withConfig({displayName:"HandleBar__Header",componentId:"phr6ix-1"})(["justify-content:space-between;grid-gap:var(--default-gap);flex-wrap:wrap;"]),f=Object(o.d)(c.b).withConfig({displayName:"HandleBar__ActionGroup",componentId:"phr6ix-2"})(["justify-content:flex-end;@media only screen and (max-width:996px){width:100%;","{width:auto;}}@media only screen and (max-width:480px){flex-wrap:wrap;grid-gap:var(--default-gap);","{flex-direction:row;flex-grow:1;}","{button{width:100%;height:100%;}}}"],s.a,s.a,h.a),E=Object(o.d)(r.a).withConfig({displayName:"HandleBar__CreateButton",componentId:"phr6ix-3"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}@media only screen and (max-width:996px){width:100%;}"]),v=Object(o.d)(c.b).withConfig({displayName:"HandleBar__Footer",componentId:"phr6ix-4"})(["justify-content:space-between;@media only screen and (max-width:480px){flex-direction:column;align-items:end;grid-gap:var(--default-gap);}"]),x=Object(o.d)(r.a).withConfig({displayName:"HandleBar__DeleteButton",componentId:"phr6ix-5"})(["color:var(--default-color-red);background:none;border:none;&:hover{background:none;border:none;color:var(--default-color-red);}",""],(({disabled:e})=>e&&Object(o.c)(["color:var(--ghost-color-text);&:hover{color:var(--ghost-color-text);}"]))),w=[{label:i.a.createElement(d.a,{icon:"menu"}),value:"list",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u043e\u043c"},{label:i.a.createElement(d.a,{icon:"category"}),value:"grid",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u043a\u043e\u0439"}],y=({icon:e,title:t,buttonCreateText:a,buttonDeleteDisabled:o,defaultDisplayMethod:c,defaultVisibleFilters:l,withoutFooter:y,withFilters:_,checked:j,onCreate:O,onChecked:C,onDeleteAll:k,onChangeDisplayMethod:I,onChangeVisibleFilter:N})=>{const[T,S]=Object(n.useState)(j),[V,D]=Object(n.useState)(l),[B,R]=Object(n.useState)(w.find((e=>e.value===c)));return Object(n.useEffect)((()=>{S(j)}),[j]),i.a.createElement(b,null,i.a.createElement(g,null,i.a.createElement(p.c,{icon:e,text:t}),i.a.createElement(f,null,O&&i.a.createElement(E,{type:"button",onClick:O},i.a.createElement("span",null,a),i.a.createElement(d.a,{icon:"add",stroke:"white"})),_&&i.a.createElement(h.b,{text:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432"},i.a.createElement(r.a,{type:"button",kind:"icon",onClick:()=>{D(!V),N&&N()},revert:!V},i.a.createElement(d.a,{icon:"filter2",stroke:V?"white":"var(--default-color-accent)"}))),i.a.createElement(s.b,{defaultValue:B||w[1],options:w,onChange:e=>(e=>{R(e),I&&I(e)})(e)}))),i.a.createElement(u.a,{clear:!0}),!y&&i.a.createElement(v,null,i.a.createElement(m.a,{label:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435",checked:T,onChange:e=>{const t=e.target.checked;S(t),C&&C(t)}}),i.a.createElement(x,{appearance:"clear",disabled:o,onClick:k},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435")))};y.defaultProps={buttonCreateText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",buttonDeleteDisabled:!0},t.b=y},dsNT:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return O}));var n=a("q1tI"),i=a.n(n),o=a("/MKj"),c=a("7BXr"),l=a("ZwIX"),r=a("wZgm"),d=a("QclZ"),s=a("EJJs"),p=a("e3uv"),m=a("ApjV"),u=a("p9yE"),h=a("coMr"),b=a("RoTl"),g=a("4nJQ"),f=a("VP1n"),E=a("07fs"),v=a("ZbFR"),x=a("j8/+"),w=a("rP4V"),y=a("u2Cb"),_=a("wha1");const j="\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f";var O=!0;t.default=({store:e})=>{const t=Object(m.b)(),{user:a,documents:O}=Object(o.c)((e=>({user:e.user,documents:e.documents}))),C=Object(o.b)(),[k,I]=Object(n.useState)(),[N,T]=Object(n.useState)(),[S,V]=Object(n.useState)(!1),[D,B]=Object(n.useState)("grid"),R=Object(n.useMemo)((()=>O||e.tickets),[O,e]);return Object(n.useEffect)((()=>{C(Object(x.a)(null))}),[]),i.a.createElement(u.a,{title:j},i.a.createElement(h.b,{icon:"ticket",title:j,buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435",onCreate:t(v.a,{mutation:y.a.CREATE_TICKET}),onChangeVisibleFilter:()=>V(!S),onChangeDisplayMethod:e=>B(e.value)}),i.a.createElement(b.a,{isOpen:S,filters:[i.a.createElement(r.a,{key:0,value:k,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:I,withNavigate:!0}),i.a.createElement(d.a,{key:1,options:_.a,placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:N,onChange:e=>T(e)})],options:"list"===D?[]:p.a.ticket.map(((e,t)=>({label:e.header,value:t})))}),0===R.length&&i.a.createElement(l.a,{style:{width:"100%",textAlign:"center"}},"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u043d\u0435\u0442"),"list"===D&&i.a.createElement(s.b,{data:R,template:p.a.ticket,onChecked:()=>{},onClick:e=>t(v.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email})(),onDelete:e=>t(v.b,{ticket:e,mutation:y.a.DELETE_TICKET})(),onEdit:e=>t(v.c,{id:e.id,mutation:y.a.UPDATE_TICKET})(),style:{overflowX:"auto",width:"calc(100vw - 290px)"}}),"grid"===D&&i.a.createElement(c.a,null,R.map((e=>i.a.createElement(E.a,{key:e.id},i.a.createElement(f.a,null,i.a.createElement(g.a,{ticket:e,onChecked:()=>{},onLink:t(v.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email}),onAuthorLink:e=>t(w.i,{id:e,auth:null===a||void 0===a?void 0:a.email,owned:e===a.name})(),onDelete:t(v.b,{ticket:e,mutation:y.a.DELETE_TICKET}),onEdit:t(v.c,{id:e.id,mutation:y.a.UPDATE_TICKET})})))))))}},p9yE:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("g4pe"),c=a.n(o),l=a("YFqc"),r=a.n(l),d=a("20a2"),s=a("vOnD"),p=a("VX74"),m=a("/MKj"),u=a("nShV"),h=a("N0uN"),b=a("auMy"),g=a("8CDE"),f=a("ZeZO"),E=a("V0nP"),v=a("t7jn"),x=a("VWQm"),w=a("feIE"),y=a("ApjV"),_=a("wOhW"),j=a("586Q"),O=a("ThpJ"),C=a("RKiZ"),k=a("7sPp"),I=a("QUga"),N=a("hfch"),T=a("NWnW");const S="rgba(255, 255, 255, 25%)",V=Object(s.d)(u.b).withConfig({displayName:"SideBar__Wrap",componentId:"sc-158a552-0"})(["--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}"]),D=Object(s.d)(u.b).withConfig({displayName:"SideBar__Profile",componentId:"sc-158a552-1"})(["padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);","{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}"],O.a),B=Object(s.d)(g.a).withConfig({displayName:"SideBar__Info",componentId:"sc-158a552-2"})(["grid-gap:0;"]),R=Object(s.d)(k.a).withConfig({displayName:"SideBar__Name",componentId:"sc-158a552-3"})(["font-size:var(--font-h4);font-weight:var(--font-weight-medium);"]),W=Object(s.d)(I.b).withConfig({displayName:"SideBar__Role",componentId:"sc-158a552-4"})(["color:",";"],S),L=s.d.div.withConfig({displayName:"SideBar__Strip",componentId:"sc-158a552-5"})(["display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}"]),A=Object(s.d)(u.b).withConfig({displayName:"SideBar__Label",componentId:"sc-158a552-6"})(["align-items:center;"]),P=Object(s.d)(w.a).withConfig({displayName:"SideBar__LabelIcon",componentId:"sc-158a552-7"})(["width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);"," @media only screen and (max-width:480px){background:var(--default-color-accent-dim);"," svg{path{stroke:var(--default-color-accent);","}}}"],(({active:e})=>e&&Object(s.c)(["background:white;"])),(({active:e})=>e&&Object(s.c)(["background:var(--default-color-accent);"])),(({active:e})=>e&&Object(s.c)(["stroke:white;"]))),U=Object(s.d)(I.b).withConfig({displayName:"SideBar__LabelText",componentId:"sc-158a552-8"})(["color:",";font-weight:var(--font-weight-medium);",""],S,(({active:e})=>e&&Object(s.c)(["color:white;"]))),F=({active:e,icon:t,text:a,count:n})=>i.a.createElement(L,null,i.a.createElement(A,null,i.a.createElement(P,{icon:t,size:"xs",stroke:e?"var(--default-color-accent)":S,active:e}),i.a.createElement(U,{active:e},a)),n&&i.a.createElement(N.a,{count:n,size:"xs",style:e?{}:{background:S,borderColor:"transparent",color:"var(--admin-color-accent)"}})),Z=({user:e,link:t,links:a,...n})=>i.a.createElement(V,n,i.a.createElement(D,null,i.a.createElement(O.b,{src:e.avatar,alt:"Avatar",size:"m"}),i.a.createElement(B,null,i.a.createElement(R,null,e.name),i.a.createElement(W,null,Object(T.g)(e.role)))),i.a.createElement(C.a,{style:{background:"var(--admin-color-accent-dim)",margin:"10px 0"}}),a&&a.length>0&&a.map(((e,a)=>i.a.createElement(i.a.Fragment,{key:a},e.divide&&i.a.createElement(C.a,{style:{background:"var(--admin-color-accent-dim)",margin:"10px 0"}}),i.a.createElement(t,{href:e.path},e.component)))));Z.defaultProps={link:({children:e,...t})=>i.a.createElement("a",t,e)};var K=Z,M=a("+EEm"),z=a("8ihE");var H=e=>{const t=t=>e.find((e=>e===t)),a=[{path:"/",component:i.a.createElement(F,{icon:"activity",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}],n=t("VIEW_USER"),o=t("VIEW_CATEGORY"),c=t("VIEW_ARTICLE"),l=t("VIEW_PROJECT"),r=t("VIEW_TICKET"),d=t("VIEW_ROLE"),s=t("VIEW_USER");return n&&a.push({path:"/users",component:i.a.createElement(F,{icon:"user2",text:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),o&&a.push({path:"/categories",component:i.a.createElement(F,{icon:"folder",text:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),c&&a.push({path:"/articles",component:i.a.createElement(F,{icon:"document",text:"\u0421\u0442\u0430\u0442\u044c\u0438"})}),l&&a.push({path:"/projects",component:i.a.createElement(F,{icon:"work",text:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"})}),r&&a.push({path:"/tickets",component:i.a.createElement(F,{icon:"ticket",text:"\u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"})}),d&&a.push({divide:!0,path:"/roles",component:i.a.createElement(F,{icon:"lock",text:"\u0420\u043e\u043b\u0438"})}),s&&a.push({path:"/settings",component:i.a.createElement(F,{icon:"setting",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),a},X=a("u2Cb"),q=a("rOcY");const J=s.d.main.withConfig({displayName:"dashboard__Main",componentId:"sc-9r28sr-0"})(["display:flex;grid-gap:var(--default-gap);width:100%;"]),Q=s.d.header.withConfig({displayName:"dashboard__Header",componentId:"sc-9r28sr-1"})(["position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;"]),Y=Object(s.d)(K).withConfig({displayName:"dashboard__SideBar",componentId:"sc-9r28sr-2"})(["position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}"]),G=Object(s.d)(f.a).withConfig({displayName:"dashboard__MenuButton",componentId:"sc-9r28sr-3"})(["display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}"]),$=Object(s.d)(u.b).withConfig({displayName:"dashboard__LogoZone",componentId:"sc-9r28sr-4"})(["justify-content:space-between;@media only screen and (max-width:996px){width:auto;}"]),ee=s.d.div.withConfig({displayName:"dashboard__Logotype",componentId:"sc-9r28sr-5"})(["display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}"]),te=Object(s.d)(h.a).withConfig({displayName:"dashboard__Content",componentId:"sc-9r28sr-6"})(["padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}"]);t.a=({children:e,title:t="\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"})=>{var a,o;const l=Object(y.b)(),s=Object(d.useRouter)(),{root:u,user:h}=Object(m.c)((e=>e)),[f,{data:O,loading:C}]=Object(p.useLazyQuery)(X.a.GET_USER),k=Object(m.b)();return Object(n.useEffect)((()=>{localStorage.getItem(q.a.get("secret"))?f():s.push("/")}),[]),Object(n.useEffect)((()=>{if(O&&O.getUser){var e;(null===(e=O.getUser.role)||void 0===e?void 0:e.permissions.find((e=>"ACCESS_DASHBOARD"===e)))?k(Object(z.b)(O.getUser)):s.push("/")}}),[O,k]),C||!h.authenticated?i.a.createElement(j.a,null,i.a.createElement(b.a,null)):i.a.createElement(_.a,null,i.a.createElement(c.a,null,i.a.createElement("meta",{name:"keywords",content:"next,javascript,nextjs,react"}),i.a.createElement("meta",{name:"description",content:u.settings.meta.description}),i.a.createElement("title",null,t)),i.a.createElement(Q,null,i.a.createElement(G,{kind:"icon",appearance:"clear",onClick:l(M.e,{links:H((null===h||void 0===h?void 0:h.role.permissions)||[]).map(((e,t)=>({id:t,text:e.component,onClick:()=>s.push(`/dashboard${e.path}`)})))})},i.a.createElement(w.a,{icon:"menu"})),i.a.createElement($,null,i.a.createElement(x.b,{text:u.settings.meta.description,offset:{bottom:5},place:"bottom",maxWidth:256,multiline:!0},i.a.createElement(ee,null,i.a.createElement(r.a,{href:"/"},i.a.createElement("a",null,i.a.createElement(E.a,{src:null===(a=u.settings.general.logotype)||void 0===a?void 0:a.path,alt:"Logotype"})))))),i.a.createElement(v.a,{appearance:"ghost"})),i.a.createElement(J,null,i.a.createElement(Y,{user:{name:h.name,role:h.role.name,avatar:(null===h||void 0===h||null===(o=h.avatar)||void 0===o?void 0:o.path)||"/images/avatar-default.png"},link:r.a,links:H((null===h||void 0===h?void 0:h.role.permissions)||[]).map(((e,t)=>{const a=`/dashboard${e.path.length>1?e.path:""}`;return{...e,path:a,component:i.a.createElement("a",{key:t,className:s.pathname===a?"active":""},i.a.cloneElement(e.component,{active:s.pathname===a}))}}))}),i.a.createElement(te,null,i.a.createElement(g.a,null,e))))}},wha1:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l}));const n=e=>[{label:"\u041e \u0440\u0435\u0441\u0443\u0440\u0441\u0435",path:"/about"},{label:"\u041b\u044e\u0434\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430",path:"/creators"},{label:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",onClick:e},{label:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a",path:"/guide"}],i=["/images/socials/gmail.png","/images/socials/vk.png","/images/socials/facebook.png"],o=[{label:"\u0433. \u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433, \u0443\u043b. \u0414\u0435\u043a\u0430\u0431\u0440\u0438\u0441\u0442\u043e\u0432 20\u0430, \u043e\u0444. 302",icon:"location"},{label:"+7 (499) 222-54-86",icon:"call"},{label:"info@mail.ru",icon:"message"}],c=[{label:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u044b",value:"/projects"},{label:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",value:"/liked"},{label:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",value:"/feed"},{label:"\u0421\u0442\u0430\u0442\u044c\u0438",value:"/articles"}],l=[{value:0,label:"\u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},{value:1,label:"\u0420\u0435\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"},{value:2,label:"\u041a\u0430\u043f\u0438\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u043c\u043e\u043d\u0442"},{value:3,label:"\u0426\u0438\u0444\u0440\u043e\u0432\u0430\u044f \u0441\u0440\u0435\u0434\u0430"}]}},[["IUYj",0,2,1,3,4,5,8]]]);