_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"0RHc":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),i=n("/MKj"),r=n("+nv6"),c=n("EJJs");var d=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:e=>{var t;return o.a.createElement(c.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:e=>o.a.createElement(c.a,{text:e.body||"-"})},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:e=>{var t;return o.a.createElement(c.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",content:e=>{var t,n,a;return o.a.createElement(c.a,{img:null===(t=e.company)||void 0===t||null===(n=t.avatar)||void 0===n?void 0:n.path,text:(null===(a=e.company)||void 0===a?void 0:a.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:e=>o.a.createElement(c.a,{text:o.a.createElement(r.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:e=>o.a.createElement(c.a,{text:o.a.createElement(r.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"}),hidden:!0}],l=n("WpSk"),u=n("OqOz"),s=n("j8/+"),E=n("QfFT"),v=n("v0uu"),p=n("u2Cb");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.default=()=>{const{onCreate:e,onEdit:t,...n}=Object(E.a)({isManage:!0}),r=Object(i.b)();return Object(a.useEffect)((()=>{r(Object(s.a)(null))}),[]),o.a.createElement(u.b,{title:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",icon:"work",template:d,entityType:"project",getType:"getProjects",limit:v.c,emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442",getQuery:p.a.GET_PROJECTS,buttonCreateText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",deleteEntityMultiText:"\u043f\u0440\u043e\u0435\u043a\u0442\u044b",deleteEntitySingleText:"\u043f\u0440\u043e\u0435\u043a\u0442",startOffset:v.b,deleteQuery:p.a.DELETE_PROJECT,render:e=>o.a.createElement(l.a,b({},n,{project:e,withSocials:!1,preview:!0})),onCreate:e,onEdit:t})}},QfFT:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("q1tI"),o=n("/MKj"),i=n("IxyI"),r=n("rP4V"),c=n("8ihE"),d=n("8UhZ"),l=n("ApjV"),u=n("lphG"),s=n("u2Cb");const E=({isManage:e}={})=>{const t=Object(l.b)(),n=Object(u.a)(),{user:E,folder:v}=Object(o.c)((e=>({user:e.user,folder:e.root.folder}))),p=Object(o.b)(),b=Object(a.useMemo)((()=>{var e;return E&&"ADMIN"===(null===E||void 0===E||null===(e=E.role)||void 0===e?void 0:e.name)}),[E]),m=Object(a.useCallback)((e=>{var t;return!(null===E||void 0===E||null===(t=E.folders)||void 0===t||!t.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id))))))}),[E]),j=Object(a.useCallback)((e=>!!(e.rating||[]).find((e=>e.email===E.email))),[E]),h=Object(a.useCallback)((e=>t(i.a,{id:e.id,folders:null===E||void 0===E?void 0:E.folders,mutations:{addProject:s.a.ADD_USER_PROJECT,createFolder:s.a.ADD_USER_FOLDER},callback:t=>{const n={...t,projects:[...t.projects,e.id]};p(Object(c.d)(n))}})()),[E,t,p]),f=Object(a.useCallback)((e=>{E.email&&n(s.a.LIKE_PROJECT,{id:e.id},(e=>p(Object(c.f)(e.data.likeProject))))}),[E,n,p]),O=Object(a.useCallback)((e=>{var a;const o=null===E||void 0===E||null===(a=E.projects)||void 0===a?void 0:a.find((t=>t.id===e.id));t(i.e,Object(d.b)(e.id,E,o,p,n,t,(t=>{const n={...t,projects:[...t.projects,e.id]};p(Object(c.d)(n))})))()}),[E,p,n,t]),k=Object(a.useCallback)((e=>t(i.f,{id:e.id,folder:v,mutation:s.a.REMOVE_USER_PROJECT})()),[E,t]),C=Object(a.useCallback)((e=>{t(r.a,{user:e})()}),[t]),y=Object(a.useCallback)((e=>{var n;t(r.i,{id:null===(n=e.company)||void 0===n?void 0:n.email,auth:null===E||void 0===E?void 0:E.email,recipient:e.author,query:s.a.GET_USER_CHATS,mutation:s.a.SEND_MESSAGE})()}),[E,t]),S=Object(a.useCallback)(((e,n)=>{t(i.g,{screenshots:[e.preview,...e.screenshots],key:n})()}),[t]);return{user:E,hasAdded:m,hasLiked:j,onAdd:h,onLike:f,onLink:O,onRemove:k,onAboutMore:C,onCompanyLink:y,onScreenshotClick:S,onEdit:e&&((e,a)=>t(i.d,{id:e.id,canEditStatus:b,mutation:s.a.UPDATE_PROJECT,query:s.a.GET_USERS,onCompanyInputChange:n(s.a.GET_USERS,{account:"ENTITY"}),onAfter:a})()),onCreate:e&&(e=>t(i.b,{canEditStatus:b,mutation:s.a.CREATE_PROJECT,query:s.a.GET_USERS,onAfter:e})())}}},WpSk:function(e,t,n){"use strict";var a=n("q1tI"),o=n.n(a),i=n("1zqG");const r=({user:e,layout:t,preview:n,project:a,checked:r,canRemove:c,appearance:d,withSocials:l,hasAdded:u,hasLiked:s,onAdd:E,onLike:v,onLink:p,onRemove:b,onAboutMore:m,onCompanyLink:j,onScreenshotClick:h,onChecked:f,onDelete:O,onEdit:k})=>o.a.createElement(i.c,{layout:t,project:a,preview:n,checked:r,canRemove:c,appearance:d,withSocials:l,added:u&&u(a),liked:s&&s(a),onLink:()=>p&&p(a),onAdd:(null===e||void 0===e?void 0:e.email)&&(()=>E&&E(a)),onAboutMore:()=>m&&m(a),onLike:(null===e||void 0===e?void 0:e.email)&&(()=>v&&v(a)),onCompanyLink:()=>j&&j(a),onRemove:(null===e||void 0===e?void 0:e.email)&&(()=>b&&b(a)),onScreenshotClick:(e,t)=>h&&h(a,t),onChecked:f,onDelete:O,onEdit:k});r.defaultProps={withSocials:!0},t.a=r},e0St:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/projects",function(){return n("0RHc")}])},v0uu:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));const a=0,o=4,i=12}},[["e0St",0,2,6,7,1,3,4,5,8]]]);