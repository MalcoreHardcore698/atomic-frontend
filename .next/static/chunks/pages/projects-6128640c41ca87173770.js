_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{D85t:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return a("RHEb")}])},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),l=a("vOnD"),c=a("VX74"),r=a("7Cbv"),i=a("8CDE"),s=a("ZwIX"),d=a("wZgm"),u=a("auMy"),m=a("QclZ");const p=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[o,l]=Object(n.useState)(0);Object(n.useEffect)((()=>{const n=document.documentElement,c=()=>{if(!n)return;const c=n.scrollTop-o;t&&c>0&&n.scrollTop+n.clientHeight>=n.scrollHeight-a&&t(n.scrollTop,n.scrollHeight),e&&c<0&&n.scrollTop<=a&&e(n.scrollTop,n.scrollHeight),l(n.scrollTop)};return n&&window.addEventListener("scroll",c),()=>{n&&window.removeEventListener("scroll",c)}}),[e,t,a])};var b=a("X+Rt"),E=a("p9yE"),h=a("RoTl"),f=a("EYtC"),v=a("coMr"),j=a("586Q");const O=Object(l.c)(i.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(l.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:l,filters:i,options:y,research:g,scaffold:w,dashboard:C,variables:T={},limit:_=6,startOffset:S=6,children:k})=>{const P=C?E.a:b.a,[A,L]=Object(n.useState)(),[x,D]=Object(n.useState)(),[I,N]=Object(n.useState)(null),[R,H]=Object(n.useState)(!1),[q,M]=Object(n.useState)(S),[Q,X]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[G,{data:V,loading:J,error:K,refetch:z}]=Object(c.useLazyQuery)(a),[B,{data:W,loading:Z,error:F,refetch:U}]=Object(c.useLazyQuery)(a),Y=e=>{if(X([]),e)N(e),G({variables:{...T,search:e,offset:0,limit:S}});else{const e={...T,offset:0,limit:_};N(null),U?U(e):B({variables:e})}M(0)};return p({callbackOnBottom:()=>{const e=()=>M((e=>e+_));if(!Z){const t={...T,offset:q,limit:_};I?z(T).then(e):U?U(t).then(e):B({variables:t})}},offset:850}),Object(n.useEffect)((()=>{g&&Y(g)}),[g]),Object(n.useEffect)((()=>{const e=!I&&!Z&&W||I&&!J&&V;e&&X((t=>[...t,...e[Object.keys(e)[0]]]))}),[I,Z,J,W,V]),o.a.createElement(P,{title:e,scaffold:w},o.a.createElement(O,{clear:w||C},!w&&!C&&o.a.createElement(f.a,{onChangeFilter:()=>H(!R),onSubmit:Y}),C&&l&&o.a.createElement(v.a,{title:e,icon:l.icon,buttonCreateText:l.buttonCreateText,onCreate:l.onCreate,onChangeVisibleFilter:()=>H(!R),onChangeDisplayMethod:l.onChangeDisplayMethod}),(i||y)&&o.a.createElement(h.a,{isOpen:R,filters:i.map((e=>{switch(e.type){case"DATEPICKER":return o.a.createElement(d.a,{key:Object(r.a)(),value:A,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:L,withNavigate:!0});case"SELECT":return o.a.createElement(m.a,{key:Object(r.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:x,onChange:e=>D(e)});default:return null}})),options:y}),o.a.createElement(k,{documents:Q}),I&&!J&&0===Q.length&&o.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(I&&K||!I&&F)&&o.a.createElement(s.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(!F&&Z||I&&!K&&J)&&o.a.createElement(j.d,null,o.a.createElement(u.a,null)),!I&&!Z&&!J&&!K&&0===Q.length&&o.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},RHEb:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return j}));var n=a("q1tI"),o=a.n(n),l=a("/MKj"),c=a("NWnW"),r=a("ApjV"),i=a("lphG"),s=a("1zqG"),d=a("586Q"),u=a("VP1n"),m=a("07fs"),p=a("8ihE"),b=a("IxyI"),E=a("rP4V"),h=a("u2Cb"),f=a("QX5T"),v=a("20a2");var j=!0;t.default=({store:e})=>{const t=Object(r.b)(),a=Object(i.a)(),n=Object(v.useRouter)(),j=Object(l.c)((e=>e.user)),O=Object(l.b)();return o.a.createElement(f.a,{title:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",filters:[{type:"DATEPICKER"},{type:"SELECT",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(c.c)(e.name)})))}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",value:"createdAt"}],query:h.a.GET_PROJECTS,variables:{category:n.query.category,status:"PUBLISHED"},store:{documents:null===e||void 0===e?void 0:e.projects}},(({documents:e})=>o.a.createElement(d.b,null,e.map((e=>{var n,l;const c=null===j||void 0===j||null===(n=j.projects)||void 0===n?void 0:n.find((t=>t.id===e.id));return o.a.createElement(m.a,{key:e.id},o.a.createElement(u.a,null,o.a.createElement(s.c,{project:e,owned:c,liked:!!((null===j||void 0===j?void 0:j.likedProjects)||[]).find((t=>t.id===e.id)),onLink:t(b.e,{id:e.id,auth:j,owned:c}),onLike:(null===j||void 0===j?void 0:j.email)&&a(h.a.LIKE_PROJECT,{id:e.id},(e=>O(Object(p.e)(e.data.likeProject)))),onAdd:(null===j||void 0===j?void 0:j.email)&&t(b.a,{id:e.id}),onAboutMore:t(E.a,{user:e}),onCompanyLink:t(E.i,{id:null===(l=e.company)||void 0===l?void 0:l.email,auth:null===j||void 0===j?void 0:j.email,recipient:e.author,query:h.a.GET_USER_CHATS,mutation:h.a.SEND_MESSAGE}),onScreenshotClick:(a,n)=>t(b.f,{screenshots:[e.preview,...e.screenshots],key:n})()})))})))))}}},[["D85t",0,2,1,3,4,5,6,7]]]);