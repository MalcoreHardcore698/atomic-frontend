_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"20ex":function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("VX74"),o=a("/MKj"),c=a("ZwIX"),i=a("auMy"),s=a("586Q"),u=a("VP1n"),d=a("TsNn"),m=a("ApjV"),E=a("+EEm"),b=a("rP4V"),h=a("u2Cb");t.a=({variables:e,initialList:t})=>{const a=Object(m.b)(),p=Object(o.c)((e=>e.user)),[f,v]=Object(n.useState)(t||[]),{data:S,loading:C,error:_}=t?{data:null,loading:!1,error:!1}:Object(r.useQuery)(h.a.GET_USERS,{variables:e});return Object(n.useEffect)((()=>{!C&&S&&v(S.getUsers)}),[S,C]),Object(n.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&v(t)}),[t]),!C&&S||f.length>0?f.map((e=>{var t;const n=e.name===(null===p||void 0===p?void 0:p.name);return l.a.createElement(u.a,{key:e.email},l.a.createElement(d.a,{user:e,owned:n,onChat:p.email&&a(E.a,{email:e.email,auth:null===p||void 0===p?void 0:p.email,queries:{userChats:h.a.GET_USER_CHATS,chat:h.a.GET_CHAT},mutations:{addUserChat:h.a.ADD_USER_CHAT,sendMessage:h.a.SEND_MESSAGE}}),onLink:a(b.i,{id:e.email,auth:null===p||void 0===p?void 0:p.email,owned:n,queries:{userChats:h.a.GET_USER_CHATS,chat:h.a.GET_CHAT},mutations:{addUserChat:h.a.ADD_USER_CHAT,sendMessage:h.a.SEND_MESSAGE}}),onAboutMore:a(b.a,{user:e}),onMembers:a(b.j,{id:null===e||void 0===e?void 0:e.email,auth:null===p||void 0===p?void 0:p.email}),onCompanyLink:a(b.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===p||void 0===p?void 0:p.email,queries:{userChats:h.a.GET_USER_CHATS,chat:h.a.GET_CHAT},mutations:{addUserChat:h.a.ADD_USER_CHAT,sendMessage:h.a.SEND_MESSAGE}})}))})):_?l.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):C?l.a.createElement(s.c,null,l.a.createElement(i.a,null)):l.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},"\u0410\u0432\u0442\u043e\u0440\u043e\u0432 \u043d\u0435\u0442")}},Aoc7:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return s}));var n=a("q1tI"),l=a.n(n),r=a("QX5T"),o=a("586Q"),c=a("20ex"),i=a("u2Cb");var s=!0;t.default=({store:e})=>l.a.createElement(r.a,{title:"\u0410\u0432\u0442\u043e\u0440\u044b",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438"},{type:"SELECT",placeholder:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",options:null===e||void 0===e?void 0:e.companies.map((e=>({value:e.email,label:e.name})))}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438",value:"createdAt"}],query:i.a.GET_USERS,store:{documents:null===e||void 0===e?void 0:e.users}},(({documents:e})=>l.a.createElement(o.b,null,l.a.createElement(c.a,{initialList:e}))))},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("vOnD"),o=a("nShV"),c=a("ZeZO"),i=a("feIE"),s=a("t7jn");const u=Object(r.c)(o.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),d=Object(r.c)(s.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),m=Object(r.c)(c.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(r.b)(["background:var(--default-color-accent);"])));t.a=({appearance:e,onChangeFilter:t,onSubmit:a})=>{const[r,o]=Object(n.useState)(!1);return l.a.createElement(u,null,l.a.createElement(d,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:a}),l.a.createElement(m,{type:"button",kind:"icon",onClick:()=>{o(!r),t&&t(!r)},visibleFilter:r},l.a.createElement(i.a,{icon:"filter2",stroke:r?"white":"var(--default-color-accent)"})))}},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("vOnD"),o=a("VX74"),c=a("7Cbv"),i=a("8CDE"),s=a("ZwIX"),u=a("wZgm"),d=a("auMy"),m=a("QclZ");const E=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[l,r]=Object(n.useState)(0);Object(n.useEffect)((()=>{const n=document.documentElement,o=()=>{if(!n)return;const o=n.scrollTop-l;t&&o>0&&n.scrollTop+n.clientHeight>=n.scrollHeight-a&&t(n.scrollTop,n.scrollHeight),e&&o<0&&n.scrollTop<=a&&e(n.scrollTop,n.scrollHeight),r(n.scrollTop)};return n&&window.addEventListener("scroll",o),()=>{n&&window.removeEventListener("scroll",o)}}),[e,t,a])};var b=a("X+Rt"),h=a("p9yE"),p=a("RoTl"),f=a("EYtC"),v=a("coMr"),S=a("586Q");const C=Object(r.c)(i.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(r.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:r,filters:i,options:_,research:g,scaffold:w,dashboard:O,variables:j={},limit:T=6,startOffset:y=6,initialize:A,children:k})=>{const D=O?h.a:b.a,[I,N]=Object(n.useState)(),[M,x]=Object(n.useState)(),[H,R]=Object(n.useState)(null),[U,G]=Object(n.useState)(!1),[L,q]=Object(n.useState)(!1),[Q,X]=Object(n.useState)(y),[Z,P]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[V,{data:B,loading:F,error:K,refetch:W}]=Object(o.useLazyQuery)(a),[z,{data:J,loading:Y,error:$,refetch:ee}]=Object(o.useLazyQuery)(a),te=e=>{if(P([]),e)R(e),V({variables:{...j,search:e,offset:0,limit:y}});else{const e={...j,offset:0,limit:T};R(null),ee?ee(e):z({variables:e})}X(0)};return E({callbackOnBottom:async()=>{if(!Y&&!U){G(!0);const e={...j,offset:Q,limit:T};H?await W(j):ee?(await ee(e),X((e=>e+T))):await z({variables:e}),G(!1)}},offset:850}),Object(n.useEffect)((()=>{A&&z({variables:{offset:Q,limit:T}})}),[A]),Object(n.useEffect)((()=>{g&&te(g)}),[g]),Object(n.useEffect)((()=>{const e=!H&&!Y&&J||H&&!F&&B;e&&P((t=>[...t,...e[Object.keys(e)[0]]]))}),[H,Y,F,J,B]),l.a.createElement(D,{title:e,scaffold:w},l.a.createElement(C,{clear:w||O},!w&&!O&&l.a.createElement(f.a,{onChangeFilter:()=>q(!L),onSubmit:te}),O&&r&&l.a.createElement(v.a,{title:e,icon:r.icon,buttonCreateText:r.buttonCreateText,onCreate:r.onCreate,onChangeVisibleFilter:()=>q(!L),onChangeDisplayMethod:r.onChangeDisplayMethod}),(i||_)&&l.a.createElement(p.a,{isOpen:L,filters:i.map((e=>{switch(e.type){case"DATEPICKER":return l.a.createElement(u.a,{key:Object(c.a)(),value:I,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:N,withNavigate:!0});case"SELECT":return l.a.createElement(m.a,{key:Object(c.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:M,onChange:e=>x(e)});default:return null}})),options:_}),"function"===typeof k?l.a.createElement(k,{documents:Z}):k,H&&!F&&0===Z.length&&l.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(H&&K||!H&&$)&&l.a.createElement(s.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(U||!$&&Y||H&&!K&&F)&&l.a.createElement(S.d,null,l.a.createElement(d.a,null))))}},ZtKI:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/creators",function(){return a("Aoc7")}])}},[["ZtKI",0,2,1,3,4,5,6,7]]]);