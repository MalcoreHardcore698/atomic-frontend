_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{EJJs:function(e,t,n){"use strict";n.d(t,"a",(function(){return X}));var a=n("h4VS"),r=n("q1tI"),o=n.n(r),c=n("vOnD"),i=n("7Cbv"),d=n("nShV"),u=n("8CDE"),l=n("feIE"),s=n("ZeZO"),p=n("OXt0"),f=n("DTT8"),h=n("79b8"),b=n("VWQm"),v=n("vJvq"),m=o.a.createElement;function g(){var e=Object(a.a)(["\n  display: flex;\n  align-items: center;\n"]);return g=function(){return e},e}function j(){var e=Object(a.a)(["\n  border: 1px solid var(--surface-border);\n  background: var(--surface-background);\n  box-shadow: var(--surface-shadow);\n  border-radius: var(--surface-border-radius);\n  padding: 10px;\n  grid-gap: 10px;\n"]);return j=function(){return e},e}function w(){var e=Object(a.a)(["\n  align-items: center;\n  flex-grow: 1;\n\n  width: ",";\n  overflow: hidden;\n\n  & > div {\n    width: 100%;\n  }\n\n  h4 {\n    font-size: var(--font-size-m);\n    font-weight: var(--font-weight-bold);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"]);return w=function(){return e},e}function x(){var e=Object(a.a)(["\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n      padding: 0;\n    "]);return x=function(){return e},e}function E(){var e=Object(a.a)(["\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    "]);return E=function(){return e},e}function O(){var e=Object(a.a)(["\n  padding: 5px;\n  width: var(--input-height-m);\n  grid-gap: 5px;\n\n  button {\n    width: 100%;\n    flex-grow: 1;\n  }\n\n  ","\n\n  ","\n"]);return O=function(){return e},e}function y(){var e=Object(a.a)(["\n      cursor: pointer;\n    "]);return y=function(){return e},e}function k(){var e=Object(a.a)(["\n  width: 100%;\n\n  ","\n"]);return k=function(){return e},e}function _(){var e=Object(a.a)(["\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n    "]);return _=function(){return e},e}function C(){var e=Object(a.a)(["\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    "]);return C=function(){return e},e}function I(){var e=Object(a.a)(["\n  padding: 5px 15px;\n  width: calc(100% - 55px);\n\n  ","\n\n  ","\n\n  & > label {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: calc(var(--input-height-m) - 15px);\n    margin-left: 5px;\n\n    & > span {\n      margin: 0;\n    }\n  }\n"]);return I=function(){return e},e}function A(){var e=Object(a.a)([""]);return A=function(){return e},e}function N(){var e=Object(a.a)(["\n      span:first-child {\n        width: calc("," + 45px);\n      }\n    "]);return N=function(){return e},e}function S(){var e=Object(a.a)(["\n      span {\n        width: ",";\n      }\n    "]);return S=function(){return e},e}function D(){var e=Object(a.a)(["\n  ","\n\n  ","\n"]);return D=function(){return e},e}function T(){var e=Object(a.a)([""]);return T=function(){return e},e}function P(){var e=Object(a.a)([""]);return P=function(){return e},e}var L=Object(c.c)(u.a)(P()),R=Object(c.c)(d.b)(T()),z=Object(c.c)(p.b)(D(),(function(e){var t=e.width;return t&&Object(c.b)(S(),t)}),(function(e){var t=e.first,n=e.width;return t&&n&&Object(c.b)(N(),n)})),V=Object(c.c)(d.b)(A()),J=Object(c.c)(d.b)(I(),(function(e){return"default"===e.appearance&&Object(c.b)(C())}),(function(e){return"clear"===e.appearance&&Object(c.b)(_())})),M=Object(c.c)(d.b)(k(),(function(e){return e.onClick&&Object(c.b)(y())})),U=Object(c.c)(u.a)(O(),(function(e){return"default"===e.appearance&&Object(c.b)(E())}),(function(e){return"clear"===e.appearance&&Object(c.b)(x())})),X=Object(c.c)(f.b)(w(),(function(e){return e.width})),Z=Object(c.c)(u.a)(j()),F=Object(c.c)(b.b)(g()),q=function(e){var t=e.data,n=e.template,a=e.className,c=e.style,d=e.appearance,u=e.onClick,p=e.onChecked,f=e.onDelete,g=e.onEdit,j="".concat(Math.floor(100/n.length),"%"),w=Object(r.useState)((n||[]).map((function(e){return{value:Object(i.a)(),label:e.header,width:e.width||j,tooltip:e.tooltip||"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e \xab".concat(e.header,"\u200e\xbb"),visible:!e.hidden}}))),x=w[0],E=(w[1],Object(r.useState)(x[0]||null)),O=(E[0],E[1]);return m(L,{className:a,style:c},m(R,null,m(z,{defaultValue:x[0],options:x.filter((function(e){return e.visible})),onChange:function(e){return O(e)},first:p,stretch:!0}),m(v.b,{place:"left",offset:{bottom:80},body:m(Z,null,x.map((function(e,t){return m(h.a,{key:t,size:"s",label:e.label,checked:e.visible})}))),appearance:"clear"},m(b.b,{text:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439",place:"left"},m(s.a,{kind:"icon"},m(l.a,{icon:"show",stroke:"white"}))))),t.map((function(e,t){return m(V,{key:t},m(J,{appearance:d},m(F,{text:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",self:!0},p&&m(h.a,{size:"s"})),m(M,{onClick:function(){return u(e)}},n.map((function(t,n){return x[n].visible?o.a.cloneElement(t.content(e),{key:n,label:t.header,width:(null===t||void 0===t?void 0:t.width)||j}):null})))),(g||f)&&m(U,{appearance:d},g&&m(b.b,{text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",place:"left"},m(s.a,{size:"xs",kind:"icon",onClick:function(){return g(e)}},m(l.a,{icon:"edit",size:"xs",stroke:"white"}))),f&&m(b.b,{text:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",place:"left"},m(s.a,{size:"xs",kind:"icon",appearance:"red",onClick:function(){return f(e)}},m(l.a,{icon:"delete",size:"xs",stroke:"white"})))))})))};q.defaultProps={appearance:"default"},t.b=q},"W+IF":function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSP",(function(){return F}));var a=n("q1tI"),r=n.n(a),o=n("20a2"),c=n("vOnD"),i=n("/MKj"),d=n("VX74"),u=n("nShV"),l=n("8CDE"),s=n("OXt0"),p=n("ZwIX"),f=n("wZgm"),h=n("QclZ"),b=n("ZeZO"),v=n("auMy"),m=n("VWQm"),g=n("QUga"),j=n("feIE"),w=n("e3uv"),x=n("ApjV"),E=n("lphG"),O=n("X+Rt"),y=n("b5Wu"),k=n("RoTl"),_=n("EYtC"),C=n("1zqG"),I=n("Sza6"),A=n("8ihE"),N=n("IxyI"),S=n("rP4V"),D=n("u2Cb"),T=n("wha1");const P=c.c.aside.withConfig({displayName:"profile__Container",componentId:"sc-84d5hd-0"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(442px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fill,minmax(285px,1fr));}"]),L=Object(c.c)(u.b).withConfig({displayName:"profile__ContainerInProgress",componentId:"sc-84d5hd-1"})(["grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}"]),R=Object(c.c)(b.a).withConfig({displayName:"profile__CreateButton",componentId:"sc-84d5hd-2"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}"]),z=Object(c.c)(l.a).withConfig({displayName:"profile__Orginizer",componentId:"sc-84d5hd-3"})(["width:265px;"]),V=Object(c.c)(m.b).withConfig({displayName:"profile__RemoveTooltip",componentId:"sc-84d5hd-4"})(["position:absolute;right:5px;display:none;"]),J=c.c.div.withConfig({displayName:"profile__ListItem",componentId:"sc-84d5hd-5"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);cursor:pointer;transition:all 150ms ease;","{display:flex;align-items:center;border-radius:var(--surface-border-radius);background:var(--ghost-color-background);width:100%;height:var(--input-height-s);padding:0 10px;transition:all 150ms ease;}&:hover{","{display:flex;}","{color:black;}}",""],g.a,V,g.a,(({active:e})=>e&&Object(c.b)(["","{color:var(--default-color-accent);background:var(--default-color-accent-dim);}&:hover{","{color:var(--default-color-accent);}}"],g.a,g.a))),M=Object(c.c)(p.a).withConfig({displayName:"profile__AlertEmpty",componentId:"sc-84d5hd-6"})(["display:flex;justify-content:center;align-items:center;width:100%;"]),U=c.c.div.withConfig({displayName:"profile__Loader",componentId:"sc-84d5hd-7"})(["display:flex;justify-content:center;width:100%;height:80px;"]),X=({projects:e})=>{const t=Object(x.a)(),n=Object(E.a)(),a=Object(i.c)((e=>e.user)),o=Object(i.b)();return e&&0===e.length?r.a.createElement(p.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"):r.a.createElement(P,null,e&&e.length>0&&e.map((e=>{var c;return r.a.createElement(C.b,{owned:!0,key:e.id,project:e,liked:!!((null===a||void 0===a?void 0:a.likedProjects)||[]).find((t=>t.id===e.id)),onLike:n(D.a.LIKE_PROJECT,{id:e.id},(e=>o(Object(A.e)(e.data.likeProject)))),onLink:t(N.e,{id:e.id,auth:null===a||void 0===a?void 0:a.email,project:e,owned:!0}),onAdd:t(N.a,{id:e.id,project:e}),onCompanyLink:e.company&&t(S.i,{id:null===(c=e.company)||void 0===c?void 0:c.email,auth:null===a||void 0===a?void 0:a.email}),onScreenshotClick:(n,a)=>t(N.f,{screenshots:[e.preview,...e.screenshots],key:a})()})})))},Z=()=>{const e=Object(x.a)(),{user:t,folder:n}=Object(i.c)((e=>({user:e.user,folder:e.root.folder}))),o=Object(i.b)(),[c,{data:u,loading:s,refetch:f}]=Object(d.useLazyQuery)(D.a.GET_PROJECTS_BY_IDS);return Object(a.useEffect)((()=>{if(!n&&null!==t&&void 0!==t&&t.folders&&t.folders.length>0){const e=t.folders[0];e.projects.length>0&&c({variables:{projects:e.projects.map((e=>e.id))}}),o(Object(I.k)(e))}}),[n,t,o,c]),r.a.createElement(L,null,r.a.createElement(z,null,t.folders&&t.folders.length>0?r.a.createElement(l.a,null,t.folders.map((t=>r.a.createElement(J,{key:t.id,active:n&&t.id===n.id,onClick:()=>(async e=>{f&&await f({projects:e.projects.map((e=>e.id))}),o(Object(I.k)(e))})(t)},r.a.createElement(g.b,null,t.name),r.a.createElement(V,{place:"left",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},r.a.createElement(b.a,{type:"button",kind:"icon",size:"xs",disabled:s,onClick:e(S.h,{id:t.id,mutation:D.a.DELETE_USER_FOLDER})},r.a.createElement(j.a,{size:"xs",icon:"delete",stroke:"white"}))))))):r.a.createElement(p.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0430\u043f\u043e\u043a \u043d\u0435\u0442"),r.a.createElement(R,{onClick:e(S.g,{mutation:D.a.ADD_USER_FOLDER})},r.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"),r.a.createElement(j.a,{icon:"add",stroke:"white"}))),s&&r.a.createElement(v.a,null),u&&u.getProjectsByIds.length>0&&u.getProjectsByIds.map((n=>{var a;return r.a.createElement(C.b,{owned:!0,key:n.id,project:n,onLink:e(N.e,{id:n.id,project:n,auth:null===t||void 0===t?void 0:t.email,owned:!0}),onAdd:e(N.a,{project:n}),onCompanyLink:n.company&&e(S.i,{id:null===(a=n.company)||void 0===a?void 0:a.email,auth:null===t||void 0===t?void 0:t.email}),onScreenshotClick:(t,a)=>e(N.f,{screenshots:[n.preview,...n.screenshots],key:a})()})})),(u&&0===u.getProjectsByIds.length||!u)&&r.a.createElement(M,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0430\u043f\u043a\u0443 \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438"))};var F=!0;t.default=({categories:e})=>{const t=Object(x.a)(),n=Object(o.useRouter)(),c=Object(i.c)((e=>e.user)),[d,u]=Object(a.useState)(),[p,b]=Object(a.useState)(),[m,g]=Object(a.useState)(T.d[0]),[j,E]=Object(a.useState)(!1),C=Object(a.useMemo)((()=>"ADMIN"===(null===c||void 0===c?void 0:c.account)),[c]),I=Object(a.useCallback)((()=>{switch(m.value){case"/projects":return r.a.createElement(X,{projects:c.projects});case"/liked":return r.a.createElement(X,{projects:c.likedProjects});default:return r.a.createElement(Z,null)}}),[m]);return Object(a.useEffect)((()=>{c.authenticated||n.push("/auth")}),[c]),c.authenticated?r.a.createElement(O.a,{title:c.authenticated?c.name||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},r.a.createElement(l.a,null,r.a.createElement(y.a,{user:c,onEdit:t(S.c,{user:c,canEditAccount:!C,mutations:{update:D.a.UPDATE_CLIENT_USER,del:D.a.DELETE_USER,changePassword:D.a.UPDATE_CLIENT_USER}}),onAboutMore:t(S.a,{user:c})}),r.a.createElement(s.b,{defaultValue:m,options:T.d,onChange:e=>g(e),stretch:!0}),r.a.createElement(_.a,{onChangeFilter:()=>E(!j)}),r.a.createElement(k.a,{isOpen:j,filters:[r.a.createElement(f.a,{key:"publishedAt",value:d,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:u,withNavigate:!0}),r.a.createElement(h.a,{key:"categories",options:e.map((e=>({value:e.id,label:e.name}))),placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:p,onChange:e=>b(e)})],options:w.a.project.map(((e,t)=>({label:e.header,value:t})))}),I())):r.a.createElement(U,null,r.a.createElement(v.a,null))}},e3uv:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("EJJs"),c=r.a.createElement,i=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){return c(o.a,{text:e.name||"-"})},width:"15%"},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return c(o.a,{text:e.description||"-"})},width:"70%"},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return c(o.a,{text:e.createdAt||"-"})},width:"15%"}],d=r.a.createElement,u=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return d(o.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return d(o.a,{text:e.body||"-"})}},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:function(e){var t;return d(o.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u0410\u0432\u0442\u043e\u0440",content:function(e){var t,n,a;return d(o.a,{img:null===(t=e.author)||void 0===t||null===(n=t.avatar)||void 0===n?void 0:n.path,text:(null===(a=e.author)||void 0===a?void 0:a.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:function(e){return d(o.a,{text:e.publishedAt||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return d(o.a,{text:e.createdAt||"-"})},hidden:!0}],l=r.a.createElement,s=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return l(o.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return l(o.a,{text:e.body||"-"})}},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:function(e){var t;return l(o.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",content:function(e){var t,n,a;return l(o.a,{img:null===(t=e.company)||void 0===t||null===(n=t.avatar)||void 0===n?void 0:n.path,text:(null===(a=e.company)||void 0===a?void 0:a.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:function(e){return l(o.a,{text:e.publishedAt||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return l(o.a,{text:e.createdAt||"-"})},hidden:!0}],p=r.a.createElement,f=[{header:"\u041d\u043e\u043c\u0435\u0440",content:function(e){return p(o.a,{text:e.token||"-"})}},{header:"\u0410\u0432\u0442\u043e\u0440",content:function(e){var t,n;return p(o.a,{img:null===(t=e.author)||void 0===t?void 0:t.avatar,text:(null===(n=e.author)||void 0===n?void 0:n.name)||"-"})}},{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return p(o.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",content:function(e){var t;return p(o.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",content:function(e){var t;return p(o.a,{text:(null===(t=e.messages)||void 0===t?void 0:t.length)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:function(e){return p(o.a,{text:e.createdAt||"-"})},hidden:!0}],h=r.a.createElement,b=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){return h(o.a,{text:e.name||"-"})},width:"15%"},{header:"\u041f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438",content:function(e){var t;return h(o.a,{text:(null===(t=e.permissions)||void 0===t?void 0:t.length)||"-"})},width:"75%"},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return h(o.a,{text:e.createdAt||"-"})},width:"10%"}],v=r.a.createElement,m=function(e){switch(e){case"ADMIN":return"\u0410\u0434\u043c\u0438\u043d";case"MODERATOR":return"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440";case"OFICIAL":return"\u041e\u0444. \u043b\u0438\u0446\u043e";case"ENTITY":return"\u042e\u0440. \u043b\u0438\u0446\u043e";default:return"\u0424\u0438\u0437. \u043b\u0438\u0446\u043e"}},g=i,j=u,w=s,x=f,E=b,O=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return v(o.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.name||"-"})}},{header:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",content:function(e){return v(o.a,{text:e.account&&m(e.account)||"-"})}},{header:"\u041e \u0441\u0435\u0431\u0435",content:function(e){return v(o.a,{text:e.about||"-"})}},{header:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",content:function(e){var t;return v(o.a,{text:(null===(t=e.projects)||void 0===t?void 0:t.length)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:function(e){return v(o.a,{text:e.createdAt||"-"})},hidden:!0}];t.a={category:g,article:j,project:w,ticket:x,role:E,user:O}},u1GD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n("W+IF")}])}},[["u1GD",0,2,1,3,4,5,6,7]]]);