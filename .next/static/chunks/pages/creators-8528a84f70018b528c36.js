_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{Aoc7:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return b}));var n=a("q1tI"),l=a.n(n),o=a("/MKj"),i=a("ZMKu"),r=a("ApjV"),c=a("QX5T"),s=a("TsNn"),u=a("586Q"),d=a("rP4V"),m=a("+EEm"),p=a("u2Cb");var b=!0;t.default=({store:e})=>{const t=Object(r.b)(),a=Object(o.c)((e=>e.user));return l.a.createElement(c.a,{title:"\u0410\u0432\u0442\u043e\u0440\u044b",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438"},{type:"SELECT",placeholder:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",options:null===e||void 0===e?void 0:e.companies.map((e=>({value:e.email,label:e.name})))}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438",value:"createdAt"}],query:p.a.GET_USERS,store:{documents:null===e||void 0===e?void 0:e.users}},(({documents:e})=>l.a.createElement(u.b,null,e.map((e=>{var n;const o=e.name===a.name;return l.a.createElement(i.a.div,{key:e.email,initial:"pageInitial",animate:"pageAnimate",variants:{pageInitial:{opacity:0},pageAnimate:{opacity:1}}},l.a.createElement(s.a,{user:e,owned:o,onChat:a.email&&t(m.a,{sender:a,recipient:e}),onAboutMore:t(d.a,{user:e}),onMembers:t(d.j,{id:null===e||void 0===e?void 0:e.email,auth:null===a||void 0===a?void 0:a.email}),onLink:t(d.i,{id:e.email,auth:null===a||void 0===a?void 0:a.email,owned:o}),onCompanyLink:t(d.i,{id:null===(n=e.company)||void 0===n?void 0:n.email,auth:null===a||void 0===a?void 0:a.email})}))})))))}},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),o=a("vOnD"),i=a("VX74"),r=a("7Cbv"),c=a("8CDE"),s=a("ZwIX"),u=a("wZgm"),d=a("auMy"),m=a("QclZ");const p=(e,t=0)=>{const[a,l]=Object(n.useState)(!1),o=()=>{const e=document.documentElement.scrollHeight-t,n=window.innerHeight,o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;a||n+o>=e||l(!0)};return Object(n.useEffect)((()=>{a&&e()}),[a]),Object(n.useEffect)((()=>(window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o))),[]),[a,l]};var b=a("X+Rt"),E=a("p9yE"),f=a("RoTl"),h=a("EYtC"),v=a("coMr"),w=a("586Q");const y=Object(o.c)(c.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(o.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:o,filters:c,options:g,research:O,scaffold:j,dashboard:C,variables:_={},limit:S=6,startOffset:T=6,bottomScrollOffset:A=450,children:I})=>{const x=C?E.a:b.a,[N,k]=Object(n.useState)(),[L,M]=Object(n.useState)(),[Q,X]=Object(n.useState)(null),[D,K]=Object(n.useState)(!1),[P,Z]=Object(n.useState)(T),[R,q]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[V,{data:z,loading:F,error:H,refetch:J}]=Object(i.useLazyQuery)(a),[Y,{data:G,loading:U,error:W,refetch:B}]=Object(i.useLazyQuery)(a),[$,ee]=p((async()=>{const e={..._,offset:P,limit:S};Q?await J(_):B?await B(e):await Y({variables:e}),Z((e=>e+S)),ee(!1)}),A),te=e=>{if(q([]),e)X(e),Z(T),V({variables:{..._,search:e,offset:0,limit:T}});else{const e={..._,offset:0,limit:S};X(null),Z(0),B?B(e):Y({variables:e})}};return Object(n.useEffect)((()=>{O&&te(O)}),[O]),Object(n.useEffect)((()=>{const e=!Q&&!U&&G||Q&&!F&&z;e&&q((t=>[...t,...e[Object.keys(e)[0]]]))}),[Q,U,F,G,z]),l.a.createElement(x,{title:e,scaffold:j},l.a.createElement(y,{clear:j||C},!j&&!C&&l.a.createElement(h.a,{onChangeFilter:()=>K(!D),onSubmit:te}),C&&o&&l.a.createElement(v.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>K(!D),onChangeDisplayMethod:o.onChangeDisplayMethod}),(c||g)&&l.a.createElement(f.a,{isOpen:D,filters:c.map((e=>{switch(e.type){case"DATEPICKER":return l.a.createElement(u.a,{key:Object(r.a)(),value:N,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:k,withNavigate:!0});case"SELECT":return l.a.createElement(m.a,{key:Object(r.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:L,onChange:e=>M(e)});default:return null}})),options:g}),l.a.createElement(I,{documents:R}),Q&&!F&&0===R.length&&l.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(Q&&H||!Q&&W)&&l.a.createElement(s.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(!W&&U||Q&&!H&&F||$)&&l.a.createElement(w.d,null,l.a.createElement(d.a,null)),!Q&&!U&&!F&&!H&&0===R.length&&l.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},ZtKI:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/creators",function(){return a("Aoc7")}])}},[["ZtKI",0,2,10,1,3,4,5,6,7,11]]]);