_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{"W+IF":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return ne}));var n=a("q1tI"),o=a.n(n),i=a("20a2"),l=a("vOnD"),c=a("/MKj"),r=a("VX74"),d=a("nShV"),s=a("8CDE"),p=a("OXt0"),u=a("ZwIX"),m=a("wZgm"),h=a("QclZ"),b=a("ZeZO"),f=a("auMy"),g=a("VWQm"),v=a("QUga"),E=a("feIE"),w=a("e3uv"),y=a("ApjV"),j=a("lphG"),_=a("X+Rt"),x=a("aBfq"),k=a("RKiZ"),O=a("7sPp"),C=a("V0nP"),I=a("DTT8"),N=a("ObTy");const P=Object(l.c)(d.b).withConfig({displayName:"UserBar__Wrap",componentId:"sc-17kd9nb-0"})(["width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),S=Object(l.c)(s.a).withConfig({displayName:"UserBar__Content",componentId:"sc-17kd9nb-1"})(["justify-content:space-between;grid-gap:0;width:100%;"]),A=Object(l.c)(C.a).withConfig({displayName:"UserBar__RoundedAvatar",componentId:"sc-17kd9nb-2"})(["width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}"]),D=l.c.div.withConfig({displayName:"UserBar__About",componentId:"sc-17kd9nb-3"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}"]),T=l.c.p.withConfig({displayName:"UserBar__More",componentId:"sc-17kd9nb-4"})(["color:var(--default-color-accent);cursor:pointer;"]),L=Object(l.c)(d.b).withConfig({displayName:"UserBar__Difinitions",componentId:"sc-17kd9nb-5"})(["flex-wrap:wrap;justify-content:space-between;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),R=Object(l.c)(b.a).withConfig({displayName:"UserBar__EditButton",componentId:"sc-17kd9nb-6"})(["font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}"]);var U=({user:e,onEdit:t,onAboutMore:a})=>{var n,i;return o.a.createElement(P,null,o.a.createElement(A,{src:(null===e||void 0===e||null===(n=e.avatar)||void 0===n?void 0:n.path)||"/images/avatar-default.png"}),o.a.createElement(S,null,o.a.createElement(x.a,{category:Object(N.e)(e.account)}),o.a.createElement(d.b,{style:{gridGap:"0 10px"}},o.a.createElement(O.a,{tag:"h3"},e.name),o.a.createElement(g.b,{place:"top",text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},o.a.createElement(R,{type:"button",kind:"icon",size:"xs",appearance:"clear",onClick:t},"\u0420\u0435\u0434."))),o.a.createElement(k.a,{style:{margin:"5px 0"}}),o.a.createElement(D,null,o.a.createElement(v.b,null,(null===e||void 0===e?void 0:e.about)||"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"),(null===e||void 0===e?void 0:e.about)&&(null===e||void 0===e?void 0:e.about.length)>135&&o.a.createElement(T,{onClick:a},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")),o.a.createElement(L,null,o.a.createElement(I.b,{icon:"chart",label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",text:(null===e||void 0===e?void 0:e.company)||0}),o.a.createElement(I.b,{icon:"work",label:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",text:(null===e||void 0===e||null===(i=e.projects)||void 0===i?void 0:i.length)||0}),o.a.createElement(I.b,{icon:"user2",label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438",text:(null===e||void 0===e?void 0:e.followers)||0}))))},B=a("RoTl"),z=a("EYtC"),M=a("1zqG"),V=a("Sza6"),G=a("8ihE"),X=a("IxyI"),Z=a("rP4V"),F=a("u2Cb"),J=a("wha1");const Q=l.c.aside.withConfig({displayName:"profile__Container",componentId:"sc-84d5hd-0"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(442px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fill,minmax(285px,1fr));}"]),W=Object(l.c)(d.b).withConfig({displayName:"profile__ContainerInProgress",componentId:"sc-84d5hd-1"})(["grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}"]),q=Object(l.c)(b.a).withConfig({displayName:"profile__CreateButton",componentId:"sc-84d5hd-2"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}"]),K=Object(l.c)(s.a).withConfig({displayName:"profile__Orginizer",componentId:"sc-84d5hd-3"})(["width:265px;"]),Y=Object(l.c)(g.b).withConfig({displayName:"profile__RemoveTooltip",componentId:"sc-84d5hd-4"})(["position:absolute;right:5px;display:none;"]),H=l.c.div.withConfig({displayName:"profile__ListItem",componentId:"sc-84d5hd-5"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);cursor:pointer;transition:all 150ms ease;","{display:flex;align-items:center;border-radius:var(--surface-border-radius);background:var(--ghost-color-background);width:100%;height:var(--input-height-s);padding:0 10px;transition:all 150ms ease;}&:hover{","{display:flex;}","{color:black;}}",""],v.a,Y,v.a,(({active:e})=>e&&Object(l.b)(["","{color:var(--default-color-accent);background:var(--default-color-accent-dim);}&:hover{","{color:var(--default-color-accent);}}"],v.a,v.a))),$=Object(l.c)(u.a).withConfig({displayName:"profile__AlertEmpty",componentId:"sc-84d5hd-6"})(["display:flex;justify-content:center;align-items:center;width:100%;"]),ee=l.c.div.withConfig({displayName:"profile__Loader",componentId:"sc-84d5hd-7"})(["display:flex;justify-content:center;width:100%;height:80px;"]),te=({projects:e})=>{const t=Object(y.b)(),a=Object(j.a)(),n=Object(c.c)((e=>e.user)),i=Object(c.b)();return e&&0===e.length?o.a.createElement(u.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"):o.a.createElement(Q,null,e&&e.length>0&&e.map((e=>{var l;return o.a.createElement(M.c,{owned:!0,key:e.id,project:e,liked:!!((null===n||void 0===n?void 0:n.likedProjects)||[]).find((t=>t.id===e.id)),onLike:a(F.a.LIKE_PROJECT,{id:e.id},(e=>i(Object(G.e)(e.data.likeProject)))),onLink:t(X.e,{id:e.id,auth:null===n||void 0===n?void 0:n.email,project:e,owned:!0}),onAdd:t(X.a,{id:e.id,project:e}),onCompanyLink:e.company&&t(Z.i,{id:null===(l=e.company)||void 0===l?void 0:l.email,auth:null===n||void 0===n?void 0:n.email}),onScreenshotClick:(a,n)=>t(X.f,{screenshots:[e.preview,...e.screenshots],key:n})()})})))},ae=()=>{const e=Object(y.b)(),{user:t,folder:a}=Object(c.c)((e=>({user:e.user,folder:e.root.folder}))),i=Object(c.b)(),[l,{data:d,loading:p,refetch:m}]=Object(r.useLazyQuery)(F.a.GET_PROJECTS_BY_IDS);return Object(n.useEffect)((()=>{if(!a&&null!==t&&void 0!==t&&t.folders&&t.folders.length>0){const e=t.folders[0];e.projects.length>0&&l({variables:{projects:e.projects.map((e=>e.id))}}),i(Object(V.k)(e))}}),[a,t,i,l]),o.a.createElement(W,null,o.a.createElement(K,null,t.folders&&t.folders.length>0?o.a.createElement(s.a,null,t.folders.map((t=>o.a.createElement(H,{key:t.id,active:a&&t.id===a.id,onClick:()=>(async e=>{m&&await m({projects:e.projects.map((e=>e.id))}),i(Object(V.k)(e))})(t)},o.a.createElement(v.b,null,t.name),o.a.createElement(Y,{place:"left",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},o.a.createElement(b.a,{type:"button",kind:"icon",size:"xs",disabled:p,onClick:e(Z.h,{id:t.id,mutation:F.a.DELETE_USER_FOLDER})},o.a.createElement(E.a,{size:"xs",icon:"delete",stroke:"white"}))))))):o.a.createElement(u.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0430\u043f\u043e\u043a \u043d\u0435\u0442"),o.a.createElement(q,{onClick:e(Z.g,{mutation:F.a.ADD_USER_FOLDER})},o.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"),o.a.createElement(E.a,{icon:"add",stroke:"white"}))),p&&o.a.createElement(f.a,null),d&&d.getProjectsByIds.length>0&&d.getProjectsByIds.map((a=>{var n;return o.a.createElement(M.c,{owned:!0,key:a.id,project:a,onLink:e(X.e,{id:a.id,project:a,auth:null===t||void 0===t?void 0:t.email,owned:!0}),onAdd:e(X.a,{project:a}),onCompanyLink:a.company&&e(Z.i,{id:null===(n=a.company)||void 0===n?void 0:n.email,auth:null===t||void 0===t?void 0:t.email}),onScreenshotClick:(t,n)=>e(X.f,{screenshots:[a.preview,...a.screenshots],key:n})()})})),(d&&0===d.getProjectsByIds.length||!d)&&o.a.createElement($,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0430\u043f\u043a\u0443 \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438"))};var ne=!0;t.default=({categories:e})=>{const t=Object(y.b)(),a=Object(i.useRouter)(),l=Object(c.c)((e=>e.user)),[r,d]=Object(n.useState)(),[u,b]=Object(n.useState)(),[g,v]=Object(n.useState)(J.d[0]),[E,j]=Object(n.useState)(!1),x=Object(n.useMemo)((()=>"ADMIN"===(null===l||void 0===l?void 0:l.account)),[l]),k=Object(n.useCallback)((()=>{switch(g.value){case"/projects":return o.a.createElement(te,{projects:l.projects});case"/liked":return o.a.createElement(te,{projects:l.likedProjects});default:return o.a.createElement(ae,null)}}),[g]);return Object(n.useEffect)((()=>{l.authenticated||a.push("/auth")}),[l]),l.authenticated?o.a.createElement(_.a,{title:l.authenticated?l.name||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},o.a.createElement(s.a,null,o.a.createElement(U,{user:l,onEdit:t(Z.c,{user:null===l||void 0===l?void 0:l.email,canEditAccount:!x,mutations:{update:F.a.UPDATE_CLIENT_USER,del:F.a.DELETE_USER,changePassword:F.a.UPDATE_CLIENT_USER}}),onAboutMore:t(Z.a,{user:l})}),o.a.createElement(p.b,{defaultValue:g,options:J.d,onChange:e=>v(e),stretch:!0}),o.a.createElement(z.a,{onChangeFilter:()=>j(!E)}),o.a.createElement(B.a,{isOpen:E,filters:[o.a.createElement(m.a,{key:"publishedAt",value:r,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:d,withNavigate:!0}),o.a.createElement(h.a,{key:"categories",options:e.map((e=>({value:e.id,label:e.name}))),placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:u,onChange:e=>b(e)})],options:w.a.project.map(((e,t)=>({label:e.header,value:t})))}),k())):o.a.createElement(ee,null,o.a.createElement(f.a,null))}},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])}},[["u1GD",0,2,1,3,4,5,6,7]]]);