_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{OaTT:function(e,t,a){"use strict";var l=a("q1tI"),n=a.n(l),r=a("VX74"),c=a("/MKj"),o=a("ZwIX"),i=a("auMy"),s=a("586Q"),u=a("VP1n"),d=a("UwjQ"),m=a("ApjV"),b=a("owvJ"),E=a("u2Cb");t.a=({variables:e,layout:t,initialList:a})=>{const f=Object(m.b)(),p=Object(c.c)((e=>e.user)),[h,v]=Object(l.useState)(a||[]),{data:O,loading:g,error:y}=a?{data:null,loading:!1,error:!1}:Object(r.useQuery)(E.a.GET_ARTICLES,{variables:e});return Object(l.useEffect)((()=>{!g&&O&&v(O.getArticles)}),[O,g]),Object(l.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&v(a)}),[a]),!g&&O||h.length>0?h.map((e=>{var a;return n.a.createElement(u.a,{key:e.id},n.a.createElement(d.a,{article:e,layout:t||"column",owned:null===p||void 0===p||null===(a=p.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:f(b.d,{id:e.id,auth:null===p||void 0===p?void 0:p.email})}))})):y?n.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):g?n.a.createElement(s.c,null,n.a.createElement(i.a,null)):n.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},QX5T:function(e,t,a){"use strict";var l=a("q1tI"),n=a.n(l),r=a("vOnD"),c=a("VX74"),o=a("7Cbv"),i=a("8CDE"),s=a("ZwIX"),u=a("wZgm"),d=a("auMy"),m=a("QclZ");const b=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[n,r]=Object(l.useState)(0);Object(l.useEffect)((()=>{const l=document.documentElement,c=()=>{if(!l)return;const c=l.scrollTop-n;t&&c>0&&l.scrollTop+l.clientHeight>=l.scrollHeight-a&&t(l.scrollTop,l.scrollHeight),e&&c<0&&l.scrollTop<=a&&e(l.scrollTop,l.scrollHeight),r(l.scrollTop)};return l&&window.addEventListener("scroll",c),()=>{l&&window.removeEventListener("scroll",c)}}),[e,t,a])};var E=a("X+Rt"),f=a("p9yE"),p=a("RoTl"),h=a("EYtC"),v=a("coMr"),O=a("586Q");const g=Object(r.c)(i.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(r.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:r,filters:i,options:y,research:w,scaffold:j,dashboard:T,variables:C={},limit:_=6,startOffset:S=6,initialize:A,children:L})=>{const x=T?f.a:E.a,[I,k]=Object(l.useState)(),[Q,D]=Object(l.useState)(),[N,X]=Object(l.useState)(null),[R,P]=Object(l.useState)(!1),[M,q]=Object(l.useState)(!1),[B,H]=Object(l.useState)(S),[V,Z]=Object(l.useState)((null===t||void 0===t?void 0:t.documents)||[]),[z,{data:J,loading:K,error:W,refetch:F}]=Object(c.useLazyQuery)(a),[G,{data:U,loading:Y,error:$,refetch:ee}]=Object(c.useLazyQuery)(a),te=e=>{if(Z([]),e)X(e),z({variables:{...C,search:e,offset:0,limit:S}});else{const e={...C,offset:0,limit:_};X(null),ee?ee(e):G({variables:e})}H(0)};return b({callbackOnBottom:async()=>{if(!Y&&!R){P(!0);const e={...C,offset:B,limit:_};N?await F(C):ee?(await ee(e),H((e=>e+_))):await G({variables:e}),P(!1)}},offset:850}),Object(l.useEffect)((()=>{A&&G({variables:{offset:B,limit:_}})}),[A]),Object(l.useEffect)((()=>{w&&te(w)}),[w]),Object(l.useEffect)((()=>{const e=!N&&!Y&&U||N&&!K&&J;e&&Z((t=>[...t,...e[Object.keys(e)[0]]]))}),[N,Y,K,U,J]),n.a.createElement(x,{title:e,scaffold:j},n.a.createElement(g,{clear:j||T},!j&&!T&&n.a.createElement(h.a,{onChangeFilter:()=>q(!M),onSubmit:te}),T&&r&&n.a.createElement(v.a,{title:e,icon:r.icon,buttonCreateText:r.buttonCreateText,onCreate:r.onCreate,onChangeVisibleFilter:()=>q(!M),onChangeDisplayMethod:r.onChangeDisplayMethod}),(i||y)&&n.a.createElement(p.a,{isOpen:M,filters:i.map((e=>{switch(e.type){case"DATEPICKER":return n.a.createElement(u.a,{key:Object(o.a)(),value:I,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:k,withNavigate:!0});case"SELECT":return n.a.createElement(m.a,{key:Object(o.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:Q,onChange:e=>D(e)});default:return null}})),options:y}),n.a.createElement(L,{documents:V}),N&&!K&&0===V.length&&n.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(N&&W||!N&&$)&&n.a.createElement(s.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(R||!$&&Y||N&&!W&&K)&&n.a.createElement(O.d,null,n.a.createElement(d.a,null)),!N&&!Y&&!K&&!W&&0===V.length&&n.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},hDBf:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return a("yRol")}])},yRol:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return u}));var l=a("q1tI"),n=a.n(l),r=a("NWnW"),c=a("QX5T"),o=a("586Q"),i=a("OaTT"),s=a("u2Cb");var u=!0;t.default=({store:e})=>n.a.createElement(c.a,{title:"\u0421\u0442\u0430\u0442\u044c\u0438",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{type:"SELECT",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(r.c)(e.name)})))}],options:[{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:"category"},{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",value:"createdAt"}],query:s.a.GET_ARTICLES,variables:{status:"PUBLISHED"},store:{documents:null===e||void 0===e?void 0:e.articles}},(({documents:e})=>n.a.createElement(o.b,null,n.a.createElement(i.a,{initialList:e,layout:!0}))))}},[["hDBf",0,2,1,3,4,5,6,7,9]]]);