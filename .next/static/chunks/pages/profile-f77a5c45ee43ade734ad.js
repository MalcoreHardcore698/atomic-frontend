_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{EYtC:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("vOnD"),o=a("nShV"),r=a("ZeZO"),c=a("feIE"),d=a("t7jn");const s=Object(l.c)(o.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),u=Object(l.c)(d.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),p=Object(l.c)(r.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(l.b)(["background:var(--default-color-accent);"])));t.a=({appearance:e,onChangeFilter:t,onSubmit:a})=>{const[l,o]=Object(n.useState)(!1);return i.a.createElement(s,null,i.a.createElement(u,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:a}),i.a.createElement(p,{type:"button",kind:"icon",onClick:()=>{o(!l),t&&t(!l)},visibleFilter:l},i.a.createElement(c.a,{icon:"filter2",stroke:l?"white":"var(--default-color-accent)"})))}},RoTl:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("vOnD"),o=a("8CDE"),r=a("nShV"),c=a("OXt0"),d=a("RKiZ"),s=a("hYBG");const u=Object(l.c)(o.a).withConfig({displayName:"FilterBar__Wrap",componentId:"sc-1lvfs1u-0"})(["display:flex;width:100%;&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 100ms,blur 100ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity 100ms,blur 100ms;}"]),p=Object(l.c)(r.b).withConfig({displayName:"FilterBar__List",componentId:"sc-1lvfs1u-1"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(256px,1fr));@media only screen and (max-width:480px){grid-gap:var(--default-gap);}"]),m=({isOpen:e=!0,filters:t,options:a,duration:n})=>i.a.createElement(s.a,{in:e,animation:"fade",timeout:n},i.a.createElement(u,null,i.a.createElement(d.a,{clear:!0}),t&&t.length>0&&i.a.createElement(p,null,t.map((e=>e))),a&&a.length>0&&i.a.createElement(r.b,null,i.a.createElement(c.b,{defaultValue:a[0],options:a,stretch:!0})),i.a.createElement(d.a,{clear:!0})));m.defaultProps={duration:150},t.a=m},VP1n:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("UUyv");t.a=Object(l.trackWindowScroll)((({children:e})=>i.a.createElement(l.LazyLoadComponent,null,e)))},"W+IF":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return ee}));var n=a("q1tI"),i=a.n(n),l=a("20a2"),o=a("vOnD"),r=a("/MKj"),c=a("VX74"),d=a("nShV"),s=a("8CDE"),u=a("OXt0"),p=a("ZwIX"),m=a("wZgm"),f=a("QclZ"),h=a("ZeZO"),b=a("auMy"),E=a("VWQm"),g=a("QUga"),v=a("feIE"),j=a("e3uv"),w=a("ApjV"),y=a("X+Rt"),_=a("aBfq"),x=a("RKiZ"),O=a("7sPp"),C=a("V0nP"),k=a("DTT8"),I=a("NWnW"),S=a("586Q");const N=Object(o.c)(d.b).withConfig({displayName:"UserBar__Wrap",componentId:"sc-17kd9nb-0"})(["width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),P=Object(o.c)(s.a).withConfig({displayName:"UserBar__Content",componentId:"sc-17kd9nb-1"})(["justify-content:space-between;grid-gap:0;width:100%;"]),D=Object(o.c)(C.a).withConfig({displayName:"UserBar__RoundedAvatar",componentId:"sc-17kd9nb-2"})(["width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}"]),R=o.c.div.withConfig({displayName:"UserBar__About",componentId:"sc-17kd9nb-3"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}"]),A=Object(o.c)(d.b).withConfig({displayName:"UserBar__Difinitions",componentId:"sc-17kd9nb-4"})(["flex-wrap:wrap;justify-content:space-between;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),L=Object(o.c)(h.a).withConfig({displayName:"UserBar__EditButton",componentId:"sc-17kd9nb-5"})(["font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}"]);var T=({user:e,onEdit:t,onAboutMore:a})=>{var n,l,o;return i.a.createElement(N,null,i.a.createElement(D,{src:(null===e||void 0===e||null===(n=e.avatar)||void 0===n?void 0:n.path)||"/images/avatar-default.png"}),i.a.createElement(P,null,i.a.createElement(_.a,{category:Object(I.f)(e.account)}),i.a.createElement(d.b,{style:{gridGap:"0 10px"}},i.a.createElement(O.a,{tag:"h3"},e.name),i.a.createElement(E.b,{place:"top",text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},i.a.createElement(L,{type:"button",kind:"icon",size:"xs",appearance:"clear",onClick:t},"\u0420\u0435\u0434."))),i.a.createElement(x.a,{style:{margin:"5px 0"}}),i.a.createElement(R,null,(null===e||void 0===e||null===(l=e.about)||void 0===l?void 0:l.length)>135?i.a.createElement(i.a.Fragment,null,i.a.createElement(g.b,null,e.about.slice(0,135),"..."),i.a.createElement(S.e,{onClick:a},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")):i.a.createElement(g.b,null,e.about||"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0431\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430")),i.a.createElement(A,null,i.a.createElement(k.b,{icon:"chart",label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",text:(null===e||void 0===e?void 0:e.company)||0}),i.a.createElement(k.b,{icon:"work",label:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",text:(null===e||void 0===e||null===(o=e.projects)||void 0===o?void 0:o.length)||0}),i.a.createElement(k.b,{icon:"user2",label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438",text:(null===e||void 0===e?void 0:e.followers)||0}))))},B=a("RoTl"),U=a("EYtC"),F=a("Sza6"),V=a("rP4V"),W=a("u2Cb"),z=a("wha1"),q=a("qF4B");const G=o.c.aside.withConfig({displayName:"profile__Container",componentId:"sc-84d5hd-0"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(442px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fill,minmax(285px,1fr));}"]),M=Object(o.c)(d.b).withConfig({displayName:"profile__ContainerInProgress",componentId:"sc-84d5hd-1"})(["grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}"]),Z=Object(o.c)(h.a).withConfig({displayName:"profile__CreateButton",componentId:"sc-84d5hd-2"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}"]),X=Object(o.c)(s.a).withConfig({displayName:"profile__Orginizer",componentId:"sc-84d5hd-3"})(["width:265px;"]),J=Object(o.c)(E.b).withConfig({displayName:"profile__RemoveTooltip",componentId:"sc-84d5hd-4"})(["position:absolute;right:5px;display:none;"]),Q=o.c.div.withConfig({displayName:"profile__ListItem",componentId:"sc-84d5hd-5"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);cursor:pointer;transition:all 150ms ease;","{display:flex;align-items:center;border-radius:var(--surface-border-radius);background:var(--ghost-color-background);width:100%;height:var(--input-height-s);padding:0 10px;transition:all 150ms ease;}&:hover{","{display:flex;}","{color:black;}}",""],g.a,J,g.a,(({active:e})=>e&&Object(o.b)(["","{color:var(--default-color-accent);background:var(--default-color-accent-dim);}&:hover{","{color:var(--default-color-accent);}}"],g.a,g.a))),K=Object(o.c)(p.a).withConfig({displayName:"profile__AlertEmpty",componentId:"sc-84d5hd-6"})(["display:flex;justify-content:center;align-items:center;width:100%;"]),Y=o.c.div.withConfig({displayName:"profile__Loader",componentId:"sc-84d5hd-7"})(["display:flex;justify-content:center;width:100%;height:80px;"]),H=({projects:e})=>i.a.createElement(G,null,i.a.createElement(q.a,{initialList:e})),$=()=>{const e=Object(w.b)(),{user:t,folder:a}=Object(r.c)((e=>({user:e.user,folder:e.root.folder}))),l=Object(r.b)(),[o,{data:d,loading:u,refetch:m}]=Object(c.useLazyQuery)(W.a.GET_PROJECTS_BY_IDS);return Object(n.useEffect)((()=>{if(!a&&null!==t&&void 0!==t&&t.folders&&t.folders.length>0){const e=t.folders[0];e.projects.length>0&&o({variables:{projects:e.projects.map((e=>e.id))}}),l(Object(F.j)(e))}}),[a,t,l,o]),i.a.createElement(M,null,i.a.createElement(X,null,t.folders&&t.folders.length>0?i.a.createElement(s.a,null,t.folders.map((t=>i.a.createElement(Q,{key:t.id,active:a&&t.id===a.id,onClick:()=>(async e=>{m&&await m({projects:e.projects.map((e=>e.id))}),l(Object(F.j)(e))})(t)},i.a.createElement(g.b,null,t.name),i.a.createElement(J,{place:"left",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},i.a.createElement(h.a,{type:"button",kind:"icon",size:"xs",disabled:u,onClick:e(V.h,{id:t.id,mutation:W.a.DELETE_USER_FOLDER})},i.a.createElement(v.a,{size:"xs",icon:"delete",stroke:"white"}))))))):i.a.createElement(p.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0430\u043f\u043e\u043a \u043d\u0435\u0442"),i.a.createElement(Z,{onClick:e(V.g,{mutation:W.a.ADD_USER_FOLDER})},i.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"),i.a.createElement(v.a,{icon:"add",stroke:"white"}))),u&&i.a.createElement(b.a,null),d&&d.getProjectsByIds.length>0&&i.a.createElement(q.a,{initialList:d.getProjectsByIds}),(d&&0===d.getProjectsByIds.length||!d)&&i.a.createElement(K,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0430\u043f\u043a\u0443 \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438"))};var ee=!0;t.default=({categories:e})=>{const t=Object(w.b)(),a=Object(l.useRouter)(),o=Object(r.c)((e=>e.user)),[c,d]=Object(n.useState)(),[p,h]=Object(n.useState)(),[E,g]=Object(n.useState)(z.c[0]),[v,_]=Object(n.useState)(!1),x=Object(n.useMemo)((()=>"ADMIN"===(null===o||void 0===o?void 0:o.account)),[o]),O=Object(n.useCallback)((()=>{switch(E.value){case"/projects":return i.a.createElement(H,{projects:o.projects});case"/liked":return i.a.createElement(H,{projects:o.likedProjects});default:return i.a.createElement($,null)}}),[E]);return Object(n.useEffect)((()=>{o.authenticated||a.push("/auth")}),[o]),o.authenticated?i.a.createElement(y.a,{title:o.authenticated?o.name||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},i.a.createElement(s.a,null,i.a.createElement(T,{user:o,onEdit:t(V.c,{user:null===o||void 0===o?void 0:o.email,canEditAccount:!x,mutations:{update:W.a.UPDATE_CLIENT_USER,del:W.a.DELETE_USER,changePassword:W.a.UPDATE_CLIENT_USER}}),onAboutMore:t(V.a,{user:o})}),i.a.createElement(u.b,{defaultValue:E,options:z.c,onChange:e=>g(e),stretch:!0}),i.a.createElement(U.a,{onChangeFilter:()=>_(!v)}),i.a.createElement(B.a,{isOpen:v,filters:[i.a.createElement(m.a,{key:"publishedAt",value:c,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:d,withNavigate:!0}),i.a.createElement(f.a,{key:"categories",options:e.map((e=>({value:e.id,label:e.name}))),placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:p,onChange:e=>h(e)})],options:j.a.project.map(((e,t)=>({label:e.header,value:t})))}),O())):i.a.createElement(Y,null,i.a.createElement(b.a,null))}},qF4B:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("vOnD"),o=a("VX74"),r=a("/MKj"),c=a("ZwIX"),d=a("auMy"),s=a("586Q"),u=a("VP1n"),p=a("1zqG"),m=a("ApjV"),f=a("lphG"),h=a("8ihE"),b=a("rP4V"),E=a("IxyI"),g=a("u2Cb");const v=l.c.div.withConfig({displayName:"ProjectList__Wrap",componentId:"zcwfmw-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]);t.a=({variables:e,layout:t,initialList:a})=>{const l=Object(m.b)(),j=Object(f.a)(),w=Object(r.c)((e=>e.user)),[y,_]=Object(n.useState)(a||[]),x=Object(r.b)(),{data:O,loading:C,error:k}=a?{data:null,loading:!1,error:!1}:Object(o.useQuery)(g.a.GET_PROJECTS,{variables:e});return Object(n.useEffect)((()=>{!C&&O&&_(O.getProjects)}),[O,C]),Object(n.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&_(a)}),[a]),i.a.createElement(v,null,!C&&O||y.length>0?y.map((e=>{var a,n,o;const r=null===w||void 0===w||null===(a=w.projects)||void 0===a?void 0:a.find((t=>t.id===e.id));return i.a.createElement(u.a,{key:e.id},i.a.createElement(p.c,{project:e,layout:t||"column",owned:r,added:!(null===w||void 0===w||null===(n=w.folders)||void 0===n||!n.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t.id===e.id)))))),liked:!!((null===w||void 0===w?void 0:w.likedProjects)||[]).find((t=>t.id===e.id)),onLink:l(E.e,{id:e.id,auth:null===w||void 0===w?void 0:w.email,liked:!!((null===w||void 0===w?void 0:w.likedProjects)||[]).find((t=>t.id===e.id)),onLike:w.email&&j(g.a.LIKE_PROJECT,{id:e.id},(e=>x(Object(h.e)(e.data.likeProject)))),onAdd:w.email&&l(E.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:g.a.ADD_USER_PROJECT,createFolder:g.a.ADD_USER_FOLDER}}),owned:r}),onLike:w.email&&j(g.a.LIKE_PROJECT,{id:e.id},(e=>x(Object(h.e)(e.data.likeProject)))),onAdd:w.email&&l(E.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:g.a.ADD_USER_PROJECT,createFolder:g.a.ADD_USER_FOLDER}}),onAboutMore:l(b.a,{user:e}),onCompanyLink:l(b.i,{id:null===(o=e.company)||void 0===o?void 0:o.email,auth:null===w||void 0===w?void 0:w.email,recipient:e.author,query:g.a.GET_USER_CHATS,mutation:g.a.SEND_MESSAGE}),onScreenshotClick:(t,a)=>l(E.f,{screenshots:[e.preview,...e.screenshots],key:a})()}))})):k?i.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):C?i.a.createElement(s.c,null,i.a.createElement(d.a,null)):i.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"))}},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])}},[["u1GD",0,2,1,3,4,5,6,8]]]);