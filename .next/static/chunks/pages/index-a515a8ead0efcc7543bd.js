_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{"20ex":function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),l=a("VX74"),r=a("/MKj"),o=a("ZwIX"),c=a("auMy"),d=a("586Q"),s=a("VP1n"),u=a("TsNn"),m=a("ApjV"),E=a("+EEm"),p=a("rP4V"),f=a("u2Cb");t.a=({variables:e,initialList:t})=>{const a=Object(m.b)(),b=Object(r.c)((e=>e.user)),[h,v]=Object(i.useState)(t||[]),{data:j,loading:O,error:g}=t?{data:null,loading:!1,error:!1}:Object(l.useQuery)(f.a.GET_USERS,{variables:e});return Object(i.useEffect)((()=>{!O&&j&&v(j.getUsers)}),[j,O]),Object(i.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&v(t)}),[t]),!O&&j||h.length>0?h.map((e=>{var t;const i=e.name===(null===b||void 0===b?void 0:b.name);return n.a.createElement(s.a,{key:e.email},n.a.createElement(u.a,{user:e,owned:i,onChat:b.email&&a(E.a,{sender:null===b||void 0===b?void 0:b.email,recipient:e.email,queries:{userChats:f.a.GET_USER_CHATS,chat:f.a.GET_CHAT},mutations:{addUserChat:f.a.ADD_USER_CHAT,sendMessage:f.a.SEND_MESSAGE}}),onLink:a(p.i,{id:e.email,auth:null===b||void 0===b?void 0:b.email,owned:i,queries:{userChats:f.a.GET_USER_CHATS,chat:f.a.GET_CHAT},mutations:{addUserChat:f.a.ADD_USER_CHAT,sendMessage:f.a.SEND_MESSAGE}}),onAboutMore:a(p.a,{user:e}),onMembers:a(p.j,{id:null===e||void 0===e?void 0:e.email,auth:null===b||void 0===b?void 0:b.email}),onCompanyLink:a(p.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===b||void 0===b?void 0:b.email,queries:{userChats:f.a.GET_USER_CHATS,chat:f.a.GET_CHAT},mutations:{addUserChat:f.a.ADD_USER_CHAT,sendMessage:f.a.SEND_MESSAGE}})}))})):g?n.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):O?n.a.createElement(d.c,null,n.a.createElement(c.a,null)):n.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u0410\u0432\u0442\u043e\u0440\u043e\u0432 \u043d\u0435\u0442")}},EYtC:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),l=a("vOnD"),r=a("nShV"),o=a("ZeZO"),c=a("feIE"),d=a("t7jn"),s=a("coMr");const u=Object(l.d)(r.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),m=Object(l.d)(d.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),E=Object(l.d)(o.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(l.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,defaultValue:a,onCreate:l,onChangeFilter:r,onSubmit:o})=>{const[d,p]=Object(i.useState)(!1);return n.a.createElement(u,null,n.a.createElement(m,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",defaultValue:a,onSubmit:o}),n.a.createElement(E,{type:"button",kind:"icon",onClick:()=>{p(!d),r&&r(!d)},visibleFilter:d},n.a.createElement(c.a,{icon:"filter2",stroke:d?"white":"var(--default-color-accent)"})),l&&n.a.createElement(s.a,{type:"button",onClick:l},n.a.createElement("span",null,t),n.a.createElement(c.a,{type:"button",icon:"add",stroke:"white"})))}},OaTT:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),l=a("VX74"),r=a("/MKj"),o=a("ZwIX"),c=a("auMy"),d=a("586Q"),s=a("VP1n"),u=a("UwjQ"),m=a("ApjV"),E=a("owvJ"),p=a("u2Cb");t.a=({variables:e,layout:t,initialList:a})=>{const f=Object(m.b)(),b=Object(r.c)((e=>e.user)),[h,v]=Object(i.useState)(a||[]),{data:j,loading:O,error:g}=a?{data:null,loading:!1,error:!1}:Object(l.useQuery)(p.a.GET_ARTICLES,{variables:e});return Object(i.useEffect)((()=>{!O&&j&&v(j.getArticles)}),[j,O]),Object(i.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&v(a)}),[a]),!O&&j||h.length>0?h.map((e=>{var a;return n.a.createElement(s.a,{key:e.id},n.a.createElement(u.b,{article:e,layout:t||"column",owned:null===b||void 0===b||null===(a=b.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:f(E.d,{id:e.id,auth:null===b||void 0===b?void 0:b.email}),withSocials:!0}))})):g?n.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):O?n.a.createElement(d.c,null,n.a.createElement(c.a,null)):n.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},QX5T:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),l=a("20a2"),r=a("vOnD"),o=a("VX74"),c=a("RotF"),d=a.n(c),s=a("7Cbv"),u=a("8CDE"),m=a("wZgm"),E=a("auMy"),p=a("QclZ"),f=a("X+Rt"),b=a("p9yE"),h=a("RoTl"),v=a("EYtC"),j=a("coMr"),O=a("586Q"),g=a("/MKj");const _=Object(r.d)(u.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(r.c)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:r,filters:c,options:u,scaffold:y,dashboard:C,variables:S={},limit:w=6,startOffset:k=6,initialize:T,children:A})=>{const R=Object(l.useRouter)(),D=Object(g.c)((e=>e.root.search)),P=C?b.a:f.a,[x,M]=Object(i.useState)(),[L,I]=Object(i.useState)(),[U,N]=Object(i.useState)(null),[V,q]=Object(i.useState)(!1),[G,F]=Object(i.useState)(k+1),[J,Q]=Object(i.useState)((null===t||void 0===t?void 0:t.documents)||[]),[X,H]=Object(i.useState)(!1),K=Object(i.useMemo)((()=>{var e;return Number(null===(e=R.query)||void 0===e?void 0:e.page)||1}),[R]),[B,{data:Z,loading:z,refetch:W}]=Object(o.useLazyQuery)(a),[Y,{data:$,loading:ee,refetch:te}]=Object(o.useLazyQuery)(a),ae=e=>{if(Q([]),e)N(e),B({variables:{...S,search:e,offset:0,limit:k*K}});else{const e={...S,offset:0,limit:w};N(null),te?te(e):Y({variables:e})}F(0)};return Object(i.useEffect)((()=>{T&&Y({variables:{offset:G,limit:w}})}),[T]),Object(i.useEffect)((()=>{D&&ae(D)}),[D]),Object(i.useEffect)((()=>{const e=!U&&!ee&&$||U&&!z&&Z;if(e){const t=e[Object.keys(e)[0]];t.length>0&&Q((e=>[...e,...t])),0===t.length&&H(!0)}}),[U,ee,z,$,Z,H]),n.a.createElement(P,{title:e,scaffold:y},n.a.createElement(_,{clear:y||C},!y&&!C&&n.a.createElement(v.a,{defaultValue:D||U,onChangeFilter:()=>q(!V),onSubmit:ae}),C&&r&&n.a.createElement(j.b,{title:e,icon:r.icon,buttonCreateText:r.buttonCreateText,onCreate:r.onCreate,onChangeVisibleFilter:()=>q(!V),onChangeDisplayMethod:r.onChangeDisplayMethod}),(c||u)&&n.a.createElement(h.a,{isOpen:V,filters:c.map((e=>{switch(e.type){case"DATEPICKER":return n.a.createElement(m.a,{key:Object(s.a)(),value:x,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:M,withNavigate:!0});case"SELECT":return n.a.createElement(p.a,{key:Object(s.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:L,onChange:e=>I(e)});default:return null}})),options:u}),U?"function"===typeof A?n.a.createElement(A,{documents:J}):A:n.a.createElement(d.a,{pageStart:K||0,loadMore:async e=>{const t={...S,offset:G,limit:w};U&&W?await W(S):te?(await te(t),F(w*e+k+1)):await Y({variables:t})},hasMore:!X,loader:n.a.createElement(O.d,{key:"loader"},n.a.createElement(E.a,null))},"function"===typeof A?n.a.createElement(A,{documents:J}):A)))}},RNiq:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return g}));var i=a("q1tI"),n=a.n(i),l=a("20a2"),r=a("vOnD"),o=a("/MKj"),c=a("7sPp"),d=a("qF4B"),s=a("OaTT"),u=a("20ex"),m=a("ApjV"),E=a("lphG"),p=a("QX5T"),f=a("8ihE"),b=a("IxyI"),h=a("rP4V"),v=a("u2Cb");const j=r.d.div.withConfig({displayName:"pages__Container",componentId:"sc-1kp8388-0"})(["display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;"," @media only screen and (max-width:1196px){grid-template-columns:1fr;}"],(({isSearch:e})=>e&&Object(r.c)(["grid-template-columns:1fr;"]))),O=r.d.aside.withConfig({displayName:"pages__Aside",componentId:"sc-1kp8388-1"})(["display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}"]);var g=!0;t.default=({store:e})=>{const t=Object(l.useRouter)(),a=Object(m.b)(),r=Object(E.a)(),{user:g,search:_}=Object(o.c)((e=>({user:e.user,search:e.root.search}))),y=Object(o.b)(),C=Object(i.useMemo)((()=>({title:e.scaffold.title,background:e.scaffold.background.path,primary:e.scaffold.primary,residues:e.scaffold.residues,onLink:(e,t)=>{var i;return a(b.e,{id:e.id,auth:null===g||void 0===g?void 0:g.email,added:!(null===g||void 0===g||null===(i=g.folders)||void 0===i||!i.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===g.email)),onLike:g.email&&r(v.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:g.email&&a(b.a,{id:e.id,folders:null===g||void 0===g?void 0:g.folders,mutations:{addProject:v.a.ADD_USER_PROJECT,createFolder:v.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};y(Object(f.c)(a))}}),owned:t})()},onLike:g.email&&(e=>r(v.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject))))()),onAdd:g.email&&(e=>a(b.a,{id:e.id,folders:null===g||void 0===g?void 0:g.folders,mutations:{addProject:v.a.ADD_USER_PROJECT,createFolder:v.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};y(Object(f.c)(a))}})()),onSearch:e=>t.push({pathname:t.pathname,query:{search:e}},void 0,{shallow:!0}),onAboutMore:e=>a(h.a,{user:e}),onCompanyLink:e=>{var t;return a(h.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:g})()},onScreenshotClick:(e,t)=>a(b.g,{screenshots:[e.preview,...e.screenshots],key:t})()})),[g,e,a,r,y]);return n.a.createElement(p.a,{title:"\u0410\u0442\u043e\u043c\u0438\u043a",limit:4,scaffold:C,startOffset:0,query:v.a.GET_PROJECTS,variables:{status:"PUBLISHED"},initialize:!0},(({documents:e})=>n.a.createElement(j,{isSearch:_},n.a.createElement(d.a,{initialList:e,layout:!0}),!_&&n.a.createElement(O,null,n.a.createElement(c.a,{tag:"h4"},"\u0410\u0432\u0442\u043e\u0440\u044b"),n.a.createElement(u.a,{variables:{offset:0,limit:1}}),n.a.createElement(c.a,{tag:"h4"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),n.a.createElement(s.a,{variables:{offset:0,limit:1}})))))}},qF4B:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),l=a("vOnD"),r=a("VX74"),o=a("/MKj"),c=a("ZwIX"),d=a("auMy"),s=a("586Q"),u=a("VP1n"),m=a("1zqG"),E=a("ApjV"),p=a("lphG"),f=a("8ihE"),b=a("rP4V"),h=a("IxyI"),v=a("u2Cb");const j=l.d.div.withConfig({displayName:"ProjectList__Wrap",componentId:"zcwfmw-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]),O=({variables:e,layout:t,eliminable:a,initialList:l,initialRefetch:O,emptyMessage:g})=>{const _=Object(E.b)(),y=Object(p.a)(),{user:C,folder:S}=Object(o.c)((e=>({user:e.user,folder:e.root.folder}))),[w,k]=Object(i.useState)(l||[]),T=Object(o.b)(),{data:A,loading:R,error:D}=l?{data:null,loading:!1,error:!1}:Object(r.useQuery)(v.a.GET_PROJECTS,{variables:e}),P=Object(i.useCallback)((e=>_(h.a,{id:e.id,folders:null===C||void 0===C?void 0:C.folders,mutations:{addProject:v.a.ADD_USER_PROJECT,createFolder:v.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};T(Object(f.c)(a))}})()),[C]),x=Object(i.useCallback)((e=>_(h.f,{id:e.id,folder:S,mutation:v.a.REMOVE_USER_PROJECT,callback:()=>O&&O(w.filter((t=>t.id!==e.id)).map((e=>e.id)))})()),[C]);return Object(i.useEffect)((()=>{!R&&A&&k(A.getProjects)}),[A,R]),Object(i.useEffect)((()=>{!R&&(null===l||void 0===l?void 0:l.length)>0&&k(l)}),[R,l]),n.a.createElement(j,null,w.length>0?w.map((e=>{var i,l,r,o;const c=null===C||void 0===C||null===(i=C.projects)||void 0===i?void 0:i.find((t=>t.id===e.id));return n.a.createElement(u.a,{key:e.id},n.a.createElement(m.c,{project:e,eliminable:a,layout:t||"column",owned:c,added:!(null===C||void 0===C||null===(l=C.folders)||void 0===l||!l.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===C.email)),onLink:_(h.e,{id:e.id,auth:null===C||void 0===C?void 0:C.email,added:!(null===C||void 0===C||null===(r=C.folders)||void 0===r||!r.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===C.email)),onLike:C.email&&y(v.a.LIKE_PROJECT,{id:e.id},(e=>T(Object(f.e)(e.data.likeProject)))),onAdd:C.email&&_(h.a,{id:e.id,folders:null===C||void 0===C?void 0:C.folders,mutations:{addProject:v.a.ADD_USER_PROJECT,createFolder:v.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};T(Object(f.c)(a))}}),owned:c}),onLike:C.email&&y(v.a.LIKE_PROJECT,{id:e.id},(e=>T(Object(f.e)(e.data.likeProject)))),onAdd:C.email&&(()=>P(e)),onRemove:C.email&&(()=>x(e)),onAboutMore:_(b.a,{user:e}),onCompanyLink:_(b.i,{id:null===(o=e.company)||void 0===o?void 0:o.email,auth:null===C||void 0===C?void 0:C.email,recipient:e.author,query:v.a.GET_USER_CHATS,mutation:v.a.SEND_MESSAGE}),onScreenshotClick:(t,a)=>_(h.g,{screenshots:[e.preview,...e.screenshots],key:a})(),withSocials:!0}))})):D?n.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):R?n.a.createElement(s.c,null,n.a.createElement(d.a,null)):n.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},g))};O.defaultProps={emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"},t.a=O},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",0,2,1,3,4,5,6,7,8]]]);