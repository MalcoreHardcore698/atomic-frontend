_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{QX5T:function(e,t,a){"use strict";var i=a("q1tI"),n=a.n(i),o=a("vOnD"),l=a("VX74"),r=a("7Cbv"),d=a("8CDE"),c=a("ZwIX"),s=a("wZgm"),u=a("auMy"),m=a("QclZ");const E=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[n,o]=Object(i.useState)(0);Object(i.useEffect)((()=>{const i=document.documentElement,l=()=>{if(!i)return;const l=i.scrollTop-n;t&&l>0&&i.scrollTop+i.clientHeight>=i.scrollHeight-a&&t(i.scrollTop,i.scrollHeight),e&&l<0&&i.scrollTop<=a&&e(i.scrollTop,i.scrollHeight),o(i.scrollTop)};return i&&window.addEventListener("scroll",l),()=>{i&&window.removeEventListener("scroll",l)}}),[e,t,a])};var p=a("X+Rt"),v=a("p9yE"),h=a("RoTl"),f=a("EYtC"),_=a("coMr"),g=a("586Q");const j=Object(o.c)(d.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(o.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:o,filters:d,options:b,research:C,scaffold:O,dashboard:S,variables:w={},limit:y=6,startOffset:T=6,children:k})=>{const A=S?v.a:p.a,[D,R]=Object(i.useState)(),[P,x]=Object(i.useState)(),[L,U]=Object(i.useState)(null),[N,M]=Object(i.useState)(!1),[I,H]=Object(i.useState)(T),[G,J]=Object(i.useState)((null===t||void 0===t?void 0:t.documents)||[]),[q,{data:F,loading:X,error:Q,refetch:K}]=Object(l.useLazyQuery)(a),[V,{data:Z,loading:z,error:B,refetch:W}]=Object(l.useLazyQuery)(a),Y=e=>{if(J([]),e)U(e),q({variables:{...w,search:e,offset:0,limit:T}});else{const e={...w,offset:0,limit:y};U(null),W?W(e):V({variables:e})}H(0)};return E({callbackOnBottom:()=>{const e=()=>H((e=>e+y));if(!z){const t={...w,offset:I,limit:y};L?K(w).then(e):W?W(t).then(e):V({variables:t})}},offset:850}),Object(i.useEffect)((()=>{C&&Y(C)}),[C]),Object(i.useEffect)((()=>{const e=!L&&!z&&Z||L&&!X&&F;e&&J((t=>[...t,...e[Object.keys(e)[0]]]))}),[L,z,X,Z,F]),n.a.createElement(A,{title:e,scaffold:O},n.a.createElement(j,{clear:O||S},!O&&!S&&n.a.createElement(f.a,{onChangeFilter:()=>M(!N),onSubmit:Y}),S&&o&&n.a.createElement(_.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>M(!N),onChangeDisplayMethod:o.onChangeDisplayMethod}),(d||b)&&n.a.createElement(h.a,{isOpen:N,filters:d.map((e=>{switch(e.type){case"DATEPICKER":return n.a.createElement(s.a,{key:Object(r.a)(),value:D,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:R,withNavigate:!0});case"SELECT":return n.a.createElement(m.a,{key:Object(r.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:P,onChange:e=>x(e)});default:return null}})),options:b}),n.a.createElement(k,{documents:G}),L&&!X&&0===G.length&&n.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(L&&Q||!L&&B)&&n.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(!B&&z||L&&!Q&&X)&&n.a.createElement(g.d,null,n.a.createElement(u.a,null)),!L&&!z&&!X&&!Q&&0===G.length&&n.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},RNiq:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return y}));var i=a("q1tI"),n=a.n(i),o=a("vOnD"),l=a("/MKj"),r=a("ZwIX"),d=a("7sPp"),c=a("ApjV"),s=a("lphG"),u=a("QX5T"),m=a("1zqG"),E=a("UwjQ"),p=a("TsNn"),v=a("VP1n"),h=a("07fs"),f=a("8ihE"),_=a("IxyI"),g=a("rP4V"),j=a("owvJ"),b=a("+EEm"),C=a("u2Cb");const O=o.c.div.withConfig({displayName:"pages__Container",componentId:"sc-1kp8388-0"})(["display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}"]),S=o.c.aside.withConfig({displayName:"pages__Projects",componentId:"sc-1kp8388-1"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]),w=o.c.aside.withConfig({displayName:"pages__Aside",componentId:"sc-1kp8388-2"})(["display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}"]);var y=!0;t.default=({store:e})=>{const t=Object(c.b)(),a=Object(s.a)(),o=Object(l.c)((e=>e.user)),y=Object(l.b)(),[T,k]=Object(i.useState)(null),{articles:A,users:D}=e,R=Object(i.useMemo)((()=>({title:"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439 \u0448\u043a\u043e\u043b\u0443 \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0441 \u043d\u0430\u043c\u0438",background:"/images/main-background.png",primary:e.projects.length>0&&e.projects[0],residue:e.projects.length>4&&e.projects.slice(1,3),onLink:(e,i)=>t(_.e,{id:e.id,auth:null===o||void 0===o?void 0:o.email,project:e,liked:!!((null===o||void 0===o?void 0:o.likedProjects)||[]).find((t=>t.id===e.id)),onLike:o.email&&a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:o.email&&t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}}),owned:i})(),onLike:o.email&&(e=>a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject))))()),onAdd:o.email&&(e=>t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}})()),onSearch:e=>k(e),onAboutMore:e=>t(g.a,{user:e}),onCompanyLink:e=>{var a;return t(g.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:o})()},onScreenshotClick:(e,a)=>t(_.f,{screenshots:[e.preview,...e.screenshots],key:a})()})),[e]);return n.a.createElement(u.a,{title:"\u0410\u0442\u043e\u043c\u0438\u043a",limit:5,research:T,scaffold:R,startOffset:13,query:C.a.GET_PROJECTS,variables:{status:"PUBLISHED"},store:{documents:null===e||void 0===e?void 0:e.projects}},(({documents:e})=>n.a.createElement(O,null,n.a.createElement(S,null,e.map((e=>{var i,l,r;const d=null===o||void 0===o||null===(i=o.projects)||void 0===i?void 0:i.find((t=>t.id===e.id));return n.a.createElement(h.a,{key:e.id},n.a.createElement(v.a,null,n.a.createElement(m.c,{project:e,owned:d,added:!(null===o||void 0===o||null===(l=o.folders)||void 0===l||!l.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t.id===e.id)))))),liked:!!((null===o||void 0===o?void 0:o.likedProjects)||[]).find((t=>t.id===e.id)),onLink:t(_.e,{id:e.id,auth:null===o||void 0===o?void 0:o.email,liked:!!((null===o||void 0===o?void 0:o.likedProjects)||[]).find((t=>t.id===e.id)),onLike:o.email&&a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:o.email&&t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}}),owned:d}),onLike:o.email&&a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:o.email&&t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}}),onAboutMore:t(g.a,{user:e}),onCompanyLink:t(g.i,{id:null===(r=e.company)||void 0===r?void 0:r.email,auth:null===o||void 0===o?void 0:o.email,recipient:e.author,query:C.a.GET_USER_CHATS,mutation:C.a.SEND_MESSAGE}),onScreenshotClick:(a,i)=>t(_.f,{screenshots:[e.preview,...e.screenshots],key:i})()})))}))),n.a.createElement(w,null,n.a.createElement(d.a,{tag:"h4"},"\u0410\u0432\u0442\u043e\u0440\u044b"),D.length>0?D.slice(0,3).map((e=>{var a;const i=e.name===(null===o||void 0===o?void 0:o.name);return n.a.createElement(h.a,{key:e.email},n.a.createElement(v.a,null,n.a.createElement(p.a,{user:e,owned:i,onChat:o.email&&t(b.a,{email:e.email,auth:null===o||void 0===o?void 0:o.email,queries:{userChats:C.a.GET_USER_CHATS,chat:C.a.GET_CHAT},mutations:{addUserChat:C.a.ADD_USER_CHAT,sendMessage:C.a.SEND_MESSAGE}}),onLink:t(g.i,{id:e.email,auth:null===o||void 0===o?void 0:o.email,owned:i,queries:{userChats:C.a.GET_USER_CHATS,chat:C.a.GET_CHAT},mutations:{addUserChat:C.a.ADD_USER_CHAT,sendMessage:C.a.SEND_MESSAGE}}),onAboutMore:t(g.a,{user:e}),onMembers:t(g.j,{id:null===e||void 0===e?void 0:e.email,auth:null===o||void 0===o?void 0:o.email}),onCompanyLink:t(g.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:null===o||void 0===o?void 0:o.email,queries:{userChats:C.a.GET_USER_CHATS,chat:C.a.GET_CHAT},mutations:{addUserChat:C.a.ADD_USER_CHAT,sendMessage:C.a.SEND_MESSAGE}})})))})):n.a.createElement(r.a,{style:{width:"100%",textAlign:"center"}},"\u0410\u0432\u0442\u043e\u0440\u043e\u0432 \u043d\u0435\u0442"),n.a.createElement(d.a,{tag:"h4"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),A.length>0?A.slice(0,2).map((e=>{var a;return n.a.createElement(h.a,{key:e.id},n.a.createElement(v.a,null,n.a.createElement(E.a,{layout:"column",article:e,owned:null===o||void 0===o||null===(a=o.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:t(j.d,{id:e.id,auth:null===o||void 0===o?void 0:o.email})})))})):n.a.createElement(r.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")))))}},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",0,2,1,3,4,5,6,7,9]]]);