_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{EYtC:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("vOnD"),c=a("nShV"),o=a("ZeZO"),i=a("feIE"),s=a("t7jn"),u=a("coMr");const d=Object(r.d)(c.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),b=Object(r.d)(s.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),m=Object(r.d)(o.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(r.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,onCreate:a,onChangeFilter:r,onSubmit:c})=>{const[o,s]=Object(n.useState)(!1);return l.a.createElement(d,null,l.a.createElement(b,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:c}),l.a.createElement(m,{type:"button",kind:"icon",onClick:()=>{s(!o),r&&r(!o)},visibleFilter:o},l.a.createElement(i.a,{icon:"filter2",stroke:o?"white":"var(--default-color-accent)"})),a&&l.a.createElement(u.a,{type:"button",onClick:a},l.a.createElement("span",null,t),l.a.createElement(i.a,{type:"button",icon:"add",stroke:"white"})))}},OaTT:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("VX74"),c=a("/MKj"),o=a("ZwIX"),i=a("auMy"),s=a("586Q"),u=a("VP1n"),d=a("UwjQ"),b=a("ApjV"),m=a("owvJ"),p=a("u2Cb");t.a=({variables:e,layout:t,initialList:a})=>{const f=Object(b.b)(),h=Object(c.c)((e=>e.user)),[E,v]=Object(n.useState)(a||[]),{data:j,loading:y,error:O}=a?{data:null,loading:!1,error:!1}:Object(r.useQuery)(p.a.GET_ARTICLES,{variables:e});return Object(n.useEffect)((()=>{!y&&j&&v(j.getArticles)}),[j,y]),Object(n.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&v(a)}),[a]),!y&&j||E.length>0?E.map((e=>{var a;return l.a.createElement(u.a,{key:e.id},l.a.createElement(d.b,{article:e,layout:t||"column",owned:null===h||void 0===h||null===(a=h.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:f(m.d,{id:e.id,auth:null===h||void 0===h?void 0:h.email}),withSocials:!0}))})):O?l.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):y?l.a.createElement(s.c,null,l.a.createElement(i.a,null)):l.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("20a2"),c=a("vOnD"),o=a("VX74"),i=a("RotF"),s=a.n(i),u=a("7Cbv"),d=a("8CDE"),b=a("wZgm"),m=a("auMy"),p=a("QclZ"),f=a("X+Rt"),h=a("p9yE"),E=a("RoTl"),v=a("EYtC"),j=a("coMr"),y=a("586Q"),O=a("/MKj");const g=Object(c.d)(d.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(c.c)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:c,filters:i,options:d,scaffold:w,dashboard:C,variables:S={},limit:_=6,startOffset:T=6,initialize:k,children:I})=>{const N=Object(r.useRouter)(),M=Object(O.c)((e=>e.root.search)),x=C?h.a:f.a,[D,L]=Object(n.useState)(),[Q,R]=Object(n.useState)(),[A,X]=Object(n.useState)(null),[q,B]=Object(n.useState)(!1),[F,P]=Object(n.useState)(T+1),[V,W]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[Z,K]=Object(n.useState)(!1),z=Object(n.useMemo)((()=>{var e;return Number(null===(e=N.query)||void 0===e?void 0:e.page)||1}),[N]),[J,{data:G,loading:U,refetch:Y}]=Object(o.useLazyQuery)(a),[H,{data:$,loading:ee,refetch:te}]=Object(o.useLazyQuery)(a),ae=e=>{if(W([]),e)X(e),J({variables:{...S,search:e,offset:0,limit:T*z}});else{const e={...S,offset:0,limit:_};X(null),te?te(e):H({variables:e})}P(0)};return Object(n.useEffect)((()=>{k&&H({variables:{offset:F,limit:_}})}),[k]),Object(n.useEffect)((()=>{M&&ae(M)}),[M]),Object(n.useEffect)((()=>{const e=!A&&!ee&&$||A&&!U&&G;if(e){const t=e[Object.keys(e)[0]];t.length>0&&W((e=>[...e,...t])),0===t.length&&K(!0)}}),[A,ee,U,$,G,K]),l.a.createElement(x,{title:e,scaffold:w},l.a.createElement(g,{clear:w||C},!w&&!C&&l.a.createElement(v.a,{onChangeFilter:()=>B(!q),onSubmit:ae}),C&&c&&l.a.createElement(j.b,{title:e,icon:c.icon,buttonCreateText:c.buttonCreateText,onCreate:c.onCreate,onChangeVisibleFilter:()=>B(!q),onChangeDisplayMethod:c.onChangeDisplayMethod}),(i||d)&&l.a.createElement(E.a,{isOpen:q,filters:i.map((e=>{switch(e.type){case"DATEPICKER":return l.a.createElement(b.a,{key:Object(u.a)(),value:D,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:L,withNavigate:!0});case"SELECT":return l.a.createElement(p.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:Q,onChange:e=>R(e)});default:return null}})),options:d}),l.a.createElement(s.a,{pageStart:z||0,loadMore:async e=>{const t={...S,offset:F,limit:_};A&&Y?await Y(S):te?(await te(t),P(_*e+T+1)):await H({variables:t})},hasMore:!Z,loader:l.a.createElement(y.d,{key:"loader"},l.a.createElement(m.a,null))},"function"===typeof I?l.a.createElement(I,{documents:V}):I)))}},hDBf:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return a("yRol")}])},yRol:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return u}));var n=a("q1tI"),l=a.n(n),r=a("NWnW"),c=a("QX5T"),o=a("586Q"),i=a("OaTT"),s=a("u2Cb");var u=!0;t.default=({store:e})=>l.a.createElement(c.a,{title:"\u0421\u0442\u0430\u0442\u044c\u0438",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{type:"SELECT",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(r.e)(e.name)})))}],options:[{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:"category"},{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",value:"createdAt"}],query:s.a.GET_ARTICLES,variables:{status:"PUBLISHED"},store:{documents:null===e||void 0===e?void 0:e.articles}},(({documents:e})=>l.a.createElement(o.b,null,l.a.createElement(i.a,{initialList:e,layout:!0}))))}},[["hDBf",0,2,1,3,4,5,6,7]]]);