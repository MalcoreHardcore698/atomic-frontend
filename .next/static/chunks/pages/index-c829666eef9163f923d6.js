_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{"20ex":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("VX74"),r=a("/MKj"),o=a("ZwIX"),c=a("auMy"),d=a("586Q"),s=a("VP1n"),u=a("TsNn"),m=a("ApjV"),E=a("+EEm"),p=a("rP4V"),v=a("u2Cb");t.a=({variables:e,initialList:t})=>{const a=Object(m.b)(),b=Object(r.c)((e=>e.user)),[f,h]=Object(n.useState)(t||[]),{data:j,loading:g,error:O}=t?{data:null,loading:!1,error:!1}:Object(l.useQuery)(v.a.GET_USERS,{variables:e});return Object(n.useEffect)((()=>{!g&&j&&h(j.getUsers)}),[j,g]),Object(n.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&h(t)}),[t]),!g&&j||f.length>0?f.map((e=>{var t;const n=e.name===(null===b||void 0===b?void 0:b.name);return i.a.createElement(s.a,{key:e.email},i.a.createElement(u.a,{user:e,owned:n,onChat:b.email&&a(E.a,{email:e.email,auth:null===b||void 0===b?void 0:b.email,queries:{userChats:v.a.GET_USER_CHATS,chat:v.a.GET_CHAT},mutations:{addUserChat:v.a.ADD_USER_CHAT,sendMessage:v.a.SEND_MESSAGE}}),onLink:a(p.i,{id:e.email,auth:null===b||void 0===b?void 0:b.email,owned:n,queries:{userChats:v.a.GET_USER_CHATS,chat:v.a.GET_CHAT},mutations:{addUserChat:v.a.ADD_USER_CHAT,sendMessage:v.a.SEND_MESSAGE}}),onAboutMore:a(p.a,{user:e}),onMembers:a(p.j,{id:null===e||void 0===e?void 0:e.email,auth:null===b||void 0===b?void 0:b.email}),onCompanyLink:a(p.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===b||void 0===b?void 0:b.email,queries:{userChats:v.a.GET_USER_CHATS,chat:v.a.GET_CHAT},mutations:{addUserChat:v.a.ADD_USER_CHAT,sendMessage:v.a.SEND_MESSAGE}})}))})):O?i.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):g?i.a.createElement(d.c,null,i.a.createElement(c.a,null)):i.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u0410\u0432\u0442\u043e\u0440\u043e\u0432 \u043d\u0435\u0442")}},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("vOnD"),r=a("nShV"),o=a("ZeZO"),c=a("feIE"),d=a("t7jn");const s=Object(l.c)(r.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),u=Object(l.c)(d.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),m=Object(l.c)(o.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(l.b)(["background:var(--default-color-accent);"])));t.a=({appearance:e,onChangeFilter:t,onSubmit:a})=>{const[l,r]=Object(n.useState)(!1);return i.a.createElement(s,null,i.a.createElement(u,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:a}),i.a.createElement(m,{type:"button",kind:"icon",onClick:()=>{r(!l),t&&t(!l)},visibleFilter:l},i.a.createElement(c.a,{icon:"filter2",stroke:l?"white":"var(--default-color-accent)"})))}},OaTT:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("VX74"),r=a("/MKj"),o=a("ZwIX"),c=a("auMy"),d=a("586Q"),s=a("VP1n"),u=a("UwjQ"),m=a("ApjV"),E=a("owvJ"),p=a("u2Cb");t.a=({variables:e,layout:t,initialList:a})=>{const v=Object(m.b)(),b=Object(r.c)((e=>e.user)),[f,h]=Object(n.useState)(a||[]),{data:j,loading:g,error:O}=a?{data:null,loading:!1,error:!1}:Object(l.useQuery)(p.a.GET_ARTICLES,{variables:e});return Object(n.useEffect)((()=>{!g&&j&&h(j.getArticles)}),[j,g]),Object(n.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&h(a)}),[a]),!g&&j||f.length>0?f.map((e=>{var a;return i.a.createElement(s.a,{key:e.id},i.a.createElement(u.b,{article:e,layout:t||"column",owned:null===b||void 0===b||null===(a=b.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:v(E.d,{id:e.id,auth:null===b||void 0===b?void 0:b.email})}))})):O?i.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):g?i.a.createElement(d.c,null,i.a.createElement(c.a,null)):i.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("vOnD"),r=a("VX74"),o=a("7Cbv"),c=a("8CDE"),d=a("ZwIX"),s=a("wZgm"),u=a("auMy"),m=a("QclZ");const E=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[i,l]=Object(n.useState)(0);Object(n.useEffect)((()=>{const n=document.documentElement,r=()=>{if(!n)return;const r=n.scrollTop-i;t&&r>0&&n.scrollTop+n.clientHeight>=n.scrollHeight-a&&t(n.scrollTop,n.scrollHeight),e&&r<0&&n.scrollTop<=a&&e(n.scrollTop,n.scrollHeight),l(n.scrollTop)};return n&&window.addEventListener("scroll",r),()=>{n&&window.removeEventListener("scroll",r)}}),[e,t,a])};var p=a("X+Rt"),v=a("p9yE"),b=a("RoTl"),f=a("EYtC"),h=a("coMr"),j=a("586Q");const g=Object(l.c)(c.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(l.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:l,filters:c,options:O,research:_,scaffold:w,dashboard:y,variables:S={},limit:C=6,startOffset:T=6,initialize:A,children:k})=>{const D=y?v.a:p.a,[R,x]=Object(n.useState)(),[P,L]=Object(n.useState)(),[I,M]=Object(n.useState)(null),[U,N]=Object(n.useState)(!1),[G,q]=Object(n.useState)(!1),[F,V]=Object(n.useState)(T),[H,J]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[Q,{data:X,loading:B,error:K,refetch:Z}]=Object(r.useLazyQuery)(a),[z,{data:W,loading:Y,error:$,refetch:ee}]=Object(r.useLazyQuery)(a),te=e=>{if(J([]),e)M(e),Q({variables:{...S,search:e,offset:0,limit:T}});else{const e={...S,offset:0,limit:C};M(null),ee?ee(e):z({variables:e})}V(0)};return E({callbackOnBottom:async()=>{if(!Y&&!U){N(!0);const e={...S,offset:F,limit:C};I?await Z(S):ee?(await ee(e),V((e=>e+C))):await z({variables:e}),N(!1)}},offset:850}),Object(n.useEffect)((()=>{A&&z({variables:{offset:F,limit:C}})}),[A]),Object(n.useEffect)((()=>{_&&te(_)}),[_]),Object(n.useEffect)((()=>{const e=!I&&!Y&&W||I&&!B&&X;e&&J((t=>[...t,...e[Object.keys(e)[0]]]))}),[I,Y,B,W,X]),i.a.createElement(D,{title:e,scaffold:w},i.a.createElement(g,{clear:w||y},!w&&!y&&i.a.createElement(f.a,{onChangeFilter:()=>q(!G),onSubmit:te}),y&&l&&i.a.createElement(h.a,{title:e,icon:l.icon,buttonCreateText:l.buttonCreateText,onCreate:l.onCreate,onChangeVisibleFilter:()=>q(!G),onChangeDisplayMethod:l.onChangeDisplayMethod}),(c||O)&&i.a.createElement(b.a,{isOpen:G,filters:c.map((e=>{switch(e.type){case"DATEPICKER":return i.a.createElement(s.a,{key:Object(o.a)(),value:R,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:x,withNavigate:!0});case"SELECT":return i.a.createElement(m.a,{key:Object(o.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:P,onChange:e=>L(e)});default:return null}})),options:O}),i.a.createElement(k,{documents:H}),I&&!B&&0===H.length&&i.a.createElement(d.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(I&&K||!I&&$)&&i.a.createElement(d.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(U||!$&&Y||I&&!K&&B)&&i.a.createElement(j.d,null,i.a.createElement(u.a,null)),!I&&!Y&&!B&&!K&&0===H.length&&i.a.createElement(d.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},RNiq:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return g}));var n=a("q1tI"),i=a.n(n),l=a("vOnD"),r=a("/MKj"),o=a("7sPp"),c=a("qF4B"),d=a("OaTT"),s=a("20ex"),u=a("ApjV"),m=a("lphG"),E=a("QX5T"),p=a("8ihE"),v=a("IxyI"),b=a("rP4V"),f=a("u2Cb");const h=l.c.div.withConfig({displayName:"pages__Container",componentId:"sc-1kp8388-0"})(["display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}"]),j=l.c.aside.withConfig({displayName:"pages__Aside",componentId:"sc-1kp8388-1"})(["display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}"]);var g=!0;t.default=({store:e})=>{const t=Object(u.b)(),a=Object(m.a)(),[l,g]=Object(n.useState)(null),O=Object(r.c)((e=>e.user)),_=Object(r.b)(),w=Object(n.useMemo)((()=>{var n,i;return{title:"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439 \u0448\u043a\u043e\u043b\u0443 \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0441 \u043d\u0430\u043c\u0438",background:"/images/main-background.png",primary:(null===(n=e.projects)||void 0===n?void 0:n.length)>0&&e.projects[0],residue:3===(null===(i=e.projects)||void 0===i?void 0:i.length)&&e.projects.slice(1,3),onLink:(e,n)=>t(v.e,{id:e.id,auth:null===O||void 0===O?void 0:O.email,project:e,liked:!!((null===O||void 0===O?void 0:O.likedProjects)||[]).find((t=>t.id===e.id)),onLike:O.email&&a(f.a.LIKE_PROJECT,{id:e.id},(e=>_(Object(p.e)(e.data.likeProject)))),onAdd:O.email&&t(v.a,{id:e.id,project:e,folders:null===O||void 0===O?void 0:O.folders,mutations:{addProject:f.a.ADD_USER_PROJECT,createFolder:f.a.ADD_USER_FOLDER}}),owned:n})(),onLike:O.email&&(e=>a(f.a.LIKE_PROJECT,{id:e.id},(e=>_(Object(p.e)(e.data.likeProject))))()),onAdd:O.email&&(e=>t(v.a,{id:e.id,project:e,folders:null===O||void 0===O?void 0:O.folders,mutations:{addProject:f.a.ADD_USER_PROJECT,createFolder:f.a.ADD_USER_FOLDER}})()),onSearch:e=>g(e),onAboutMore:e=>t(b.a,{user:e}),onCompanyLink:e=>{var a;return t(b.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:O})()},onScreenshotClick:(e,a)=>t(v.f,{screenshots:[e.preview,...e.screenshots],key:a})()}}),[]);return i.a.createElement(E.a,{title:"\u0410\u0442\u043e\u043c\u0438\u043a",limit:5,research:l,scaffold:w,startOffset:13,query:f.a.GET_PROJECTS,variables:{status:"PUBLISHED"},initialize:!0},(({documents:e})=>i.a.createElement(h,null,i.a.createElement(c.a,{initialList:e,layout:!0}),i.a.createElement(j,null,i.a.createElement(o.a,{tag:"h4"},"\u0410\u0432\u0442\u043e\u0440\u044b"),i.a.createElement(s.a,{variables:{offset:0,limit:3}}),i.a.createElement(o.a,{tag:"h4"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),i.a.createElement(d.a,{variables:{offset:0,limit:2}})))))}},qF4B:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),l=a("vOnD"),r=a("VX74"),o=a("/MKj"),c=a("ZwIX"),d=a("auMy"),s=a("586Q"),u=a("VP1n"),m=a("1zqG"),E=a("ApjV"),p=a("lphG"),v=a("8ihE"),b=a("rP4V"),f=a("IxyI"),h=a("u2Cb");const j=l.c.div.withConfig({displayName:"ProjectList__Wrap",componentId:"zcwfmw-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]);t.a=({variables:e,layout:t,initialList:a})=>{const l=Object(E.b)(),g=Object(p.a)(),O=Object(o.c)((e=>e.user)),[_,w]=Object(n.useState)(a||[]),y=Object(o.b)(),{data:S,loading:C,error:T}=a?{data:null,loading:!1,error:!1}:Object(r.useQuery)(h.a.GET_PROJECTS,{variables:e});return Object(n.useEffect)((()=>{!C&&S&&w(S.getProjects)}),[S,C]),Object(n.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&w(a)}),[a]),i.a.createElement(j,null,!C&&S||_.length>0?_.map((e=>{var a,n,r;const o=null===O||void 0===O||null===(a=O.projects)||void 0===a?void 0:a.find((t=>t.id===e.id));return i.a.createElement(u.a,{key:e.id},i.a.createElement(m.c,{project:e,layout:t||"column",owned:o,added:!(null===O||void 0===O||null===(n=O.folders)||void 0===n||!n.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t.id===e.id)))))),liked:!!((null===O||void 0===O?void 0:O.likedProjects)||[]).find((t=>t.id===e.id)),onLink:l(f.e,{id:e.id,auth:null===O||void 0===O?void 0:O.email,liked:!!((null===O||void 0===O?void 0:O.likedProjects)||[]).find((t=>t.id===e.id)),onLike:O.email&&g(h.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(v.e)(e.data.likeProject)))),onAdd:O.email&&l(f.a,{id:e.id,folders:null===O||void 0===O?void 0:O.folders,mutations:{addProject:h.a.ADD_USER_PROJECT,createFolder:h.a.ADD_USER_FOLDER}}),owned:o}),onLike:O.email&&g(h.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(v.e)(e.data.likeProject)))),onAdd:O.email&&l(f.a,{id:e.id,folders:null===O||void 0===O?void 0:O.folders,mutations:{addProject:h.a.ADD_USER_PROJECT,createFolder:h.a.ADD_USER_FOLDER}}),onAboutMore:l(b.a,{user:e}),onCompanyLink:l(b.i,{id:null===(r=e.company)||void 0===r?void 0:r.email,auth:null===O||void 0===O?void 0:O.email,recipient:e.author,query:h.a.GET_USER_CHATS,mutation:h.a.SEND_MESSAGE}),onScreenshotClick:(t,a)=>l(f.f,{screenshots:[e.preview,...e.screenshots],key:a})()}))})):T?i.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):C?i.a.createElement(s.c,null,i.a.createElement(d.a,null)):i.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"))}},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("RNiq")}])}},[["vlRD",0,2,1,3,4,5,6,7]]]);