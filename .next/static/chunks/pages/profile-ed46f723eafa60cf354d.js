_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{"4yYH":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("+nv6"),r=a("EJJs"),l=i.a.createElement,c=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){return l(r.a,{text:e.name||"-"})},width:"15%"},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return l(r.a,{text:e.description||"-"})},width:"70%"},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return l(r.a,{text:l(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},width:"15%"}];t.a=c},"809X":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("+nv6"),r=a("EJJs"),l=i.a.createElement,c=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){return l(r.a,{text:e.name||"-"})},width:"15%"},{header:"\u041f\u0440\u0438\u0432\u0435\u043b\u0435\u0433\u0438\u0438",content:function(e){var t;return l(r.a,{text:(null===(t=e.permissions)||void 0===t?void 0:t.length)||"-"})},width:"75%"},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return l(r.a,{text:l(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},width:"10%"}];t.a=c},EAWL:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("+nv6"),r=a("EJJs"),l=i.a.createElement,c=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return l(r.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return l(r.a,{text:e.body||"-"})}},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:function(e){var t;return l(r.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u0410\u0432\u0442\u043e\u0440",content:function(e){var t,a,n;return l(r.a,{img:null===(t=e.author)||void 0===t||null===(a=t.avatar)||void 0===a?void 0:a.path,text:(null===(n=e.author)||void 0===n?void 0:n.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:function(e){return l(r.a,{text:e.publishedAt||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return l(r.a,{text:l(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}];t.a=c},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("vOnD"),r=a("nShV"),l=a("ZeZO"),c=a("feIE"),d=a("t7jn"),u=a("coMr");const s=Object(o.d)(r.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),m=Object(o.d)(d.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),v=Object(o.d)(l.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(o.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,defaultValue:a,onCreate:o,onChangeFilter:r,onSubmit:l})=>{const[d,p]=Object(n.useState)(!1);return i.a.createElement(s,null,i.a.createElement(m,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",defaultValue:a,onSubmit:l}),i.a.createElement(v,{type:"button",kind:"icon",onClick:()=>{p(!d),r&&r(!d)},visibleFilter:d},i.a.createElement(c.a,{icon:"filter2",stroke:d?"white":"var(--default-color-accent)"})),o&&i.a.createElement(u.a,{type:"button",onClick:o},i.a.createElement("span",null,t),i.a.createElement(c.a,{type:"button",icon:"add",stroke:"white"})))}},OaTT:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("VX74"),r=a("/MKj"),l=a("ZwIX"),c=a("auMy"),d=a("586Q"),u=a("VP1n"),s=a("UwjQ"),m=a("ApjV"),v=a("owvJ"),p=a("u2Cb");t.a=({variables:e,layout:t,initialList:a})=>{const h=Object(m.b)(),E=Object(r.c)((e=>e.user)),[b,f]=Object(n.useState)(a||[]),{data:g,loading:j,error:y}=a?{data:null,loading:!1,error:!1}:Object(o.useQuery)(p.a.GET_ARTICLES,{variables:e});return Object(n.useEffect)((()=>{!j&&g&&f(g.getArticles)}),[g,j]),Object(n.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&f(a)}),[a]),!j&&g||b.length>0?b.map((e=>{var a;return i.a.createElement(u.a,{key:e.id},i.a.createElement(s.a,{article:e,layout:t||"column",owned:null===E||void 0===E||null===(a=E.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:h(v.d,{id:e.id,auth:null===E||void 0===E?void 0:E.email}),withSocials:!0}))})):y?i.a.createElement(l.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):j?i.a.createElement(d.c,null,i.a.createElement(c.a,null)):i.a.createElement(l.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},"W+IF":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return pe}));var n=a("q1tI"),i=a.n(n),o=a("20a2"),r=a("vOnD"),l=a("/MKj"),c=a("VX74"),d=a("nShV"),u=a("8CDE"),s=a("OXt0"),m=a("ZwIX"),v=a("feIE"),p=a("DTT8"),h=a("wZgm"),E=a("QclZ"),b=a("ZeZO"),f=a("auMy"),g=a("VWQm"),j=a("QUga"),y=a("4yYH"),O=a("EAWL"),w=a("+nv6"),x=a("EJJs"),_=i.a.createElement,C=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return _(x.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",content:function(e){return _(x.a,{text:e.body||"-"})}},{header:"\u0420\u0430\u0437\u0434\u0435\u043b",content:function(e){var t;return _(x.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",content:function(e){var t,a,n;return _(x.a,{img:null===(t=e.company)||void 0===t||null===(a=t.avatar)||void 0===a?void 0:a.path,text:(null===(n=e.company)||void 0===n?void 0:n.name)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",content:function(e){return _(x.a,{text:_(w.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",content:function(e){return _(x.a,{text:_(w.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}],k=a("zQKW"),S=a("809X"),I=a("oFhP"),T={category:y.a,article:O.a,project:C,ticket:k.a,role:S.a,user:I.a},A=a("NWnW"),R=a("ApjV"),P=a("X+Rt"),L=a("aBfq"),N=a("RKiZ"),D=a("7sPp"),U=a("V0nP"),J=a("nh0P"),M=a("586Q");function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const F=Object(r.d)(d.b).withConfig({displayName:"UserBar__Wrap",componentId:"sc-17kd9nb-0"})(["width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),G=Object(r.d)(u.a).withConfig({displayName:"UserBar__Content",componentId:"sc-17kd9nb-1"})(["justify-content:space-between;grid-gap:0;width:100%;"]),B=Object(r.d)(U.a).withConfig({displayName:"UserBar__RoundedAvatar",componentId:"sc-17kd9nb-2"})(["width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}"]),z=r.d.div.withConfig({displayName:"UserBar__About",componentId:"sc-17kd9nb-3"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}"]),q=Object(r.d)(d.b).withConfig({displayName:"UserBar__Difinitions",componentId:"sc-17kd9nb-4"})(["flex-wrap:wrap;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),Q=Object(r.d)(b.a).withConfig({displayName:"UserBar__EditButton",componentId:"sc-17kd9nb-5"})(["font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}"]);var W=({user:e,onEdit:t,onAboutMore:a,onCompanyLink:n,onMembers:o})=>{var r,l,c,u,s,m;return i.a.createElement(F,null,i.a.createElement(B,{src:(null===e||void 0===e||null===(r=e.avatar)||void 0===r?void 0:r.path)||"/images/avatar-default.png"}),i.a.createElement(G,null,i.a.createElement(p.b,null,i.a.createElement(L.a,{category:Object(A.g)(e.account)}),Object(J.c)(e)&&i.a.createElement(J.a,null)),i.a.createElement(d.b,{style:{gridGap:"0 10px"}},i.a.createElement(D.a,{tag:"h3"},e.name),i.a.createElement(g.b,{place:"top",text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},i.a.createElement(Q,{type:"button",kind:"icon",size:"xs",appearance:"clear",onClick:t},"\u0420\u0435\u0434."))),i.a.createElement(N.a,{style:{margin:"5px 0"}}),i.a.createElement(z,null,(null===e||void 0===e||null===(l=e.about)||void 0===l?void 0:l.length)>135?i.a.createElement(i.a.Fragment,null,i.a.createElement(j.b,null,e.about.slice(0,135),"..."),i.a.createElement(M.e,{onClick:a},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")):i.a.createElement(j.b,null,e.about||"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0431\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430")),i.a.createElement(q,null,"ENTITY"===e.account?i.a.createElement(p.d,{icon:"user2",label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",text:e.members,onLink:o}):i.a.createElement(p.d,V({},e.company?{img:null===(c=e.company)||void 0===c||null===(u=c.avatar)||void 0===u?void 0:u.path}:{icon:"work"},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",text:(null===(s=e.company)||void 0===s?void 0:s.name)||"-",onLink:n})),i.a.createElement(p.d,{icon:"work",label:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",text:(null===e||void 0===e||null===(m=e.projects)||void 0===m?void 0:m.length)||0}))))},X=a("RoTl"),K=a("EYtC"),Z=a("qF4B"),Y=a("OaTT"),H=a("8ihE"),$=a("Sza6"),ee=a("rP4V"),te=a("IxyI"),ae=a("owvJ"),ne=a("u2Cb"),ie=a("wha1");const oe=Object(r.d)(d.b).withConfig({displayName:"profile__ContainerInProgress",componentId:"sc-84d5hd-0"})(["grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}"]),re=Object(r.d)(b.a).withConfig({displayName:"profile__CreateButton",componentId:"sc-84d5hd-1"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}"]),le=Object(r.d)(u.a).withConfig({displayName:"profile__Organizer",componentId:"sc-84d5hd-2"})(["width:265px;min-width:265px;"]),ce=Object(r.d)(g.b).withConfig({displayName:"profile__RemoveTooltip",componentId:"sc-84d5hd-3"})(["position:absolute;right:8px;z-index:var(--z-11);display:none;"]),de=Object(r.d)(m.a).withConfig({displayName:"profile__CentralAlert",componentId:"sc-84d5hd-4"})(["display:flex;justify-content:center;align-items:center;width:100%;flex-grow:10;"]),ue=r.d.div.withConfig({displayName:"profile__ListItem",componentId:"sc-84d5hd-5"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);background:var(--ghost-color-background);border-radius:var(--surface-border-radius);padding:8px 10px;width:100%;height:auto;cursor:pointer;transition:all 150ms ease;",",h4{color:var(--ghost-color-text);}","{svg path{color:var(--ghost-color-text);}}&:hover{","{display:flex;svg path{stroke:black;}}",",h4{color:black;}}",""],j.a,ce,ce,j.a,(({active:e})=>e&&Object(r.c)(["color:var(--default-color-accent);background:var(--default-color-accent-dim);","{svg path{stroke:var(--default-color-accent) !important;}}",",h4,p{color:var(--default-color-accent);}&:hover{",",h4,p{color:var(--default-color-accent);}}"],ce,j.a,j.a))),se=({variables:e,projects:t})=>i.a.createElement(Z.a,{variables:e,initialList:t,layout:!0}),me=({variables:e})=>i.a.createElement(Y.a,{variables:e,layout:!0}),ve=()=>{const e=Object(R.b)(),{user:t,folder:a}=Object(l.c)((e=>({user:e.user,folder:e.root.folder}))),o=Object(l.b)(),r=Object(n.useMemo)((()=>null===t||void 0===t?void 0:t.folders[0]),[t]),[d,{data:s,loading:h,refetch:E}]=Object(c.useLazyQuery)(ne.a.GET_PROJECTS_BY_IDS),[g,j]=Object(n.useState)(!1),y=async(e,t)=>{if(t&&E){if(j(!0),e){const a={...e,projects:t};o(Object($.m)(a)),o(Object(H.c)(a))}await E({projects:t}),j(!1)}},O=e=>y(e,e.projects);return Object(n.useEffect)((()=>{r&&o(Object($.m)(r))}),[r,o]),Object(n.useEffect)((()=>{E||s||!r||d({variables:{projects:r.projects}})}),[s,E,r,d]),i.a.createElement(oe,null,i.a.createElement(le,null,t.folders&&t.folders.length>0?i.a.createElement(u.a,null,t.folders.map((t=>{const n=t.projects.length,o=1===n?"\u043f\u0440\u043e\u0435\u043a\u0442":n>1&&n<5?"\u043f\u0440\u043e\u0435\u043a\u0442\u0430":"\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432";return i.a.createElement(ue,{key:t.id,active:a&&t.id===a.id},i.a.createElement(p.d,{text:t.name,label:`${n} ${o}`,onLink:()=>O(t),revert:!0}),i.a.createElement(ce,{place:"left",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},i.a.createElement(b.a,{size:"xs",kind:"icon",type:"button",disabled:h,appearance:"clear",onClick:e(ee.h,{id:t.id,mutation:ne.a.DELETE_USER_FOLDER,callback:()=>O(r)})},i.a.createElement(v.a,{size:"xs",icon:"delete",stroke:"var(--ghost-color-text)"}))))}))):i.a.createElement(m.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0430\u043f\u043e\u043a \u043d\u0435\u0442"),i.a.createElement(re,{onClick:e(ee.g,{mutation:ne.a.ADD_USER_FOLDER})},i.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"),i.a.createElement(v.a,{icon:"add",stroke:"white"}))),!h&&!g&&s&&s.getProjectsByIds.length>0?i.a.createElement(Z.a,{initialList:a?s.getProjectsByIds:[],initialRefetch:e=>y(a,e),eliminable:!0,layout:!0}):h||g?i.a.createElement(M.c,{style:{height:"auto"}},i.a.createElement(f.a,null)):i.a.createElement(de,null,"\u0412 \u044d\u0442\u043e\u0439 \u043f\u0430\u043f\u043a\u0435 \u043d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"))};var pe=!0;t.default=()=>{var e;const t=Object(R.b)(),a=Object(o.useRouter)(),{user:r,companies:d,categories:m,statuses:v}=Object(l.c)((e=>({user:e.user,companies:e.root.companies,categories:e.root.categories,statuses:e.root.statuses}))),p=Object(l.b)(),[b,g]=Object(n.useState)(),[j,y]=Object(n.useState)(),[O,w]=Object(n.useState)(ie.c[0]),[x,_]=Object(n.useState)(!1),C=Object(n.useMemo)((()=>"ADMIN"===(null===r||void 0===r?void 0:r.account)),[r]),[k]=Object(c.useLazyQuery)(ne.a.GET_USERS),[S]=Object(c.useLazyQuery)(ne.a.GET_CATEGORIES),[I]=Object(c.useLazyQuery)(ne.a.GET_POST_STATUSES),L=Object(n.useMemo)((()=>"/projects"===O.value),[O]),N=Object(n.useMemo)((()=>"/articles"===O.value),[O]),D=Object(n.useCallback)((()=>{if(!r)return null;switch(O.value){case"/projects":return i.a.createElement(se,{variables:{author:r.email},projects:r.projects});case"/liked":return i.a.createElement(se,{variables:{rating:r.email},projects:r.likedProjects});case"/articles":return i.a.createElement(me,{variables:{author:r.email}});default:return i.a.createElement(ve,null)}}),[r,O]);return Object(n.useEffect)((()=>{r.authenticated||a.push("/auth")}),[r]),r.authenticated?i.a.createElement(P.a,{title:r.authenticated?r.name||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},i.a.createElement(u.a,null,i.a.createElement(W,{user:r,onEdit:t(ee.c,{user:null===r||void 0===r?void 0:r.email,canEditAccount:!C,mutations:{del:ne.a.DELETE_USER,forgotEmail:ne.a.LOGIN,forgotPassword:ne.a.RESET,changePassword:ne.a.UPDATE_CLIENT_USER,checkResetToken:ne.a.CHECK_RESET_TOKEN,update:ne.a.UPDATE_CLIENT_USER}}),onAboutMore:t(ee.a,{user:r}),onCompanyLink:(null===r||void 0===r?void 0:r.company)&&t(ee.i,{id:null===r||void 0===r||null===(e=r.company)||void 0===e?void 0:e.email,auth:null===r||void 0===r?void 0:r.email,queries:{userChats:ne.a.GET_USER_CHATS,chat:ne.a.GET_CHAT},mutations:{addUserChat:ne.a.ADD_USER_CHAT,sendMessage:ne.a.SEND_MESSAGE}}),onMembers:t(ee.j,{id:null===r||void 0===r?void 0:r.email,auth:null===r||void 0===r?void 0:r.email})}),i.a.createElement(s.b,{defaultValue:O,options:ie.c.filter((e=>!!Object(J.c)(r)||"/articles"!==e.value)),onChange:e=>w(e),stretch:!0}),i.a.createElement(K.a,{buttonCreateText:L?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442":N?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":"",onCreate:L&&Object(A.i)(r,"PURPOSE_PROJECT")&&(async()=>{var e,a,n;const i=0===(null===d||void 0===d?void 0:d.length)&&k&&await k({variables:{account:["ENTITY"]}}),o=0===(null===m||void 0===m?void 0:m.length)&&S&&await S({variables:{type:"DIVISION"}}),r=0===(null===v||void 0===v?void 0:v.length)&&I&&await I(),l=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.getUsers,c=null===o||void 0===o||null===(a=o.data)||void 0===a?void 0:a.getCategories,u=null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.getPostStatus;l&&p(Object($.k)(l)),c&&p(Object($.j)(c)),u&&p(Object($.t)(u)),t(te.b,{companies:l||d,categories:c||m,statuses:u||v,mutation:ne.a.CREATE_PROJECT,query:ne.a.GET_USERS,isPurpose:!0})()})||N&&Object(A.i)(r,"PURPOSE_ARTICLE")&&(async()=>{var e,a;const n=0===(null===m||void 0===m?void 0:m.length)&&S&&await S({variables:{type:"DIVISION"}}),i=0===(null===v||void 0===v?void 0:v.length)&&I&&await I(),o=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.getCategories,r=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.getPostStatus;o&&p(Object($.j)(o)),r&&p(Object($.t)(r)),t(ae.a,{categories:o||m,statuses:r||v,mutation:ne.a.CREATE_ARTICLE,isPurpose:!0})()}),onChangeFilter:()=>_(!x)}),i.a.createElement(X.a,{isOpen:x,filters:[i.a.createElement(h.a,{key:"publishedAt",value:b,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:g,withNavigate:!0}),i.a.createElement(E.a,{key:"categories",options:[].map((e=>({value:e.id,label:e.name}))),placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:j,onChange:e=>y(e)})],options:T.project.map(((e,t)=>({label:e.header,value:t})))}),D())):i.a.createElement(M.c,null,i.a.createElement(f.a,null))}},oFhP:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("+nv6"),r=a("EJJs"),l=i.a.createElement,c=function(e){switch(e){case"ADMIN":return"\u0410\u0434\u043c\u0438\u043d";case"MODERATOR":return"\u041c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440";case"OFICIAL":return"\u041e\u0444. \u043b\u0438\u0446\u043e";case"ENTITY":return"\u042e\u0440. \u043b\u0438\u0446\u043e";default:return"\u0424\u0438\u0437. \u043b\u0438\u0446\u043e"}},d=[{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return l(r.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.name||"-"})}},{header:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",content:function(e){return l(r.a,{text:e.account&&c(e.account)||"-"})}},{header:"\u041e \u0441\u0435\u0431\u0435",content:function(e){return l(r.a,{text:e.about||"-"})}},{header:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",content:function(e){var t;return l(r.a,{text:(null===(t=e.projects)||void 0===t?void 0:t.length)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:function(e){return l(r.a,{text:l(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}];t.a=d},qF4B:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("vOnD"),r=a("VX74"),l=a("/MKj"),c=a("ZwIX"),d=a("auMy"),u=a("586Q"),s=a("VP1n"),m=a("1zqG"),v=a("ApjV"),p=a("lphG"),h=a("8ihE"),E=a("rP4V"),b=a("IxyI"),f=a("u2Cb");const g=o.d.div.withConfig({displayName:"ProjectList__Wrap",componentId:"zcwfmw-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]),j=({variables:e,layout:t,eliminable:a,initialList:o,initialRefetch:j,emptyMessage:y})=>{const O=Object(v.b)(),w=Object(p.a)(),{user:x,folder:_}=Object(l.c)((e=>({user:e.user,folder:e.root.folder}))),[C,k]=Object(n.useState)(o||[]),S=Object(l.b)(),{data:I,loading:T,error:A}=o?{data:null,loading:!1,error:!1}:Object(r.useQuery)(f.a.GET_PROJECTS,{variables:e}),R=Object(n.useCallback)((e=>O(b.a,{id:e.id,folders:null===x||void 0===x?void 0:x.folders,mutations:{addProject:f.a.ADD_USER_PROJECT,createFolder:f.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};S(Object(h.c)(a))}})()),[x]),P=Object(n.useCallback)((e=>O(b.f,{id:e.id,folder:_,mutation:f.a.REMOVE_USER_PROJECT,callback:()=>j&&j(C.filter((t=>t.id!==e.id)).map((e=>e.id)))})()),[x]);return Object(n.useEffect)((()=>{!T&&I&&k(I.getProjects)}),[I,T]),Object(n.useEffect)((()=>{!T&&(null===o||void 0===o?void 0:o.length)>0&&k(o)}),[T,o]),i.a.createElement(g,null,C.length>0?C.map((e=>{var n,o,r,l;const c=null===x||void 0===x||null===(n=x.projects)||void 0===n?void 0:n.find((t=>t.id===e.id));return i.a.createElement(s.a,{key:e.id},i.a.createElement(m.c,{project:e,eliminable:a,layout:t||"column",owned:c,added:!(null===x||void 0===x||null===(o=x.folders)||void 0===o||!o.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===x.email)),onLink:O(b.e,{id:e.id,auth:null===x||void 0===x?void 0:x.email,added:!(null===x||void 0===x||null===(r=x.folders)||void 0===r||!r.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===x.email)),onLike:x.email&&w(f.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(h.e)(e.data.likeProject)))),onAdd:x.email&&O(b.a,{id:e.id,folders:null===x||void 0===x?void 0:x.folders,mutations:{addProject:f.a.ADD_USER_PROJECT,createFolder:f.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};S(Object(h.c)(a))}}),owned:c}),onLike:x.email&&w(f.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(h.e)(e.data.likeProject)))),onAdd:x.email&&(()=>R(e)),onRemove:x.email&&(()=>P(e)),onAboutMore:O(E.a,{user:e}),onCompanyLink:O(E.i,{id:null===(l=e.company)||void 0===l?void 0:l.email,auth:null===x||void 0===x?void 0:x.email,recipient:e.author,query:f.a.GET_USER_CHATS,mutation:f.a.SEND_MESSAGE}),onScreenshotClick:(t,a)=>O(b.g,{screenshots:[e.preview,...e.screenshots],key:a})(),withSocials:!0}))})):A?i.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):T?i.a.createElement(u.c,null,i.a.createElement(d.a,null)):i.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},y))};j.defaultProps={emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"},t.a=j},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])},zQKW:function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),o=a("+nv6"),r=a("EJJs"),l=i.a.createElement,c=[{header:"\u041d\u043e\u043c\u0435\u0440",content:function(e){return l(r.a,{text:e.token||"-"})}},{header:"\u0410\u0432\u0442\u043e\u0440",content:function(e){var t,a;return l(r.a,{img:null===(t=e.author)||void 0===t?void 0:t.avatar,text:(null===(a=e.author)||void 0===a?void 0:a.name)||"-"})}},{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",content:function(e){var t;return l(r.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.title||"-"})}},{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",content:function(e){var t;return l(r.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})}},{header:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",content:function(e){var t;return l(r.a,{text:(null===(t=e.messages)||void 0===t?void 0:t.length)||"-"})}},{header:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:function(e){return l(r.a,{text:l(o.a,{text:e.createdAt,options:{year:"numeric",month:"2-digit",day:"2-digit"}})||"-"})},hidden:!0}];t.a=c}},[["u1GD",0,2,1,3,4,5,6,8]]]);