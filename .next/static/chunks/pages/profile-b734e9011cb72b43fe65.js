_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{"6bB6":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return c}));var n={};a.r(n),a.d(n,"sort",(function(){return d})),a.d(n,"filter",(function(){return p})),a.d(n,"default",(function(){return m}));var r={};a.r(r),a.d(r,"sort",(function(){return b})),a.d(r,"filter",(function(){return E})),a.d(r,"default",(function(){return v}));var l={};a.r(l),a.d(l,"sort",(function(){return f})),a.d(l,"filter",(function(){return y})),a.d(l,"default",(function(){return h}));var o={};a.r(o),a.d(o,"sort",(function(){return g})),a.d(o,"filter",(function(){return O})),a.d(o,"default",(function(){return C}));var i={};a.r(i),a.d(i,"sort",(function(){return T})),a.d(i,"filter",(function(){return j})),a.d(i,"default",(function(){return w}));var c={};a.r(c),a.d(c,"sort",(function(){return _})),a.d(c,"filter",(function(){return S})),a.d(c,"default",(function(){return A}));var s=a("NWnW"),u=a("u2Cb");const d=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}],p=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u041f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0438",name:"permissions",type:"MULTISELECT",selectLabelDecorator:s.f,query:u.a.GET_PERMISSIONS,queryType:"getPermissions"}];var m={sort:d,filter:p};const b=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"account",label:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"},{value:"company",label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}],E=[{label:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",name:"account",type:"SELECT",selectRestrictions:["ADMIN"],selectLabelDecorator:s.g,query:u.a.GET_ACCOUNT_TYPES,queryType:"getAccountTypes"},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",name:"company",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:u.a.GET_USERS,queryType:"getUsers",variables:{account:["ENTITY"],role:"USER"}}];var v={sort:b,filter:E};const f=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"category",label:"\u0420\u0430\u0437\u0434\u0435\u043b"},{value:"author",label:"\u0410\u0432\u0442\u043e\u0440"},{value:"counsellor",label:"\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u043d\u0442"},{value:"status",label:"\u0421\u0442\u0430\u0442\u0443\u0441"}],y=[{label:"\u0414\u0430\u0442\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f",name:"createdAt",type:"DATEPICKER"},{label:"\u0420\u0430\u0437\u0434\u0435\u043b",name:"category",type:"SELECT",selectValueField:"id",selectLabelField:"name",query:u.a.GET_CATEGORIES,queryType:"getCategories",variables:{type:"TICKET"}},{label:"\u0410\u0432\u0442\u043e\u0440",name:"author",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:u.a.GET_USERS,queryType:"getUsers",variables:{account:["INDIVIDUAL","ENTITY","OFICIAL"],role:"USER"}},{label:"\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u043d\u0442",name:"counsellor",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:u.a.GET_USERS,queryType:"getUsers",variables:{role:"MODERATOR"}},{label:"\u0421\u0442\u0430\u0442\u0443\u0441",name:"status",type:"SELECT",selectLabelDecorator:s.i,query:u.a.GET_STATUS_TICKET_TYPES,queryType:"getStatusTicketTypes"}];var h={sort:f,filter:y};const g=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"category",label:"\u0420\u0430\u0437\u0434\u0435\u043b"}],O=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u0420\u0430\u0437\u0434\u0435\u043b",name:"category",type:"SELECT",selectValueField:"id",selectLabelField:"name",query:u.a.GET_CATEGORIES,queryType:"getCategories",variables:{type:"DIVISION"}}];var C={sort:g,filter:O};const T=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{value:"category",label:"\u0420\u0430\u0437\u0434\u0435\u043b"},{value:"company",label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"}],j=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u0420\u0430\u0437\u0434\u0435\u043b",name:"category",type:"SELECT",selectValueField:"id",selectLabelField:"name",query:u.a.GET_CATEGORIES,queryType:"getCategories",variables:{type:"DIVISION"}},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",name:"company",type:"SELECT",selectValueField:"email",selectLabelField:"name",query:u.a.GET_USERS,queryType:"getUsers",variables:{account:["ENTITY"],role:"USER"}}];var w={sort:T,filter:j};const _=[{value:"createdAt",label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{value:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{value:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{value:"type",label:"\u0422\u0438\u043f"}],S=[{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",name:"createdAt",type:"DATEPICKER"},{label:"\u0422\u0438\u043f",name:"type",type:"SELECT",selectLabelDecorator:s.e,query:u.a.GET_CATEGORY_TYPES,queryType:"getCategoryTypes"}];var A={sort:_,filter:S}},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),l=a("/MKj"),o=a("vOnD"),i=a("nShV"),c=a("feIE"),s=a("ZeZO"),u=a("t7jn"),d=a("coMr"),p=a("Sza6"),m=a("IZrO");const b=Object(o.d)(i.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),E=Object(o.d)(u.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),v=Object(o.d)(s.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(o.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,withoutFilters:a,onCreate:n})=>{const[o]=Object(m.a)(),{search:i,visibleFilters:s}=Object(l.c)((e=>({search:e.root.search,visibleFilters:e.root.visibleFilters}))),u=Object(l.b)();return r.a.createElement(b,null,r.a.createElement(E,{placeholder:"\u041f\u043e\u0438\u0441\u043a",appearance:e,defaultValue:i,onSubmit:o}),!a&&r.a.createElement(v,{type:"button",kind:"icon",onClick:()=>u(Object(p.u)(!s)),visibleFilter:s},r.a.createElement(c.a,{icon:"filter2",stroke:s?"white":"var(--default-color-accent)"})),n&&r.a.createElement(d.a,{type:"button",onClick:n},r.a.createElement("span",null,t),r.a.createElement(c.a,{type:"button",icon:"add",stroke:"white"})))}},Ht1R:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),l=a("UwjQ");const o=({style:e,layout:t,article:a,preview:n,checked:o,className:i,appearance:c,withSocials:s,hasOwned:u,onLink:d,onChecked:p,onDelete:m,onEdit:b})=>r.a.createElement(l.a,{style:e,layout:t,article:a,preview:n,checked:o,className:i,appearance:c,withSocials:s,owned:u&&u(a),onLink:d&&(()=>d(a)),onChecked:p,onDelete:m,onEdit:b});o.defaultProps={withSocials:!0},t.a=o},OaTT:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),l=a("/y2W"),o=a("Ht1R"),i=a("RkzV"),c=a("QX5T"),s=a("v0uu"),u=a("u2Cb");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const p=({limit:e,layout:t,variables:a,startOffset:n,gridOptions:p,emptyMessage:m,initialDisplayMethod:b,withoutSearch:E,withoutMore:v})=>{const f=Object(i.a)();return r.a.createElement(l.a,{type:"getArticles",variables:a,gridOptions:p,withoutMore:v,emptyMessage:m,query:u.a.GET_ARTICLES,withoutSearch:E,limit:null!==e&&void 0!==e?e:s.a,startOffset:null!==n&&void 0!==n?n:s.b,initialDisplayMethod:null!==b&&void 0!==b?b:c.a,component:e=>r.a.createElement(o.a,d({},f,{article:e,layout:t}))})};p.defaultProps={emptyMessage:"\u0421\u0442\u0430\u0442\u0435\u0439 \u043d\u0435\u0442",layout:"row"},t.a=p},QX5T:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("q1tI"),r=a.n(n),l=a("/MKj"),o=a("vOnD"),i=a("8CDE"),c=a("p9yE"),s=a("X+Rt"),u=a("RoTl"),d=a("EYtC"),p=a("coMr"),m=a("OqOz"),b=a("/y2W");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const v="grid",f=Object(o.d)(i.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(o.c)(["margin:0;"]))),y=o.d.div.withConfig({displayName:"content__Container",componentId:"sc-1afm75p-1"})(["display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;"," @media only screen and (max-width:1196px){grid-template-columns:1fr;}"],(({stretch:e})=>e&&Object(o.c)(["grid-template-columns:1fr;"])));t.b=({limit:e,title:t,aside:a,store:n,handle:o,render:i,getType:h,getQuery:g,dashboard:O,variables:C,filterConfig:T,emptyMessage:j,startOffset:w,onLink:_})=>{const{search:S,visibleFilters:A}=Object(l.c)((e=>({search:e.root.search,visibleFilters:e.root.visibleFilters}))),k=O?c.a:s.a;return r.a.createElement(k,{title:t,scaffold:null===n||void 0===n?void 0:n.scaffold},r.a.createElement(f,{clear:(null===n||void 0===n?void 0:n.scaffold)||O},!(null!==n&&void 0!==n&&n.scaffold)&&!O&&r.a.createElement(d.a,null),O&&o&&r.a.createElement(p.b,{title:t,icon:o.icon,onCreate:o.onCreate,buttonCreateText:o.buttonCreateText,onChangeDisplayMethod:o.onChangeDisplayMethod}),r.a.createElement(u.a,E({},T||{},{isOpen:A})),r.a.createElement(y,{stretch:S&&!a||!a},r.a.createElement(b.a,{limit:e,type:h,query:g,variables:C,startOffset:w,emptyMessage:j,component:e=>(e=>r.a.createElement(m.a,{item:e,component:i(e),onLink:_&&(e=>_(e)),withoutChecked:!0}))(e),initialDisplayMethod:v,onClick:_&&(e=>_(e))}),a)))}},RkzV:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("q1tI"),r=a("/MKj"),l=a("owvJ"),o=a("ApjV"),i=a("u2Cb");const c=({isManage:e}={})=>{const t=Object(o.b)(),a=Object(r.c)((e=>e.user)),c=Object(n.useMemo)((()=>{var e;return a&&"ADMIN"===(null===a||void 0===a||null===(e=a.role)||void 0===e?void 0:e.name)}),[a]),s=Object(n.useCallback)((e=>{var t;return null===a||void 0===a||null===(t=a.articles)||void 0===t?void 0:t.find((t=>t.id===e.id))}),[a]),u=Object(n.useCallback)((e=>{t(l.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email})}),[a,t]);return{user:a,hasOwned:s,onLink:u,onEdit:e&&((e,a)=>t(l.c,{id:e.id,canEditStatus:c,mutation:i.a.UPDATE_ARTICLE,onAfter:a})()),onCreate:e&&(e=>t(l.a,{canEditStatus:c,mutation:i.a.CREATE_ARTICLE,onAfter:e})())}}},U1Bd:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("q1tI"),r=a("/MKj"),l=a("rP4V"),o=a("+EEm"),i=a("ApjV"),c=a("lphG"),s=a("u2Cb");const u=({isManage:e}={})=>{const t=Object(i.b)(),a=Object(c.a)(),u=Object(r.c)((e=>e.user)),d=Object(r.b)(),p=Object(n.useMemo)((()=>"ADMIN"!==(null===u||void 0===u?void 0:u.account)),[u]),m=Object(n.useMemo)((()=>{var e;return u&&"ADMIN"===(null===u||void 0===u||null===(e=u.role)||void 0===e?void 0:e.name)}),[u]),b=Object(n.useCallback)((e=>(null===e||void 0===e?void 0:e.name)===(null===u||void 0===u?void 0:u.name)),[u]),E=Object(n.useCallback)((e=>{const a=(null===e||void 0===e?void 0:e.name)===(null===u||void 0===u?void 0:u.name);t(l.i,{id:null===e||void 0===e?void 0:e.email,auth:null===u||void 0===u?void 0:u.email,owned:a,queries:{userChats:s.a.GET_USER_CHATS,chat:s.a.GET_CHAT},mutations:{addUserChat:s.a.ADD_USER_CHAT,sendMessage:s.a.SEND_MESSAGE}})()}),[u,d,a,t]),v=Object(n.useCallback)((e=>{t(o.a,{sender:u,recipient:e,queries:{userChats:s.a.GET_USER_CHATS,chat:s.a.GET_CHAT},mutations:{addUserChat:s.a.ADD_USER_CHAT,sendMessage:s.a.SEND_MESSAGE}})()}),[u,a,d]),f=Object(n.useCallback)((e=>{t(l.j,{id:null===e||void 0===e?void 0:e.email,auth:null===u||void 0===u?void 0:u.email})()}),[u,t]),y=Object(n.useCallback)((e=>{t(l.a,{user:e})()}),[t]),h=Object(n.useCallback)((e=>{var a;t(l.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:null===u||void 0===u?void 0:u.email,queries:{userChats:s.a.GET_USER_CHATS,chat:s.a.GET_CHAT},mutations:{addUserChat:s.a.ADD_USER_CHAT,sendMessage:s.a.SEND_MESSAGE}})()}),[u,t]);return{user:u,hasOwned:b,onLink:E,onChat:v,onAboutMore:y,onMembers:(null===u||void 0===u?void 0:u.members)>0&&f,onCompanyLink:(null===u||void 0===u?void 0:u.company)&&h,onEdit:e&&((e,a)=>t(l.f,{user:e.email,auth:null===u||void 0===u?void 0:u.email,canEditAccount:p,canEditRole:m,mutations:{del:s.a.DELETE_USER,update:s.a.UPDATE_USER},onAfter:a})()),onCreate:e&&(e=>t(l.d,{canEditRole:m,mutation:s.a.CREATE_USER,onAfter:e})())}}},"W+IF":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),l=a("/MKj"),o=a("20a2"),i=a("8CDE"),c=a("OXt0"),s=a("auMy"),u=a("NWnW"),d=a("X+Rt"),p=a("vOnD"),m=a("nShV"),b=a("aBfq"),E=a("RKiZ"),v=a("7sPp"),f=a("QUga"),y=a("V0nP"),h=a("VWQm"),g=a("ZeZO"),O=a("DTT8"),C=a("nh0P"),T=a("586Q");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const w=Object(p.d)(m.b).withConfig({displayName:"UserBar__Wrap",componentId:"sc-17kd9nb-0"})(["width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),_=Object(p.d)(i.a).withConfig({displayName:"UserBar__Content",componentId:"sc-17kd9nb-1"})(["justify-content:space-between;grid-gap:0;width:100%;"]),S=Object(p.d)(y.a).withConfig({displayName:"UserBar__RoundedAvatar",componentId:"sc-17kd9nb-2"})(["width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}"]),A=p.d.div.withConfig({displayName:"UserBar__About",componentId:"sc-17kd9nb-3"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}"]),k=Object(p.d)(m.b).withConfig({displayName:"UserBar__Difinitions",componentId:"sc-17kd9nb-4"})(["flex-wrap:wrap;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),I=Object(p.d)(g.a).withConfig({displayName:"UserBar__EditButton",componentId:"sc-17kd9nb-5"})(["font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}"]);var M=({user:e,onEdit:t,onAboutMore:a,onCompanyLink:n,onMembers:l})=>{var o,i,c,s,d,p;return r.a.createElement(w,null,r.a.createElement(S,{src:(null===e||void 0===e||null===(o=e.avatar)||void 0===o?void 0:o.path)||"/images/avatar-default.png"}),r.a.createElement(_,null,r.a.createElement(O.b,null,r.a.createElement(b.a,{category:Object(u.g)(e.account)}),Object(C.c)(e)&&r.a.createElement(C.a,null)),r.a.createElement(m.b,{style:{gridGap:"0 10px"}},r.a.createElement(v.a,{tag:"h3"},e.name),r.a.createElement(h.b,{place:"top",text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},r.a.createElement(I,{type:"button",kind:"icon",size:"xs",appearance:"clear",onClick:t},"\u0420\u0435\u0434."))),r.a.createElement(E.a,{style:{margin:"5px 0"}}),r.a.createElement(A,null,(null===e||void 0===e||null===(i=e.about)||void 0===i?void 0:i.length)>135?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.b,null,e.about.slice(0,135),"..."),r.a.createElement(T.e,{onClick:a},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")):r.a.createElement(f.b,null,e.about||"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0431\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430")),r.a.createElement(k,null,"ENTITY"===e.account?r.a.createElement(O.d,{icon:"user2",label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",text:e.members,onLink:()=>l(e)}):r.a.createElement(O.d,j({},e.company?{img:null===(c=e.company)||void 0===c||null===(s=c.avatar)||void 0===s?void 0:s.path}:{icon:"work"},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",text:(null===(d=e.company)||void 0===d?void 0:d.name)||"-",onLink:n})),r.a.createElement(O.d,{icon:"work",label:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",text:(null===e||void 0===e||null===(p=e.projects)||void 0===p?void 0:p.length)||0}))))},R=a("RoTl"),x=a("EYtC"),D=a("/y2W"),L=a("WpSk"),P=a("QfFT"),U=a("QX5T"),N=a("v0uu"),q=a("u2Cb");function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const G=({limit:e,layout:t,variables:a,startOffset:n,emptyMessage:l,initialDisplayMethod:o,withoutMore:i})=>{const c=Object(P.a)();return r.a.createElement(D.a,{type:"getProjects",variables:a,emptyMessage:l,query:q.a.GET_PROJECTS,limit:null!==e&&void 0!==e?e:N.a,startOffset:null!==n&&void 0!==n?n:N.b,initialDisplayMethod:null!==o&&void 0!==o?o:U.a,component:e=>r.a.createElement(L.a,F({},c,{project:e,layout:t})),withoutMore:i})};G.defaultProps={emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"};var V=G,B=a("OaTT"),W=a("ZwIX"),z=a("feIE"),K=a("rP4V"),H=a("8ihE"),Y=a("Sza6"),Q=a("ApjV");const X=Object(p.d)(i.a).withConfig({displayName:"Organizer__Wrap",componentId:"sc-1rvcbdn-0"})(["width:265px;min-width:265px;"]),J=Object(p.d)(g.a).withConfig({displayName:"Organizer__CreateButton",componentId:"sc-1rvcbdn-1"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}"]),Z=Object(p.d)(h.b).withConfig({displayName:"Organizer__RemoveTooltip",componentId:"sc-1rvcbdn-2"})(["position:absolute;right:8px;z-index:var(--z-11);display:none;"]),$=p.d.div.withConfig({displayName:"Organizer__ListItem",componentId:"sc-1rvcbdn-3"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);background:var(--ghost-color-background);border-radius:var(--surface-border-radius);padding:8px 10px;width:100%;height:auto;cursor:pointer;transition:all 150ms ease;",",h4{color:var(--ghost-color-text);}","{svg path{color:var(--ghost-color-text);}}&:hover{","{display:flex;svg path{stroke:black;}}",",h4{color:black;}}",""],f.a,Z,Z,f.a,(({active:e})=>e&&Object(p.c)(["color:var(--default-color-accent);background:var(--default-color-accent-dim);","{svg path{stroke:var(--default-color-accent) !important;}}",",h4,p{color:var(--default-color-accent);}&:hover{",",h4,p{color:var(--default-color-accent);}}"],Z,f.a,f.a)));var ee=()=>{const e=Object(Q.b)(),{user:t,folder:a}=Object(l.c)((e=>({user:e.user,folder:e.root.folder}))),o=Object(l.b)(),c=Object(n.useMemo)((()=>null===t||void 0===t?void 0:t.folders[0]),[t]),s=e=>{if(e.projects&&e){const t={...e,projects:e.projects};o(Object(Y.m)(t)),o(Object(H.d)(t))}};return Object(n.useEffect)((()=>{c&&o(Object(Y.m)(c))}),[o]),r.a.createElement(X,null,t.folders&&t.folders.length>0?r.a.createElement(i.a,null,t.folders.map((t=>{const n=t.projects.length,l=1===n?"\u043f\u0440\u043e\u0435\u043a\u0442":n>1&&n<5?"\u043f\u0440\u043e\u0435\u043a\u0442\u0430":"\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432";return r.a.createElement($,{key:t.id,active:a&&t.id===a.id},r.a.createElement(O.d,{text:t.name,label:`${n} ${l}`,onLink:()=>s(t),revert:!0}),r.a.createElement(Z,{place:"left",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},r.a.createElement(g.a,{size:"xs",kind:"icon",type:"button",appearance:"clear",onClick:e(K.h,{id:t.id,mutation:q.a.DELETE_USER_FOLDER,callback:()=>s(c)})},r.a.createElement(z.a,{size:"xs",icon:"delete",stroke:"var(--ghost-color-text)"}))))}))):r.a.createElement(W.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0430\u043f\u043e\u043a \u043d\u0435\u0442"),r.a.createElement(J,{onClick:e(K.g,{mutation:q.a.ADD_USER_FOLDER})},r.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"),r.a.createElement(z.a,{icon:"add",stroke:"white"})))};function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ae=Object(p.d)(m.b).withConfig({displayName:"Feed__Wrap",componentId:"wt5as6-0"})(["grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}"]);var ne=()=>{const e=Object(P.a)(),t=Object(l.c)((e=>e.root.folder));return r.a.createElement(ae,null,r.a.createElement(ee,null),r.a.createElement(D.a,{type:"getProjectsByIds",emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442",query:q.a.GET_PROJECTS_BY_IDS,initialDisplayMethod:U.a,variables:{projects:null===t||void 0===t?void 0:t.projects},component:t=>r.a.createElement(L.a,te({},e,{project:t,layout:"row",canRemove:!0})),withoutMore:!0}))};var re=({page:e})=>{const t=Object(l.c)((e=>e.user));switch(e){case"projects":return r.a.createElement(V,{variables:{author:t.email}});case"liked":return r.a.createElement(V,{variables:{rating:t.email}});case"articles":return r.a.createElement(B.a,{variables:{author:t.email},layout:"row"});case"feed":return r.a.createElement(ne,null);default:return null}},le=a("owvJ"),oe=a("IxyI"),ie=a("U1Bd");var ce=a("wha1"),se=a("6bB6");function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.default=()=>{const e=Object(o.useRouter)(),{onChangePage:t,onAddProject:a,onAddArticle:p,onCompanyLink:m,onAboutMore:b,onMembers:E,onEdit:v}=(({isManage:e}={})=>{const t=Object(Q.b)(),a=Object(l.c)((e=>e.user)),r=Object(l.b)(),{onAboutMore:o,onMembers:i,onCompanyLink:c}=Object(ie.a)({isManage:e}),s=Object(n.useCallback)((()=>{t(oe.b,{mutation:q.a.CREATE_PROJECT,query:q.a.GET_USERS,isPurpose:!0})()}),[t]),u=Object(n.useCallback)((()=>{t(le.a,{mutation:q.a.CREATE_ARTICLE,isPurpose:!0})()}),[t]),d=Object(n.useCallback)((()=>{t(K.c,{user:null===a||void 0===a?void 0:a.email,mutations:{del:q.a.DELETE_USER,forgotEmail:q.a.LOGIN,forgotPassword:q.a.RESET,changePassword:q.a.UPDATE_CLIENT_USER,checkResetToken:q.a.CHECK_RESET_TOKEN,update:q.a.UPDATE_CLIENT_USER}})()}),[a,t]);return{user:a,onChangePage:e=>r(Object(Y.k)(e.value)),onCompanyLink:c,onAddProject:s,onAddArticle:u,onAboutMore:o,onMembers:i,onEdit:d}})(),{user:f,search:y,currentPage:h,visibleFilters:g}=Object(l.c)((e=>({user:e.user,search:e.root.search,currentPage:e.root.currentPage,visibleFilters:e.root.visibleFilters}))),O=Object(n.useMemo)((()=>"projects"===h),[h]),j=Object(n.useMemo)((()=>"articles"===h),[h]),w=Object(n.useMemo)((()=>"feed"===h),[h]),_=Object(n.useMemo)((()=>ce.c.find((e=>e.value===h))),[h]),S=Object(n.useMemo)((()=>O?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442":j?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":""),[O,j]),A=Object(n.useMemo)((()=>j?se.a:se.c),[j]),k=Object(n.useMemo)((()=>ce.c.filter((e=>!!Object(C.c)(f)||"articles"!==e.value))),[f,ce.c]),I=Object(n.useCallback)((()=>O&&Object(u.j)(f,"PURPOSE_PROJECT")?a:j&&Object(u.j)(f,"PURPOSE_ARTICLE")?p:void 0),[f,O,j,a,p]);return Object(n.useEffect)((()=>{f.authenticated||e.push({pathname:"/auth",query:e.query})}),[f]),Object(n.useEffect)((()=>{const{page:a}=e.query;a&&t({value:a})}),[e]),f.authenticated?r.a.createElement(d.a,{title:f.authenticated?f.name||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},r.a.createElement(i.a,null,r.a.createElement(M,{user:f,onAboutMore:b,onCompanyLink:m,onMembers:E,onEdit:v}),r.a.createElement(c.b,{options:k,defaultValue:_,onChange:t,stretch:!0}),!w&&r.a.createElement(x.a,{defaultValue:y,buttonCreateText:S,onCreate:I()}),!w&&r.a.createElement(R.a,ue({},A,{isOpen:g})),r.a.createElement(re,{page:h}))):r.a.createElement(T.c,null,r.a.createElement(s.a,null))}},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])},v0uu:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o}));const n=0,r=4,l=12,o=12}},[["u1GD",0,2,6,7,1,3,4,5,8,9]]]);