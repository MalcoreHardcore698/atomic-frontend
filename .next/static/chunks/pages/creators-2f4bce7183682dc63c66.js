_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"20ex":function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("VX74"),o=a("/MKj"),i=a("ZwIX"),c=a("auMy"),s=a("586Q"),u=a("VP1n"),d=a("TsNn"),m=a("ApjV"),E=a("+EEm"),b=a("rP4V"),p=a("u2Cb");t.a=({variables:e,initialList:t})=>{const a=Object(m.b)(),h=Object(o.c)((e=>e.user)),[f,v]=Object(n.useState)(t||[]),{data:C,loading:S,error:_}=t?{data:null,loading:!1,error:!1}:Object(r.useQuery)(p.a.GET_USERS,{variables:e});return Object(n.useEffect)((()=>{!S&&C&&v(C.getUsers)}),[C,S]),Object(n.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&v(t)}),[t]),!S&&C||f.length>0?f.map((e=>{var t;const n=e.name===(null===h||void 0===h?void 0:h.name);return l.a.createElement(u.a,{key:e.email},l.a.createElement(d.a,{user:e,owned:n,onChat:h.email&&a(E.a,{sender:null===h||void 0===h?void 0:h.email,recipient:e.email,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}}),onLink:a(b.i,{id:e.email,auth:null===h||void 0===h?void 0:h.email,owned:n,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}}),onAboutMore:a(b.a,{user:e}),onMembers:a(b.j,{id:null===e||void 0===e?void 0:e.email,auth:null===h||void 0===h?void 0:h.email}),onCompanyLink:a(b.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===h||void 0===h?void 0:h.email,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}})}))})):_?l.a.createElement(i.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):S?l.a.createElement(s.c,null,l.a.createElement(c.a,null)):l.a.createElement(i.a,{style:{width:"100%",textAlign:"center"}},"\u0410\u0432\u0442\u043e\u0440\u043e\u0432 \u043d\u0435\u0442")}},Aoc7:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return s}));var n=a("q1tI"),l=a.n(n),r=a("QX5T"),o=a("586Q"),i=a("20ex"),c=a("u2Cb");var s=!0;t.default=({store:e})=>l.a.createElement(r.a,{title:"\u0410\u0432\u0442\u043e\u0440\u044b",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438"},{type:"SELECT",placeholder:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",options:null===e||void 0===e?void 0:e.companies.map((e=>({value:e.email,label:e.name})))}],options:[{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",value:"company"},{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",value:"members"},{label:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0430\u0440\u0446\u0438\u0438",value:"createdAt"}],query:c.a.GET_USERS,store:{documents:null===e||void 0===e?void 0:e.users}},(({documents:e})=>l.a.createElement(o.b,null,l.a.createElement(i.a,{initialList:e}))))},EYtC:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("vOnD"),o=a("nShV"),i=a("ZeZO"),c=a("feIE"),s=a("t7jn"),u=a("coMr");const d=Object(r.d)(o.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),m=Object(r.d)(s.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),E=Object(r.d)(i.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(r.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,defaultValue:a,onCreate:r,onChangeFilter:o,onSubmit:i})=>{const[s,b]=Object(n.useState)(!1);return l.a.createElement(d,null,l.a.createElement(m,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",defaultValue:a,onSubmit:i}),l.a.createElement(E,{type:"button",kind:"icon",onClick:()=>{b(!s),o&&o(!s)},visibleFilter:s},l.a.createElement(c.a,{icon:"filter2",stroke:s?"white":"var(--default-color-accent)"})),r&&l.a.createElement(u.a,{type:"button",onClick:r},l.a.createElement("span",null,t),l.a.createElement(c.a,{type:"button",icon:"add",stroke:"white"})))}},QX5T:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=a("20a2"),o=a("vOnD"),i=a("VX74"),c=a("RotF"),s=a.n(c),u=a("7Cbv"),d=a("8CDE"),m=a("wZgm"),E=a("auMy"),b=a("QclZ"),p=a("X+Rt"),h=a("p9yE"),f=a("RoTl"),v=a("EYtC"),C=a("coMr"),S=a("586Q"),_=a("/MKj");const j=Object(o.d)(d.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(o.c)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:o,filters:c,options:d,scaffold:g,dashboard:y,variables:O={},limit:w=6,startOffset:T=6,initialize:A,children:M})=>{const k=Object(r.useRouter)(),D=Object(_.c)((e=>e.root.search)),N=y?h.a:p.a,[I,R]=Object(n.useState)(),[x,U]=Object(n.useState)(),[G,q]=Object(n.useState)(null),[V,H]=Object(n.useState)(!1),[Q,L]=Object(n.useState)(T+1),[X,F]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[P,Z]=Object(n.useState)(!1),K=Object(n.useMemo)((()=>{var e;return Number(null===(e=k.query)||void 0===e?void 0:e.page)||1}),[k]),[B,{data:W,loading:z,refetch:J}]=Object(i.useLazyQuery)(a),[Y,{data:$,loading:ee,refetch:te}]=Object(i.useLazyQuery)(a),ae=e=>{if(F([]),e)q(e),B({variables:{...O,search:e,offset:0,limit:T*K}});else{const e={...O,offset:0,limit:w};q(null),te?te(e):Y({variables:e})}L(0)};return Object(n.useEffect)((()=>{A&&Y({variables:{offset:Q,limit:w}})}),[A]),Object(n.useEffect)((()=>{D&&ae(D)}),[D]),Object(n.useEffect)((()=>{const e=!G&&!ee&&$||G&&!z&&W;if(e){const t=e[Object.keys(e)[0]];t.length>0&&F((e=>[...e,...t])),0===t.length&&Z(!0)}}),[G,ee,z,$,W,Z]),l.a.createElement(N,{title:e,scaffold:g},l.a.createElement(j,{clear:g||y},!g&&!y&&l.a.createElement(v.a,{defaultValue:D||G,onChangeFilter:()=>H(!V),onSubmit:ae}),y&&o&&l.a.createElement(C.b,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>H(!V),onChangeDisplayMethod:o.onChangeDisplayMethod}),(c||d)&&l.a.createElement(f.a,{isOpen:V,filters:c.map((e=>{switch(e.type){case"DATEPICKER":return l.a.createElement(m.a,{key:Object(u.a)(),value:I,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:R,withNavigate:!0});case"SELECT":return l.a.createElement(b.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:x,onChange:e=>U(e)});default:return null}})),options:d}),G?"function"===typeof M?l.a.createElement(M,{documents:X}):M:l.a.createElement(s.a,{pageStart:K||0,loadMore:async e=>{const t={...O,offset:Q,limit:w};G&&J?await J(O):te?(await te(t),L(w*e+T+1)):await Y({variables:t})},hasMore:!P,loader:l.a.createElement(S.d,{key:"loader"},l.a.createElement(E.a,null))},"function"===typeof M?l.a.createElement(M,{documents:X}):M)))}},ZtKI:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/creators",function(){return a("Aoc7")}])}},[["ZtKI",0,2,1,3,4,5,6,7,8]]]);