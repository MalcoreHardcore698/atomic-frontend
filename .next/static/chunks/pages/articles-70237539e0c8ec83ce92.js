_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{EYtC:function(e,t,o){"use strict";var n=o("q1tI"),r=o.n(n),a=o("vOnD"),i=o("nShV"),s=o("ZeZO"),l=o("feIE"),c=o("t7jn");const u=Object(a.d)(i.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),p=Object(a.d)(c.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),d=Object(a.d)(s.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(a.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,onChangeFilter:t,onSubmit:o})=>{const[a,i]=Object(n.useState)(!1);return r.a.createElement(u,null,r.a.createElement(p,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:o}),r.a.createElement(d,{type:"button",kind:"icon",onClick:()=>{i(!a),t&&t(!a)},visibleFilter:a},r.a.createElement(l.a,{icon:"filter2",stroke:a?"white":"var(--default-color-accent)"})))}},LSTS:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("q1tI"),a=s(r),i=s(o("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.scrollListener=o.scrollListener.bind(o),o.eventListenerOptions=o.eventListenerOptions.bind(o),o.mousewheelListener=o.mousewheelListener.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(o){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,o=this.getParentElement(e),n=void 0;if(this.props.useWindow){var r=document.documentElement||document.body.parentNode||document.body,a=void 0!==t.pageYOffset?t.pageYOffset:r.scrollTop;n=this.props.isReverse?a:this.calculateOffset(e,a)}else n=this.props.isReverse?o.scrollTop:e.scrollHeight-o.scrollTop-o.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=o.scrollHeight,this.beforeScrollTop=o.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),o=t.children,n=t.element,r=t.hasMore,i=(t.initialLoad,t.isReverse),s=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[o];return r&&(s?i?u.unshift(s):u.push(s):this.defaultLoader&&(i?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),a.default.createElement(n,c,u)}}]),t}(r.Component);l.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},OaTT:function(e,t,o){"use strict";var n=o("q1tI"),r=o.n(n),a=o("VX74"),i=o("/MKj"),s=o("ZwIX"),l=o("auMy"),c=o("586Q"),u=o("VP1n"),p=o("UwjQ"),d=o("ApjV"),h=o("owvJ"),f=o("u2Cb");t.a=({variables:e,layout:t,initialList:o})=>{const v=Object(d.b)(),m=Object(i.c)((e=>e.user)),[b,y]=Object(n.useState)(o||[]),{data:w,loading:E,error:g}=o?{data:null,loading:!1,error:!1}:Object(a.useQuery)(f.a.GET_ARTICLES,{variables:e});return Object(n.useEffect)((()=>{!E&&w&&y(w.getArticles)}),[w,E]),Object(n.useEffect)((()=>{(null===o||void 0===o?void 0:o.length)>0&&y(o)}),[o]),!E&&w||b.length>0?b.map((e=>{var o;return r.a.createElement(u.a,{key:e.id},r.a.createElement(p.b,{article:e,layout:t||"column",owned:null===m||void 0===m||null===(o=m.articles)||void 0===o?void 0:o.find((t=>t.id===e.id)),onLink:v(h.d,{id:e.id,auth:null===m||void 0===m?void 0:m.email})}))})):g?r.a.createElement(s.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):E?r.a.createElement(c.c,null,r.a.createElement(l.a,null)):r.a.createElement(s.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},QX5T:function(e,t,o){"use strict";var n=o("q1tI"),r=o.n(n),a=o("20a2"),i=o("vOnD"),s=o("VX74"),l=o("RotF"),c=o.n(l),u=o("7Cbv"),p=o("8CDE"),d=o("wZgm"),h=o("auMy"),f=o("QclZ"),v=o("X+Rt"),m=o("p9yE"),b=o("RoTl"),y=o("EYtC"),w=o("coMr"),E=o("586Q"),g=o("/MKj");const O=Object(i.d)(p.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(i.c)(["margin:0;"])));t.a=({title:e,store:t,query:o,handle:i,filters:l,options:p,scaffold:L,dashboard:S,variables:C={},limit:j=6,startOffset:_=6,initialize:P,children:T})=>{const k=Object(a.useRouter)(),M=Object(g.c)((e=>e.root.search)),R=S?m.a:v.a,[N,I]=Object(n.useState)(),[W,x]=Object(n.useState)(),[D,q]=Object(n.useState)(null),[Q,A]=Object(n.useState)(!1),[H,F]=Object(n.useState)(_+1),[X,B]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[V,z]=Object(n.useState)(!1),Y=Object(n.useMemo)((()=>{var e;return Number(null===(e=k.query)||void 0===e?void 0:e.page)||1}),[k]),[Z,{data:K,loading:U,refetch:J}]=Object(s.useLazyQuery)(o),[G,{data:$,loading:ee,refetch:te}]=Object(s.useLazyQuery)(o),oe=e=>{if(B([]),e)q(e),Z({variables:{...C,search:e,offset:0,limit:_*Y}});else{const e={...C,offset:0,limit:j};q(null),te?te(e):G({variables:e})}F(0)};return Object(n.useEffect)((()=>{P&&G({variables:{offset:H,limit:j}})}),[P]),Object(n.useEffect)((()=>{M&&oe(M)}),[M]),Object(n.useEffect)((()=>{const e=!D&&!ee&&$||D&&!U&&K;if(e){const t=e[Object.keys(e)[0]];t.length>0&&B((e=>[...e,...t])),0===t.length&&z(!0)}}),[D,ee,U,$,K,z]),r.a.createElement(R,{title:e,scaffold:L},r.a.createElement(O,{clear:L||S},!L&&!S&&r.a.createElement(y.a,{onChangeFilter:()=>A(!Q),onSubmit:oe}),S&&i&&r.a.createElement(w.a,{title:e,icon:i.icon,buttonCreateText:i.buttonCreateText,onCreate:i.onCreate,onChangeVisibleFilter:()=>A(!Q),onChangeDisplayMethod:i.onChangeDisplayMethod}),(l||p)&&r.a.createElement(b.a,{isOpen:Q,filters:l.map((e=>{switch(e.type){case"DATEPICKER":return r.a.createElement(d.a,{key:Object(u.a)(),value:N,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:I,withNavigate:!0});case"SELECT":return r.a.createElement(f.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:W,onChange:e=>x(e)});default:return null}})),options:p}),r.a.createElement(c.a,{pageStart:Y||0,loadMore:async e=>{const t={...C,offset:H,limit:j};D&&J?await J(C):te?(await te(t),F(j*e+_+1)):await G({variables:t})},hasMore:!V,loader:r.a.createElement(E.d,{key:"loader"},r.a.createElement(h.a,null))},"function"===typeof T?r.a.createElement(T,{documents:X}):T)))}},RotF:function(e,t,o){e.exports=o("LSTS")},hDBf:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return o("yRol")}])},yRol:function(e,t,o){"use strict";o.r(t),o.d(t,"__N_SSP",(function(){return u}));var n=o("q1tI"),r=o.n(n),a=o("NWnW"),i=o("QX5T"),s=o("586Q"),l=o("OaTT"),c=o("u2Cb");var u=!0;t.default=({store:e})=>r.a.createElement(i.a,{title:"\u0421\u0442\u0430\u0442\u044c\u0438",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{type:"SELECT",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(a.e)(e.name)})))}],options:[{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:"category"},{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",value:"createdAt"}],query:c.a.GET_ARTICLES,variables:{status:"PUBLISHED"},store:{documents:null===e||void 0===e?void 0:e.articles}},(({documents:e})=>r.a.createElement(s.b,null,r.a.createElement(l.a,{initialList:e,layout:!0}))))}},[["hDBf",0,2,1,3,4,5,6,7]]]);