_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{QX5T:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),o=a("vOnD"),c=a("VX74"),r=a("7Cbv"),s=a("8CDE"),i=a("ZwIX"),u=a("wZgm"),d=a("auMy"),m=a("QclZ");const p=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[l,o]=Object(n.useState)(0);Object(n.useEffect)((()=>{const n=document.documentElement,c=()=>{if(!n)return;const c=n.scrollTop-l;t&&c>0&&n.scrollTop+n.clientHeight>=n.scrollHeight-a&&t(n.scrollTop,n.scrollHeight),e&&c<0&&n.scrollTop<=a&&e(n.scrollTop,n.scrollHeight),o(n.scrollTop)};return n&&window.addEventListener("scroll",c),()=>{n&&window.removeEventListener("scroll",c)}}),[e,t,a])};var b=a("X+Rt"),E=a("p9yE"),f=a("RoTl"),h=a("EYtC"),g=a("coMr"),v=a("586Q");const w=Object(o.c)(s.a).withConfig({displayName:"content__Wrap",componentId:"sc-1afm75p-0"})(["margin-top:120px;margin-bottom:80px;"," @media only screen and (max-width:480px){margin-top:0;}"],(({clear:e})=>e&&Object(o.b)(["margin:0;"])));t.a=({title:e,store:t,query:a,handle:o,filters:s,options:y,research:O,scaffold:j,dashboard:C,variables:T={},limit:_=6,startOffset:S=6,children:k})=>{const x=C?E.a:b.a,[D,L]=Object(n.useState)(),[N,A]=Object(n.useState)(),[I,Q]=Object(n.useState)(null),[P,R]=Object(n.useState)(!1),[X,B]=Object(n.useState)(S),[H,q]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[M,{data:V,loading:J,error:W,refetch:Z}]=Object(c.useLazyQuery)(a),[z,{data:F,loading:K,error:U,refetch:G}]=Object(c.useLazyQuery)(a),Y=e=>{if(q([]),e)Q(e),M({variables:{...T,search:e,offset:0,limit:S}});else{const e={...T,offset:0,limit:_};Q(null),G?G(e):z({variables:e})}B(0)};return p({callbackOnBottom:()=>{const e=()=>B((e=>e+_));if(!K){const t={...T,offset:X,limit:_};I?Z(T).then(e):G?G(t).then(e):z({variables:t})}},offset:850}),Object(n.useEffect)((()=>{O&&Y(O)}),[O]),Object(n.useEffect)((()=>{const e=!I&&!K&&F||I&&!J&&V;e&&q((t=>[...t,...e[Object.keys(e)[0]]]))}),[I,K,J,F,V]),l.a.createElement(x,{title:e,scaffold:j},l.a.createElement(w,{clear:j||C},!j&&!C&&l.a.createElement(h.a,{onChangeFilter:()=>R(!P),onSubmit:Y}),C&&o&&l.a.createElement(g.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>R(!P),onChangeDisplayMethod:o.onChangeDisplayMethod}),(s||y)&&l.a.createElement(f.a,{isOpen:P,filters:s.map((e=>{switch(e.type){case"DATEPICKER":return l.a.createElement(u.a,{key:Object(r.a)(),value:D,placeholder:e.placeholder||"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:L,withNavigate:!0});case"SELECT":return l.a.createElement(m.a,{key:Object(r.a)(),options:e.options,placeholder:e.placeholder||"\u0420\u0430\u0437\u0434\u0435\u043b",selected:N,onChange:e=>A(e)});default:return null}})),options:y}),l.a.createElement(k,{documents:H}),I&&!J&&0===H.length&&l.a.createElement(i.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),(I&&W||!I&&U)&&l.a.createElement(i.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),(!U&&K||I&&!W&&J)&&l.a.createElement(v.d,null,l.a.createElement(d.a,null)),!I&&!K&&!J&&!W&&0===H.length&&l.a.createElement(i.a,{style:{width:"100%",textAlign:"center"}},"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442")))}},hDBf:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return a("yRol")}])},yRol:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return b}));var n=a("q1tI"),l=a.n(n),o=a("ApjV"),c=a("QX5T"),r=a("VP1n"),s=a("07fs"),i=a("UwjQ"),u=a("586Q"),d=a("NWnW"),m=a("owvJ"),p=a("u2Cb");var b=!0;t.default=({store:e})=>{const t=Object(o.b)();return l.a.createElement(c.a,{title:"\u0421\u0442\u0430\u0442\u044c\u0438",filters:[{type:"DATEPICKER",placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"},{type:"SELECT",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(d.c)(e.name)})))}],options:[{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",value:"category"},{label:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",value:"createdAt"}],query:p.a.GET_ARTICLES,variables:{status:"PUBLISHED"},store:{documents:null===e||void 0===e?void 0:e.articles}},(({documents:e})=>l.a.createElement(u.b,null,e.map((e=>l.a.createElement(s.a,{key:e.id},l.a.createElement(r.a,null,l.a.createElement(i.a,{article:e,onLink:t(m.d,{id:e.id,article:e})}))))))))}}},[["hDBf",0,2,1,3,4,5,6,7,9]]]);