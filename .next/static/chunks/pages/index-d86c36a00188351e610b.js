_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{OaTT:function(e,a,t){"use strict";var i=t("q1tI"),l=t.n(i),n=t("VX74"),d=t("/MKj"),o=t("ZwIX"),r=t("auMy"),c=t("586Q"),s=t("VP1n"),u=t("UwjQ"),m=t("ApjV"),p=t("owvJ"),f=t("u2Cb");a.a=({variables:e,layout:a,initialList:t})=>{const E=Object(m.b)(),v=Object(d.c)((e=>e.user)),[b,j]=Object(i.useState)(t||[]),{data:O,loading:h,error:_}=t?{data:null,loading:!1,error:!1}:Object(n.useQuery)(f.a.GET_ARTICLES,{variables:e});return Object(i.useEffect)((()=>{!h&&O&&j(O.getArticles)}),[O,h]),Object(i.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&j(t)}),[t]),!h&&O||b.length>0?b.map((e=>{var t;return l.a.createElement(s.a,{key:e.id},l.a.createElement(u.b,{article:e,layout:a||"column",owned:null===v||void 0===v||null===(t=v.articles)||void 0===t?void 0:t.find((a=>a.id===e.id)),onLink:E(p.d,{id:e.id,auth:null===v||void 0===v?void 0:v.email}),withSocials:!0}))})):_?l.a.createElement(o.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):h?l.a.createElement(c.c,null,l.a.createElement(r.a,null)):l.a.createElement(o.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},RNiq:function(e,a,t){"use strict";t.r(a),t.d(a,"__N_SSP",(function(){return _}));var i=t("q1tI"),l=t.n(i),n=t("20a2"),d=t("vOnD"),o=t("/MKj"),r=t("7sPp"),c=t("qF4B"),s=t("OaTT"),u=t("20ex"),m=t("ApjV"),p=t("lphG"),f=t("QX5T"),E=t("8ihE"),v=t("IxyI"),b=t("rP4V"),j=t("u2Cb");const O=d.d.div.withConfig({displayName:"pages__Container",componentId:"sc-1kp8388-0"})(["display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;"," @media only screen and (max-width:1196px){grid-template-columns:1fr;}"],(({isSearch:e})=>e&&Object(d.c)(["grid-template-columns:1fr;"]))),h=d.d.aside.withConfig({displayName:"pages__Aside",componentId:"sc-1kp8388-1"})(["display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}"]);var _=!0;a.default=({store:e})=>{const a=Object(n.useRouter)(),t=Object(m.b)(),d=Object(p.a)(),{user:_,search:g}=Object(o.c)((e=>({user:e.user,search:e.root.search}))),y=Object(o.b)(),w=Object(i.useMemo)((()=>({title:e.scaffold.title,background:e.scaffold.background.path,primary:e.scaffold.primary,residues:e.scaffold.residues,onLink:(e,a)=>{var i;return t(v.e,{id:e.id,auth:null===_||void 0===_?void 0:_.email,added:!(null===_||void 0===_||null===(i=_.folders)||void 0===i||!i.find((a=>!(null===a||void 0===a||!a.projects.find((a=>a===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===_.email)),onLike:_.email&&d(j.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(E.e)(e.data.likeProject)))),onAdd:_.email&&t(v.a,{id:e.id,folders:null===_||void 0===_?void 0:_.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};y(Object(E.c)(t))}}),owned:a})()},onLike:_.email&&(e=>d(j.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(E.e)(e.data.likeProject))))()),onAdd:_.email&&(e=>t(v.a,{id:e.id,folders:null===_||void 0===_?void 0:_.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};y(Object(E.c)(t))}})()),onSearch:e=>a.push({pathname:a.pathname,query:{search:e}},void 0,{shallow:!0}),onAboutMore:e=>t(b.a,{user:e}),onCompanyLink:e=>{var a;return t(b.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:_})()},onScreenshotClick:(e,a)=>t(v.g,{screenshots:[e.preview,...e.screenshots],key:a})()})),[_,e,t,d,y]);return l.a.createElement(f.a,{title:"\u0410\u0442\u043e\u043c\u0438\u043a",limit:4,scaffold:w,startOffset:0,query:j.a.GET_PROJECTS,variables:{status:"PUBLISHED"},initialize:!0},(({documents:e})=>l.a.createElement(O,{isSearch:g},l.a.createElement(c.a,{initialList:e,layout:!0}),!g&&l.a.createElement(h,null,l.a.createElement(r.a,{tag:"h4"},"\u0410\u0432\u0442\u043e\u0440\u044b"),l.a.createElement(u.a,{variables:{offset:0,limit:1}}),l.a.createElement(r.a,{tag:"h4"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),l.a.createElement(s.a,{variables:{offset:0,limit:1}})))))}},qF4B:function(e,a,t){"use strict";var i=t("q1tI"),l=t.n(i),n=t("vOnD"),d=t("VX74"),o=t("/MKj"),r=t("ZwIX"),c=t("auMy"),s=t("586Q"),u=t("VP1n"),m=t("1zqG"),p=t("ApjV"),f=t("lphG"),E=t("8ihE"),v=t("rP4V"),b=t("IxyI"),j=t("u2Cb");const O=n.d.div.withConfig({displayName:"ProjectList__Wrap",componentId:"zcwfmw-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]),h=({variables:e,layout:a,eliminable:t,initialList:n,initialRefetch:h,emptyMessage:_})=>{const g=Object(p.b)(),y=Object(f.a)(),{user:w,folder:k}=Object(o.c)((e=>({user:e.user,folder:e.root.folder}))),[R,P]=Object(i.useState)(n||[]),S=Object(o.b)(),{data:A,loading:C,error:D}=n?{data:null,loading:!1,error:!1}:Object(d.useQuery)(j.a.GET_PROJECTS,{variables:e}),T=Object(i.useCallback)((e=>g(b.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};S(Object(E.c)(t))}})()),[w]),L=Object(i.useCallback)((e=>g(b.f,{id:e.id,folder:k,mutation:j.a.REMOVE_USER_PROJECT,callback:()=>h&&h(R.filter((a=>a.id!==e.id)).map((e=>e.id)))})()),[w]);return Object(i.useEffect)((()=>{!C&&A&&P(A.getProjects)}),[A,C]),Object(i.useEffect)((()=>{!C&&(null===n||void 0===n?void 0:n.length)>0&&P(n)}),[C,n]),l.a.createElement(O,null,R.length>0?R.map((e=>{var i,n,d,o;const r=null===w||void 0===w||null===(i=w.projects)||void 0===i?void 0:i.find((a=>a.id===e.id));return l.a.createElement(u.a,{key:e.id},l.a.createElement(m.c,{project:e,eliminable:t,layout:a||"column",owned:r,added:!(null===w||void 0===w||null===(n=w.folders)||void 0===n||!n.find((a=>!(null===a||void 0===a||!a.projects.find((a=>a===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===w.email)),onLink:g(b.e,{id:e.id,auth:null===w||void 0===w?void 0:w.email,added:!(null===w||void 0===w||null===(d=w.folders)||void 0===d||!d.find((a=>!(null===a||void 0===a||!a.projects.find((a=>a===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===w.email)),onLike:w.email&&y(j.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(E.e)(e.data.likeProject)))),onAdd:w.email&&g(b.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};S(Object(E.c)(t))}}),owned:r}),onLike:w.email&&y(j.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(E.e)(e.data.likeProject)))),onAdd:w.email&&(()=>T(e)),onRemove:w.email&&(()=>L(e)),onAboutMore:g(v.a,{user:e}),onCompanyLink:g(v.i,{id:null===(o=e.company)||void 0===o?void 0:o.email,auth:null===w||void 0===w?void 0:w.email,recipient:e.author,query:j.a.GET_USER_CHATS,mutation:j.a.SEND_MESSAGE}),onScreenshotClick:(a,t)=>g(b.g,{screenshots:[e.preview,...e.screenshots],key:t})(),withSocials:!0}))})):D?l.a.createElement(r.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):C?l.a.createElement(s.c,null,l.a.createElement(c.a,null)):l.a.createElement(r.a,{style:{width:"100%",textAlign:"center"}},_))};h.defaultProps={emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"},a.a=h},vlRD:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t("RNiq")}])}},[["vlRD",0,2,1,3,4,5,6,7,9]]]);