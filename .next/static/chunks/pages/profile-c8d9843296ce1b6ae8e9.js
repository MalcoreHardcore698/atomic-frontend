_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{EYtC:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("vOnD"),o=a("nShV"),r=a("ZeZO"),c=a("feIE"),d=a("t7jn"),s=a("coMr");const u=Object(i.d)(o.b).withConfig({displayName:"SearchBar__Wrap",componentId:"sc-1ruwjhl-0"})(["width:100%;"]),m=Object(i.d)(d.a).withConfig({displayName:"SearchBar__WrapSearchField",componentId:"sc-1ruwjhl-1"})(["flex-grow:100;"]),p=Object(i.d)(r.a).withConfig({displayName:"SearchBar__WrapButton",componentId:"sc-1ruwjhl-2"})(["background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}",""],(({visibleFilter:e})=>e&&Object(i.c)(["background:var(--default-color-accent);"])));t.a=({appearance:e,buttonCreateText:t,onCreate:a,onChangeFilter:i,onSubmit:o})=>{const[r,d]=Object(n.useState)(!1);return l.a.createElement(u,null,l.a.createElement(m,{appearance:e,placeholder:"\u041f\u043e\u0438\u0441\u043a",onSubmit:o}),l.a.createElement(p,{type:"button",kind:"icon",onClick:()=>{d(!r),i&&i(!r)},visibleFilter:r},l.a.createElement(c.a,{icon:"filter2",stroke:r?"white":"var(--default-color-accent)"})),a&&l.a.createElement(s.a,{type:"button",onClick:a},l.a.createElement("span",null,t),l.a.createElement(c.a,{type:"button",icon:"add",stroke:"white"})))}},OaTT:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("VX74"),o=a("/MKj"),r=a("ZwIX"),c=a("auMy"),d=a("586Q"),s=a("VP1n"),u=a("UwjQ"),m=a("ApjV"),p=a("owvJ"),b=a("u2Cb");t.a=({variables:e,layout:t,initialList:a})=>{const h=Object(m.b)(),v=Object(o.c)((e=>e.user)),[E,f]=Object(n.useState)(a||[]),{data:g,loading:j,error:y}=a?{data:null,loading:!1,error:!1}:Object(i.useQuery)(b.a.GET_ARTICLES,{variables:e});return Object(n.useEffect)((()=>{!j&&g&&f(g.getArticles)}),[g,j]),Object(n.useEffect)((()=>{(null===a||void 0===a?void 0:a.length)>0&&f(a)}),[a]),!j&&g||E.length>0?E.map((e=>{var a;return l.a.createElement(s.a,{key:e.id},l.a.createElement(u.b,{article:e,layout:t||"column",owned:null===v||void 0===v||null===(a=v.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:h(p.d,{id:e.id,auth:null===v||void 0===v?void 0:v.email}),withSocials:!0}))})):y?l.a.createElement(r.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):j?l.a.createElement(d.c,null,l.a.createElement(c.a,null)):l.a.createElement(r.a,{style:{width:"100%",textAlign:"center"}},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442")}},RoTl:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("vOnD"),o=a("8CDE"),r=a("nShV"),c=a("OXt0"),d=a("RKiZ"),s=a("hYBG");const u=Object(i.d)(o.a).withConfig({displayName:"FilterBar__Wrap",componentId:"sc-1lvfs1u-0"})(["display:flex;width:100%;&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 100ms,blur 100ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity 100ms,blur 100ms;}"]),m=Object(i.d)(r.b).withConfig({displayName:"FilterBar__List",componentId:"sc-1lvfs1u-1"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(256px,1fr));@media only screen and (max-width:480px){grid-gap:var(--default-gap);}"]),p=({isOpen:e=!0,filters:t,options:a,duration:n})=>l.a.createElement(s.a,{in:e,animation:"fade",timeout:n},l.a.createElement(u,null,l.a.createElement(d.a,{clear:!0}),t&&t.length>0&&l.a.createElement(m,null,t.map((e=>e))),a&&a.length>0&&l.a.createElement(r.b,null,l.a.createElement(c.b,{defaultValue:a[0],options:a,stretch:!0})),l.a.createElement(d.a,{clear:!0})));p.defaultProps={duration:150},t.a=p},VP1n:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("UUyv");t.a=Object(i.trackWindowScroll)((({children:e})=>l.a.createElement(i.LazyLoadComponent,null,e)))},"W+IF":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return ie}));var n=a("q1tI"),l=a.n(n),i=a("20a2"),o=a("vOnD"),r=a("/MKj"),c=a("VX74"),d=a("nShV"),s=a("8CDE"),u=a("OXt0"),m=a("ZwIX"),p=a("wZgm"),b=a("QclZ"),h=a("ZeZO"),v=a("auMy"),E=a("VWQm"),f=a("QUga"),g=a("feIE"),j=a("e3uv"),y=a("ApjV"),w=a("X+Rt"),O=a("aBfq"),_=a("RKiZ"),x=a("7sPp"),C=a("V0nP"),k=a("DTT8"),S=a("NWnW"),I=a("nh0P"),T=a("586Q");function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const D=Object(o.d)(d.b).withConfig({displayName:"UserBar__Wrap",componentId:"sc-17kd9nb-0"})(["width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),P=Object(o.d)(s.a).withConfig({displayName:"UserBar__Content",componentId:"sc-17kd9nb-1"})(["justify-content:space-between;grid-gap:0;width:100%;"]),A=Object(o.d)(C.a).withConfig({displayName:"UserBar__RoundedAvatar",componentId:"sc-17kd9nb-2"})(["width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}"]),N=o.d.div.withConfig({displayName:"UserBar__About",componentId:"sc-17kd9nb-3"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}"]),L=Object(o.d)(d.b).withConfig({displayName:"UserBar__Difinitions",componentId:"sc-17kd9nb-4"})(["flex-wrap:wrap;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}"]),U=Object(o.d)(h.a).withConfig({displayName:"UserBar__EditButton",componentId:"sc-17kd9nb-5"})(["font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}"]);var B=({user:e,onEdit:t,onAboutMore:a,onCompanyLink:n,onMembers:i})=>{var o,r,c,s,u,m;return l.a.createElement(D,null,l.a.createElement(A,{src:(null===e||void 0===e||null===(o=e.avatar)||void 0===o?void 0:o.path)||"/images/avatar-default.png"}),l.a.createElement(P,null,l.a.createElement(k.a,null,l.a.createElement(O.a,{category:Object(S.g)(e.account)}),Object(I.c)(e)&&l.a.createElement(I.a,null)),l.a.createElement(d.b,{style:{gridGap:"0 10px"}},l.a.createElement(x.a,{tag:"h3"},e.name),l.a.createElement(E.b,{place:"top",text:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},l.a.createElement(U,{type:"button",kind:"icon",size:"xs",appearance:"clear",onClick:t},"\u0420\u0435\u0434."))),l.a.createElement(_.a,{style:{margin:"5px 0"}}),l.a.createElement(N,null,(null===e||void 0===e||null===(r=e.about)||void 0===r?void 0:r.length)>135?l.a.createElement(l.a.Fragment,null,l.a.createElement(f.b,null,e.about.slice(0,135),"..."),l.a.createElement(T.e,{onClick:a},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")):l.a.createElement(f.b,null,e.about||"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0431\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430")),l.a.createElement(L,null,"ENTITY"===e.account?l.a.createElement(k.c,{icon:"user2",label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",text:e.members,onLink:i}):l.a.createElement(k.c,R({},e.company?{img:null===(c=e.company)||void 0===c||null===(s=c.avatar)||void 0===s?void 0:s.path}:{icon:"work"},{label:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f",text:(null===(u=e.company)||void 0===u?void 0:u.name)||"-",onLink:n})),l.a.createElement(k.c,{icon:"work",label:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",text:(null===e||void 0===e||null===(m=e.projects)||void 0===m?void 0:m.length)||0}))))},M=a("RoTl"),V=a("EYtC"),F=a("qF4B"),G=a("OaTT"),z=a("8ihE"),q=a("Sza6"),Q=a("rP4V"),W=a("IxyI"),Z=a("owvJ"),J=a("u2Cb"),X=a("wha1");const H=Object(o.d)(d.b).withConfig({displayName:"profile__ContainerInProgress",componentId:"sc-84d5hd-0"})(["grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}"]),K=Object(o.d)(h.a).withConfig({displayName:"profile__CreateButton",componentId:"sc-84d5hd-1"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}"]),Y=Object(o.d)(s.a).withConfig({displayName:"profile__Organizer",componentId:"sc-84d5hd-2"})(["width:265px;min-width:265px;"]),$=Object(o.d)(E.b).withConfig({displayName:"profile__RemoveTooltip",componentId:"sc-84d5hd-3"})(["position:absolute;right:8px;z-index:var(--z-11);display:none;"]),ee=Object(o.d)(m.a).withConfig({displayName:"profile__CentralAlert",componentId:"sc-84d5hd-4"})(["display:flex;justify-content:center;align-items:center;width:100%;flex-grow:10;"]),te=o.d.div.withConfig({displayName:"profile__ListItem",componentId:"sc-84d5hd-5"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);background:var(--ghost-color-background);border-radius:var(--surface-border-radius);padding:8px 10px;width:100%;height:auto;cursor:pointer;transition:all 150ms ease;",",h4{color:var(--ghost-color-text);}","{svg path{color:var(--ghost-color-text);}}&:hover{","{display:flex;svg path{stroke:black;}}",",h4{color:black;}}",""],f.a,$,$,f.a,(({active:e})=>e&&Object(o.c)(["color:var(--default-color-accent);background:var(--default-color-accent-dim);","{svg path{stroke:var(--default-color-accent) !important;}}",",h4,p{color:var(--default-color-accent);}&:hover{",",h4,p{color:var(--default-color-accent);}}"],$,f.a,f.a))),ae=({variables:e,projects:t})=>l.a.createElement(F.a,{variables:e,initialList:t,layout:!0}),ne=({variables:e})=>l.a.createElement(G.a,{variables:e,layout:!0}),le=()=>{const e=Object(y.b)(),{user:t,folder:a}=Object(r.c)((e=>({user:e.user,folder:e.root.folder}))),i=Object(r.b)(),o=Object(n.useMemo)((()=>null===t||void 0===t?void 0:t.folders[0]),[t]),[d,{data:u,loading:p,refetch:b}]=Object(c.useLazyQuery)(J.a.GET_PROJECTS_BY_IDS),[E,f]=Object(n.useState)(!1),j=async(e,t)=>{if(t&&b){if(f(!0),e){const a={...e,projects:t};i(Object(q.m)(a)),i(Object(z.c)(a))}await b({projects:t}),f(!1)}},w=e=>j(e,e.projects);return Object(n.useEffect)((()=>{o&&i(Object(q.m)(o))}),[o,i]),Object(n.useEffect)((()=>{b||u||!o||d({variables:{projects:o.projects}})}),[u,b,o,d]),l.a.createElement(H,null,l.a.createElement(Y,null,t.folders&&t.folders.length>0?l.a.createElement(s.a,null,t.folders.map((t=>{const n=t.projects.length,i=1===n?"\u043f\u0440\u043e\u0435\u043a\u0442":n>1&&n<5?"\u043f\u0440\u043e\u0435\u043a\u0442\u0430":"\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432";return l.a.createElement(te,{key:t.id,active:a&&t.id===a.id},l.a.createElement(k.c,{text:t.name,label:`${n} ${i}`,onLink:()=>w(t),revert:!0}),l.a.createElement($,{place:"left",text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},l.a.createElement(h.a,{size:"xs",kind:"icon",type:"button",disabled:p,appearance:"clear",onClick:e(Q.h,{id:t.id,mutation:J.a.DELETE_USER_FOLDER,callback:()=>w(o)})},l.a.createElement(g.a,{size:"xs",icon:"delete",stroke:"var(--ghost-color-text)"}))))}))):l.a.createElement(m.a,{style:{width:"100%",textAlign:"center"}},"\u041f\u0430\u043f\u043e\u043a \u043d\u0435\u0442"),l.a.createElement(K,{onClick:e(Q.g,{mutation:J.a.ADD_USER_FOLDER})},l.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"),l.a.createElement(g.a,{icon:"add",stroke:"white"}))),!p&&!E&&u&&u.getProjectsByIds.length>0?l.a.createElement(F.a,{initialList:a?u.getProjectsByIds:[],initialRefetch:e=>j(a,e),eliminable:!0,layout:!0}):p||E?l.a.createElement(T.c,{style:{height:"auto"}},l.a.createElement(v.a,null)):l.a.createElement(ee,null,"\u0412 \u044d\u0442\u043e\u0439 \u043f\u0430\u043f\u043a\u0435 \u043d\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"))};var ie=!0;t.default=()=>{var e;const t=Object(y.b)(),a=Object(i.useRouter)(),{user:o,companies:d,categories:m,statuses:h}=Object(r.c)((e=>({user:e.user,companies:e.root.companies,categories:e.root.categories,statuses:e.root.statuses}))),E=Object(r.b)(),[f,g]=Object(n.useState)(),[O,_]=Object(n.useState)(),[x,C]=Object(n.useState)(X.d[0]),[k,I]=Object(n.useState)(!1),R=Object(n.useMemo)((()=>"ADMIN"===(null===o||void 0===o?void 0:o.account)),[o]),[D]=Object(c.useLazyQuery)(J.a.GET_USERS),[P]=Object(c.useLazyQuery)(J.a.GET_CATEGORIES),[A]=Object(c.useLazyQuery)(J.a.GET_POST_STATUSES),N=Object(n.useMemo)((()=>"/projects"===x.value),[x]),L=Object(n.useMemo)((()=>"/articles"===x.value),[x]),U=Object(n.useCallback)((()=>{if(!o)return null;switch(x.value){case"/projects":return l.a.createElement(ae,{variables:{author:o.email},projects:o.projects});case"/liked":return l.a.createElement(ae,{variables:{rating:o.email},projects:o.likedProjects});case"/articles":return l.a.createElement(ne,{variables:{author:o.email}});default:return l.a.createElement(le,null)}}),[o,x]);return Object(n.useEffect)((()=>{o.authenticated||a.push("/auth")}),[o]),o.authenticated?l.a.createElement(w.a,{title:o.authenticated?o.name||"\u041f\u0440\u043e\u0444\u0438\u043b\u044c":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},l.a.createElement(s.a,null,l.a.createElement(B,{user:o,onEdit:t(Q.c,{user:null===o||void 0===o?void 0:o.email,canEditAccount:!R,mutations:{update:J.a.UPDATE_CLIENT_USER,del:J.a.DELETE_USER,changePassword:J.a.UPDATE_CLIENT_USER}}),onAboutMore:t(Q.a,{user:o}),onCompanyLink:(null===o||void 0===o?void 0:o.company)&&t(Q.i,{id:null===o||void 0===o||null===(e=o.company)||void 0===e?void 0:e.email,auth:null===o||void 0===o?void 0:o.email,queries:{userChats:J.a.GET_USER_CHATS,chat:J.a.GET_CHAT},mutations:{addUserChat:J.a.ADD_USER_CHAT,sendMessage:J.a.SEND_MESSAGE}}),onMembers:t(Q.j,{id:null===o||void 0===o?void 0:o.email,auth:null===o||void 0===o?void 0:o.email})}),l.a.createElement(u.b,{defaultValue:x,options:X.d,onChange:e=>C(e),stretch:!0}),l.a.createElement(V.a,{buttonCreateText:N?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442":L?"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e":"",onCreate:N&&Object(S.i)(o,"PURPOSE_PROJECT")&&(async()=>{var e,a,n;const l=0===(null===d||void 0===d?void 0:d.length)&&D&&await D({variables:{account:["ENTITY"]}}),i=0===(null===m||void 0===m?void 0:m.length)&&P&&await P({variables:{type:"DIVISION"}}),o=0===(null===h||void 0===h?void 0:h.length)&&A&&await A(),r=null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.getUsers,c=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.getCategories,s=null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.getPostStatus;r&&E(Object(q.k)(r)),c&&E(Object(q.j)(c)),s&&E(Object(q.t)(s)),t(W.b,{companies:r||d,categories:c||m,statuses:s||h,mutation:J.a.CREATE_PROJECT,query:J.a.GET_USERS,isPurpose:!0})()})||L&&Object(S.i)(o,"PURPOSE_ARTICLE")&&(async()=>{var e,a;const n=0===(null===m||void 0===m?void 0:m.length)&&P&&await P({variables:{type:"DIVISION"}}),l=0===(null===h||void 0===h?void 0:h.length)&&A&&await A(),i=null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.getCategories,o=null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.getPostStatus;i&&E(Object(q.j)(i)),o&&E(Object(q.t)(o)),t(Z.a,{categories:i||m,statuses:o||h,mutation:J.a.CREATE_ARTICLE,isPurpose:!0})()}),onChangeFilter:()=>I(!k)}),l.a.createElement(M.a,{isOpen:k,filters:[l.a.createElement(p.a,{key:"publishedAt",value:f,placeholder:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",onChange:g,withNavigate:!0}),l.a.createElement(b.a,{key:"categories",options:[].map((e=>({value:e.id,label:e.name}))),placeholder:"\u0420\u0430\u0437\u0434\u0435\u043b",selected:O,onChange:e=>_(e)})],options:j.a.project.map(((e,t)=>({label:e.header,value:t})))}),U())):l.a.createElement(T.c,null,l.a.createElement(v.a,null))}},coMr:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a("q1tI"),l=a.n(n),i=a("vOnD"),o=a("nShV"),r=a("8CDE"),c=a("ZeZO"),d=a("feIE"),s=a("OXt0"),u=a("DTT8"),m=a("79b8"),p=a("RKiZ"),b=a("VWQm");const h=Object(i.d)(r.a).withConfig({displayName:"HandleBar__Wrap",componentId:"phr6ix-0"})([""]),v=Object(i.d)(o.b).withConfig({displayName:"HandleBar__Header",componentId:"phr6ix-1"})(["justify-content:space-between;grid-gap:var(--default-gap);flex-wrap:wrap;"]),E=Object(i.d)(o.b).withConfig({displayName:"HandleBar__ActionGroup",componentId:"phr6ix-2"})(["justify-content:flex-end;@media only screen and (max-width:996px){width:100%;","{width:auto;}}@media only screen and (max-width:480px){flex-wrap:wrap;grid-gap:var(--default-gap);","{flex-direction:row;flex-grow:1;}","{button{width:100%;height:100%;}}}"],s.a,s.a,b.a),f=Object(i.d)(c.a).withConfig({displayName:"HandleBar__CreateButton",componentId:"phr6ix-3"})(["display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}@media only screen and (max-width:996px){width:100%;}"]),g=Object(i.d)(o.b).withConfig({displayName:"HandleBar__Footer",componentId:"phr6ix-4"})(["justify-content:space-between;@media only screen and (max-width:480px){flex-direction:column;align-items:end;grid-gap:var(--default-gap);}"]),j=Object(i.d)(c.a).withConfig({displayName:"HandleBar__DeleteButton",componentId:"phr6ix-5"})(["color:var(--default-color-red);background:none;border:none;&:hover{background:none;border:none;color:var(--default-color-red);}",""],(({disabled:e})=>e&&Object(i.c)(["color:var(--ghost-color-text);&:hover{color:var(--ghost-color-text);}"]))),y=[{label:l.a.createElement(d.a,{icon:"menu"}),value:"list",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u043e\u043c"},{label:l.a.createElement(d.a,{icon:"category"}),value:"grid",tooltip:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u043a\u043e\u0439"}],w=({icon:e,title:t,buttonCreateText:a,buttonDeleteDisabled:i,defaultDisplayMethod:o,defaultVisibleFilters:r,withoutFooter:w,withFilters:O,checked:_,onCreate:x,onChecked:C,onDeleteAll:k,onChangeDisplayMethod:S,onChangeVisibleFilter:I})=>{const[T,R]=Object(n.useState)(_),[D,P]=Object(n.useState)(r),[A,N]=Object(n.useState)(y.find((e=>e.value===o)));return Object(n.useEffect)((()=>{R(_)}),[_]),l.a.createElement(h,null,l.a.createElement(v,null,l.a.createElement(u.c,{icon:e,text:t}),l.a.createElement(E,null,x&&l.a.createElement(f,{type:"button",onClick:x},l.a.createElement("span",null,a),l.a.createElement(d.a,{icon:"add",stroke:"white"})),O&&l.a.createElement(b.b,{text:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432"},l.a.createElement(c.a,{type:"button",kind:"icon",onClick:()=>{P(!D),I&&I()},revert:!D},l.a.createElement(d.a,{icon:"filter2",stroke:D?"white":"var(--default-color-accent)"}))),l.a.createElement(s.b,{defaultValue:A||y[1],options:y,onChange:e=>(e=>{N(e),S&&S(e)})(e)}))),l.a.createElement(p.a,{clear:!0}),!w&&l.a.createElement(g,null,l.a.createElement(m.a,{label:"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435",checked:T,onChange:e=>{const t=e.target.checked;R(t),C&&C(t)}}),l.a.createElement(j,{appearance:"clear",disabled:i,onClick:k},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435")))};w.defaultProps={buttonCreateText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",buttonDeleteDisabled:!0},t.b=w},qF4B:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),i=a("vOnD"),o=a("VX74"),r=a("/MKj"),c=a("ZwIX"),d=a("auMy"),s=a("586Q"),u=a("VP1n"),m=a("1zqG"),p=a("ApjV"),b=a("lphG"),h=a("8ihE"),v=a("rP4V"),E=a("IxyI"),f=a("u2Cb");const g=i.d.div.withConfig({displayName:"ProjectList__Wrap",componentId:"zcwfmw-0"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}"]),j=({variables:e,layout:t,eliminable:a,initialList:i,initialRefetch:j,emptyMessage:y})=>{const w=Object(p.b)(),O=Object(b.a)(),{user:_,folder:x}=Object(r.c)((e=>({user:e.user,folder:e.root.folder}))),[C,k]=Object(n.useState)(i||[]),S=Object(r.b)(),{data:I,loading:T,error:R}=i?{data:null,loading:!1,error:!1}:Object(o.useQuery)(f.a.GET_PROJECTS,{variables:e}),D=Object(n.useCallback)((e=>w(E.a,{id:e.id,folders:null===_||void 0===_?void 0:_.folders,mutations:{addProject:f.a.ADD_USER_PROJECT,createFolder:f.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};S(Object(h.c)(a))}})()),[_]),P=Object(n.useCallback)((e=>w(E.f,{id:e.id,folder:x,mutation:f.a.REMOVE_USER_PROJECT,callback:()=>j&&j(C.filter((t=>t.id!==e.id)).map((e=>e.id)))})()),[_]);return Object(n.useEffect)((()=>{!T&&I&&k(I.getProjects)}),[I,T]),Object(n.useEffect)((()=>{!T&&(null===i||void 0===i?void 0:i.length)>0&&k(i)}),[T,i]),l.a.createElement(g,null,C.length>0?C.map((e=>{var n,i,o,r;const c=null===_||void 0===_||null===(n=_.projects)||void 0===n?void 0:n.find((t=>t.id===e.id));return l.a.createElement(u.a,{key:e.id},l.a.createElement(m.c,{project:e,eliminable:a,layout:t||"column",owned:c,added:!(null===_||void 0===_||null===(i=_.folders)||void 0===i||!i.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===_.email)),onLink:w(E.e,{id:e.id,auth:null===_||void 0===_?void 0:_.email,added:!(null===_||void 0===_||null===(o=_.folders)||void 0===o||!o.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===_.email)),onLike:_.email&&O(f.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(h.e)(e.data.likeProject)))),onAdd:_.email&&w(E.a,{id:e.id,folders:null===_||void 0===_?void 0:_.folders,mutations:{addProject:f.a.ADD_USER_PROJECT,createFolder:f.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};S(Object(h.c)(a))}}),owned:c}),onLike:_.email&&O(f.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(h.e)(e.data.likeProject)))),onAdd:_.email&&(()=>D(e)),onRemove:_.email&&(()=>P(e)),onAboutMore:w(v.a,{user:e}),onCompanyLink:w(v.i,{id:null===(r=e.company)||void 0===r?void 0:r.email,auth:null===_||void 0===_?void 0:_.email,recipient:e.author,query:f.a.GET_USER_CHATS,mutation:f.a.SEND_MESSAGE}),onScreenshotClick:(t,a)=>w(E.g,{screenshots:[e.preview,...e.screenshots],key:a})(),withSocials:!0}))})):R?l.a.createElement(c.a,{appearance:"error",style:{width:"100%",textAlign:"center"}},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):T?l.a.createElement(s.c,null,l.a.createElement(d.a,null)):l.a.createElement(c.a,{style:{width:"100%",textAlign:"center"}},y))};j.defaultProps={emptyMessage:"\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u043d\u0435\u0442"},t.a=j},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return a("W+IF")}])}},[["u1GD",0,2,1,3,4,5,6,8]]]);