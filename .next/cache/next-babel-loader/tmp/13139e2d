{"ast":null,"code":"var _s = $RefreshSig$();\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Transition from '../Transition';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Title from '../Title';\nconst DURATION = 100;\nexport function getPath(navigator) {\n  if (!navigator || navigator.length === 0) return null;\n  return navigator[navigator.length - 1];\n}\nexport const Wrap = styled.div.withConfig({\n  displayName: \"Modal__Wrap\",\n  componentId: \"sdkjxs-0\"\n})([\"display:flex;justify-content:center;align-items:flex-start;position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--z-override);overflow:auto;&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 100ms,blur 100ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity 100ms,blur 100ms;}\"]);\n_c = Wrap;\nexport const Overlay = styled.div.withConfig({\n  displayName: \"Modal__Overlay\",\n  componentId: \"sdkjxs-1\"\n})([\"position:fixed;top:0;left:0;width:100%;height:100%;z-index:var(--z-100);background:var(--default-color-overlay);cursor:pointer;\"]);\n_c2 = Overlay;\nexport const Content = styled.div.withConfig({\n  displayName: \"Modal__Content\",\n  componentId: \"sdkjxs-2\"\n})([\"position:relative;top:15%;left:0;right:0;z-index:var(--z-101);min-width:480px;max-width:80%;width:min-content;margin-block-end:150px;background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);&.swing-enter{opacity:0;transform:scale(0.9);}&.swing-enter-active{opacity:1;transform:translateX(0);transition:opacity 100ms,transform 100ms;}&.swing-exit{opacity:1;}&.swing-exit-active{opacity:0;transform:scale(0.9);transition:opacity 100ms,transform 100ms;}\", \" @media only screen and (max-width:768px){min-width:320px;}@media only screen and (max-width:480px){min-width:285px;max-width:100%;width:auto;margin:0 var(--default-gap);}\"], ({\n  size\n}) => size === 'l' && css([\"top:5%;min-width:65%;\"]));\n_c3 = Content;\nexport const Headline = styled.div.withConfig({\n  displayName: \"Modal__Headline\",\n  componentId: \"sdkjxs-3\"\n})([\"position:relative;display:flex;border-bottom:var(--default-border);padding:var(--default-gap);line-height:1;\"]);\n_c4 = Headline;\nexport const BackButton = styled(Button).withConfig({\n  displayName: \"Modal__BackButton\",\n  componentId: \"sdkjxs-4\"\n})([\"position:absolute;top:0;left:10px;height:100%;\"]);\n_c5 = BackButton;\nexport const StyledTitle = styled(Title).withConfig({\n  displayName: \"Modal__StyledTitle\",\n  componentId: \"sdkjxs-5\"\n})([\"text-align:center;width:100%;@media only screen and (max-width:480px){font-size:var(--font-size-l);}\"]);\n_c6 = StyledTitle;\nexport const Switch = props => {\n  const Childrens = props.children;\n  if (!Childrens) return null;\n  const path = props.path;\n  let Child = null;\n\n  for (const child of Childrens) {\n    if (path === child.props.path) {\n      Child = child;\n      break;\n    }\n  }\n\n  return Child;\n};\n_c7 = Switch;\nexport const Route = ({\n  component,\n  data,\n  close,\n  back,\n  jump\n}) => {\n  const Compoent = component;\n  return /*#__PURE__*/React.createElement(Compoent, {\n    data: data,\n    close: close,\n    back: back,\n    jump: jump\n  });\n};\n_c8 = Route;\nexport const Modal = ({\n  size,\n  routes,\n  closeByBackground,\n  onHide\n}) => {\n  _s();\n\n  const [navigator, setNavigator] = useState(['/']);\n  const [content, setContent] = useState(false);\n  const [animation, setAnimation] = useState(null);\n  const [data, setData] = useState(null);\n  const transitions = {\n    fade: {\n      in: routes ? true : false,\n      animation: 'fade',\n      onEnter: () => setContent(true),\n      onExited: () => setContent(false),\n      timeout: DURATION\n    },\n    swing: {\n      in: content,\n      animation: 'swing',\n      timeout: DURATION\n    }\n  };\n\n  const getTitle = () => {\n    var _routes$find;\n\n    function compare(route) {\n      return route.path === getPath(navigator);\n    }\n\n    const title = routes === null || routes === void 0 ? void 0 : (_routes$find = routes.find(route => compare(route))) === null || _routes$find === void 0 ? void 0 : _routes$find.title;\n    return title || '';\n  };\n\n  const getRoute = () => {\n    const defaultState = {\n      back: true\n    };\n    const current = navigator[navigator.length - 1];\n    const candidate = routes.find(route => route.path === current);\n\n    if (candidate) {\n      var _candidate$back;\n\n      return (_candidate$back = candidate === null || candidate === void 0 ? void 0 : candidate.back) !== null && _candidate$back !== void 0 ? _candidate$back : defaultState;\n    }\n\n    return defaultState;\n  };\n\n  const handleBack = () => {\n    setAnimation('slideOutRight');\n    setTimeout(() => {\n      setNavigator([...navigator.filter((e, i) => i !== navigator.length - 1)]);\n      setAnimation('slideInLeft');\n    }, DURATION);\n  };\n\n  const handleJump = path => {\n    setData(data);\n    setAnimation('slideOutLeft');\n    setTimeout(() => {\n      setNavigator([...navigator, path]);\n      setAnimation('slideInRight');\n    }, DURATION);\n  };\n\n  const handleClose = () => {\n    setContent(false);\n    setAnimation(null);\n    setTimeout(() => {\n      setNavigator(['/']);\n      onHide();\n    }, DURATION);\n  };\n\n  useEffect(() => {\n    if (routes && routes.length > 0) {\n      const route = routes.find(route => route.home);\n      setNavigator([(route === null || route === void 0 ? void 0 : route.path) || '/']);\n    }\n  }, [routes]);\n  return /*#__PURE__*/React.createElement(Transition, transitions.fade, /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(Overlay, {\n    className: !closeByBackground ? 'clear' : '',\n    onClick: closeByBackground ? handleClose : () => {}\n  }), /*#__PURE__*/React.createElement(Transition, transitions.swing, /*#__PURE__*/React.createElement(Content, {\n    className: `animate${animation ? ` ${animation}` : ''}`,\n    size: size\n  }, getTitle() && /*#__PURE__*/React.createElement(Headline, null, navigator.length > 1 && getRoute().back && /*#__PURE__*/React.createElement(BackButton, {\n    onClick: handleBack,\n    appearance: 'clear'\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'arrowLeft'\n  })), /*#__PURE__*/React.createElement(StyledTitle, {\n    tag: 'h3'\n  }, getTitle())), /*#__PURE__*/React.createElement(Switch, {\n    path: getPath(navigator)\n  }, (routes || []).map((props, key) => /*#__PURE__*/React.createElement(Route, _extends({\n    key: key\n  }, props, {\n    data: data,\n    close: handleClose,\n    back: handleBack,\n    jump: handleJump\n  }))))))));\n};\n\n_s(Modal, \"X+PqSV0rU5AH2rWl/TmOho7cQeA=\");\n\n_c9 = Modal;\nModal.defaultProps = {\n  title: 'Modal Title',\n  routes: [],\n  onHide: () => {},\n  closeByBackground: true\n};\nexport default Modal;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Overlay\");\n$RefreshReg$(_c3, \"Content\");\n$RefreshReg$(_c4, \"Headline\");\n$RefreshReg$(_c5, \"BackButton\");\n$RefreshReg$(_c6, \"StyledTitle\");\n$RefreshReg$(_c7, \"Switch\");\n$RefreshReg$(_c8, \"Route\");\n$RefreshReg$(_c9, \"Modal\");","map":{"version":3,"sources":["/Users/malcore/Documents/workspace/freelance/atomic/atomic-frontend/atomic-ui/components/Modal/index.js"],"names":["React","useEffect","useState","styled","css","Transition","Icon","Button","Title","DURATION","getPath","navigator","length","Wrap","div","Overlay","Content","size","Headline","BackButton","StyledTitle","Switch","props","Childrens","children","path","Child","child","Route","component","data","close","back","jump","Compoent","Modal","routes","closeByBackground","onHide","setNavigator","content","setContent","animation","setAnimation","setData","transitions","fade","in","onEnter","onExited","timeout","swing","getTitle","compare","route","title","find","getRoute","defaultState","current","candidate","handleBack","setTimeout","filter","e","i","handleJump","handleClose","home","map","key","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport Transition from '../Transition'\nimport Icon from '../Icon'\nimport Button from '../Button'\nimport Title from '../Title'\n\nconst DURATION = 100\n\nexport function getPath(navigator) {\n  if (!navigator || navigator.length === 0) return null\n\n  return navigator[navigator.length - 1]\n}\n\nexport const Wrap = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-override);\n  overflow: auto;\n\n  &.fade-enter {\n    opacity: 0;\n  }\n\n  &.fade-enter-active {\n    opacity: 1;\n    transition: opacity 100ms, blur 100ms;\n  }\n\n  &.fade-exit {\n    opacity: 1;\n  }\n\n  &.fade-exit-active {\n    opacity: 0;\n    transition: opacity 100ms, blur 100ms;\n  }\n`\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-100);\n  background: var(--default-color-overlay);\n  cursor: pointer;\n`\n\nexport const Content = styled.div`\n  position: relative;\n  top: 15%;\n  left: 0;\n  right: 0;\n  z-index: var(--z-101);\n\n  min-width: 480px;\n  max-width: 80%;\n  width: min-content;\n\n  margin-block-end: 150px;\n  background: var(--surface-background);\n  border: var(--surface-border);\n  border-radius: var(--surface-border-radius);\n  box-shadow: var(--surface-shadow);\n\n  &.swing-enter {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n\n  &.swing-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 100ms, transform 100ms;\n  }\n\n  &.swing-exit {\n    opacity: 1;\n  }\n\n  &.swing-exit-active {\n    opacity: 0;\n    transform: scale(0.9);\n    transition: opacity 100ms, transform 100ms;\n  }\n\n  ${({ size }) =>\n    size === 'l' &&\n    css`\n      top: 5%;\n      min-width: 65%;\n    `}\n\n  @media only screen and (max-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    min-width: 285px;\n    max-width: 100%;\n    width: auto;\n    margin: 0 var(--default-gap);\n  }\n`\n\nexport const Headline = styled.div`\n  position: relative;\n  display: flex;\n  border-bottom: var(--default-border);\n  padding: var(--default-gap);\n  line-height: 1;\n`\n\nexport const BackButton = styled(Button)`\n  position: absolute;\n  top: 0;\n  left: 10px;\n  height: 100%;\n`\n\nexport const StyledTitle = styled(Title)`\n  text-align: center;\n  width: 100%;\n\n  @media only screen and (max-width: 480px) {\n    font-size: var(--font-size-l);\n  }\n`\n\nexport const Switch = (props) => {\n  const Childrens = props.children\n  if (!Childrens) return null\n\n  const path = props.path\n\n  let Child = null\n  for (const child of Childrens) {\n    if (path === child.props.path) {\n      Child = child\n      break\n    }\n  }\n  return Child\n}\n\nexport const Route = ({ component, data, close, back, jump }) => {\n  const Compoent = component\n  return <Compoent data={data} close={close} back={back} jump={jump} />\n}\n\nexport const Modal = ({ size, routes, closeByBackground, onHide }) => {\n  const [navigator, setNavigator] = useState(['/'])\n  const [content, setContent] = useState(false)\n  const [animation, setAnimation] = useState(null)\n  const [data, setData] = useState(null)\n\n  const transitions = {\n    fade: {\n      in: routes ? true : false,\n      animation: 'fade',\n      onEnter: () => setContent(true),\n      onExited: () => setContent(false),\n      timeout: DURATION\n    },\n    swing: {\n      in: content,\n      animation: 'swing',\n      timeout: DURATION\n    }\n  }\n\n  const getTitle = () => {\n    function compare(route) {\n      return route.path === getPath(navigator)\n    }\n\n    const title = routes?.find((route) => compare(route))?.title\n\n    return title || ''\n  }\n\n  const getRoute = () => {\n    const defaultState = { back: true }\n    const current = navigator[navigator.length - 1]\n    const candidate = routes.find((route) => route.path === current)\n    if (candidate) {\n      return candidate?.back ?? defaultState\n    }\n    return defaultState\n  }\n\n  const handleBack = () => {\n    setAnimation('slideOutRight')\n    setTimeout(() => {\n      setNavigator([...navigator.filter((e, i) => i !== navigator.length - 1)])\n      setAnimation('slideInLeft')\n    }, DURATION)\n  }\n  const handleJump = (path) => {\n    setData(data)\n    setAnimation('slideOutLeft')\n    setTimeout(() => {\n      setNavigator([...navigator, path])\n      setAnimation('slideInRight')\n    }, DURATION)\n  }\n  const handleClose = () => {\n    setContent(false)\n    setAnimation(null)\n\n    setTimeout(() => {\n      setNavigator(['/'])\n      onHide()\n    }, DURATION)\n  }\n\n  useEffect(() => {\n    if (routes && routes.length > 0) {\n      const route = routes.find((route) => route.home)\n      setNavigator([route?.path || '/'])\n    }\n  }, [routes])\n\n  return (\n    <Transition {...transitions.fade}>\n      <Wrap>\n        <Overlay\n          className={!closeByBackground ? 'clear' : ''}\n          onClick={closeByBackground ? handleClose : () => {}}\n        />\n\n        <Transition {...transitions.swing}>\n          <Content className={`animate${animation ? ` ${animation}` : ''}`} size={size}>\n            {getTitle() && (\n              <Headline>\n                {navigator.length > 1 && getRoute().back && (\n                  <BackButton onClick={handleBack} appearance={'clear'}>\n                    <Icon icon={'arrowLeft'} />\n                  </BackButton>\n                )}\n\n                <StyledTitle tag={'h3'}>{getTitle()}</StyledTitle>\n              </Headline>\n            )}\n\n            <Switch path={getPath(navigator)}>\n              {(routes || []).map((props, key) => (\n                <Route\n                  key={key}\n                  {...props}\n                  data={data}\n                  close={handleClose}\n                  back={handleBack}\n                  jump={handleJump}\n                />\n              ))}\n            </Switch>\n          </Content>\n        </Transition>\n      </Wrap>\n    </Transition>\n  )\n}\n\nModal.defaultProps = {\n  title: 'Modal Title',\n  routes: [],\n  onHide: () => {},\n  closeByBackground: true\n}\n\nexport default Modal\n"]},"metadata":{},"sourceType":"module"}