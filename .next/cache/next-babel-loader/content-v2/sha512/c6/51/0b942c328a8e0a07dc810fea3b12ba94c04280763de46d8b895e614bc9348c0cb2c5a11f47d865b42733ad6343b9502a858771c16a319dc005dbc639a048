{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Controller } from 'react-hook-form';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { v4 } from 'uuid';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Grid from '../../atomic-ui/components/Grid';\nimport Title from '../../atomic-ui/components/Title';\nimport Input from '../../atomic-ui/components/Input';\nimport Button from '../../atomic-ui/components/Button';\nimport Select from '../../atomic-ui/components/Select';\nimport TextArea from '../../atomic-ui/components/TextArea';\nimport TextEditor from '../../atomic-ui/components/TextEditor';\nimport RoomsEditor from '../../atomic-ui/components/RoomsEditor';\nimport Dropzone from '../../atomic-ui/components/Dropzone';\nimport ActionRow from '../../atomic-ui/components/ActionRow';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Icon from '../../atomic-ui/components/Icon';\nimport { getLabelStatus, getLabelCategory, getLabelRole, getFileSize } from '../../atomic-ui/utils/functions';\nimport Form from '../Form';\nimport { Loader } from '../Styled';\nimport { setProjectMembers, setProjectScreenshots, setProjectFiles } from '../../store/actions/root';\nimport queries from '../../graphql/queries';\nimport config from '../../config';\nexport const AdaptiveRow = styled(Row).withConfig({\n  displayName: \"FormProject__AdaptiveRow\",\n  componentId: \"sc-1t0r6a3-0\"\n})([\"grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-wrap:wrap;}\"]);\n_c = AdaptiveRow;\nexport const Preview = styled(Dropzone).withConfig({\n  displayName: \"FormProject__Preview\",\n  componentId: \"sc-1t0r6a3-1\"\n})([\"width:40%;height:289px;@media only screen and (max-width:768px){width:100%;height:256px;}\"]);\n_c2 = Preview;\nexport const General = styled(Column).withConfig({\n  displayName: \"FormProject__General\",\n  componentId: \"sc-1t0r6a3-2\"\n})([\"width:60%;@media only screen and (max-width:768px){width:100%;}\"]);\n_c3 = General;\nexport const DescriptionArea = styled(TextArea).withConfig({\n  displayName: \"FormProject__DescriptionArea\",\n  componentId: \"sc-1t0r6a3-3\"\n})([\"height:100%;\"]);\n_c4 = DescriptionArea;\nexport const RemoveTooltip = styled(Tooltip).withConfig({\n  displayName: \"FormProject__RemoveTooltip\",\n  componentId: \"sc-1t0r6a3-4\"\n})([\"display:none;\"]);\n_c5 = RemoveTooltip;\nexport const AlignmentRow = styled(Row).withConfig({\n  displayName: \"FormProject__AlignmentRow\",\n  componentId: \"sc-1t0r6a3-5\"\n})([\"position:relative;justify-content:space-between;align-items:center;&:hover{\", \"{display:flex;}}\"], RemoveTooltip);\n_c6 = AlignmentRow;\nexport const Project = ({\n  project,\n  companies,\n  categories,\n  statuses,\n  mutation,\n  appearance,\n  className,\n  canEditStatus,\n  onMemberAdd,\n  onScreenshotAdd,\n  onFileAdd,\n  onMemberRemove,\n  onScreenshotRemove,\n  onFileRemove,\n  onSubmit,\n  isPurpose\n}) => {\n  _s();\n\n  const {\n    data,\n    loading: loadingData,\n    error\n  } = project ? useQuery(queries.GET_PROJECT, {\n    variables: {\n      id: project\n    }\n  }) : {\n    data: {\n      getProject: {}\n    },\n    loading: false,\n    error: false\n  };\n  const {\n    members,\n    screenshots,\n    files\n  } = useSelector(state => ({\n    members: state.root.members,\n    screenshots: state.root.screenshots,\n    files: state.root.files\n  }));\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!loadingData && data) {\n      var _data$getProject, _data$getProject2, _data$getProject3;\n\n      if ((_data$getProject = data.getProject) !== null && _data$getProject !== void 0 && _data$getProject.members) {\n        dispatch(setProjectMembers(data.getProject.members));\n      }\n\n      if ((_data$getProject2 = data.getProject) !== null && _data$getProject2 !== void 0 && _data$getProject2.screenshots) {\n        dispatch(setProjectScreenshots(data.getProject.screenshots));\n      }\n\n      if ((_data$getProject3 = data.getProject) !== null && _data$getProject3 !== void 0 && _data$getProject3.files) {\n        dispatch(setProjectFiles(data.getProject.files));\n      }\n    }\n  }, [loadingData, data]);\n  return /*#__PURE__*/React.createElement(Form, {\n    className: className,\n    appearance: appearance,\n    mutation: mutation,\n    onSubmit: (form, action) => onSubmit({ ...form,\n      members,\n      screenshots,\n      files\n    }, action)\n  }, ({\n    register,\n    loading,\n    errors,\n    control,\n    getValues\n  }) => {\n    var _data$getProject4, _data$getProject5, _data$getProject6, _data$getProject7, _data$getProject8, _data$getProject9, _data$getProject10, _data$getProject11, _data$getProject12, _data$getProject13, _data$getProject14, _data$getProject15, _data$getProject16, _data$getProject17, _data$getProject18, _data$getProject19, _data$getProject20, _data$getProject21, _data$getProject22;\n\n    return !loading && !loadingData && data ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Title, {\n      tag: 'h4'\n    }, \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0435\"), /*#__PURE__*/React.createElement(AdaptiveRow, null, errors && errors.preview && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0434\\u043B\\u044F \\u043F\\u0440\\u0435\\u0432\\u044C\\u044E\"), /*#__PURE__*/React.createElement(Controller, {\n      name: 'preview',\n      control: control,\n      rules: {\n        required: true\n      },\n      defaultValue: getValues('preview') || ((_data$getProject4 = data.getProject) === null || _data$getProject4 === void 0 ? void 0 : _data$getProject4.preview) || null,\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Preview, {\n        accept: 'image/*',\n        defaultValue: value,\n        onChange: onChange,\n        placeholder: 'Перетащите сюда изображение для превью',\n        tooltip: 'Разрешение: 700x600px. Допустимые форматы: jpeg, jpg, png. Макс. размер: 15 MB'\n      })\n    }), /*#__PURE__*/React.createElement(General, null, errors && errors.title && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\"), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'title',\n      ref: register({\n        required: true\n      }),\n      defaultValue: getValues('title') || ((_data$getProject5 = data.getProject) === null || _data$getProject5 === void 0 ? void 0 : _data$getProject5.title),\n      placeholder: 'Название',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Controller, {\n      name: 'company',\n      control: control,\n      defaultValue: getValues('company') || ((_data$getProject6 = data.getProject) !== null && _data$getProject6 !== void 0 && _data$getProject6.company ? {\n        value: data.getProject.company.id,\n        label: data.getProject.company.name\n      } : null),\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Select, {\n        options: !loading && companies ? companies.map(user => ({\n          value: user,\n          label: user.name\n        })) : [],\n        appearance: 'ghost',\n        defaultValue: value,\n        placeholder: 'Выберите компанию',\n        onChange: onChange,\n        isLoading: loading,\n        isSearchable: true\n      })\n    }), /*#__PURE__*/React.createElement(Controller, {\n      name: 'category',\n      control: control,\n      defaultValue: getValues('category') || ((_data$getProject7 = data.getProject) !== null && _data$getProject7 !== void 0 && _data$getProject7.category ? {\n        value: data.getProject.category.id,\n        label: getLabelCategory(data.getProject.category.name)\n      } : null),\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Select, {\n        appearance: 'ghost',\n        placeholder: 'Выберите раздел',\n        options: categories.filter(category => category.type === 'DIVISION').map(item => ({\n          value: item.id,\n          label: getLabelCategory(item.name)\n        })),\n        onChange: onChange,\n        defaultValue: value,\n        isLoading: loading,\n        isClearable: true\n      })\n    }), errors && errors.description && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\"), /*#__PURE__*/React.createElement(DescriptionArea, {\n      ref: register(),\n      name: 'description',\n      appearance: 'ghost',\n      defaultValue: getValues('description') || ((_data$getProject8 = data.getProject) === null || _data$getProject8 === void 0 ? void 0 : _data$getProject8.description),\n      placeholder: 'Описание',\n      disabled: loading\n    }))), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), /*#__PURE__*/React.createElement(AdaptiveRow, null, /*#__PURE__*/React.createElement(Column, {\n      style: {\n        flexGrow: 1\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'address',\n      ref: register(),\n      defaultValue: getValues('address') || ((_data$getProject9 = data.getProject) === null || _data$getProject9 === void 0 ? void 0 : _data$getProject9.address),\n      placeholder: 'Введите адрес',\n      label: 'Адрес',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'areaLand',\n      ref: register(),\n      defaultValue: getValues('areaLand') || ((_data$getProject10 = data.getProject) === null || _data$getProject10 === void 0 ? void 0 : _data$getProject10.areaLand),\n      placeholder: 'Введите площадь земельного участка',\n      label: 'Площадь земельного участка',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'areaBuilding',\n      ref: register(),\n      defaultValue: getValues('areaBuilding') || ((_data$getProject11 = data.getProject) === null || _data$getProject11 === void 0 ? void 0 : _data$getProject11.areaBuilding),\n      placeholder: 'Введите площадь застройки участка',\n      label: 'Площадь застройки участка',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'areaTotalObject',\n      ref: register(),\n      defaultValue: getValues('areaTotalObject') || ((_data$getProject12 = data.getProject) === null || _data$getProject12 === void 0 ? void 0 : _data$getProject12.areaTotalObject),\n      placeholder: 'Введите общая площадь объекта',\n      label: 'Общая площадь объекта',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'areaEducation',\n      ref: register(),\n      defaultValue: getValues('areaEducation') || ((_data$getProject13 = data.getProject) === null || _data$getProject13 === void 0 ? void 0 : _data$getProject13.areaEducation),\n      placeholder: 'Введите площадь учебных поведений',\n      label: 'Площадь учебных поведений',\n      appearance: 'ghost',\n      disabled: loading\n    })), /*#__PURE__*/React.createElement(Column, {\n      style: {\n        flexGrow: 1\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'site',\n      ref: register(),\n      defaultValue: getValues('site') || ((_data$getProject14 = data.getProject) === null || _data$getProject14 === void 0 ? void 0 : _data$getProject14.site),\n      placeholder: 'Введите веб-сайт',\n      label: 'Веб-сайт',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'areaRecreation',\n      ref: register(),\n      defaultValue: getValues('areaRecreation') || ((_data$getProject15 = data.getProject) === null || _data$getProject15 === void 0 ? void 0 : _data$getProject15.areaRecreation),\n      placeholder: 'Введите площадь рекреаций',\n      label: 'Площадь рекреаций',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'number',\n      name: 'floors',\n      ref: register(),\n      defaultValue: getValues('floors') || ((_data$getProject16 = data.getProject) === null || _data$getProject16 === void 0 ? void 0 : _data$getProject16.floors),\n      placeholder: 'Введите этажность объекта',\n      label: 'Этажность объекта',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'volumeBuilding',\n      ref: register(),\n      defaultValue: getValues('volumeBuilding') || ((_data$getProject17 = data.getProject) === null || _data$getProject17 === void 0 ? void 0 : _data$getProject17.volumeBuilding),\n      placeholder: 'Введите строительный объем проекта',\n      label: 'Строительный объем проекта',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: 'number',\n      name: 'capacity',\n      ref: register(),\n      defaultValue: getValues('capacity') || ((_data$getProject18 = data.getProject) === null || _data$getProject18 === void 0 ? void 0 : _data$getProject18.capacity),\n      placeholder: 'Введите вместимость объекта',\n      label: 'Вместимость объекта',\n      appearance: 'ghost',\n      disabled: loading\n    }))), /*#__PURE__*/React.createElement(Controller, {\n      name: 'rooms',\n      control: control,\n      defaultValue: getValues('rooms') || ((_data$getProject19 = data.getProject) === null || _data$getProject19 === void 0 ? void 0 : _data$getProject19.rooms) || null,\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(RoomsEditor, {\n        appearance: 'ghost',\n        defaultValue: value,\n        onChange: onChange\n      })\n    }), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), errors && errors.body && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\"), /*#__PURE__*/React.createElement(Controller, {\n      name: 'body',\n      control: control,\n      rules: {\n        required: true\n      },\n      defaultValue: getValues('body') || ((_data$getProject20 = data.getProject) === null || _data$getProject20 === void 0 ? void 0 : _data$getProject20.body) || null,\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(TextEditor, {\n        apiKey: config.get('tiny-key'),\n        appearance: 'ghost',\n        defaultValue: value,\n        onChange: onChange\n      })\n    }), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), /*#__PURE__*/React.createElement(Column, {\n      style: {\n        flexGrow: 1\n      }\n    }, /*#__PURE__*/React.createElement(ActionRow, {\n      title: 'Участники проeкта',\n      onAdd: onMemberAdd || (() => {}),\n      action: true\n    }), (members === null || members === void 0 ? void 0 : members.length) > 0 ? /*#__PURE__*/React.createElement(Grid, {\n      percentage: 'minmax(320px, 1fr)'\n    }, members.map(member => {\n      var _member$value, _member$value2, _member$value2$avatar, _member$avatar, _member$value3, _member$value4;\n\n      return /*#__PURE__*/React.createElement(AlignmentRow, {\n        key: v4()\n      }, /*#__PURE__*/React.createElement(Difinition, {\n        key: ((_member$value = member.value) === null || _member$value === void 0 ? void 0 : _member$value.email) || (member === null || member === void 0 ? void 0 : member.email),\n        img: ((_member$value2 = member.value) === null || _member$value2 === void 0 ? void 0 : (_member$value2$avatar = _member$value2.avatar) === null || _member$value2$avatar === void 0 ? void 0 : _member$value2$avatar.path) || ((_member$avatar = member.avatar) === null || _member$avatar === void 0 ? void 0 : _member$avatar.path) || '/images/avatar-default.png',\n        label: getLabelRole((member === null || member === void 0 ? void 0 : (_member$value3 = member.value) === null || _member$value3 === void 0 ? void 0 : _member$value3.account) || (member === null || member === void 0 ? void 0 : member.account)),\n        text: ((_member$value4 = member.value) === null || _member$value4 === void 0 ? void 0 : _member$value4.name) || (member === null || member === void 0 ? void 0 : member.name)\n      }), /*#__PURE__*/React.createElement(RemoveTooltip, {\n        place: 'left',\n        text: 'Удалить'\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: 'button',\n        kind: 'icon',\n        size: 'xs',\n        onClick: () => {\n          var _member$value5;\n\n          return onMemberRemove((member === null || member === void 0 ? void 0 : (_member$value5 = member.value) === null || _member$value5 === void 0 ? void 0 : _member$value5.email) || (member === null || member === void 0 ? void 0 : member.email));\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        size: 'xs',\n        icon: 'delete',\n        stroke: 'white'\n      }))));\n    })) : /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        textAlign: 'center'\n      },\n      width: '100%'\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432\")), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), /*#__PURE__*/React.createElement(ActionRow, {\n      title: 'Изображения',\n      info: 'Допустимые форматы: jpeg, jpg, png. Макс. размер: 15 MB',\n      onAdd: !project && onScreenshotAdd || (() => {}),\n      action: true\n    }), (screenshots === null || screenshots === void 0 ? void 0 : screenshots.length) > 0 ? /*#__PURE__*/React.createElement(Grid, {\n      percentage: 'minmax(196px, 1fr)'\n    }, screenshots.map(screenshot => {\n      var _screenshot$file, _screenshot$file2, _screenshot$file3, _screenshot$file4;\n\n      return /*#__PURE__*/React.createElement(AlignmentRow, {\n        key: v4()\n      }, /*#__PURE__*/React.createElement(Difinition, {\n        key: screenshot.id,\n        img: screenshot.blob || ((_screenshot$file = screenshot.file) === null || _screenshot$file === void 0 ? void 0 : _screenshot$file.path) || screenshot.path,\n        label: (((_screenshot$file2 = screenshot.file) === null || _screenshot$file2 === void 0 ? void 0 : _screenshot$file2.name) || ((_screenshot$file3 = screenshot.file) === null || _screenshot$file3 === void 0 ? void 0 : _screenshot$file3.path) || (screenshot === null || screenshot === void 0 ? void 0 : screenshot.name) || (screenshot === null || screenshot === void 0 ? void 0 : screenshot.path)).split('/').slice(-1)[0],\n        text: getFileSize(screenshot.size || ((_screenshot$file4 = screenshot.file) === null || _screenshot$file4 === void 0 ? void 0 : _screenshot$file4.size))\n      }), !project && /*#__PURE__*/React.createElement(RemoveTooltip, {\n        place: 'left',\n        text: 'Удалить'\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: 'button',\n        kind: 'icon',\n        size: 'xs',\n        onClick: () => onScreenshotRemove(screenshot.id)\n      }, /*#__PURE__*/React.createElement(Icon, {\n        size: 'xs',\n        icon: 'delete',\n        stroke: 'white'\n      }))));\n    })) : /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        textAlign: 'center'\n      },\n      width: '100%'\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\"), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), /*#__PURE__*/React.createElement(ActionRow, {\n      title: 'Файлы',\n      info: 'Допустимые форматы: pdf, docx, .doc. Макс. размер: 15 MB',\n      onAdd: onFileAdd || (() => {}),\n      action: true\n    }), (files === null || files === void 0 ? void 0 : files.length) > 0 ? /*#__PURE__*/React.createElement(Grid, {\n      percentage: 'minmax(196px, 1fr)'\n    }, files.map(file => {\n      var _file$file, _file$file2, _file$file3;\n\n      return /*#__PURE__*/React.createElement(AlignmentRow, {\n        key: v4()\n      }, /*#__PURE__*/React.createElement(Difinition, {\n        key: file.id,\n        icon: 'document',\n        label: (((_file$file = file.file) === null || _file$file === void 0 ? void 0 : _file$file.name) || ((_file$file2 = file.file) === null || _file$file2 === void 0 ? void 0 : _file$file2.path) || (file === null || file === void 0 ? void 0 : file.name) || (file === null || file === void 0 ? void 0 : file.path)).split('/').slice(-1)[0],\n        text: getFileSize(file.size || ((_file$file3 = file.file) === null || _file$file3 === void 0 ? void 0 : _file$file3.size))\n      }), !project && /*#__PURE__*/React.createElement(RemoveTooltip, {\n        place: 'left',\n        text: 'Удалить'\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: 'button',\n        kind: 'icon',\n        size: 'xs',\n        onClick: () => onFileRemove(file.id)\n      }, /*#__PURE__*/React.createElement(Icon, {\n        size: 'xs',\n        icon: 'delete',\n        stroke: 'white'\n      }))));\n    })) : /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        textAlign: 'center'\n      },\n      width: '100%'\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0444\\u0430\\u0439\\u043B\\u044B\"), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), errors && errors.presentation && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443 \\u043D\\u0430 \\u0432\\u0438\\u0434\\u0435\\u043E\"), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      ref: register(),\n      name: 'presentation',\n      defaultValue: getValues('presentation') || ((_data$getProject21 = data.getProject) === null || _data$getProject21 === void 0 ? void 0 : _data$getProject21.presentation),\n      placeholder: 'Вставьте ссылку на видео',\n      label: 'Видео-презентация',\n      appearance: 'ghost',\n      disabled: loading\n    }), canEditStatus && /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), canEditStatus && /*#__PURE__*/React.createElement(Controller, {\n      name: 'status',\n      control: control,\n      defaultValue: getValues('status') || ((_data$getProject22 = data.getProject) !== null && _data$getProject22 !== void 0 && _data$getProject22.status ? {\n        value: data.getProject.status,\n        label: getLabelStatus(data.getProject.status)\n      } : null),\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Select, {\n        appearance: 'ghost',\n        placeholder: 'Выберите статус',\n        options: statuses.map(item => ({\n          value: item,\n          label: getLabelStatus(item)\n        })),\n        onChange: onChange,\n        defaultValue: value,\n        menuPlacement: 'top',\n        isLoading: loading,\n        isClearable: true\n      })\n    }), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        flexGrow: 1\n      },\n      type: 'submit',\n      disabled: loading\n    }, isPurpose ? 'Предложить' : project ? 'Сохранить' : 'Создать'))) : error ? /*#__PURE__*/React.createElement(Alert, {\n      appearance: 'error',\n      style: {\n        width: '100%',\n        textAlign: 'center'\n      }\n    }, \"\\u0423\\u043F\\u0441! \\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0435\") : /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  });\n};\n\n_s(Project, \"SpO4x+3F6pI8LIzYfP6EqI9yLPs=\", false, function () {\n  return [useQuery, useSelector, useDispatch];\n});\n\n_c7 = Project;\nexport default Project;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"AdaptiveRow\");\n$RefreshReg$(_c2, \"Preview\");\n$RefreshReg$(_c3, \"General\");\n$RefreshReg$(_c4, \"DescriptionArea\");\n$RefreshReg$(_c5, \"RemoveTooltip\");\n$RefreshReg$(_c6, \"AlignmentRow\");\n$RefreshReg$(_c7, \"Project\");","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/components/FormProject/index.js"],"names":["React","useEffect","styled","Controller","useQuery","useSelector","useDispatch","v4","Row","Column","Grid","Title","Input","Button","Select","TextArea","TextEditor","RoomsEditor","Dropzone","ActionRow","Difinition","Spinner","Divider","Tooltip","Alert","Icon","getLabelStatus","getLabelCategory","getLabelRole","getFileSize","Form","Loader","setProjectMembers","setProjectScreenshots","setProjectFiles","queries","config","AdaptiveRow","Preview","General","DescriptionArea","RemoveTooltip","AlignmentRow","Project","project","companies","categories","statuses","mutation","appearance","className","canEditStatus","onMemberAdd","onScreenshotAdd","onFileAdd","onMemberRemove","onScreenshotRemove","onFileRemove","onSubmit","isPurpose","data","loading","loadingData","error","GET_PROJECT","variables","id","getProject","members","screenshots","files","state","root","dispatch","form","action","register","errors","control","getValues","preview","width","required","value","onChange","title","company","label","name","map","user","category","filter","type","item","description","flexGrow","address","areaLand","areaBuilding","areaTotalObject","areaEducation","site","areaRecreation","floors","volumeBuilding","capacity","rooms","body","get","length","member","email","avatar","path","account","textAlign","screenshot","blob","file","split","slice","size","presentation","status"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Controller } from 'react-hook-form'\nimport { useQuery } from '@apollo/react-hooks'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { v4 } from 'uuid'\n\nimport Row from '../../atomic-ui/components/Row'\nimport Column from '../../atomic-ui/components/Column'\nimport Grid from '../../atomic-ui/components/Grid'\nimport Title from '../../atomic-ui/components/Title'\nimport Input from '../../atomic-ui/components/Input'\nimport Button from '../../atomic-ui/components/Button'\nimport Select from '../../atomic-ui/components/Select'\nimport TextArea from '../../atomic-ui/components/TextArea'\nimport TextEditor from '../../atomic-ui/components/TextEditor'\nimport RoomsEditor from '../../atomic-ui/components/RoomsEditor'\nimport Dropzone from '../../atomic-ui/components/Dropzone'\nimport ActionRow from '../../atomic-ui/components/ActionRow'\nimport Difinition from '../../atomic-ui/components/Difinition'\nimport Spinner from '../../atomic-ui/components/Spinner'\nimport Divider from '../../atomic-ui/components/Divider'\nimport Tooltip from '../../atomic-ui/components/Tooltip'\nimport Alert from '../../atomic-ui/components/Alert'\nimport Icon from '../../atomic-ui/components/Icon'\nimport {\n  getLabelStatus,\n  getLabelCategory,\n  getLabelRole,\n  getFileSize\n} from '../../atomic-ui/utils/functions'\n\nimport Form from '../Form'\nimport { Loader } from '../Styled'\nimport { setProjectMembers, setProjectScreenshots, setProjectFiles } from '../../store/actions/root'\nimport queries from '../../graphql/queries'\nimport config from '../../config'\n\nexport const AdaptiveRow = styled(Row)`\n  grid-gap: var(--default-gap);\n\n  @media only screen and (max-width: 768px) {\n    flex-wrap: wrap;\n  }\n`\n\nexport const Preview = styled(Dropzone)`\n  width: 40%;\n  height: 289px;\n\n  @media only screen and (max-width: 768px) {\n    width: 100%;\n    height: 256px;\n  }\n`\n\nexport const General = styled(Column)`\n  width: 60%;\n\n  @media only screen and (max-width: 768px) {\n    width: 100%;\n  }\n`\n\nexport const DescriptionArea = styled(TextArea)`\n  height: 100%;\n`\n\nexport const RemoveTooltip = styled(Tooltip)`\n  display: none;\n`\n\nexport const AlignmentRow = styled(Row)`\n  position: relative;\n  justify-content: space-between;\n  align-items: center;\n\n  &:hover {\n    ${RemoveTooltip} {\n      display: flex;\n    }\n  }\n`\n\nexport const Project = ({\n  project,\n  companies,\n  categories,\n  statuses,\n  mutation,\n  appearance,\n  className,\n  canEditStatus,\n  onMemberAdd,\n  onScreenshotAdd,\n  onFileAdd,\n  onMemberRemove,\n  onScreenshotRemove,\n  onFileRemove,\n  onSubmit,\n  isPurpose\n}) => {\n  const { data, loading: loadingData, error } = project\n    ? useQuery(queries.GET_PROJECT, {\n        variables: {\n          id: project\n        }\n      })\n    : { data: { getProject: {} }, loading: false, error: false }\n\n  const { members, screenshots, files } = useSelector((state) => ({\n    members: state.root.members,\n    screenshots: state.root.screenshots,\n    files: state.root.files\n  }))\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if (!loadingData && data) {\n      if (data.getProject?.members) {\n        dispatch(setProjectMembers(data.getProject.members))\n      }\n      if (data.getProject?.screenshots) {\n        dispatch(setProjectScreenshots(data.getProject.screenshots))\n      }\n      if (data.getProject?.files) {\n        dispatch(setProjectFiles(data.getProject.files))\n      }\n    }\n  }, [loadingData, data])\n\n  return (\n    <Form\n      className={className}\n      appearance={appearance}\n      mutation={mutation}\n      onSubmit={(form, action) => onSubmit({ ...form, members, screenshots, files }, action)}>\n      {({ register, loading, errors, control, getValues }) =>\n        !loading && !loadingData && data ? (\n          <React.Fragment>\n            <Title tag={'h4'}>Основное</Title>\n\n            <AdaptiveRow>\n              {errors && errors.preview && (\n                <Alert style={{ width: '100%' }} appearance={'error'}>\n                  Выберите изображение для превью\n                </Alert>\n              )}\n              <Controller\n                name={'preview'}\n                control={control}\n                rules={{ required: true }}\n                defaultValue={getValues('preview') || data.getProject?.preview || null}\n                render={({ value, onChange }) => (\n                  <Preview\n                    accept={'image/*'}\n                    defaultValue={value}\n                    onChange={onChange}\n                    placeholder={'Перетащите сюда изображение для превью'}\n                    tooltip={\n                      'Разрешение: 700x600px. Допустимые форматы: jpeg, jpg, png. Макс. размер: 15 MB'\n                    }\n                  />\n                )}\n              />\n\n              <General>\n                {errors && errors.title && (\n                  <Alert style={{ width: '100%' }} appearance={'error'}>\n                    Введите название проекта\n                  </Alert>\n                )}\n                <Input\n                  type={'text'}\n                  name={'title'}\n                  ref={register({ required: true })}\n                  defaultValue={getValues('title') || data.getProject?.title}\n                  placeholder={'Название'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n\n                <Controller\n                  name={'company'}\n                  control={control}\n                  defaultValue={\n                    getValues('company') ||\n                    (data.getProject?.company\n                      ? {\n                          value: data.getProject.company.id,\n                          label: data.getProject.company.name\n                        }\n                      : null)\n                  }\n                  render={({ value, onChange }) => (\n                    <Select\n                      options={\n                        !loading && companies\n                          ? companies.map((user) => ({\n                              value: user,\n                              label: user.name\n                            }))\n                          : []\n                      }\n                      appearance={'ghost'}\n                      defaultValue={value}\n                      placeholder={'Выберите компанию'}\n                      onChange={onChange}\n                      isLoading={loading}\n                      isSearchable\n                    />\n                  )}\n                />\n\n                <Controller\n                  name={'category'}\n                  control={control}\n                  defaultValue={\n                    getValues('category') ||\n                    (data.getProject?.category\n                      ? {\n                          value: data.getProject.category.id,\n                          label: getLabelCategory(data.getProject.category.name)\n                        }\n                      : null)\n                  }\n                  render={({ value, onChange }) => (\n                    <Select\n                      appearance={'ghost'}\n                      placeholder={'Выберите раздел'}\n                      options={categories\n                        .filter((category) => category.type === 'DIVISION')\n                        .map((item) => ({\n                          value: item.id,\n                          label: getLabelCategory(item.name)\n                        }))}\n                      onChange={onChange}\n                      defaultValue={value}\n                      isLoading={loading}\n                      isClearable\n                    />\n                  )}\n                />\n\n                {errors && errors.description && (\n                  <Alert style={{ width: '100%' }} appearance={'error'}>\n                    Введите описание проекта\n                  </Alert>\n                )}\n                <DescriptionArea\n                  ref={register()}\n                  name={'description'}\n                  appearance={'ghost'}\n                  defaultValue={getValues('description') || data.getProject?.description}\n                  placeholder={'Описание'}\n                  disabled={loading}\n                />\n              </General>\n            </AdaptiveRow>\n\n            <Divider clear />\n\n            <AdaptiveRow>\n              <Column style={{ flexGrow: 1 }}>\n                <Input\n                  type={'text'}\n                  name={'address'}\n                  ref={register()}\n                  defaultValue={getValues('address') || data.getProject?.address}\n                  placeholder={'Введите адрес'}\n                  label={'Адрес'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'text'}\n                  name={'areaLand'}\n                  ref={register()}\n                  defaultValue={getValues('areaLand') || data.getProject?.areaLand}\n                  placeholder={'Введите площадь земельного участка'}\n                  label={'Площадь земельного участка'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'text'}\n                  name={'areaBuilding'}\n                  ref={register()}\n                  defaultValue={getValues('areaBuilding') || data.getProject?.areaBuilding}\n                  placeholder={'Введите площадь застройки участка'}\n                  label={'Площадь застройки участка'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'text'}\n                  name={'areaTotalObject'}\n                  ref={register()}\n                  defaultValue={getValues('areaTotalObject') || data.getProject?.areaTotalObject}\n                  placeholder={'Введите общая площадь объекта'}\n                  label={'Общая площадь объекта'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'text'}\n                  name={'areaEducation'}\n                  ref={register()}\n                  defaultValue={getValues('areaEducation') || data.getProject?.areaEducation}\n                  placeholder={'Введите площадь учебных поведений'}\n                  label={'Площадь учебных поведений'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n              </Column>\n              <Column style={{ flexGrow: 1 }}>\n                <Input\n                  type={'text'}\n                  name={'site'}\n                  ref={register()}\n                  defaultValue={getValues('site') || data.getProject?.site}\n                  placeholder={'Введите веб-сайт'}\n                  label={'Веб-сайт'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'text'}\n                  name={'areaRecreation'}\n                  ref={register()}\n                  defaultValue={getValues('areaRecreation') || data.getProject?.areaRecreation}\n                  placeholder={'Введите площадь рекреаций'}\n                  label={'Площадь рекреаций'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'number'}\n                  name={'floors'}\n                  ref={register()}\n                  defaultValue={getValues('floors') || data.getProject?.floors}\n                  placeholder={'Введите этажность объекта'}\n                  label={'Этажность объекта'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'text'}\n                  name={'volumeBuilding'}\n                  ref={register()}\n                  defaultValue={getValues('volumeBuilding') || data.getProject?.volumeBuilding}\n                  placeholder={'Введите строительный объем проекта'}\n                  label={'Строительный объем проекта'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n                <Input\n                  type={'number'}\n                  name={'capacity'}\n                  ref={register()}\n                  defaultValue={getValues('capacity') || data.getProject?.capacity}\n                  placeholder={'Введите вместимость объекта'}\n                  label={'Вместимость объекта'}\n                  appearance={'ghost'}\n                  disabled={loading}\n                />\n              </Column>\n            </AdaptiveRow>\n\n            <Controller\n              name={'rooms'}\n              control={control}\n              defaultValue={getValues('rooms') || data.getProject?.rooms || null}\n              render={({ value, onChange }) => (\n                <RoomsEditor appearance={'ghost'} defaultValue={value} onChange={onChange} />\n              )}\n            />\n\n            <Divider clear />\n\n            {errors && errors.body && (\n              <Alert style={{ width: '100%' }} appearance={'error'}>\n                Введите содержание статьи\n              </Alert>\n            )}\n            <Controller\n              name={'body'}\n              control={control}\n              rules={{ required: true }}\n              defaultValue={getValues('body') || data.getProject?.body || null}\n              render={({ value, onChange }) => (\n                <TextEditor\n                  apiKey={config.get('tiny-key')}\n                  appearance={'ghost'}\n                  defaultValue={value}\n                  onChange={onChange}\n                />\n              )}\n            />\n\n            <Divider clear />\n\n            <Column style={{ flexGrow: 1 }}>\n              <ActionRow title={'Участники проeкта'} onAdd={onMemberAdd || (() => {})} action />\n\n              {members?.length > 0 ? (\n                <Grid percentage={'minmax(320px, 1fr)'}>\n                  {members.map((member) => (\n                    <AlignmentRow key={v4()}>\n                      <Difinition\n                        key={member.value?.email || member?.email}\n                        img={\n                          member.value?.avatar?.path ||\n                          member.avatar?.path ||\n                          '/images/avatar-default.png'\n                        }\n                        label={getLabelRole(member?.value?.account || member?.account)}\n                        text={member.value?.name || member?.name}\n                      />\n                      <RemoveTooltip place={'left'} text={'Удалить'}>\n                        <Button\n                          type={'button'}\n                          kind={'icon'}\n                          size={'xs'}\n                          onClick={() => onMemberRemove(member?.value?.email || member?.email)}>\n                          <Icon size={'xs'} icon={'delete'} stroke={'white'} />\n                        </Button>\n                      </RemoveTooltip>\n                    </AlignmentRow>\n                  ))}\n                </Grid>\n              ) : (\n                <Alert style={{ textAlign: 'center' }} width={'100%'}>\n                  Добавьте участников\n                </Alert>\n              )}\n            </Column>\n\n            <Divider clear />\n\n            <ActionRow\n              title={'Изображения'}\n              info={'Допустимые форматы: jpeg, jpg, png. Макс. размер: 15 MB'}\n              onAdd={(!project && onScreenshotAdd) || (() => {})}\n              action\n            />\n\n            {screenshots?.length > 0 ? (\n              <Grid percentage={'minmax(196px, 1fr)'}>\n                {screenshots.map((screenshot) => (\n                  <AlignmentRow key={v4()}>\n                    <Difinition\n                      key={screenshot.id}\n                      img={screenshot.blob || screenshot.file?.path || screenshot.path}\n                      label={\n                        (\n                          screenshot.file?.name ||\n                          screenshot.file?.path ||\n                          screenshot?.name ||\n                          screenshot?.path\n                        )\n                          .split('/')\n                          .slice(-1)[0]\n                      }\n                      text={getFileSize(screenshot.size || screenshot.file?.size)}\n                    />\n                    {!project && (\n                      <RemoveTooltip place={'left'} text={'Удалить'}>\n                        <Button\n                          type={'button'}\n                          kind={'icon'}\n                          size={'xs'}\n                          onClick={() => onScreenshotRemove(screenshot.id)}>\n                          <Icon size={'xs'} icon={'delete'} stroke={'white'} />\n                        </Button>\n                      </RemoveTooltip>\n                    )}\n                  </AlignmentRow>\n                ))}\n              </Grid>\n            ) : (\n              <Alert style={{ textAlign: 'center' }} width={'100%'}>\n                Добавьте изображения\n              </Alert>\n            )}\n\n            <Divider clear />\n\n            <ActionRow\n              title={'Файлы'}\n              info={'Допустимые форматы: pdf, docx, .doc. Макс. размер: 15 MB'}\n              onAdd={onFileAdd || (() => {})}\n              action\n            />\n\n            {files?.length > 0 ? (\n              <Grid percentage={'minmax(196px, 1fr)'}>\n                {files.map((file) => (\n                  <AlignmentRow key={v4()}>\n                    <Difinition\n                      key={file.id}\n                      icon={'document'}\n                      label={\n                        (file.file?.name || file.file?.path || file?.name || file?.path)\n                          .split('/')\n                          .slice(-1)[0]\n                      }\n                      text={getFileSize(file.size || file.file?.size)}\n                    />\n                    {!project && (\n                      <RemoveTooltip place={'left'} text={'Удалить'}>\n                        <Button\n                          type={'button'}\n                          kind={'icon'}\n                          size={'xs'}\n                          onClick={() => onFileRemove(file.id)}>\n                          <Icon size={'xs'} icon={'delete'} stroke={'white'} />\n                        </Button>\n                      </RemoveTooltip>\n                    )}\n                  </AlignmentRow>\n                ))}\n              </Grid>\n            ) : (\n              <Alert style={{ textAlign: 'center' }} width={'100%'}>\n                Добавьте файлы\n              </Alert>\n            )}\n\n            <Divider clear />\n\n            {errors && errors.presentation && (\n              <Alert style={{ width: '100%' }} appearance={'error'}>\n                Вставьте ссылку на видео\n              </Alert>\n            )}\n            <Input\n              type={'text'}\n              ref={register()}\n              name={'presentation'}\n              defaultValue={getValues('presentation') || data.getProject?.presentation}\n              placeholder={'Вставьте ссылку на видео'}\n              label={'Видео-презентация'}\n              appearance={'ghost'}\n              disabled={loading}\n            />\n\n            {canEditStatus && <Divider clear />}\n\n            {canEditStatus && (\n              <Controller\n                name={'status'}\n                control={control}\n                defaultValue={\n                  getValues('status') ||\n                  (data.getProject?.status\n                    ? {\n                        value: data.getProject.status,\n                        label: getLabelStatus(data.getProject.status)\n                      }\n                    : null)\n                }\n                render={({ value, onChange }) => (\n                  <Select\n                    appearance={'ghost'}\n                    placeholder={'Выберите статус'}\n                    options={statuses.map((item) => ({\n                      value: item,\n                      label: getLabelStatus(item)\n                    }))}\n                    onChange={onChange}\n                    defaultValue={value}\n                    menuPlacement={'top'}\n                    isLoading={loading}\n                    isClearable\n                  />\n                )}\n              />\n            )}\n\n            <Divider clear />\n\n            <Row>\n              <Button style={{ flexGrow: 1 }} type={'submit'} disabled={loading}>\n                {isPurpose ? 'Предложить' : project ? 'Сохранить' : 'Создать'}\n              </Button>\n            </Row>\n          </React.Fragment>\n        ) : error ? (\n          <Alert appearance={'error'} style={{ width: '100%', textAlign: 'center' }}>\n            Упс! Не удалось загрузить информацию о проекте\n          </Alert>\n        ) : (\n          <Loader>\n            <Spinner />\n          </Loader>\n        )\n      }\n    </Form>\n  )\n}\n\nexport default Project\n"]},"metadata":{},"sourceType":"module"}