{"ast":null,"code":"import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useMutation } from '@apollo/react-hooks';\nimport { GoogleLogin } from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport Container from '../../atomic-ui/components/Container';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Input from '../../atomic-ui/components/Input';\nimport Button from '../../atomic-ui/components/Button';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Form from '../Form';\nconst GOOGLE_CLIENT_ID = '1008300307671-dvv5no8uimgk2lodr76m9rnnva8g0lii.apps.googleusercontent.com';\nconst FACEBOOK_APP_ID = 697333197849130;\nexport const SocialButtons = styled(Row).withConfig({\n  displayName: \"FormCheckin__SocialButtons\",\n  componentId: \"sc-115b6b6-0\"\n})([\"justify-content:center;\"]);\nexport const GoogleButton = styled(Button).withConfig({\n  displayName: \"FormCheckin__GoogleButton\",\n  componentId: \"sc-115b6b6-1\"\n})([\"background:#c5331e;height:var(--input-height-m);min-height:var(--input-height-m);&:hover{background:#c5331e;opacity:0.65;}\"]);\nexport const FacebookButton = styled(Button).withConfig({\n  displayName: \"FormCheckin__FacebookButton\",\n  componentId: \"sc-115b6b6-2\"\n})([\"background:#4e6297;height:var(--input-height-m);min-height:var(--input-height-m);&:hover{background:#4e6297;opacity:0.65;}\"]);\nexport const GoogleAuthButton = ({\n  mutation,\n  onError,\n  onFinally,\n  onSubmit\n}) => {\n  const [isLoading, setLoading] = React.useState(false);\n  const [auth, {\n    data,\n    error\n  }] = useMutation(mutation);\n  useEffect(() => {\n    if (data && data.googleAuth && data.googleAuth) {\n      setLoading(false);\n      if (onFinally) onFinally(data.googleAuth);\n    }\n  }, [data, onFinally]);\n  useEffect(() => {\n    if (error) {\n      console.log('GoogleAuthButton error', error);\n      setLoading(false);\n    }\n  }, [error]);\n  return /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: GOOGLE_CLIENT_ID,\n    onSuccess: response => onSubmit(response, auth),\n    onFailure: onError,\n    onRequest: () => setLoading(true),\n    cookiePolicy: 'single_host_origin',\n    render: ({\n      onClick\n    }) => /*#__PURE__*/React.createElement(GoogleButton, {\n      type: 'button',\n      kind: 'icon',\n      appearance: 'clear',\n      onClick: onClick,\n      disabled: isLoading\n    }, /*#__PURE__*/React.createElement(Icon, {\n      icon: 'google',\n      stroke: 'none',\n      fill: 'white'\n    }))\n  });\n};\nexport const FacebookAuthButton = ({\n  mutation,\n  onError,\n  onFinally,\n  onSubmit\n}) => {\n  const [isLoading, setLoading] = React.useState(false);\n  const [auth, {\n    error,\n    data\n  }] = useMutation(mutation);\n  useEffect(() => {\n    if (data && data.facebookAuth && data.facebookAuth) {\n      setLoading(false);\n      if (onFinally) onFinally(data.facebookAuth);\n    }\n  }, [data, onFinally]);\n  useEffect(() => {\n    if (error) {\n      console.log('FacebookAuthButton error', error);\n      setLoading(false);\n      if (onError) onError(error);\n    }\n  }, [error, onError]);\n\n  const onClick = (event, renderProps) => {\n    event.preventDefault();\n    renderProps.onClick(event);\n    setLoading(true);\n  };\n\n  return /*#__PURE__*/React.createElement(FacebookLogin, {\n    appId: FACEBOOK_APP_ID,\n    autoLoad: false,\n    callback: response => onSubmit(response, auth),\n    render: props => /*#__PURE__*/React.createElement(FacebookButton, {\n      type: 'button',\n      kind: 'icon',\n      appearance: 'clear',\n      onClick: event => onClick(event, props),\n      disabled: isLoading\n    }, /*#__PURE__*/React.createElement(Icon, {\n      icon: 'facebook',\n      stroke: 'none',\n      fill: 'white'\n    }))\n  });\n};\nexport const Checkin = ({\n  title = true,\n  mutations,\n  appearance,\n  className,\n  onGoogleError,\n  onFacebookError,\n  onGoogleFinally,\n  onFacebookFinally,\n  onGoogleSubmit,\n  onFacebookSubmit,\n  onForgot,\n  onCreate,\n  onSubmit\n}) => /*#__PURE__*/React.createElement(Form, {\n  className: className,\n  appearance: appearance,\n  mutation: mutations.checkin,\n  onSubmit: onSubmit\n}, ({\n  watch,\n  register,\n  errors,\n  loading\n}) => {\n  const login = watch('login');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, title && /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(Title, {\n    style: {\n      textAlign: 'center'\n    },\n    tag: 'h4'\n  }, \"\\u0412\\u0445\\u043E\\u0434\")), /*#__PURE__*/React.createElement(Column, null, errors && errors.login && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%'\n    },\n    appearance: 'error'\n  }, \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \\u0438\\u043B\\u0438 \\u043D\\u0435 \\u0443\\u043A\\u0430\\u0437\\u0430\\u043D\\u043E \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D/\\u044D\\u043B. \\u043F\\u043E\\u0447\\u0442\\u0430\"), /*#__PURE__*/React.createElement(Input, {\n    type: 'text',\n    name: 'login',\n    ref: register({\n      required: true\n    }),\n    placeholder: 'Телефон или адрес эл. почты',\n    appearance: 'ghost',\n    disabled: loading,\n    required: true\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    appearance: 'link',\n    onClick: onForgot\n  }, \"\\u0417\\u0430\\u0431\\u044B\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C ?\")), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      flexGrow: 1\n    },\n    type: 'button',\n    disabled: loading,\n    onClick: onCreate\n  }, \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      flexGrow: 1\n    },\n    type: 'submit',\n    disabled: !login || loading\n  }, \"\\u0414\\u0430\\u043B\\u0435\\u0435\")), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(SocialButtons, null, /*#__PURE__*/React.createElement(GoogleAuthButton, {\n    mutation: mutations.googleAuth,\n    onError: onGoogleError,\n    onFinally: onGoogleFinally,\n    onSubmit: onGoogleSubmit\n  }), /*#__PURE__*/React.createElement(FacebookAuthButton, {\n    mutation: mutations.facebookAuth,\n    onError: onFacebookError,\n    onFinally: onFacebookFinally,\n    onSubmit: onFacebookSubmit\n  })));\n});\nexport default Checkin;","map":{"version":3,"sources":["/Users/malcore/Documents/workspace/freelance/atomic/atomic-frontend/components/FormCheckin/index.js"],"names":["React","useEffect","styled","useMutation","GoogleLogin","FacebookLogin","Container","Row","Column","Title","Input","Button","Divider","Icon","Alert","Form","GOOGLE_CLIENT_ID","FACEBOOK_APP_ID","SocialButtons","GoogleButton","FacebookButton","GoogleAuthButton","mutation","onError","onFinally","onSubmit","isLoading","setLoading","useState","auth","data","error","googleAuth","console","log","response","onClick","FacebookAuthButton","facebookAuth","event","renderProps","preventDefault","props","Checkin","title","mutations","appearance","className","onGoogleError","onFacebookError","onGoogleFinally","onFacebookFinally","onGoogleSubmit","onFacebookSubmit","onForgot","onCreate","checkin","watch","register","errors","loading","login","textAlign","width","required","flexGrow"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useMutation } from '@apollo/react-hooks'\nimport { GoogleLogin } from 'react-google-login'\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\n\nimport Container from '../../atomic-ui/components/Container'\nimport Row from '../../atomic-ui/components/Row'\nimport Column from '../../atomic-ui/components/Column'\nimport Title from '../../atomic-ui/components/Title'\nimport Input from '../../atomic-ui/components/Input'\nimport Button from '../../atomic-ui/components/Button'\nimport Divider from '../../atomic-ui/components/Divider'\nimport Icon from '../../atomic-ui/components/Icon'\nimport Alert from '../../atomic-ui/components/Alert'\n\nimport Form from '../Form'\n\nconst GOOGLE_CLIENT_ID = '1008300307671-dvv5no8uimgk2lodr76m9rnnva8g0lii.apps.googleusercontent.com'\nconst FACEBOOK_APP_ID = 697333197849130\n\nexport const SocialButtons = styled(Row)`\n  justify-content: center;\n`\n\nexport const GoogleButton = styled(Button)`\n  background: #c5331e;\n  height: var(--input-height-m);\n  min-height: var(--input-height-m);\n\n  &:hover {\n    background: #c5331e;\n    opacity: 0.65;\n  }\n`\n\nexport const FacebookButton = styled(Button)`\n  background: #4e6297;\n  height: var(--input-height-m);\n  min-height: var(--input-height-m);\n\n  &:hover {\n    background: #4e6297;\n    opacity: 0.65;\n  }\n`\n\nexport const GoogleAuthButton = ({ mutation, onError, onFinally, onSubmit }) => {\n  const [isLoading, setLoading] = React.useState(false)\n  const [auth, { data, error }] = useMutation(mutation)\n\n  useEffect(() => {\n    if (data && data.googleAuth && data.googleAuth) {\n      setLoading(false)\n      if (onFinally) onFinally(data.googleAuth)\n    }\n  }, [data, onFinally])\n\n  useEffect(() => {\n    if (error) {\n      console.log('GoogleAuthButton error', error)\n      setLoading(false)\n    }\n  }, [error])\n\n  return (\n    <GoogleLogin\n      clientId={GOOGLE_CLIENT_ID}\n      onSuccess={(response) => onSubmit(response, auth)}\n      onFailure={onError}\n      onRequest={() => setLoading(true)}\n      cookiePolicy={'single_host_origin'}\n      render={({ onClick }) => (\n        <GoogleButton\n          type={'button'}\n          kind={'icon'}\n          appearance={'clear'}\n          onClick={onClick}\n          disabled={isLoading}>\n          <Icon icon={'google'} stroke={'none'} fill={'white'} />\n        </GoogleButton>\n      )}\n    />\n  )\n}\n\nexport const FacebookAuthButton = ({ mutation, onError, onFinally, onSubmit }) => {\n  const [isLoading, setLoading] = React.useState(false)\n  const [auth, { error, data }] = useMutation(mutation)\n\n  useEffect(() => {\n    if (data && data.facebookAuth && data.facebookAuth) {\n      setLoading(false)\n      if (onFinally) onFinally(data.facebookAuth)\n    }\n  }, [data, onFinally])\n\n  useEffect(() => {\n    if (error) {\n      console.log('FacebookAuthButton error', error)\n      setLoading(false)\n      if (onError) onError(error)\n    }\n  }, [error, onError])\n\n  const onClick = (event, renderProps) => {\n    event.preventDefault()\n    renderProps.onClick(event)\n    setLoading(true)\n  }\n\n  return (\n    <FacebookLogin\n      appId={FACEBOOK_APP_ID}\n      autoLoad={false}\n      callback={(response) => onSubmit(response, auth)}\n      render={(props) => (\n        <FacebookButton\n          type={'button'}\n          kind={'icon'}\n          appearance={'clear'}\n          onClick={(event) => onClick(event, props)}\n          disabled={isLoading}>\n          <Icon icon={'facebook'} stroke={'none'} fill={'white'} />\n        </FacebookButton>\n      )}\n    />\n  )\n}\n\nexport const Checkin = ({\n  title = true,\n  mutations,\n  appearance,\n  className,\n  onGoogleError,\n  onFacebookError,\n  onGoogleFinally,\n  onFacebookFinally,\n  onGoogleSubmit,\n  onFacebookSubmit,\n  onForgot,\n  onCreate,\n  onSubmit\n}) => (\n  <Form\n    className={className}\n    appearance={appearance}\n    mutation={mutations.checkin}\n    onSubmit={onSubmit}>\n    {({ watch, register, errors, loading }) => {\n      const login = watch('login')\n\n      return (\n        <React.Fragment>\n          {title && (\n            <Container>\n              <Title style={{ textAlign: 'center' }} tag={'h4'}>\n                Вход\n              </Title>\n            </Container>\n          )}\n\n          <Column>\n            {errors && errors.login && (\n              <Alert style={{ width: '100%' }} appearance={'error'}>\n                Неверно указано или не указано телефон/эл. почта\n              </Alert>\n            )}\n            <Input\n              type={'text'}\n              name={'login'}\n              ref={register({ required: true })}\n              placeholder={'Телефон или адрес эл. почты'}\n              appearance={'ghost'}\n              disabled={loading}\n              required\n            />\n            <Button type={'button'} appearance={'link'} onClick={onForgot}>\n              Забыли пароль ?\n            </Button>\n          </Column>\n\n          <Row>\n            <Button style={{ flexGrow: 1 }} type={'button'} disabled={loading} onClick={onCreate}>\n              Создать\n            </Button>\n            <Button style={{ flexGrow: 1 }} type={'submit'} disabled={!login || loading}>\n              Далее\n            </Button>\n          </Row>\n\n          <Divider />\n\n          <SocialButtons>\n            <GoogleAuthButton\n              mutation={mutations.googleAuth}\n              onError={onGoogleError}\n              onFinally={onGoogleFinally}\n              onSubmit={onGoogleSubmit}\n            />\n            <FacebookAuthButton\n              mutation={mutations.facebookAuth}\n              onError={onFacebookError}\n              onFinally={onFacebookFinally}\n              onSubmit={onFacebookSubmit}\n            />\n          </SocialButtons>\n        </React.Fragment>\n      )\n    }}\n  </Form>\n)\n\nexport default Checkin\n"]},"metadata":{},"sourceType":"module"}