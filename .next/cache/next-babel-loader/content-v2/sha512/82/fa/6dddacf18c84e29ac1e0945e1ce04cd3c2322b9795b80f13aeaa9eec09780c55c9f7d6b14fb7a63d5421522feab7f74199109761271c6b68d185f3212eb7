{"ast":null,"code":"import _defineProperty from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\dan82\\\\Documents\\\\workspace\\\\FREELANCE\\\\atomic\\\\atomic-frontend\\\\atomic-ui\\\\components\\\\Table\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid var(--surface-border);\\n  background: var(--surface-background);\\n  box-shadow: var(--surface-shadow);\\n  border-radius: var(--surface-border-radius);\\n  padding: 10px;\\n  grid-gap: 10px;\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  align-items: center;\\n  flex-grow: 1;\\n\\n  width: \", \";\\n  overflow: hidden;\\n\\n  & > div {\\n    width: 100%;\\n  }\\n\\n  h4 {\\n    font-size: var(--font-size-m);\\n    font-weight: var(--font-weight-bold);\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n      padding: 0;\\n    \"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px;\\n  width: var(--input-height-m);\\n  grid-gap: 5px;\\n\\n  button {\\n    width: 100%;\\n    flex-grow: 1;\\n  }\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n      cursor: pointer;\\n    \"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\\n  \", \"\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n    \"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px 15px;\\n  width: calc(100% - 55px);\\n\\n  \", \"\\n\\n  \", \"\\n\\n  & > label {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: calc(var(--input-height-m) - 15px);\\n    margin-left: 5px;\\n\\n    & > span {\\n      margin: 0;\\n    }\\n  }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n      opacity: 0.45;\\n    \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  transition: opacity 150ms ease;\\n\\n  \", \"\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      span:first-child {\\n        width: calc(\", \" + 45px);\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      span {\\n        width: \", \";\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nimport Row from '../Row';\nimport Column from '../Column';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Switch from '../Switch';\nimport Difinition from '../Difinition';\nimport Checkbox from '../Checkbox';\nimport Tooltip from '../Tooltip';\nimport Popper from '../Popper';\nexport var Wrap = styled(Column)(_templateObject());\n_c = Wrap;\nexport var Manage = styled(Row)(_templateObject2());\n_c2 = Manage;\nexport var Headers = styled(Switch)(_templateObject3(), function (_ref) {\n  var width = _ref.width;\n  return width && css(_templateObject4(), width);\n}, function (_ref2) {\n  var first = _ref2.first,\n      width = _ref2.width;\n  return first && width && css(_templateObject5(), width);\n});\n_c3 = Headers;\nexport var Track = styled(Row)(_templateObject6(), function (_ref3) {\n  var checked = _ref3.checked;\n  return checked && css(_templateObject7());\n});\n_c4 = Track;\nexport var Content = styled(Row)(_templateObject8(), function (_ref4) {\n  var appearance = _ref4.appearance;\n  return appearance === 'default' && css(_templateObject9());\n}, function (_ref5) {\n  var appearance = _ref5.appearance;\n  return appearance === 'clear' && css(_templateObject10());\n});\n_c5 = Content;\nexport var Container = styled(Row)(_templateObject11(), function (_ref6) {\n  var onClick = _ref6.onClick;\n  return onClick && css(_templateObject12());\n});\n_c6 = Container;\nexport var Actions = styled(Column)(_templateObject13(), function (_ref7) {\n  var appearance = _ref7.appearance;\n  return appearance === 'default' && css(_templateObject14());\n}, function (_ref8) {\n  var appearance = _ref8.appearance;\n  return appearance === 'clear' && css(_templateObject15());\n});\n_c7 = Actions;\nexport var Cell = styled(Difinition)(_templateObject16(), function (_ref9) {\n  var width = _ref9.width;\n  return width;\n});\nexport var HeaderList = styled(Column)(_templateObject17());\n_c8 = HeaderList;\nexport var CheckboxTooltip = styled(Tooltip)(_templateObject18());\n_c9 = CheckboxTooltip;\nexport var Table = function Table(_ref10) {\n  _s();\n\n  var data = _ref10.data,\n      template = _ref10.template,\n      className = _ref10.className,\n      style = _ref10.style,\n      appearance = _ref10.appearance,\n      _onClick = _ref10.onClick,\n      onChecked = _ref10.onChecked,\n      onDelete = _ref10.onDelete,\n      onEdit = _ref10.onEdit;\n\n  var _useState = useState((data || []).map(function (item) {\n    return _objectSpread(_objectSpread({}, item), {}, {\n      id: v4(),\n      checked: false\n    });\n  })),\n      documents = _useState[0],\n      setDocuments = _useState[1];\n\n  var defaultWidth = \"\".concat(Math.floor(100 / template.length), \"%\");\n  /* eslint-disable-next-line */\n\n  var _useState2 = useState((template || []).map(function (item) {\n    return {\n      value: v4(),\n      label: item.header,\n      width: item.width || defaultWidth,\n      tooltip: item.tooltip || \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430 \\u043F\\u043E \\xAB\".concat(item.header, \"\\u200E\\xBB\"),\n      visible: !item.hidden\n    };\n  })),\n      headers = _useState2[0],\n      setHeaders = _useState2[1];\n  /* eslint-disable-next-line */\n\n\n  var _useState3 = useState(headers[0] || null),\n      header = _useState3[0],\n      setHeader = _useState3[1];\n\n  var handleChecked = function handleChecked(document) {\n    setDocuments(function (prev) {\n      return prev.map(function (item) {\n        return item.id === document.id ? _objectSpread(_objectSpread({}, document), {}, {\n          checked: !item.checked\n        }) : item;\n      });\n    });\n  };\n\n  return __jsx(Wrap, {\n    className: className,\n    style: style,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 5\n    }\n  }, __jsx(Manage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }, __jsx(Headers, {\n    defaultValue: headers[0],\n    options: headers.filter(function (h) {\n      return h.visible;\n    }),\n    onChange: function onChange(item) {\n      return setHeader(item);\n    },\n    first: onChecked,\n    stretch: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }), __jsx(Popper, {\n    place: 'left',\n    offset: {\n      bottom: 80\n    },\n    body: __jsx(HeaderList, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, headers.map(function (header, index) {\n      return __jsx(Checkbox, {\n        key: index,\n        size: 's',\n        label: header.label,\n        checked: header.visible,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 17\n        }\n      });\n    })),\n    appearance: 'clear',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, __jsx(Tooltip, {\n    text: 'Отображение полей',\n    place: 'left',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    kind: 'icon',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    icon: 'show',\n    stroke: 'white',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 15\n    }\n  }))))), documents.map(function (document, index) {\n    return __jsx(Track, {\n      key: index,\n      checked: document.checked,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }, __jsx(Content, {\n      appearance: appearance,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }\n    }, __jsx(CheckboxTooltip, {\n      text: 'Отметить документ',\n      self: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, onChecked && __jsx(Checkbox, {\n      size: 's',\n      onChange: function onChange() {\n        return handleChecked(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    })), __jsx(Container, {\n      onClick: function onClick() {\n        return _onClick(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }, template.map(function (cell, index) {\n      return headers[index].visible ? /*#__PURE__*/React.cloneElement(cell.content(document), {\n        key: index,\n        label: cell.header,\n        width: (cell === null || cell === void 0 ? void 0 : cell.width) || defaultWidth\n      }) : null;\n    }))), (onEdit || onDelete) && __jsx(Actions, {\n      appearance: appearance,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, onEdit && __jsx(Tooltip, {\n      text: 'Редактирование',\n      place: 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      onClick: function onClick() {\n        return onEdit(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      icon: 'edit',\n      size: 'xs',\n      stroke: 'white',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }\n    }))), onDelete && __jsx(Tooltip, {\n      text: 'Удаление',\n      place: 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      appearance: 'red',\n      onClick: function onClick() {\n        return onDelete(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      icon: 'delete',\n      size: 'xs',\n      stroke: 'white',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    })))));\n  }));\n};\n\n_s(Table, \"gGU0pkSvEBaRNMQDiqd3tSyEzzI=\");\n\n_c10 = Table;\nTable.defaultProps = {\n  appearance: 'default'\n};\nexport default Table;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Manage\");\n$RefreshReg$(_c3, \"Headers\");\n$RefreshReg$(_c4, \"Track\");\n$RefreshReg$(_c5, \"Content\");\n$RefreshReg$(_c6, \"Container\");\n$RefreshReg$(_c7, \"Actions\");\n$RefreshReg$(_c8, \"HeaderList\");\n$RefreshReg$(_c9, \"CheckboxTooltip\");\n$RefreshReg$(_c10, \"Table\");","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/atomic-ui/components/Table/index.js"],"names":["React","useState","styled","css","v4","Row","Column","Icon","Button","Switch","Difinition","Checkbox","Tooltip","Popper","Wrap","Manage","Headers","width","first","Track","checked","Content","appearance","Container","onClick","Actions","Cell","HeaderList","CheckboxTooltip","Table","data","template","className","style","onChecked","onDelete","onEdit","map","item","id","documents","setDocuments","defaultWidth","Math","floor","length","value","label","header","tooltip","visible","hidden","headers","setHeaders","setHeader","handleChecked","document","prev","filter","h","bottom","index","cell","cloneElement","content","key","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled, { css } from 'styled-components'\nimport { v4 } from 'uuid'\n\nimport Row from '../Row'\nimport Column from '../Column'\nimport Icon from '../Icon'\nimport Button from '../Button'\nimport Switch from '../Switch'\nimport Difinition from '../Difinition'\nimport Checkbox from '../Checkbox'\nimport Tooltip from '../Tooltip'\nimport Popper from '../Popper'\n\nexport const Wrap = styled(Column)``\n\nexport const Manage = styled(Row)``\n\nexport const Headers = styled(Switch)`\n  ${({ width }) =>\n    width &&\n    css`\n      span {\n        width: ${width};\n      }\n    `}\n\n  ${({ first, width }) =>\n    first &&\n    width &&\n    css`\n      span:first-child {\n        width: calc(${width} + 45px);\n      }\n    `}\n`\n\nexport const Track = styled(Row)`\n  transition: opacity 150ms ease;\n\n  ${({ checked }) =>\n    checked &&\n    css`\n      opacity: 0.45;\n    `}\n`\n\nexport const Content = styled(Row)`\n  padding: 5px 15px;\n  width: calc(100% - 55px);\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n    `}\n\n  & > label {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: calc(var(--input-height-m) - 15px);\n    margin-left: 5px;\n\n    & > span {\n      margin: 0;\n    }\n  }\n`\n\nexport const Container = styled(Row)`\n  width: 100%;\n\n  ${({ onClick }) =>\n    onClick &&\n    css`\n      cursor: pointer;\n    `}\n`\n\nexport const Actions = styled(Column)`\n  padding: 5px;\n  width: var(--input-height-m);\n  grid-gap: 5px;\n\n  button {\n    width: 100%;\n    flex-grow: 1;\n  }\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n      padding: 0;\n    `}\n`\n\nexport const Cell = styled(Difinition)`\n  align-items: center;\n  flex-grow: 1;\n\n  width: ${({ width }) => width};\n  overflow: hidden;\n\n  & > div {\n    width: 100%;\n  }\n\n  h4 {\n    font-size: var(--font-size-m);\n    font-weight: var(--font-weight-bold);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`\n\nexport const HeaderList = styled(Column)`\n  border: 1px solid var(--surface-border);\n  background: var(--surface-background);\n  box-shadow: var(--surface-shadow);\n  border-radius: var(--surface-border-radius);\n  padding: 10px;\n  grid-gap: 10px;\n`\n\nexport const CheckboxTooltip = styled(Tooltip)`\n  display: flex;\n  align-items: center;\n`\n\nexport const Table = ({\n  data,\n  template,\n  className,\n  style,\n  appearance,\n  onClick,\n  onChecked,\n  onDelete,\n  onEdit\n}) => {\n  const [documents, setDocuments] = useState(\n    (data || []).map((item) => ({\n      ...item,\n      id: v4(),\n      checked: false\n    }))\n  )\n  const defaultWidth = `${Math.floor(100 / template.length)}%`\n  /* eslint-disable-next-line */\n  const [headers, setHeaders] = useState(\n    (template || []).map((item) => ({\n      value: v4(),\n      label: item.header,\n      width: item.width || defaultWidth,\n      tooltip: item.tooltip || `Сортировка по «${item.header}‎»`,\n      visible: !item.hidden\n    }))\n  )\n  /* eslint-disable-next-line */\n  const [header, setHeader] = useState(headers[0] || null)\n\n  const handleChecked = (document) => {\n    setDocuments((prev) =>\n      prev.map((item) =>\n        item.id === document.id\n          ? {\n              ...document,\n              checked: !item.checked\n            }\n          : item\n      )\n    )\n  }\n\n  return (\n    <Wrap className={className} style={style}>\n      <Manage>\n        <Headers\n          defaultValue={headers[0]}\n          options={headers.filter((h) => h.visible)}\n          onChange={(item) => setHeader(item)}\n          first={onChecked}\n          stretch\n        />\n\n        <Popper\n          place={'left'}\n          offset={{ bottom: 80 }}\n          body={\n            <HeaderList>\n              {headers.map((header, index) => (\n                <Checkbox key={index} size={'s'} label={header.label} checked={header.visible} />\n              ))}\n            </HeaderList>\n          }\n          appearance={'clear'}>\n          <Tooltip text={'Отображение полей'} place={'left'}>\n            <Button kind={'icon'}>\n              <Icon icon={'show'} stroke={'white'} />\n            </Button>\n          </Tooltip>\n        </Popper>\n      </Manage>\n\n      {documents.map((document, index) => (\n        <Track key={index} checked={document.checked}>\n          <Content appearance={appearance}>\n            <CheckboxTooltip text={'Отметить документ'} self>\n              {onChecked && <Checkbox size={'s'} onChange={() => handleChecked(document)} />}\n            </CheckboxTooltip>\n            <Container onClick={() => onClick(document)}>\n              {template.map((cell, index) =>\n                headers[index].visible\n                  ? React.cloneElement(cell.content(document), {\n                      key: index,\n                      label: cell.header,\n                      width: cell?.width || defaultWidth\n                    })\n                  : null\n              )}\n            </Container>\n          </Content>\n\n          {(onEdit || onDelete) && (\n            <Actions appearance={appearance}>\n              {onEdit && (\n                <Tooltip text={'Редактирование'} place={'left'}>\n                  <Button size={'xs'} kind={'icon'} onClick={() => onEdit(document)}>\n                    <Icon icon={'edit'} size={'xs'} stroke={'white'} />\n                  </Button>\n                </Tooltip>\n              )}\n              {onDelete && (\n                <Tooltip text={'Удаление'} place={'left'}>\n                  <Button\n                    size={'xs'}\n                    kind={'icon'}\n                    appearance={'red'}\n                    onClick={() => onDelete(document)}>\n                    <Icon icon={'delete'} size={'xs'} stroke={'white'} />\n                  </Button>\n                </Tooltip>\n              )}\n            </Actions>\n          )}\n        </Track>\n      ))}\n    </Wrap>\n  )\n}\n\nTable.defaultProps = {\n  appearance: 'default'\n}\n\nexport default Table\n"]},"metadata":{},"sourceType":"module"}