{"ast":null,"code":"import React from 'react';\nimport styled from 'styled-components';\nimport { Controller } from 'react-hook-form';\nimport { useQuery } from '@apollo/react-hooks';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Input from '../../atomic-ui/components/Input';\nimport Button from '../../atomic-ui/components/Button';\nimport Select from '../../atomic-ui/components/Select';\nimport TextEditor from '../../atomic-ui/components/TextEditor';\nimport Dropzone from '../../atomic-ui/components/Dropzone';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport Form from '../Form';\nimport { getLabelStatus, getLabelCategory } from '../../utils/functions';\nimport queries from '../../graphql/queries';\nimport config from '../../config';\nexport const Loader = styled.div.withConfig({\n  displayName: \"FormArticle__Loader\",\n  componentId: \"sc-1ftxonu-0\"\n})([\"position:absolute;display:flex;justify-content:center;align-items:center;flex-grow:1;width:100%;height:100%;\"]);\nexport const Article = ({\n  article,\n  categories,\n  statuses,\n  mutation,\n  appearance,\n  className,\n  canEditStatus,\n  onSubmit\n}) => {\n  const {\n    data,\n    loading: loadingArticle,\n    error: errorArticle\n  } = article ? useQuery(queries.GET_ARTICLE, {\n    variables: {\n      id: article\n    }\n  }) : {\n    data: {\n      getArticle: {}\n    },\n    loading: false,\n    error: false\n  };\n  return /*#__PURE__*/React.createElement(Form, {\n    className: className,\n    appearance: appearance,\n    mutation: mutation,\n    onSubmit: onSubmit\n  }, ({\n    register,\n    loading,\n    errors,\n    control,\n    getValues\n  }) => {\n    var _data$getArticle, _data$getArticle2, _data$getArticle3, _data$getArticle4, _data$getArticle5;\n\n    return !loadingArticle && data ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Column, null, /*#__PURE__*/React.createElement(Title, {\n      tag: 'h4'\n    }, \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0435\"), errors && errors.preview && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0434\\u043B\\u044F \\u043F\\u0440\\u0435\\u0432\\u044C\\u044E\"), /*#__PURE__*/React.createElement(Controller, {\n      name: 'preview',\n      control: control,\n      rules: {\n        required: true\n      },\n      defaultValue: ((_data$getArticle = data.getArticle) === null || _data$getArticle === void 0 ? void 0 : _data$getArticle.preview) || null,\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Dropzone, {\n        accept: 'image/*',\n        defaultValue: value,\n        onChange: onChange,\n        placeholder: 'Перетащите сюда изображение для превью',\n        tooltip: 'Разрешение: 960x480px. Допустимые форматы: jpeg, jpg, png. Макс. размер: 15 MB'\n      })\n    }), errors && errors.title && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\"), /*#__PURE__*/React.createElement(Input, {\n      type: 'text',\n      name: 'title',\n      ref: register({\n        required: true\n      }),\n      defaultValue: getValues('title') || ((_data$getArticle2 = data.getArticle) === null || _data$getArticle2 === void 0 ? void 0 : _data$getArticle2.title),\n      placeholder: 'Название',\n      appearance: 'ghost',\n      disabled: loading\n    }), /*#__PURE__*/React.createElement(Controller, {\n      name: 'category',\n      control: control,\n      defaultValue: (_data$getArticle3 = data.getArticle) !== null && _data$getArticle3 !== void 0 && _data$getArticle3.category ? {\n        value: data.getArticle.category.id,\n        label: getLabelCategory(data.getArticle.category.name)\n      } : null,\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Select, {\n        appearance: 'ghost',\n        placeholder: 'Выберите раздел',\n        options: categories.filter(item => item.type === 'DIVISION').map(item => ({\n          value: item.id,\n          label: getLabelCategory(item.name)\n        })),\n        onChange: onChange,\n        defaultValue: value,\n        isLoading: loading,\n        isClearable: true\n      })\n    }), errors && errors.body && /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      appearance: 'error'\n    }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\"), /*#__PURE__*/React.createElement(Controller, {\n      name: 'body',\n      control: control,\n      defaultValue: getValues('body') || ((_data$getArticle4 = data.getArticle) === null || _data$getArticle4 === void 0 ? void 0 : _data$getArticle4.body) || null,\n      rules: {\n        required: true\n      },\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(TextEditor, {\n        apiKey: config.get('tiny-key'),\n        appearance: 'ghost',\n        defaultValue: value,\n        onChange: onChange\n      })\n    }), canEditStatus && /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), canEditStatus && /*#__PURE__*/React.createElement(Controller, {\n      name: 'status',\n      control: control,\n      defaultValue: (_data$getArticle5 = data.getArticle) !== null && _data$getArticle5 !== void 0 && _data$getArticle5.status ? {\n        value: data.getArticle.status,\n        label: getLabelStatus(data.getArticle.status)\n      } : null,\n      render: ({\n        value,\n        onChange\n      }) => /*#__PURE__*/React.createElement(Select, {\n        appearance: 'ghost',\n        placeholder: 'Выберите статус',\n        options: statuses.map(item => ({\n          value: item,\n          label: getLabelStatus(item)\n        })),\n        onChange: onChange,\n        defaultValue: value,\n        menuPlacement: 'top',\n        isLoading: loading,\n        isClearable: true\n      })\n    })), /*#__PURE__*/React.createElement(Divider, {\n      clear: true\n    }), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        flexGrow: 1\n      },\n      type: 'submit',\n      disabled: loading\n    }, !article && 'Создать', article && 'Сохранить'))) : errorArticle ? /*#__PURE__*/React.createElement(Alert, {\n      appearance: 'error',\n      style: {\n        width: '100%',\n        textAlign: 'center'\n      }\n    }, \"\\u0423\\u043F\\u0441! \\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E \\u0441\\u0442\\u0430\\u0442\\u044C\\u0435\") : /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  });\n};\nexport default Article;","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/components/FormArticle/index.js"],"names":["React","styled","Controller","useQuery","Row","Column","Title","Input","Button","Select","TextEditor","Dropzone","Alert","Divider","Spinner","Form","getLabelStatus","getLabelCategory","queries","config","Loader","div","Article","article","categories","statuses","mutation","appearance","className","canEditStatus","onSubmit","data","loading","loadingArticle","error","errorArticle","GET_ARTICLE","variables","id","getArticle","register","errors","control","getValues","preview","width","required","value","onChange","title","category","label","name","filter","item","type","map","body","get","status","flexGrow","textAlign"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { Controller } from 'react-hook-form'\nimport { useQuery } from '@apollo/react-hooks'\n\nimport Row from '../../atomic-ui/components/Row'\nimport Column from '../../atomic-ui/components/Column'\nimport Title from '../../atomic-ui/components/Title'\nimport Input from '../../atomic-ui/components/Input'\nimport Button from '../../atomic-ui/components/Button'\nimport Select from '../../atomic-ui/components/Select'\nimport TextEditor from '../../atomic-ui/components/TextEditor'\nimport Dropzone from '../../atomic-ui/components/Dropzone'\nimport Alert from '../../atomic-ui/components/Alert'\nimport Divider from '../../atomic-ui/components/Divider'\nimport Spinner from '../../atomic-ui/components/Spinner'\n\nimport Form from '../Form'\nimport { getLabelStatus, getLabelCategory } from '../../utils/functions'\nimport queries from '../../graphql/queries'\nimport config from '../../config'\n\nexport const Loader = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n`\n\nexport const Article = ({\n  article,\n  categories,\n  statuses,\n  mutation,\n  appearance,\n  className,\n  canEditStatus,\n  onSubmit\n}) => {\n  const { data, loading: loadingArticle, error: errorArticle } = article\n    ? useQuery(queries.GET_ARTICLE, {\n        variables: {\n          id: article\n        }\n      })\n    : { data: { getArticle: {} }, loading: false, error: false }\n\n  return (\n    <Form className={className} appearance={appearance} mutation={mutation} onSubmit={onSubmit}>\n      {({ register, loading, errors, control, getValues }) =>\n        !loadingArticle && data ? (\n          <React.Fragment>\n            <Column>\n              <Title tag={'h4'}>Основное</Title>\n\n              {errors && errors.preview && (\n                <Alert style={{ width: '100%' }} appearance={'error'}>\n                  Выберите изображение для превью\n                </Alert>\n              )}\n              <Controller\n                name={'preview'}\n                control={control}\n                rules={{ required: true }}\n                defaultValue={data.getArticle?.preview || null}\n                render={({ value, onChange }) => (\n                  <Dropzone\n                    accept={'image/*'}\n                    defaultValue={value}\n                    onChange={onChange}\n                    placeholder={'Перетащите сюда изображение для превью'}\n                    tooltip={\n                      'Разрешение: 960x480px. Допустимые форматы: jpeg, jpg, png. Макс. размер: 15 MB'\n                    }\n                  />\n                )}\n              />\n\n              {errors && errors.title && (\n                <Alert style={{ width: '100%' }} appearance={'error'}>\n                  Введите заголовок статьи\n                </Alert>\n              )}\n              <Input\n                type={'text'}\n                name={'title'}\n                ref={register({ required: true })}\n                defaultValue={getValues('title') || data.getArticle?.title}\n                placeholder={'Название'}\n                appearance={'ghost'}\n                disabled={loading}\n              />\n\n              <Controller\n                name={'category'}\n                control={control}\n                defaultValue={\n                  data.getArticle?.category\n                    ? {\n                        value: data.getArticle.category.id,\n                        label: getLabelCategory(data.getArticle.category.name)\n                      }\n                    : null\n                }\n                render={({ value, onChange }) => (\n                  <Select\n                    appearance={'ghost'}\n                    placeholder={'Выберите раздел'}\n                    options={categories\n                      .filter((item) => item.type === 'DIVISION')\n                      .map((item) => ({\n                        value: item.id,\n                        label: getLabelCategory(item.name)\n                      }))}\n                    onChange={onChange}\n                    defaultValue={value}\n                    isLoading={loading}\n                    isClearable\n                  />\n                )}\n              />\n\n              {errors && errors.body && (\n                <Alert style={{ width: '100%' }} appearance={'error'}>\n                  Введите содержание статьи\n                </Alert>\n              )}\n              <Controller\n                name={'body'}\n                control={control}\n                defaultValue={getValues('body') || data.getArticle?.body || null}\n                rules={{ required: true }}\n                render={({ value, onChange }) => (\n                  <TextEditor\n                    apiKey={config.get('tiny-key')}\n                    appearance={'ghost'}\n                    defaultValue={value}\n                    onChange={onChange}\n                  />\n                )}\n              />\n\n              {canEditStatus && <Divider clear />}\n\n              {canEditStatus && (\n                <Controller\n                  name={'status'}\n                  control={control}\n                  defaultValue={\n                    data.getArticle?.status\n                      ? {\n                          value: data.getArticle.status,\n                          label: getLabelStatus(data.getArticle.status)\n                        }\n                      : null\n                  }\n                  render={({ value, onChange }) => (\n                    <Select\n                      appearance={'ghost'}\n                      placeholder={'Выберите статус'}\n                      options={statuses.map((item) => ({\n                        value: item,\n                        label: getLabelStatus(item)\n                      }))}\n                      onChange={onChange}\n                      defaultValue={value}\n                      menuPlacement={'top'}\n                      isLoading={loading}\n                      isClearable\n                    />\n                  )}\n                />\n              )}\n            </Column>\n\n            <Divider clear />\n\n            <Row>\n              <Button style={{ flexGrow: 1 }} type={'submit'} disabled={loading}>\n                {!article && 'Создать'}\n                {article && 'Сохранить'}\n              </Button>\n            </Row>\n          </React.Fragment>\n        ) : errorArticle ? (\n          <Alert appearance={'error'} style={{ width: '100%', textAlign: 'center' }}>\n            Упс! Не удалось загрузить информацию о статье\n          </Alert>\n        ) : (\n          <Loader>\n            <Spinner />\n          </Loader>\n        )\n      }\n    </Form>\n  )\n}\n\nexport default Article\n"]},"metadata":{},"sourceType":"module"}