{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Button from '../../atomic-ui/components/Button';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport Checkbox from '../../atomic-ui/components/Checkbox';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nimport { useEntityQuery } from '../../hooks/useEntityQuery';\nexport var Wrap = styled(Column).withConfig({\n  displayName: \"TicketCard__Wrap\",\n  componentId: \"sc-3sqqk7-0\"\n})([\"grid-gap:var(--default-gap);height:100%;\", \" \", \" \", \"\"], function (_ref) {\n  var appearance = _ref.appearance;\n  return appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]);\n}, function (_ref2) {\n  var appearance = _ref2.appearance;\n  return appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]);\n}, function (_ref3) {\n  var appearance = _ref3.appearance;\n  return appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]);\n});\n_c = Wrap;\nexport var Header = styled(Row).withConfig({\n  displayName: \"TicketCard__Header\",\n  componentId: \"sc-3sqqk7-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\n_c2 = Header;\nexport var Actions = styled(Row).withConfig({\n  displayName: \"TicketCard__Actions\",\n  componentId: \"sc-3sqqk7-2\"\n})([\"grid-gap:5px;height:100%;\"]);\n_c3 = Actions;\nexport var Name = styled(Title).withConfig({\n  displayName: \"TicketCard__Name\",\n  componentId: \"sc-3sqqk7-3\"\n})([\"transition:opacity 150ms ease;\", \"\"], function (_ref4) {\n  var onClick = _ref4.onClick;\n  return onClick && css([\"cursor:pointer;&:hover{opacity:0.45;}\"]);\n});\n_c4 = Name;\nexport var Status = styled(Text).withConfig({\n  displayName: \"TicketCard__Status\",\n  componentId: \"sc-3sqqk7-4\"\n})([\"color:\", \";\"], function (_ref5) {\n  var status = _ref5.status;\n  return \"var(--default-color-\".concat(status === 'OPENED' ? 'accent' : 'red', \")\");\n});\n_c5 = Status;\nexport var Footer = styled(Row).withConfig({\n  displayName: \"TicketCard__Footer\",\n  componentId: \"sc-3sqqk7-5\"\n})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]);\n_c6 = Footer;\nexport var Card = function Card(_ref6) {\n  _s();\n\n  var _ticket$category, _ticket$author, _ticket$author$avatar, _ticket$author2, _ticket$messages;\n\n  var ticket = _ref6.ticket,\n      appearance = _ref6.appearance,\n      className = _ref6.className,\n      style = _ref6.style,\n      onLink = _ref6.onLink,\n      onAuthorLink = _ref6.onAuthorLink,\n      onChecked = _ref6.onChecked,\n      onEdit = _ref6.onEdit,\n      onDelete = _ref6.onDelete;\n\n  var _useEntityQuery = useEntityQuery(),\n      setQuery = _useEntityQuery.setQuery;\n\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      gridGap: 0\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Meta, {\n    date: ticket.createdAt,\n    category: (_ticket$category = ticket.category) === null || _ticket$category === void 0 ? void 0 : _ticket$category.name\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/React.createElement(Actions, null, /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Удалить обращение'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Редактировать обращение'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Отметить обращение',\n    self: true\n  }, /*#__PURE__*/React.createElement(Checkbox, null)))), /*#__PURE__*/React.createElement(Name, {\n    tag: 'h4',\n    onClick: function onClick() {\n      return setQuery(ticket.id, 'ticket', onLink);\n    }\n  }, ticket.title), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/React.createElement(Status, {\n    status: ticket.status\n  }, ticket.status))), /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Difinition, {\n    label: 'Автор',\n    img: (_ticket$author = ticket.author) === null || _ticket$author === void 0 ? void 0 : (_ticket$author$avatar = _ticket$author.avatar) === null || _ticket$author$avatar === void 0 ? void 0 : _ticket$author$avatar.path,\n    text: (_ticket$author2 = ticket.author) === null || _ticket$author2 === void 0 ? void 0 : _ticket$author2.name,\n    onLink: onAuthorLink && function () {\n      var _ticket$author3;\n\n      return onAuthorLink((_ticket$author3 = ticket.author) === null || _ticket$author3 === void 0 ? void 0 : _ticket$author3.email);\n    }\n  }), /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'chat',\n    label: 'Сообщений',\n    text: (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length\n  })));\n};\n\n_s(Card, \"yoWAwPpWz99uzhosc0kQOuUekVs=\", false, function () {\n  return [useEntityQuery];\n});\n\n_c7 = Card;\nCard.defaultProps = {\n  appearance: 'default'\n};\nexport default Card;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Actions\");\n$RefreshReg$(_c4, \"Name\");\n$RefreshReg$(_c5, \"Status\");\n$RefreshReg$(_c6, \"Footer\");\n$RefreshReg$(_c7, \"Card\");","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/components/TicketCard/index.js"],"names":["React","styled","css","Row","Column","Title","Text","Icon","Meta","Divider","Button","Difinition","Checkbox","Tooltip","useEntityQuery","Wrap","appearance","Header","Actions","Name","onClick","Status","status","Footer","Card","ticket","className","style","onLink","onAuthorLink","onChecked","onEdit","onDelete","setQuery","gridGap","createdAt","category","name","id","title","author","avatar","path","email","messages","length","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport styled, { css } from 'styled-components'\n\nimport Row from '../../atomic-ui/components/Row'\nimport Column from '../../atomic-ui/components/Column'\nimport Title from '../../atomic-ui/components/Title'\nimport Text from '../../atomic-ui/components/Text'\nimport Icon from '../../atomic-ui/components/Icon'\nimport Meta from '../../atomic-ui/components/Meta'\nimport Divider from '../../atomic-ui/components/Divider'\nimport Button from '../../atomic-ui/components/Button'\nimport Difinition from '../../atomic-ui/components/Difinition'\nimport Checkbox from '../../atomic-ui/components/Checkbox'\nimport Tooltip from '../../atomic-ui/components/Tooltip'\n\nimport { useEntityQuery } from '../../hooks/useEntityQuery'\n\nexport const Wrap = styled(Column)`\n  grid-gap: var(--default-gap);\n  height: 100%;\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      padding: var(--default-gap);\n      background: var(--surface-background);\n      border: var(--surface-border);\n      border-radius: var(--surface-border-radius);\n      box-shadow: var(--surface-shadow);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'ghost' &&\n    css`\n      padding: 0;\n      border: none;\n      background: none;\n      border-radius: 0;\n      box-shadow: none;\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      padding: 0;\n      border: none;\n      background: none;\n      border-radius: 0;\n      box-shadow: none;\n    `}\n`\n\nexport const Header = styled(Row)`\n  justify-content: space-between;\n  align-items: center;\n`\n\nexport const Actions = styled(Row)`\n  grid-gap: 5px;\n  height: 100%;\n`\n\nexport const Name = styled(Title)`\n  transition: opacity 150ms ease;\n\n  ${({ onClick }) =>\n    onClick &&\n    css`\n      cursor: pointer;\n\n      &:hover {\n        opacity: 0.45;\n      }\n    `}\n`\n\nexport const Status = styled(Text)`\n  color: ${({ status }) => `var(--default-color-${status === 'OPENED' ? 'accent' : 'red'})`};\n`\n\nexport const Footer = styled(Row)`\n  justify-content: space-between;\n  align-items: center;\n  flex-grow: 1;\n`\n\nexport const Card = ({\n  ticket,\n  appearance,\n  className,\n  style,\n  onLink,\n  onAuthorLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  const { setQuery } = useEntityQuery()\n\n  return (\n    <Wrap className={className} style={style} appearance={appearance}>\n      <Column style={{ gridGap: 0 }}>\n        <Header>\n          <Meta date={ticket.createdAt} category={ticket.category?.name} />\n\n          {onChecked && onEdit && onDelete && (\n            <Actions>\n              <Tooltip text={'Удалить обращение'}>\n                <Button kind={'icon'} size={'xs'} appearance={'red'} onClick={onDelete}>\n                  <Icon icon={'delete'} size={'xs'} stroke={'white'} />\n                </Button>\n              </Tooltip>\n              <Tooltip text={'Редактировать обращение'}>\n                <Button kind={'icon'} size={'xs'} onClick={onEdit}>\n                  <Icon icon={'edit'} size={'xs'} stroke={'white'} />\n                </Button>\n              </Tooltip>\n              <Tooltip text={'Отметить обращение'} self>\n                <Checkbox />\n              </Tooltip>\n            </Actions>\n          )}\n        </Header>\n\n        <Name tag={'h4'} onClick={() => setQuery(ticket.id, 'ticket', onLink)}>\n          {ticket.title}\n        </Name>\n\n        <Row style={{ gridGap: 5 }}>\n          <Status status={ticket.status}>{ticket.status}</Status>\n        </Row>\n      </Column>\n\n      <Divider clear />\n\n      <Footer>\n        <Difinition\n          label={'Автор'}\n          img={ticket.author?.avatar?.path}\n          text={ticket.author?.name}\n          onLink={onAuthorLink && (() => onAuthorLink(ticket.author?.email))}\n        />\n\n        <Difinition icon={'chat'} label={'Сообщений'} text={ticket.messages?.length} />\n      </Footer>\n    </Wrap>\n  )\n}\n\nCard.defaultProps = {\n  appearance: 'default'\n}\n\nexport default Card\n"]},"metadata":{},"sourceType":"module"}