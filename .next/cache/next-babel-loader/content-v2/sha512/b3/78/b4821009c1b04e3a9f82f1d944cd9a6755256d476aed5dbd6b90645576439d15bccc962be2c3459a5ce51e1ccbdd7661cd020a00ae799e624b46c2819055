{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid var(--surface-border);\\n  background: var(--surface-background);\\n  box-shadow: var(--surface-shadow);\\n  border-radius: var(--surface-border-radius);\\n  padding: 10px;\\n  grid-gap: 10px;\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n  align-items: center;\\n  flex-grow: 1;\\n\\n  width: \", \";\\n  overflow: hidden;\\n\\n  & > div {\\n    width: 100%;\\n  }\\n\\n  h4 {\\n    font-size: var(--font-size-m);\\n    font-weight: var(--font-weight-bold);\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n      padding: 0;\\n    \"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px;\\n  width: var(--input-height-m);\\n  grid-gap: 5px;\\n\\n  button {\\n    width: 100%;\\n    flex-grow: 1;\\n  }\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n      cursor: pointer;\\n    \"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\\n  \", \"\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n    \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px 15px;\\n  width: calc(100% - 55px);\\n\\n  \", \"\\n\\n  \", \"\\n\\n  & > label {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: calc(var(--input-height-m) - 15px);\\n    margin-left: 5px;\\n\\n    & > span {\\n      margin: 0;\\n    }\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      span:first-child {\\n        width: calc(\", \" + 45px);\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      span {\\n        width: \", \";\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nimport Row from '../Row';\nimport Column from '../Column';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Switch from '../Switch';\nimport Difinition from '../Difinition';\nimport Checkbox from '../Checkbox';\nimport Tooltip from '../Tooltip';\nimport Popper from '../Popper';\nexport var Wrap = styled(Column)(_templateObject());\nexport var Manage = styled(Row)(_templateObject2());\nexport var Headers = styled(Switch)(_templateObject3(), function (_ref) {\n  var width = _ref.width;\n  return width && css(_templateObject4(), width);\n}, function (_ref2) {\n  var first = _ref2.first,\n      width = _ref2.width;\n  return first && width && css(_templateObject5(), width);\n});\nexport var Track = styled(Row)(_templateObject6());\nexport var Content = styled(Row)(_templateObject7(), function (_ref3) {\n  var appearance = _ref3.appearance;\n  return appearance === 'default' && css(_templateObject8());\n}, function (_ref4) {\n  var appearance = _ref4.appearance;\n  return appearance === 'clear' && css(_templateObject9());\n});\nexport var Container = styled(Row)(_templateObject10(), function (_ref5) {\n  var onClick = _ref5.onClick;\n  return onClick && css(_templateObject11());\n});\nexport var Actions = styled(Column)(_templateObject12(), function (_ref6) {\n  var appearance = _ref6.appearance;\n  return appearance === 'default' && css(_templateObject13());\n}, function (_ref7) {\n  var appearance = _ref7.appearance;\n  return appearance === 'clear' && css(_templateObject14());\n});\nexport var Cell = styled(Difinition)(_templateObject15(), function (_ref8) {\n  var width = _ref8.width;\n  return width;\n});\nexport var HeaderList = styled(Column)(_templateObject16());\nexport var CheckboxTooltip = styled(Tooltip)(_templateObject17());\nexport var Table = function Table(_ref9) {\n  var data = _ref9.data,\n      template = _ref9.template,\n      className = _ref9.className,\n      style = _ref9.style,\n      appearance = _ref9.appearance,\n      _onClick = _ref9.onClick,\n      onChecked = _ref9.onChecked,\n      onDelete = _ref9.onDelete,\n      onEdit = _ref9.onEdit;\n  var defaultWidth = \"\".concat(Math.floor(100 / template.length), \"%\");\n  /* eslint-disable-next-line */\n\n  var _useState = useState((template || []).map(function (item) {\n    return {\n      value: v4(),\n      label: item.header,\n      width: item.width || defaultWidth,\n      tooltip: item.tooltip || \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430 \\u043F\\u043E \\xAB\".concat(item.header, \"\\u200E\\xBB\"),\n      visible: !item.hidden\n    };\n  })),\n      headers = _useState[0],\n      setHeaders = _useState[1];\n  /* eslint-disable-next-line */\n\n\n  var _useState2 = useState(headers[0] || null),\n      header = _useState2[0],\n      setHeader = _useState2[1];\n\n  return __jsx(Wrap, {\n    className: className,\n    style: style\n  }, __jsx(Manage, null, __jsx(Headers, {\n    defaultValue: headers[0],\n    options: headers.filter(function (h) {\n      return h.visible;\n    }),\n    onChange: function onChange(item) {\n      return setHeader(item);\n    },\n    first: onChecked,\n    stretch: true\n  }), __jsx(Popper, {\n    place: 'left',\n    offset: {\n      bottom: 80\n    },\n    body: __jsx(HeaderList, null, headers.map(function (header, index) {\n      return __jsx(Checkbox, {\n        key: index,\n        size: 's',\n        label: header.label,\n        checked: header.visible\n      });\n    })),\n    appearance: 'clear'\n  }, __jsx(Tooltip, {\n    text: 'Отображение полей',\n    place: 'left'\n  }, __jsx(Button, {\n    kind: 'icon'\n  }, __jsx(Icon, {\n    icon: 'show',\n    stroke: 'white'\n  }))))), data.map(function (item, index) {\n    return __jsx(Track, {\n      key: index\n    }, __jsx(Content, {\n      appearance: appearance\n    }, __jsx(CheckboxTooltip, {\n      text: 'Отметить документ',\n      self: true\n    }, onChecked && __jsx(Checkbox, {\n      size: 's'\n    })), __jsx(Container, {\n      onClick: function onClick() {\n        return _onClick(item);\n      }\n    }, template.map(function (cell, index) {\n      return headers[index].visible ? /*#__PURE__*/React.cloneElement(cell.content(item), {\n        key: index,\n        label: cell.header,\n        width: (cell === null || cell === void 0 ? void 0 : cell.width) || defaultWidth\n      }) : null;\n    }))), (onEdit || onDelete) && __jsx(Actions, {\n      appearance: appearance\n    }, onEdit && __jsx(Tooltip, {\n      text: 'Редактирование',\n      place: 'left'\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      onClick: function onClick() {\n        return onEdit(item);\n      }\n    }, __jsx(Icon, {\n      icon: 'edit',\n      size: 'xs',\n      stroke: 'white'\n    }))), onDelete && __jsx(Tooltip, {\n      text: 'Удаление',\n      place: 'left'\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      appearance: 'red',\n      onClick: function onClick() {\n        return onDelete(item);\n      }\n    }, __jsx(Icon, {\n      icon: 'delete',\n      size: 'xs',\n      stroke: 'white'\n    })))));\n  }));\n};\nTable.defaultProps = {\n  appearance: 'default'\n};\nexport default Table;","map":null,"metadata":{},"sourceType":"module"}