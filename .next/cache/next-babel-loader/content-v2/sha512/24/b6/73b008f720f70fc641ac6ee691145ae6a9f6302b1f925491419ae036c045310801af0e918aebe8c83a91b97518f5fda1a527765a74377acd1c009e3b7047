{"ast":null,"code":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport { useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport Row, { Wrap as WrapRow } from '../../atomic-ui/components/Row';\nimport Difinition, { Wrap as WrapDifinition } from '../../atomic-ui/components/Difinition';\nimport Tooltip, { Wrap as WrapTooltip } from '../../atomic-ui/components/Tooltip';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Image from '../../atomic-ui/components/Image';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Button from '../../atomic-ui/components/Button';\nimport { getLabelStatus, getColorStatus } from '../../atomic-ui/utils/functions';\nimport { Surface, More } from '../Styled';\nimport CardActions from '../CardActions';\nimport { useEntityQuery } from '../../hooks/useEntityQuery';\nimport { onProjectDelete, onProjectEdit } from '../../store/helpers/project';\nimport { useHelper } from '../../hooks/useHelper';\nimport { useMutate } from '../../hooks/useMutate';\nimport queries from '../../graphql/queries';\nimport config from '../../config';\nconst HOST_URL = config.get('host-url');\nexport const Media = styled(Column).withConfig({\n  displayName: \"ProjectCard__Media\",\n  componentId: \"g3ik0u-0\"\n})([\"grid-gap:5px;& > span{display:flex !important;justify-content:center;align-items:center;height:100%;border-radius:var(--surface-border-radius);border:1px solid var(--ghost-color-background);\", \"}& > figure{max-height:225px;min-height:170px;border-radius:var(--surface-border-radius);border:1px solid var(--ghost-color-background);}\"], ({\n  layout\n}) => layout !== 'column' && css([\"max-height:220px;\"]));\nexport const Poster = styled(Image).withConfig({\n  displayName: \"ProjectCard__Poster\",\n  componentId: \"g3ik0u-1\"\n})([\"position:relative;width:100%;height:100%;border-radius:var(--surface-border-radius);overflow:hidden;object-fit:cover;transition:opacity 150ms ease;\", \" \", \" @media only screen and (max-width:480px){min-height:128px;}\"], ({\n  layout\n}) => layout !== 'column' && css([\"min-height:128px;\"]), ({\n  onClick\n}) => onClick && css([\"cursor:pointer;&:hover{opacity:0.65;}\"]));\nexport const Wrap = styled(Surface).withConfig({\n  displayName: \"ProjectCard__Wrap\",\n  componentId: \"g3ik0u-2\"\n})([\"grid-gap:var(--default-gap);height:100%;\", \"\"], ({\n  layout\n}) => layout === 'column' && css([\"display:flex;flex-wrap:wrap;\"]));\nexport const Content = styled(Row).withConfig({\n  displayName: \"ProjectCard__Content\",\n  componentId: \"g3ik0u-3\"\n})([\"display:grid;grid-template-columns:1fr 2fr;flex-grow:1000;width:100%;\", \" \", \" @media only screen and (max-width:480px){grid-template-columns:1fr;grid-gap:var(--default-gap);width:100%;}\"], ({\n  clear\n}) => clear && css([\"grid-template-columns:1fr;\"]), ({\n  layout\n}) => layout === 'column' && css([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);\"]));\nexport const Screenshots = styled(Row).withConfig({\n  displayName: \"ProjectCard__Screenshots\",\n  componentId: \"g3ik0u-4\"\n})([\"justify-content:space-between;grid-gap:5px;\"]);\nexport const Screenshot = styled.div.withConfig({\n  displayName: \"ProjectCard__Screenshot\",\n  componentId: \"g3ik0u-5\"\n})([\"position:relative;z-index:var(--z-12);width:auto;height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);border-radius:var(--surface-border-radius);border:1px solid var(--ghost-color-background);flex-grow:1;transition:opacity 150ms ease;span,span > img{display:flex;justify-content:center;align-items:center;flex-grow:1;width:100%;height:100%;}img{width:100%;height:100%;object-fit:cover;}\"]);\nexport const ScreenshotsCounter = styled(Text).withConfig({\n  displayName: \"ProjectCard__ScreenshotsCounter\",\n  componentId: \"g3ik0u-6\"\n})([\"position:absolute;top:0;left:0;z-index:var(--z-10);display:flex;justify-content:center;align-items:center;width:100%;height:100%;span{position:relative;z-index:var(--z-12);color:white;}&::before{content:'';position:absolute;top:0;left:0;z-index:var(--z-10);display:flex;justify-content:center;align-items:center;width:100%;height:100%;background:var(--default-color-accent);border-radius:var(--surface-border-radius);opacity:0.65;}\"]);\nexport const Header = styled(Row).withConfig({\n  displayName: \"ProjectCard__Header\",\n  componentId: \"g3ik0u-7\"\n})([\"justify-content:space-between;align-items:center;\"]);\nexport const Actions = styled(Row).withConfig({\n  displayName: \"ProjectCard__Actions\",\n  componentId: \"g3ik0u-8\"\n})([\"grid-gap:5px;\"]);\nexport const Name = styled(Title).withConfig({\n  displayName: \"ProjectCard__Name\",\n  componentId: \"g3ik0u-9\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && css([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nexport const About = styled.div.withConfig({\n  displayName: \"ProjectCard__About\",\n  componentId: \"g3ik0u-10\"\n})([\"font-size:var(--font-size-m);\"]);\nexport const Company = styled(Difinition).withConfig({\n  displayName: \"ProjectCard__Company\",\n  componentId: \"g3ik0u-11\"\n})([\"padding-right:0;h4{max-width:250px;white-space:nowrap;font-size:var(--font-size-m);font-weight:var(--font-weight-bold);text-overflow:ellipsis;line-height:1;overflow:hidden;}\"]);\nexport const Footer = styled(Row).withConfig({\n  displayName: \"ProjectCard__Footer\",\n  componentId: \"g3ik0u-12\"\n})([\"justify-content:space-between;align-items:center;grid-gap:var(--default-gap);flex-grow:1;@media only screen and (max-width:480px){flex-direction:column;\", \"{flex-grow:1;width:100%;}\", \"{flex-grow:1;width:100%;\", \"{flex-grow:1;button{width:100%;}}}}\"], WrapDifinition, WrapRow, WrapTooltip);\nexport const Card = ({\n  layout,\n  project,\n  checked,\n  canRemove,\n  appearance,\n  className,\n  style,\n  preview,\n  slicedFactor = 4,\n  liked,\n  owned,\n  onAdd,\n  onRemove,\n  onLink,\n  onLike,\n  onAboutMore,\n  onScreenshotClick,\n  onCompanyLink,\n  onChecked,\n  onEdit,\n  onDelete,\n  withSocials,\n  withStatus\n}) => {\n  var _project$screenshots, _project$screenshots2, _project$preview, _project$screenshots3, _project$category, _project$category2, _project$description, _project$description2, _project$company, _project$company$avat, _project$company2, _project$company3, _project$company4;\n\n  const recall = useHelper();\n  const router = useRouter();\n  const mutate = useMutate();\n  const {\n    setQuery\n  } = useEntityQuery();\n  const [isLiked, setLike] = useState(liked);\n  const user = useSelector(state => state.user);\n  const screenshots = (project === null || project === void 0 ? void 0 : (_project$screenshots = project.screenshots) === null || _project$screenshots === void 0 ? void 0 : _project$screenshots.slice(0, slicedFactor)) || [];\n  const residue = ((project === null || project === void 0 ? void 0 : (_project$screenshots2 = project.screenshots) === null || _project$screenshots2 === void 0 ? void 0 : _project$screenshots2.length) || slicedFactor) - slicedFactor;\n  const canEditStatus = useMemo(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n\n  const onClickLike = () => {\n    if (onLike) onLike();\n    setLike(!isLiked);\n  };\n\n  const handleEdit = () => {\n    recall(onProjectEdit, {\n      id: project.id,\n      canEditStatus,\n      mutation: queries.UPDATE_PROJECT,\n      query: queries.GET_USERS,\n      onCompanyInputChange: mutate(queries.GET_USERS, {\n        account: 'ENTITY'\n      })\n    })();\n    if (onEdit) onEdit();\n  };\n\n  const handleDelete = () => {\n    recall(onProjectDelete, {\n      id: project.id,\n      project,\n      auth: user,\n      mutation: queries.DELETE_PROJECT\n    })();\n    if (onDelete) onDelete();\n  };\n\n  useEffect(() => {\n    setLike(liked);\n  }, [liked]);\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance,\n    checked: checked,\n    layout: layout\n  }, /*#__PURE__*/React.createElement(Content, {\n    layout: layout,\n    clear: !project.preview\n  }, project.preview && /*#__PURE__*/React.createElement(Media, {\n    layout: layout\n  }, project.preview && /*#__PURE__*/React.createElement(Poster, {\n    src: (_project$preview = project.preview) === null || _project$preview === void 0 ? void 0 : _project$preview.path,\n    alt: project.title,\n    onClick: () => {\n      var _project$preview2;\n\n      return onScreenshotClick && onScreenshotClick(project.preview, (_project$preview2 = project.preview) === null || _project$preview2 === void 0 ? void 0 : _project$preview2.id);\n    }\n  }), project.screenshots && ((_project$screenshots3 = project.screenshots) === null || _project$screenshots3 === void 0 ? void 0 : _project$screenshots3.length) > 0 && /*#__PURE__*/React.createElement(Screenshots, null, screenshots.map((screenshot, index) => /*#__PURE__*/React.createElement(Screenshot, {\n    key: screenshot.id,\n    onClick: () => onScreenshotClick && onScreenshotClick(screenshot, screenshot.id)\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: screenshot.path,\n    alt: screenshot.name,\n    bottomOffset: 300,\n    layout: 'fill'\n  }), index === (screenshots === null || screenshots === void 0 ? void 0 : screenshots.length) - 1 && residue > 0 && /*#__PURE__*/React.createElement(ScreenshotsCounter, null, /*#__PURE__*/React.createElement(\"span\", null, \"+\", residue)))))), /*#__PURE__*/React.createElement(Column, {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Tooltip, {\n    place: 'top',\n    text: (_project$category = project.category) === null || _project$category === void 0 ? void 0 : _project$category.name\n  }, /*#__PURE__*/React.createElement(Meta, {\n    category: (_project$category2 = project.category) === null || _project$category2 === void 0 ? void 0 : _project$category2.name,\n    status: withStatus && project.status && getLabelStatus(project.status),\n    color: withStatus && project.status && getColorStatus(project.status),\n    shareTitle: withSocials && (project === null || project === void 0 ? void 0 : project.title),\n    shareUrl: false && withSocials ? location.href : HOST_URL,\n    onClickByCategory: () => {\n      var _project$category3;\n\n      return router.push(`/projects?c=${(_project$category3 = project.category) === null || _project$category3 === void 0 ? void 0 : _project$category3.id}`);\n    },\n    short: true\n  })), /*#__PURE__*/React.createElement(CardActions, {\n    typeText: 'проект',\n    checked: checked,\n    onEdit: onEdit && handleEdit,\n    onDelete: onDelete && handleDelete,\n    onChecked: onChecked\n  })), /*#__PURE__*/React.createElement(Name, {\n    tag: 'h4',\n    onClick: () => setQuery(project.id, 'project', onLink)\n  }, project.title), /*#__PURE__*/React.createElement(About, null, ((_project$description = project.description) === null || _project$description === void 0 ? void 0 : _project$description.length) > 135 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, null, (_project$description2 = project.description) === null || _project$description2 === void 0 ? void 0 : _project$description2.slice(0, 135), \"...\"), /*#__PURE__*/React.createElement(More, {\n    onClick: onAboutMore\n  }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\")) : /*#__PURE__*/React.createElement(Text, null, project.description || 'Описание не заполнено')))), !preview && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Company, _extends({}, project.company ? {\n    img: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : (_project$company$avat = _project$company.avatar) === null || _project$company$avat === void 0 ? void 0 : _project$company$avat.path\n  } : {\n    icon: 'work'\n  }, {\n    label: 'Компания',\n    text: ((_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.name) || '-',\n    tooltip: (_project$company3 = project.company) === null || _project$company3 === void 0 ? void 0 : _project$company3.name,\n    onLink: ((_project$company4 = project.company) === null || _project$company4 === void 0 ? void 0 : _project$company4.email) && onCompanyLink && (() => {\n      var _project$company5;\n\n      return setQuery((_project$company5 = project.company) === null || _project$company5 === void 0 ? void 0 : _project$company5.email, 'user', onCompanyLink);\n    })\n  })), !owned && (onLike || onAdd) && /*#__PURE__*/React.createElement(Row, null, !canRemove && onLike && /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Мне нравится'\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClickLike,\n    revert: !isLiked\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'heart',\n    stroke: isLiked ? 'white' : 'var(--default-color-accent)'\n  }))), !canRemove && onAdd && /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Добавить проект к себе'\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onAdd,\n    revert: true\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'add',\n    stroke: 'var(--default-color-accent)'\n  }))), canRemove && /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Удалить проект из папки'\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    kind: 'icon',\n    appearance: 'red',\n    onClick: onRemove,\n    revert: true\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'delete',\n    stroke: 'var(--default-color-red)'\n  })))))));\n};\nCard.defaultProps = {\n  appearance: 'default'\n};\nexport default Card;","map":{"version":3,"sources":["/Users/malcore/Documents/workspace/freelance/atomic/atomic-frontend/components/ProjectCard/index.js"],"names":["React","useState","useEffect","useMemo","useRouter","useSelector","styled","css","Row","Wrap","WrapRow","Difinition","WrapDifinition","Tooltip","WrapTooltip","Column","Title","Text","Icon","Image","Meta","Divider","Button","getLabelStatus","getColorStatus","Surface","More","CardActions","useEntityQuery","onProjectDelete","onProjectEdit","useHelper","useMutate","queries","config","HOST_URL","get","Media","layout","Poster","onClick","Content","clear","Screenshots","Screenshot","div","ScreenshotsCounter","Header","Actions","Name","About","Company","Footer","Card","project","checked","canRemove","appearance","className","style","preview","slicedFactor","liked","owned","onAdd","onRemove","onLink","onLike","onAboutMore","onScreenshotClick","onCompanyLink","onChecked","onEdit","onDelete","withSocials","withStatus","recall","router","mutate","setQuery","isLiked","setLike","user","state","screenshots","slice","residue","length","canEditStatus","role","name","onClickLike","handleEdit","id","mutation","UPDATE_PROJECT","query","GET_USERS","onCompanyInputChange","account","handleDelete","auth","DELETE_PROJECT","path","title","map","screenshot","index","gridGap","category","status","location","href","push","description","company","img","avatar","icon","email","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\nimport { useRouter } from 'next/router'\nimport { useSelector } from 'react-redux'\nimport styled, { css } from 'styled-components'\n\nimport Row, { Wrap as WrapRow } from '../../atomic-ui/components/Row'\nimport Difinition, { Wrap as WrapDifinition } from '../../atomic-ui/components/Difinition'\nimport Tooltip, { Wrap as WrapTooltip } from '../../atomic-ui/components/Tooltip'\nimport Column from '../../atomic-ui/components/Column'\nimport Title from '../../atomic-ui/components/Title'\nimport Text from '../../atomic-ui/components/Text'\nimport Icon from '../../atomic-ui/components/Icon'\nimport Image from '../../atomic-ui/components/Image'\nimport Meta from '../../atomic-ui/components/Meta'\nimport Divider from '../../atomic-ui/components/Divider'\nimport Button from '../../atomic-ui/components/Button'\nimport { getLabelStatus, getColorStatus } from '../../atomic-ui/utils/functions'\n\nimport { Surface, More } from '../Styled'\nimport CardActions from '../CardActions'\nimport { useEntityQuery } from '../../hooks/useEntityQuery'\nimport { onProjectDelete, onProjectEdit } from '../../store/helpers/project'\nimport { useHelper } from '../../hooks/useHelper'\nimport { useMutate } from '../../hooks/useMutate'\nimport queries from '../../graphql/queries'\nimport config from '../../config'\n\nconst HOST_URL = config.get('host-url')\n\nexport const Media = styled(Column)`\n  grid-gap: 5px;\n\n  & > span {\n    display: flex !important;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    border-radius: var(--surface-border-radius);\n    border: 1px solid var(--ghost-color-background);\n\n    ${({ layout }) =>\n      layout !== 'column' &&\n      css`\n        max-height: 220px;\n      `}\n  }\n\n  & > figure {\n    max-height: 225px;\n    min-height: 170px;\n    border-radius: var(--surface-border-radius);\n    border: 1px solid var(--ghost-color-background);\n  }\n`\n\nexport const Poster = styled(Image)`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: var(--surface-border-radius);\n  overflow: hidden;\n  object-fit: cover;\n  transition: opacity 150ms ease;\n\n  ${({ layout }) =>\n    layout !== 'column' &&\n    css`\n      min-height: 128px;\n    `}\n\n  ${({ onClick }) =>\n    onClick &&\n    css`\n      cursor: pointer;\n\n      &:hover {\n        opacity: 0.65;\n      }\n    `}\n\n  @media only screen and (max-width: 480px) {\n    min-height: 128px;\n  }\n`\n\nexport const Wrap = styled(Surface)`\n  grid-gap: var(--default-gap);\n  height: 100%;\n\n  ${({ layout }) =>\n    layout === 'column' &&\n    css`\n      display: flex;\n      flex-wrap: wrap;\n    `}\n`\n\nexport const Content = styled(Row)`\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  flex-grow: 1000;\n  width: 100%;\n\n  ${({ clear }) =>\n    clear &&\n    css`\n      grid-template-columns: 1fr;\n    `}\n\n  ${({ layout }) =>\n    layout === 'column' &&\n    css`\n      display: flex;\n      flex-direction: column;\n      grid-gap: var(--default-gap);\n    `}\n\n  @media only screen and (max-width: 480px) {\n    grid-template-columns: 1fr;\n    grid-gap: var(--default-gap);\n    width: 100%;\n  }\n`\n\nexport const Screenshots = styled(Row)`\n  justify-content: space-between;\n  grid-gap: 5px;\n`\n\nexport const Screenshot = styled.div`\n  position: relative;\n  z-index: var(--z-12);\n  width: auto;\n  height: var(--input-height-s);\n  min-width: var(--input-height-s);\n  min-height: var(--input-height-s);\n  border-radius: var(--surface-border-radius);\n  border: 1px solid var(--ghost-color-background);\n  flex-grow: 1;\n  transition: opacity 150ms ease;\n\n  span,\n  span > img {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-grow: 1;\n    width: 100%;\n    height: 100%;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n`\n\nexport const ScreenshotsCounter = styled(Text)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: var(--z-10);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  span {\n    position: relative;\n    z-index: var(--z-12);\n    color: white;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: var(--z-10);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    background: var(--default-color-accent);\n    border-radius: var(--surface-border-radius);\n    opacity: 0.65;\n  }\n`\n\nexport const Header = styled(Row)`\n  justify-content: space-between;\n  align-items: center;\n`\n\nexport const Actions = styled(Row)`\n  grid-gap: 5px;\n`\n\nexport const Name = styled(Title)`\n  transition: opacity 150ms ease;\n\n  ${({ onClick }) =>\n    onClick &&\n    css`\n      cursor: pointer;\n\n      &:hover {\n        opacity: 0.45;\n      }\n    `}\n`\n\nexport const About = styled.div`\n  font-size: var(--font-size-m);\n`\n\nexport const Company = styled(Difinition)`\n  padding-right: 0;\n\n  h4 {\n    max-width: 250px;\n    white-space: nowrap;\n    font-size: var(--font-size-m);\n    font-weight: var(--font-weight-bold);\n    text-overflow: ellipsis;\n    line-height: 1;\n    overflow: hidden;\n  }\n`\n\nexport const Footer = styled(Row)`\n  justify-content: space-between;\n  align-items: center;\n  grid-gap: var(--default-gap);\n  flex-grow: 1;\n\n  @media only screen and (max-width: 480px) {\n    flex-direction: column;\n\n    ${WrapDifinition} {\n      flex-grow: 1;\n      width: 100%;\n    }\n\n    ${WrapRow} {\n      flex-grow: 1;\n      width: 100%;\n\n      ${WrapTooltip} {\n        flex-grow: 1;\n\n        button {\n          width: 100%;\n        }\n      }\n    }\n  }\n`\n\nexport const Card = ({\n  layout,\n  project,\n  checked,\n  canRemove,\n  appearance,\n  className,\n  style,\n  preview,\n  slicedFactor = 4,\n  liked,\n  owned,\n  onAdd,\n  onRemove,\n  onLink,\n  onLike,\n  onAboutMore,\n  onScreenshotClick,\n  onCompanyLink,\n  onChecked,\n  onEdit,\n  onDelete,\n  withSocials,\n  withStatus\n}) => {\n  const recall = useHelper()\n  const router = useRouter()\n  const mutate = useMutate()\n  const { setQuery } = useEntityQuery()\n  const [isLiked, setLike] = useState(liked)\n  const user = useSelector((state) => state.user)\n  const screenshots = project?.screenshots?.slice(0, slicedFactor) || []\n  const residue = (project?.screenshots?.length || slicedFactor) - slicedFactor\n\n  const canEditStatus = useMemo(() => user && user?.role?.name === 'ADMIN', [user])\n\n  const onClickLike = () => {\n    if (onLike) onLike()\n    setLike(!isLiked)\n  }\n\n  const handleEdit = () => {\n    recall(onProjectEdit, {\n      id: project.id,\n      canEditStatus,\n      mutation: queries.UPDATE_PROJECT,\n      query: queries.GET_USERS,\n      onCompanyInputChange: mutate(queries.GET_USERS, { account: 'ENTITY' })\n    })()\n    if (onEdit) onEdit()\n  }\n\n  const handleDelete = () => {\n    recall(onProjectDelete, {\n      id: project.id,\n      project,\n      auth: user,\n      mutation: queries.DELETE_PROJECT\n    })()\n    if (onDelete) onDelete()\n  }\n\n  useEffect(() => {\n    setLike(liked)\n  }, [liked])\n\n  return (\n    <Wrap\n      className={className}\n      style={style}\n      appearance={appearance}\n      checked={checked}\n      layout={layout}>\n      <Content layout={layout} clear={!project.preview}>\n        {project.preview && (\n          <Media layout={layout}>\n            {project.preview && (\n              <Poster\n                src={project.preview?.path}\n                alt={project.title}\n                onClick={() =>\n                  onScreenshotClick && onScreenshotClick(project.preview, project.preview?.id)\n                }\n              />\n            )}\n            {project.screenshots && project.screenshots?.length > 0 && (\n              <Screenshots>\n                {screenshots.map((screenshot, index) => (\n                  <Screenshot\n                    key={screenshot.id}\n                    onClick={() =>\n                      onScreenshotClick && onScreenshotClick(screenshot, screenshot.id)\n                    }>\n                    <Image\n                      src={screenshot.path}\n                      alt={screenshot.name}\n                      bottomOffset={300}\n                      layout={'fill'}\n                    />\n                    {index === screenshots?.length - 1 && residue > 0 && (\n                      <ScreenshotsCounter>\n                        <span>+{residue}</span>\n                      </ScreenshotsCounter>\n                    )}\n                  </Screenshot>\n                ))}\n              </Screenshots>\n            )}\n          </Media>\n        )}\n\n        <Column style={{ gridGap: 5 }}>\n          <Header>\n            <Tooltip place={'top'} text={project.category?.name}>\n              <Meta\n                category={project.category?.name}\n                status={withStatus && project.status && getLabelStatus(project.status)}\n                color={withStatus && project.status && getColorStatus(project.status)}\n                shareTitle={withSocials && project?.title}\n                shareUrl={typeof window !== 'undefined' && withSocials ? location.href : HOST_URL}\n                onClickByCategory={() => router.push(`/projects?c=${project.category?.id}`)}\n                short\n              />\n            </Tooltip>\n\n            <CardActions\n              typeText={'проект'}\n              checked={checked}\n              onEdit={onEdit && handleEdit}\n              onDelete={onDelete && handleDelete}\n              onChecked={onChecked}\n            />\n          </Header>\n\n          <Name tag={'h4'} onClick={() => setQuery(project.id, 'project', onLink)}>\n            {project.title}\n          </Name>\n\n          <About>\n            {project.description?.length > 135 ? (\n              <React.Fragment>\n                <Text>{project.description?.slice(0, 135)}...</Text>\n                <More onClick={onAboutMore}>Подробнее</More>\n              </React.Fragment>\n            ) : (\n              <Text>{project.description || 'Описание не заполнено'}</Text>\n            )}\n          </About>\n        </Column>\n      </Content>\n\n      {!preview && (\n        <React.Fragment>\n          <Divider clear />\n\n          <Footer>\n            <Company\n              {...(project.company\n                ? {\n                    img: project.company?.avatar?.path\n                  }\n                : {\n                    icon: 'work'\n                  })}\n              label={'Компания'}\n              text={project.company?.name || '-'}\n              tooltip={project.company?.name}\n              onLink={\n                project.company?.email &&\n                onCompanyLink &&\n                (() => setQuery(project.company?.email, 'user', onCompanyLink))\n              }\n            />\n            {!owned && (onLike || onAdd) && (\n              <Row>\n                {!canRemove && onLike && (\n                  <Tooltip text={'Мне нравится'}>\n                    <Button type={'button'} kind={'icon'} onClick={onClickLike} revert={!isLiked}>\n                      <Icon\n                        icon={'heart'}\n                        stroke={isLiked ? 'white' : 'var(--default-color-accent)'}\n                      />\n                    </Button>\n                  </Tooltip>\n                )}\n                {!canRemove && onAdd && (\n                  <Tooltip text={'Добавить проект к себе'}>\n                    <Button type={'button'} kind={'icon'} onClick={onAdd} revert>\n                      <Icon icon={'add'} stroke={'var(--default-color-accent)'} />\n                    </Button>\n                  </Tooltip>\n                )}\n                {canRemove && (\n                  <Tooltip text={'Удалить проект из папки'}>\n                    <Button\n                      type={'button'}\n                      kind={'icon'}\n                      appearance={'red'}\n                      onClick={onRemove}\n                      revert>\n                      <Icon icon={'delete'} stroke={'var(--default-color-red)'} />\n                    </Button>\n                  </Tooltip>\n                )}\n              </Row>\n            )}\n          </Footer>\n        </React.Fragment>\n      )}\n    </Wrap>\n  )\n}\n\nCard.defaultProps = {\n  appearance: 'default'\n}\n\nexport default Card\n"]},"metadata":{},"sourceType":"module"}