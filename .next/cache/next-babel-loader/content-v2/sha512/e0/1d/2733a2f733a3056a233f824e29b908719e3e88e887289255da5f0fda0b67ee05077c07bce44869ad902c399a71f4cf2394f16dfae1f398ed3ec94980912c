{"ast":null,"code":"import { useState, useEffect } from 'react';\nexport const useInfiniteScroll = ({\n  callbackOnTop,\n  callbackOnBottom,\n  offset = 50\n}) => {\n  const [lastScrollTop, setLastScrollTop] = useState(0);\n  useEffect(() => {\n    const scrollElement = document.documentElement;\n\n    const onScroll = () => {\n      console.log(scrollElement.scrollTop);\n      if (!scrollElement) return;\n      const dir = scrollElement.scrollTop - lastScrollTop;\n\n      if (callbackOnBottom && dir > 0 && scrollElement.scrollTop + scrollElement.clientHeight >= scrollElement.scrollHeight - offset) {\n        callbackOnBottom(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      if (callbackOnTop && dir < 0 && scrollElement.scrollTop <= offset) {\n        callbackOnTop(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      setLastScrollTop(scrollElement.scrollTop);\n    };\n\n    if (scrollElement) {\n      window.addEventListener('scroll', onScroll);\n    }\n\n    return () => {\n      if (scrollElement) {\n        window.removeEventListener('scroll', onScroll);\n      }\n    };\n  }, [callbackOnTop, callbackOnBottom, offset]);\n};\nexport default useInfiniteScroll;","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/hooks/useInfiniteScroll.js"],"names":["useState","useEffect","useInfiniteScroll","callbackOnTop","callbackOnBottom","offset","lastScrollTop","setLastScrollTop","scrollElement","document","documentElement","onScroll","console","log","scrollTop","dir","clientHeight","scrollHeight","window","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,MAAMC,iBAAiB,GAAG,CAAC;AAAEC,EAAAA,aAAF;AAAiBC,EAAAA,gBAAjB;AAAmCC,EAAAA,MAAM,GAAG;AAA5C,CAAD,KAAsD;AACrF,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAAC,CAAD,CAAlD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMO,aAAa,GAAGC,QAAQ,CAACC,eAA/B;;AAEA,UAAMC,QAAQ,GAAG,MAAM;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYL,aAAa,CAACM,SAA1B;AACA,UAAI,CAACN,aAAL,EAAoB;AACpB,YAAMO,GAAG,GAAGP,aAAa,CAACM,SAAd,GAA0BR,aAAtC;;AAEA,UACEF,gBAAgB,IAChBW,GAAG,GAAG,CADN,IAEAP,aAAa,CAACM,SAAd,GAA0BN,aAAa,CAACQ,YAAxC,IAAwDR,aAAa,CAACS,YAAd,GAA6BZ,MAHvF,EAIE;AACAD,QAAAA,gBAAgB,CAACI,aAAa,CAACM,SAAf,EAA0BN,aAAa,CAACS,YAAxC,CAAhB;AACD;;AACD,UAAId,aAAa,IAAIY,GAAG,GAAG,CAAvB,IAA4BP,aAAa,CAACM,SAAd,IAA2BT,MAA3D,EAAmE;AACjEF,QAAAA,aAAa,CAACK,aAAa,CAACM,SAAf,EAA0BN,aAAa,CAACS,YAAxC,CAAb;AACD;;AAEDV,MAAAA,gBAAgB,CAACC,aAAa,CAACM,SAAf,CAAhB;AACD,KAjBD;;AAmBA,QAAIN,aAAJ,EAAmB;AACjBU,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCR,QAAlC;AACD;;AAED,WAAO,MAAM;AACX,UAAIH,aAAJ,EAAmB;AACjBU,QAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqCT,QAArC;AACD;AACF,KAJD;AAKD,GA/BQ,EA+BN,CAACR,aAAD,EAAgBC,gBAAhB,EAAkCC,MAAlC,CA/BM,CAAT;AAgCD,CAnCM;AAqCP,eAAeH,iBAAf","sourcesContent":["import { useState, useEffect } from 'react'\n\nexport const useInfiniteScroll = ({ callbackOnTop, callbackOnBottom, offset = 50 }) => {\n  const [lastScrollTop, setLastScrollTop] = useState(0)\n\n  useEffect(() => {\n    const scrollElement = document.documentElement\n\n    const onScroll = () => {\n      console.log(scrollElement.scrollTop)\n      if (!scrollElement) return\n      const dir = scrollElement.scrollTop - lastScrollTop\n\n      if (\n        callbackOnBottom &&\n        dir > 0 &&\n        scrollElement.scrollTop + scrollElement.clientHeight >= scrollElement.scrollHeight - offset\n      ) {\n        callbackOnBottom(scrollElement.scrollTop, scrollElement.scrollHeight)\n      }\n      if (callbackOnTop && dir < 0 && scrollElement.scrollTop <= offset) {\n        callbackOnTop(scrollElement.scrollTop, scrollElement.scrollHeight)\n      }\n\n      setLastScrollTop(scrollElement.scrollTop)\n    }\n\n    if (scrollElement) {\n      window.addEventListener('scroll', onScroll)\n    }\n\n    return () => {\n      if (scrollElement) {\n        window.removeEventListener('scroll', onScroll)\n      }\n    }\n  }, [callbackOnTop, callbackOnBottom, offset])\n}\n\nexport default useInfiniteScroll\n"]},"metadata":{},"sourceType":"module"}