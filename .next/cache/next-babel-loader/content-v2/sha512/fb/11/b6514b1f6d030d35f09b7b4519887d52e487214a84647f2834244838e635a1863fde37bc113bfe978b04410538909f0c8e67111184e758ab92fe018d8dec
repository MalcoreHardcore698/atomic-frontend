{"ast":null,"code":"import _extends from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\dan82\\\\Documents\\\\workspace\\\\FREELANCE\\\\atomic\\\\atomic-frontend\\\\atomic-ui\\\\components\\\\Image\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      opacity: 1 !important;\\n      cursor: crosshair !important;\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  overflow: hidden;\\n  border-radius: var(--surface-border-radius);\\n\\n  \", \"\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      top: calc(-\", \"% - 15px);\\n      border: var(--surface-border);\\n      box-shadow: var(--default-shadow);\\n      border-radius: 2px;\\n      transform: scale(\", \");\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute !important;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: var(--z-12);\\n  border-radius: var(--surface-border-radius);\\n  background-repeat: no-repeat;\\n  opacity: 1 !important;\\n  cursor: crosshair !important;\\n\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: var(--surface-border-radius);\\n  cursor: crosshair;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nexport var Wrap = styled.figure(_templateObject());\n_c = Wrap;\nexport var Magnify = styled.div(_templateObject2(), function (_ref) {\n  var portal = _ref.portal,\n      scale = _ref.scale,\n      bottomOffset = _ref.bottomOffset;\n  return portal && css(_templateObject3(), bottomOffset || 100, scale);\n});\n_c2 = Magnify;\nexport var Source = styled(LazyLoadImage)(_templateObject4(), function (_ref2) {\n  var magnify = _ref2.magnify;\n  return magnify && css(_templateObject5());\n});\n_c3 = Source;\nexport var Image = function Image(_ref3) {\n  _s();\n\n  var src = _ref3.src,\n      width = _ref3.width,\n      height = _ref3.height,\n      portal = _ref3.portal,\n      magnify = _ref3.magnify,\n      scale = _ref3.scale,\n      multiply = _ref3.multiply,\n      bottomOffset = _ref3.bottomOffset,\n      props = _objectWithoutProperties(_ref3, [\"src\", \"width\", \"height\", \"portal\", \"magnify\", \"scale\", \"multiply\", \"bottomOffset\"]);\n\n  var _useState = useState({\n    backgroundImage: \"url(\".concat(src, \")\"),\n    backgroundPosition: '0% 0%',\n    display: 'none'\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var _useState2 = useState(1),\n      opacity = _useState2[0],\n      setOpacity = _useState2[1];\n\n  var handleMouseMove = function handleMouseMove(e) {\n    var _e$target$getBounding = e.target.getBoundingClientRect(),\n        left = _e$target$getBounding.left,\n        top = _e$target$getBounding.top,\n        width = _e$target$getBounding.width,\n        height = _e$target$getBounding.height;\n\n    var x = (e.pageX - left) / width * 100;\n    var y = (e.pageY - top) / height * 100;\n    setOpacity(0);\n    setState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        backgroundSize: \"\".concat(100 * multiply, \"%\"),\n        backgroundPosition: \"\".concat(x, \"% \").concat(y, \"%\"),\n        display: 'flex'\n      });\n    });\n  };\n\n  var handleMouseLeave = function handleMouseLeave() {\n    setOpacity(1);\n    setState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        backgroundPosition: '0% 0%',\n        backgroundSize: '100%',\n        display: 'none'\n      });\n    });\n  };\n\n  return magnify ? __jsx(Wrap, {\n    style: {\n      width: width,\n      height: height\n    },\n    onMouseMove: !portal ? handleMouseMove : function () {},\n    onMouseLeave: !portal ? handleMouseLeave : function () {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, __jsx(Magnify, _extends({}, props, {\n    style: _objectSpread(_objectSpread({}, state), {}, {\n      width: width,\n      height: height\n    }),\n    bottomOffset: bottomOffset,\n    portal: portal,\n    scale: scale,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  })), __jsx(Source, _extends({}, props, {\n    src: src,\n    onMouseMove: portal && handleMouseMove,\n    onMouseLeave: portal && handleMouseLeave,\n    style: {\n      width: width,\n      height: height,\n      opacity: opacity\n    },\n    effect: 'opacity',\n    magnify: magnify,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }))) : __jsx(Source, _extends({}, props, {\n    src: src,\n    effect: 'opacity',\n    style: {\n      width: width,\n      height: height\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }));\n};\n\n_s(Image, \"t44Wv4EJbou9BXoH6g3pi2s2fls=\");\n\n_c4 = Image;\nImage.defaultProps = {\n  bottomOffset: 125,\n  multiply: 3,\n  scale: 2\n};\nexport default Image;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Magnify\");\n$RefreshReg$(_c3, \"Source\");\n$RefreshReg$(_c4, \"Image\");","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/atomic-ui/components/Image/index.js"],"names":["React","useState","styled","css","LazyLoadImage","Wrap","figure","Magnify","div","portal","scale","bottomOffset","Source","magnify","Image","src","width","height","multiply","props","backgroundImage","backgroundPosition","display","state","setState","opacity","setOpacity","handleMouseMove","e","target","getBoundingClientRect","left","top","x","pageX","y","pageY","prev","backgroundSize","handleMouseLeave","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled, { css } from 'styled-components'\nimport { LazyLoadImage } from 'react-lazy-load-image-component'\n\nexport const Wrap = styled.figure`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: var(--surface-border-radius);\n  cursor: crosshair;\n`\n\nexport const Magnify = styled.div`\n  position: absolute !important;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-12);\n  border-radius: var(--surface-border-radius);\n  background-repeat: no-repeat;\n  opacity: 1 !important;\n  cursor: crosshair !important;\n\n  ${({ portal, scale, bottomOffset }) =>\n    portal &&\n    css`\n      top: calc(-${bottomOffset || 100}% - 15px);\n      border: var(--surface-border);\n      box-shadow: var(--default-shadow);\n      border-radius: 2px;\n      transform: scale(${scale});\n    `}\n`\n\nexport const Source = styled(LazyLoadImage)`\n  overflow: hidden;\n  border-radius: var(--surface-border-radius);\n\n  ${({ magnify }) =>\n    magnify &&\n    css`\n      opacity: 1 !important;\n      cursor: crosshair !important;\n    `}\n`\n\nexport const Image = ({\n  src,\n  width,\n  height,\n  portal,\n  magnify,\n  scale,\n  multiply,\n  bottomOffset,\n  ...props\n}) => {\n  const [state, setState] = useState({\n    backgroundImage: `url(${src})`,\n    backgroundPosition: '0% 0%',\n    display: 'none'\n  })\n  const [opacity, setOpacity] = useState(1)\n\n  const handleMouseMove = (e) => {\n    const { left, top, width, height } = e.target.getBoundingClientRect()\n    const x = ((e.pageX - left) / width) * 100\n    const y = ((e.pageY - top) / height) * 100\n\n    setOpacity(0)\n    setState((prev) => ({\n      ...prev,\n      backgroundSize: `${100 * multiply}%`,\n      backgroundPosition: `${x}% ${y}%`,\n      display: 'flex'\n    }))\n  }\n\n  const handleMouseLeave = () => {\n    setOpacity(1)\n    setState((prev) => ({\n      ...prev,\n      backgroundPosition: '0% 0%',\n      backgroundSize: '100%',\n      display: 'none'\n    }))\n  }\n\n  return magnify ? (\n    <Wrap\n      style={{ width, height }}\n      onMouseMove={!portal ? handleMouseMove : () => {}}\n      onMouseLeave={!portal ? handleMouseLeave : () => {}}>\n      <Magnify\n        {...props}\n        style={{ ...state, width, height }}\n        bottomOffset={bottomOffset}\n        portal={portal}\n        scale={scale}\n      />\n      <Source\n        {...props}\n        src={src}\n        onMouseMove={portal && handleMouseMove}\n        onMouseLeave={portal && handleMouseLeave}\n        style={{ width, height, opacity }}\n        effect={'opacity'}\n        magnify={magnify}\n      />\n    </Wrap>\n  ) : (\n    <Source {...props} src={src} effect={'opacity'} style={{ width, height }} />\n  )\n}\n\nImage.defaultProps = {\n  bottomOffset: 125,\n  multiply: 3,\n  scale: 2\n}\n\nexport default Image\n"]},"metadata":{},"sourceType":"module"}