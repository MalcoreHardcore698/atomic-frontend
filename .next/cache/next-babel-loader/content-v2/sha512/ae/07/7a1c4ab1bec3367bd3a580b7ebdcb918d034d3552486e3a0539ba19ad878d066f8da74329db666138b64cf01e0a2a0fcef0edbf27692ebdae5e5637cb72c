{"ast":null,"code":"var _jsxFileName = \"/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/atomic-ui/components/Rating/index.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Icon from '../Icon';\nexport const Wrap = styled.div`\n  display: flex;\n  grid-gap: 5px;\n  background: var(--default-color-accent-dim);\n  border-radius: 25rem;\n  padding: var(--space-offset-xs);\n  width: min-content;\n  height: fit-content;\n\n  ${({\n  disabled\n}) => disabled && css`\n      background: var(--ghost-color-background);\n    `}\n`;\nexport const Rate = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  ${({\n  size\n}) => size === 'xs' && css`\n      width: 8px;\n      height: 8px;\n    `}\n\n  ${({\n  size\n}) => size === 's' && css`\n      width: 12px;\n      height: 12px;\n    `}\n\n  ${({\n  readOnly,\n  disabled\n}) => (readOnly || disabled) && css`\n      cursor: default;\n    `}\n\n  svg {\n    path {\n      stroke: none;\n      transition: fill 150ms linear;\n    }\n  }\n`;\nexport const Rating = (_ref) => {\n  let {\n    max,\n    icon,\n    size,\n    icons,\n    readOnly,\n    disabled,\n    defaultValue,\n    onChange\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"max\", \"icon\", \"size\", \"icons\", \"readOnly\", \"disabled\", \"defaultValue\", \"onChange\"]);\n\n  const list = new Array(max).fill(null).map((_, i) => i + 1);\n  const {\n    0: value,\n    1: setValue\n  } = useState(defaultValue);\n  const {\n    0: rate,\n    1: setRate\n  } = useState(null);\n\n  const onMouseEnter = item => {\n    if (!readOnly && !disabled) setRate(item);\n  };\n\n  const onMouseLeave = () => {\n    if (!readOnly && !disabled) setRate(null);\n  };\n\n  const onClick = item => {\n    if (!readOnly && !disabled) setValue(item);\n    if (onChange && !readOnly && !disabled) onChange(item);\n  };\n\n  return __jsx(Wrap, _extends({}, props, {\n    size: size,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }), list.map((item, index) => __jsx(Rate, {\n    key: item,\n    size: size,\n    onMouseEnter: () => onMouseEnter(item),\n    onMouseLeave: onMouseLeave,\n    onClick: () => onClick(item),\n    readOnly: readOnly,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, __jsx(Icon, {\n    icon: icons && icons.length === max ? icons[index] : icon,\n    fill: item <= value || item <= rate ? 'var(--default-color-accent)' : disabled ? 'var(--default-color-text)' : 'var(--default-color-accent-gray)',\n    style: size === 'xs' ? {\n      transform: 'scale(.85)'\n    } : {},\n    size: 'xs',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }))));\n};\nRating.defaultProps = {\n  icon: 'star',\n  size: 's',\n  defaultValue: 0,\n  max: 5\n};\nexport default Rating;","map":{"version":3,"sources":["/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/atomic-ui/components/Rating/index.js"],"names":["React","useState","styled","css","Icon","Wrap","div","disabled","Rate","span","size","readOnly","Rating","max","icon","icons","defaultValue","onChange","props","list","Array","fill","map","_","i","value","setValue","rate","setRate","onMouseEnter","item","onMouseLeave","onClick","index","length","transform","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport Icon from '../Icon'\n\nexport const Wrap = styled.div`\n  display: flex;\n  grid-gap: 5px;\n  background: var(--default-color-accent-dim);\n  border-radius: 25rem;\n  padding: var(--space-offset-xs);\n  width: min-content;\n  height: fit-content;\n\n  ${({ disabled }) =>\n    disabled &&\n    css`\n      background: var(--ghost-color-background);\n    `}\n`\n\nexport const Rate = styled.span`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  ${({ size }) =>\n    size === 'xs' &&\n    css`\n      width: 8px;\n      height: 8px;\n    `}\n\n  ${({ size }) =>\n    size === 's' &&\n    css`\n      width: 12px;\n      height: 12px;\n    `}\n\n  ${({ readOnly, disabled }) =>\n    (readOnly || disabled) &&\n    css`\n      cursor: default;\n    `}\n\n  svg {\n    path {\n      stroke: none;\n      transition: fill 150ms linear;\n    }\n  }\n`\n\nexport const Rating = ({\n  max,\n  icon,\n  size,\n  icons,\n  readOnly,\n  disabled,\n  defaultValue,\n  onChange,\n  ...props\n}) => {\n  const list = new Array(max).fill(null).map((_, i) => i + 1)\n  const [value, setValue] = useState(defaultValue)\n  const [rate, setRate] = useState(null)\n\n  const onMouseEnter = (item) => {\n    if (!readOnly && !disabled) setRate(item)\n  }\n\n  const onMouseLeave = () => {\n    if (!readOnly && !disabled) setRate(null)\n  }\n\n  const onClick = (item) => {\n    if (!readOnly && !disabled) setValue(item)\n    if (onChange && !readOnly && !disabled) onChange(item)\n  }\n\n  return (\n    <Wrap {...props} size={size} disabled={disabled}>\n      {list.map((item, index) => (\n        <Rate\n          key={item}\n          size={size}\n          onMouseEnter={() => onMouseEnter(item)}\n          onMouseLeave={onMouseLeave}\n          onClick={() => onClick(item)}\n          readOnly={readOnly}\n          disabled={disabled}>\n          <Icon\n            icon={icons && icons.length === max ? icons[index] : icon}\n            fill={\n              item <= value || item <= rate\n                ? 'var(--default-color-accent)'\n                : disabled\n                ? 'var(--default-color-text)'\n                : 'var(--default-color-accent-gray)'\n            }\n            style={size === 'xs' ? { transform: 'scale(.85)' } : {}}\n            size={'xs'}\n          />\n        </Rate>\n      ))}\n    </Wrap>\n  )\n}\n\nRating.defaultProps = {\n  icon: 'star',\n  size: 's',\n  defaultValue: 0,\n  max: 5\n}\n\nexport default Rating\n"]},"metadata":{},"sourceType":"module"}