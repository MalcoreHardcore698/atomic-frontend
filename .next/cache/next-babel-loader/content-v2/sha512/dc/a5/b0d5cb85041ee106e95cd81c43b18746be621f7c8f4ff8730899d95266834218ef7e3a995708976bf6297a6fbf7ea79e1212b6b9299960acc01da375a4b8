{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useDispatch } from 'react-redux';\nimport { omit } from '../atomic-ui/utils/functions';\nimport { setSearch, setParams } from '../store/actions/root';\nexport const useSearch = () => {\n  _s();\n\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const onSearch = useCallback((search, params) => {\n    if (search) dispatch(setSearch(search));\n    if (params) dispatch(setParams(params));\n    router.push({\n      pathname: router.pathname,\n      query: { ...(search ? {\n          search\n        } : {}),\n        ...(params || {})\n      }\n    }, undefined, {\n      shallow: true\n    });\n  }, [router, dispatch]);\n  useEffect(() => {\n    const query = router.query;\n\n    if (query) {\n      dispatch(setParams(omit(query, ['search'])));\n    }\n  }, [router, dispatch]);\n  return [onSearch];\n};\n\n_s(useSearch, \"W3PZ3+GL1XFjAfQg8blnEL6iggU=\", false, function () {\n  return [useRouter, useDispatch];\n});","map":{"version":3,"sources":["D:/Documents/Workspace/FREELANCE/atomic/atomic-frontend/hooks/useSearch.js"],"names":["useCallback","useEffect","useRouter","useDispatch","omit","setSearch","setParams","useSearch","router","dispatch","onSearch","search","params","push","pathname","query","undefined","shallow"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAuC,OAAvC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,IAAT,QAAqB,8BAArB;AAEA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,uBAArC;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAC7B,QAAMC,MAAM,GAAGN,SAAS,EAAxB;AACA,QAAMO,QAAQ,GAAGN,WAAW,EAA5B;AAEA,QAAMO,QAAQ,GAAGV,WAAW,CAC3B,CAACW,MAAD,EAASC,MAAT,KAAoB;AAClB,QAAID,MAAJ,EAAYF,QAAQ,CAACJ,SAAS,CAACM,MAAD,CAAV,CAAR;AACZ,QAAIC,MAAJ,EAAYH,QAAQ,CAACH,SAAS,CAACM,MAAD,CAAV,CAAR;AAEZJ,IAAAA,MAAM,CAACK,IAAP,CACC;AACEC,MAAAA,QAAQ,EAAEN,MAAM,CAACM,QADnB;AAEEC,MAAAA,KAAK,EAAE,EACL,IAAIJ,MAAM,GAAG;AAAEA,UAAAA;AAAF,SAAH,GAAgB,EAA1B,CADK;AAEL,YAAIC,MAAM,IAAI,EAAd;AAFK;AAFT,KADD,EAQCI,SARD,EASC;AAAEC,MAAAA,OAAO,EAAE;AAAX,KATD;AAWD,GAhB0B,EAiB3B,CAACT,MAAD,EAASC,QAAT,CAjB2B,CAA5B;AAoBAR,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,KAAK,GAAGP,MAAM,CAACO,KAArB;;AACA,QAAIA,KAAJ,EAAW;AACTN,MAAAA,QAAQ,CACPH,SAAS,CACRF,IAAI,CAACW,KAAD,EAAQ,CAAC,QAAD,CAAR,CADI,CADF,CAAR;AAKD;AACF,GATQ,EASN,CAACP,MAAD,EAASC,QAAT,CATM,CAAT;AAWA,SAAO,CAACC,QAAD,CAAP;AACD,CApCM;;GAAMH,S;UACIL,S,EACEC,W","sourcesContent":["import { useCallback, useEffect } from 'react'\nimport { useRouter } from 'next/router'\nimport { useDispatch } from 'react-redux'\n\nimport { omit } from '../atomic-ui/utils/functions'\n\nimport { setSearch, setParams } from '../store/actions/root'\n\nexport const useSearch = () => {\n  const router = useRouter()\n  const dispatch = useDispatch()\n\n  const onSearch = useCallback(\n   (search, params) => {\n     if (search) dispatch(setSearch(search))\n     if (params) dispatch(setParams(params))\n\n     router.push(\n      {\n        pathname: router.pathname,\n        query: {\n          ...(search ? { search } : {}),\n          ...(params || {})\n        }\n      },\n      undefined,\n      { shallow: true }\n     )\n   },\n   [router, dispatch]\n  )\n\n  useEffect(() => {\n    const query = router.query\n    if (query) {\n      dispatch(\n       setParams(\n        omit(query, ['search'])\n       )\n      )\n    }\n  }, [router, dispatch])\n\n  return [onSearch]\n}\n"]},"metadata":{},"sourceType":"module"}