{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { v4 } from 'uuid';\nimport { getDaysInMonth, isWeekDay, parseDate } from '../../assets/scripts/date';\nimport DateMonth from '../DateMonth';\nimport Divider from '../Divider';\nimport Input from '../Input';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"DateSheet__Wrap\",\n  componentId: \"sc-1heh40m-0\"\n})([\"display:flex;flex-wrap:wrap;grid-gap:20px;\"]);\nconst defaultYear = new Date().getFullYear();\nexport const DateSheet = ({\n  lang,\n  value,\n  style,\n  sheets,\n  className,\n  canEditYear,\n  withMarkers,\n  withNavigate,\n  withYearDisplay,\n  onCompare,\n  onChange\n}) => {\n  const date = parseDate(value);\n  const [months, setMonths] = useState([]);\n  const [filterDate, setFilterDate] = useState(new Date());\n  useEffect(() => {\n    setMonths(new Array(sheets || 1).fill(null).map((_, index) => {\n      const startDate = new Date(filterDate);\n      const current = new Date(startDate.getFullYear(), startDate.getMonth() + index);\n      const month = current.getMonth();\n      const label = current.toLocaleString(lang, {\n        month: 'long'\n      });\n      return {\n        label,\n        days: getDaysInMonth(current.getFullYear(), month)\n      };\n    }));\n  }, [filterDate, sheets, lang]);\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style\n  }, canEditYear && /*#__PURE__*/React.createElement(Input, {\n    type: 'number',\n    name: 'year',\n    defaultValue: date && date.getFullYear() || defaultYear,\n    onChange: e => setFilterDate(new Date(e.target.value, filterDate.getMonth(), filterDate.getDate())),\n    horizontalAlignment: 'center',\n    placeholder: defaultYear,\n    appearance: 'ghost',\n    min: 1920,\n    max: 2100,\n    required: true\n  }), canEditYear && /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), months.map(month => /*#__PURE__*/React.createElement(DateMonth, {\n    key: v4(),\n    value: date,\n    lang: lang,\n    month: month,\n    filterDate: filterDate,\n    setFilterDate: setFilterDate,\n    withNavigate: !!withNavigate,\n    withMarkers: withMarkers !== null && withMarkers !== void 0 ? withMarkers : true,\n    withYearDisplay: withYearDisplay !== null && withYearDisplay !== void 0 ? withYearDisplay : months.length === 1,\n    onCompare: onCompare || isWeekDay,\n    onChange: onChange\n  })));\n};\nexport default DateSheet;","map":null,"metadata":{},"sourceType":"module"}