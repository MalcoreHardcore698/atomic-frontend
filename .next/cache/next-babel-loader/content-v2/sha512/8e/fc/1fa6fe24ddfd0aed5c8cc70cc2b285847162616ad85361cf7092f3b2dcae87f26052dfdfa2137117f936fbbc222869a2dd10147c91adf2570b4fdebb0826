{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport Column from '../../atomic-ui/components/Column';\nimport Select from '../../atomic-ui/components/Select';\nimport Button from '../../atomic-ui/components/Button';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"FormAddMember__Wrap\",\n  componentId: \"kre4m5-0\"\n})([\"padding:var(--default-gap);\"]);\nexport const AddMember = ({\n  query,\n  onSubmit\n}) => {\n  const members = useSelector(state => state.root.members);\n  const [selected, setSelected] = useState(null);\n  const [load, {\n    data,\n    loading\n  }] = useLazyQuery(query, {\n    variables: {\n      email: members.map(member => {\n        var _member$value;\n\n        return (member === null || member === void 0 ? void 0 : member.email) || ((_member$value = member.value) === null || _member$value === void 0 ? void 0 : _member$value.email);\n      }),\n      account: ['INDIVIDUAL', 'OFICIAL']\n    }\n  });\n  useEffect(() => load(), []);\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(Select, {\n    options: !loading && data ? data.getUsers.map(user => ({\n      value: user,\n      label: user.name\n    })) : [],\n    appearance: 'ghost',\n    defaultValue: selected,\n    placeholder: 'Введите ФИО, Эл. почту или телефон',\n    onChange: item => setSelected(item),\n    isLoading: loading,\n    isSearchable: true\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => selected && onSubmit(selected),\n    disabled: !selected || loading\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u0430\"));\n};\nexport default AddMember;","map":null,"metadata":{},"sourceType":"module"}