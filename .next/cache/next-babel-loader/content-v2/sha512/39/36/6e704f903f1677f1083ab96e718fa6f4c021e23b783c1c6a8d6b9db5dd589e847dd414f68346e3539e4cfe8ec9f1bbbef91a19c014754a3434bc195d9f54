{"ast":null,"code":"import _toConsumableArray from \"/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/atomic-ui/components/Table/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject21() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n\"]);\n\n  _templateObject21 = function _templateObject21() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid var(--surface-border);\\n  background: var(--surface-background);\\n  box-shadow: var(--surface-shadow);\\n  border-radius: var(--surface-border-radius);\\n  padding: 10px;\\n  grid-gap: 10px;\\n\"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"\\n  align-items: center;\\n  flex-grow: 1;\\n\\n  width: \", \";\\n  overflow: hidden;\\n\\n  & > div {\\n    width: 100%;\\n  }\\n\\n  h4 {\\n    font-size: var(--font-size-m);\\n    font-weight: var(--font-weight-bold);\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\\n  & > div {\\n    display: flex;\\n  }\\n\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n      padding: 0;\\n    \"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n      flex-direction: row;\\n    \"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  justify-content: center;\\n  align-items: center;\\n  width: 70px;\\n  padding: 5px;\\n  grid-gap: 5px;\\n\\n  button {\\n    width: 100%;\\n    flex-grow: 1;\\n  }\\n\\n  \", \" {\\n    width: 100%;\\n  }\\n\\n  \", \"\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n      cursor: pointer;\\n    \"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\\n  \", \"\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n    \"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px 15px;\\n  width: calc(100% - 85px);\\n\\n  \", \"\\n\\n  \", \"\\n\\n  & > label {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: calc(var(--input-height-m) - 15px);\\n    margin-left: 5px;\\n\\n    & > span {\\n      margin: 0;\\n    }\\n  }\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n      opacity: 0.45;\\n    \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  transition: opacity 150ms ease;\\n\\n  \", \"\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n  width: 100%;\\n  height: 30px;\\n  color: #959595;\\n\\n  &:last-child {\\n    justify-content: flex-end;\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      span:first-child {\\n        width: calc(\", \" + 45px);\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      span {\\n        width: \", \";\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 36px 1fr 70px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nimport Row from '../Row';\nimport Column from '../Column';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Switch from '../Switch';\nimport Difinition from '../Difinition';\nimport Checkbox from '../Checkbox';\nimport Tooltip, { Wrap as TooltipWrap } from '../Tooltip';\nimport Popper from '../Popper';\nexport var Wrap = styled(Column)(_templateObject());\n_c = Wrap;\nexport var Manage = styled(Row)(_templateObject2());\n_c2 = Manage;\nexport var Headers = styled(Switch)(_templateObject3(), function (_ref) {\n  var width = _ref.width;\n  return width && css(_templateObject4(), width);\n}, function (_ref2) {\n  var first = _ref2.first,\n      width = _ref2.width;\n  return first && width && css(_templateObject5(), width);\n});\n_c3 = Headers;\nexport var Header = styled(Row)(_templateObject6());\nexport var Track = styled(Row)(_templateObject7(), function (_ref3) {\n  var checked = _ref3.checked;\n  return checked && css(_templateObject8());\n});\n_c4 = Track;\nexport var Content = styled(Row)(_templateObject9(), function (_ref4) {\n  var appearance = _ref4.appearance;\n  return appearance === 'default' && css(_templateObject10());\n}, function (_ref5) {\n  var appearance = _ref5.appearance;\n  return appearance === 'clear' && css(_templateObject11());\n});\n_c5 = Content;\nexport var Container = styled(Row)(_templateObject12(), function (_ref6) {\n  var onClick = _ref6.onClick;\n  return onClick && css(_templateObject13());\n});\n_c6 = Container;\nexport var Actions = styled(Column)(_templateObject14(), TooltipWrap, function (_ref7) {\n  var horizontal = _ref7.horizontal;\n  return horizontal && css(_templateObject15());\n}, function (_ref8) {\n  var appearance = _ref8.appearance;\n  return appearance === 'default' && css(_templateObject16());\n}, function (_ref9) {\n  var appearance = _ref9.appearance;\n  return appearance === 'clear' && css(_templateObject17());\n});\n_c7 = Actions;\nexport var FieldsPopper = styled(Popper)(_templateObject18());\n_c8 = FieldsPopper;\nexport var Cell = styled(Difinition)(_templateObject19(), function (_ref10) {\n  var width = _ref10.width;\n  return width;\n});\nexport var HeaderList = styled(Column)(_templateObject20());\n_c9 = HeaderList;\nexport var CheckboxTooltip = styled(Tooltip)(_templateObject21());\n_c10 = CheckboxTooltip;\nexport var getIsAdmin = function getIsAdmin(document) {\n  var _document$name;\n\n  return ((_document$name = document.name) === null || _document$name === void 0 ? void 0 : _document$name.toUpperCase()) === 'ADMIN';\n};\nexport var Table = function Table(_ref11) {\n  _s();\n\n  var data = _ref11.data,\n      template = _ref11.template,\n      className = _ref11.className,\n      style = _ref11.style,\n      appearance = _ref11.appearance,\n      _onClick = _ref11.onClick,\n      onChecked = _ref11.onChecked,\n      onDelete = _ref11.onDelete,\n      onEdit = _ref11.onEdit;\n\n  var _useState = useState(false),\n      isAllChecked = _useState[0],\n      setIsAllChecked = _useState[1];\n\n  var _useState2 = useState((data || []).map(function (item) {\n    return _objectSpread(_objectSpread({}, item), {}, {\n      id: item.id || v4(),\n      checked: false\n    });\n  })),\n      documents = _useState2[0],\n      setDocuments = _useState2[1];\n\n  var buttonDeleteDisabled = useMemo(function () {\n    return !documents.find(function (item) {\n      return item.checked;\n    });\n  }, [documents]);\n  var defaultWidth = \"\".concat(Math.floor(100 / template.length), \"%\");\n  var headers = useMemo(function () {\n    return (template || []).map(function (item) {\n      return {\n        value: v4(),\n        label: item.header,\n        tooltip: item.tooltip || \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430 \\u043F\\u043E \\xAB\".concat(item.header, \"\\xBB\"),\n        visible: !item.hidden\n      };\n    });\n  }, []);\n\n  var handleChecked = function handleChecked(document) {\n    setDocuments(function (prev) {\n      var isExists = function isExists(item) {\n        return item.id === document.id;\n      };\n\n      var candidate = prev.find(isExists);\n\n      if (candidate) {\n        return prev.map(function (item) {\n          return isExists(item) ? _objectSpread(_objectSpread({}, document), {}, {\n            checked: !item.checked\n          }) : _objectSpread(_objectSpread({}, item), {}, {\n            checked: isAllChecked || item.checked\n          });\n        });\n      } else {\n        return [].concat(_toConsumableArray(prev), [_objectSpread(_objectSpread({}, document), {}, {\n          checked: true\n        })]);\n      }\n    });\n    setIsAllChecked(false);\n  };\n\n  var handleAllChecked = function handleAllChecked() {\n    var value = !isAllChecked;\n    setDocuments(function (prev) {\n      return prev.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          checked: !getIsAdmin(item) ? value : false\n        });\n      });\n    });\n    setIsAllChecked(value);\n  };\n\n  useEffect(function () {\n    var countChecked = documents.reduce(function (acc, curr) {\n      return acc + (curr.checked ? 1 : 0);\n    }, 0);\n\n    if (documents.length > 0 && countChecked === documents.length) {\n      setIsAllChecked(true);\n    }\n  }, [documents]);\n  return __jsx(Wrap, {\n    className: className,\n    style: style,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }\n  }, __jsx(Manage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }\n  }, __jsx(CheckboxTooltip, {\n    text: 'Отметить все',\n    self: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 9\n    }\n  }, onChecked && __jsx(Checkbox, {\n    size: 's',\n    checked: isAllChecked,\n    onChange: handleAllChecked,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 25\n    }\n  })), __jsx(Headers, {\n    defaultValue: headers[0],\n    options: headers.filter(function (h) {\n      return h.visible;\n    }),\n    first: onChecked,\n    stretch: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }\n  }), __jsx(Actions, {\n    appearance: appearance,\n    horizontal: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  }, __jsx(Tooltip, {\n    text: 'Удаление выделенного',\n    place: 'left',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    size: 'xs',\n    kind: 'icon',\n    appearance: buttonDeleteDisabled ? 'ghost' : 'red',\n    disabled: buttonDeleteDisabled,\n    onClick: function onClick() {\n      return onDelete(documents.filter(function (document) {\n        return document.checked;\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    icon: 'delete',\n    size: 'xs',\n    stroke: buttonDeleteDisabled ? 'var(--ghost-color-text)' : 'white',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 15\n    }\n  }))), __jsx(FieldsPopper, {\n    place: 'left',\n    offset: {\n      bottom: 80\n    },\n    body: __jsx(HeaderList, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }\n    }, headers.map(function (header, index) {\n      return __jsx(Checkbox, {\n        key: index,\n        size: 's',\n        label: header.label,\n        checked: header.visible,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 19\n        }\n      });\n    })),\n    appearance: 'clear',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }, __jsx(Tooltip, {\n    text: 'Отображение полей',\n    place: 'left',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    size: 'xs',\n    kind: 'icon',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 15\n    }\n  }, __jsx(Icon, {\n    icon: 'show',\n    size: 'xs',\n    stroke: 'white',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }\n  })))))), documents.map(function (document, index) {\n    return __jsx(Track, {\n      key: index,\n      checked: document.checked,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }\n    }, __jsx(Content, {\n      appearance: appearance,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }\n    }, __jsx(CheckboxTooltip, {\n      text: 'Отметить документ',\n      self: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 13\n      }\n    }, onChecked && __jsx(Checkbox, {\n      size: 's',\n      checked: !getIsAdmin(document) && (isAllChecked || document.checked),\n      onChange: !getIsAdmin(document) && function () {\n        return handleChecked(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    })), __jsx(Container, {\n      onClick: function onClick() {\n        return _onClick(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    }, template.map(function (cell, index) {\n      return headers[index].visible ? /*#__PURE__*/React.cloneElement(cell.content(document), {\n        key: index,\n        label: cell.header,\n        width: (cell === null || cell === void 0 ? void 0 : cell.width) || defaultWidth\n      }) : null;\n    }))), (onEdit || onDelete) && __jsx(Actions, {\n      appearance: appearance,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 13\n      }\n    }, onEdit && __jsx(Tooltip, {\n      text: 'Редактирование',\n      place: 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      disabled: getIsAdmin(document) || document.checked,\n      onClick: function onClick() {\n        return onEdit(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      icon: 'edit',\n      size: 'xs',\n      stroke: 'white',\n      fill: getIsAdmin(document) || document.checked ? 'var(--ghost-color-text)' : 'var(--default-color-accent)',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 21\n      }\n    }))), onDelete && __jsx(Tooltip, {\n      text: 'Удаление',\n      place: 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      appearance: 'red',\n      disabled: getIsAdmin(document) || document.checked,\n      onClick: function onClick() {\n        return onDelete(document);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      icon: 'delete',\n      size: 'xs',\n      stroke: 'white',\n      fill: getIsAdmin(document) || document.checked ? 'var(--ghost-color-text)' : 'var(--default-color-red)',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 21\n      }\n    })))));\n  }));\n};\n\n_s(Table, \"Glxaf6D3IMvHHph6ll2xxRplAHU=\");\n\n_c11 = Table;\nTable.defaultProps = {\n  appearance: 'default'\n};\nexport default Table;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Manage\");\n$RefreshReg$(_c3, \"Headers\");\n$RefreshReg$(_c4, \"Track\");\n$RefreshReg$(_c5, \"Content\");\n$RefreshReg$(_c6, \"Container\");\n$RefreshReg$(_c7, \"Actions\");\n$RefreshReg$(_c8, \"FieldsPopper\");\n$RefreshReg$(_c9, \"HeaderList\");\n$RefreshReg$(_c10, \"CheckboxTooltip\");\n$RefreshReg$(_c11, \"Table\");","map":{"version":3,"sources":["/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/atomic-ui/components/Table/index.js"],"names":["React","useState","useEffect","useMemo","styled","css","v4","Row","Column","Icon","Button","Switch","Difinition","Checkbox","Tooltip","Wrap","TooltipWrap","Popper","Manage","Headers","width","first","Header","Track","checked","Content","appearance","Container","onClick","Actions","horizontal","FieldsPopper","Cell","HeaderList","CheckboxTooltip","getIsAdmin","document","name","toUpperCase","Table","data","template","className","style","onChecked","onDelete","onEdit","isAllChecked","setIsAllChecked","map","item","id","documents","setDocuments","buttonDeleteDisabled","find","defaultWidth","Math","floor","length","headers","value","label","header","tooltip","visible","hidden","handleChecked","prev","isExists","candidate","handleAllChecked","countChecked","reduce","acc","curr","filter","h","bottom","index","cell","cloneElement","content","key","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react'\nimport styled, { css } from 'styled-components'\nimport { v4 } from 'uuid'\n\nimport Row from '../Row'\nimport Column from '../Column'\nimport Icon from '../Icon'\nimport Button from '../Button'\nimport Switch from '../Switch'\nimport Difinition from '../Difinition'\nimport Checkbox from '../Checkbox'\nimport Tooltip, { Wrap as TooltipWrap } from '../Tooltip'\nimport Popper from '../Popper'\n\nexport const Wrap = styled(Column)``\n\nexport const Manage = styled(Row)`\n  display: grid;\n  grid-template-columns: 36px 1fr 70px;\n`\n\nexport const Headers = styled(Switch)`\n  ${({ width }) =>\n    width &&\n    css`\n      span {\n        width: ${width};\n      }\n    `}\n\n  ${({ first, width }) =>\n    first &&\n    width &&\n    css`\n      span:first-child {\n        width: calc(${width} + 45px);\n      }\n    `}\n`\n\nexport const Header = styled(Row)`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 30px;\n  color: #959595;\n\n  &:last-child {\n    justify-content: flex-end;\n  }\n`\n\nexport const Track = styled(Row)`\n  transition: opacity 150ms ease;\n\n  ${({ checked }) =>\n    checked &&\n    css`\n      opacity: 0.45;\n    `}\n`\n\nexport const Content = styled(Row)`\n  padding: 5px 15px;\n  width: calc(100% - 85px);\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n    `}\n\n  & > label {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: calc(var(--input-height-m) - 15px);\n    margin-left: 5px;\n\n    & > span {\n      margin: 0;\n    }\n  }\n`\n\nexport const Container = styled(Row)`\n  width: 100%;\n\n  ${({ onClick }) =>\n    onClick &&\n    css`\n      cursor: pointer;\n    `}\n`\n\nexport const Actions = styled(Column)`\n  justify-content: center;\n  align-items: center;\n  width: 70px;\n  padding: 5px;\n  grid-gap: 5px;\n\n  button {\n    width: 100%;\n    flex-grow: 1;\n  }\n\n  ${TooltipWrap} {\n    width: 100%;\n  }\n\n  ${({ horizontal }) =>\n    horizontal &&\n    css`\n      flex-direction: row;\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n      padding: 0;\n    `}\n`\n\nexport const FieldsPopper = styled(Popper)`\n  display: flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n`\n\nexport const Cell = styled(Difinition)`\n  align-items: center;\n  flex-grow: 1;\n\n  width: ${({ width }) => width};\n  overflow: hidden;\n\n  & > div {\n    width: 100%;\n  }\n\n  h4 {\n    font-size: var(--font-size-m);\n    font-weight: var(--font-weight-bold);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`\n\nexport const HeaderList = styled(Column)`\n  border: 1px solid var(--surface-border);\n  background: var(--surface-background);\n  box-shadow: var(--surface-shadow);\n  border-radius: var(--surface-border-radius);\n  padding: 10px;\n  grid-gap: 10px;\n`\n\nexport const CheckboxTooltip = styled(Tooltip)`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`\n\nexport const getIsAdmin = (document) => document.name?.toUpperCase() === 'ADMIN'\n\nexport const Table = ({\n  data,\n  template,\n  className,\n  style,\n  appearance,\n  onClick,\n  onChecked,\n  onDelete,\n  onEdit\n}) => {\n  const [isAllChecked, setIsAllChecked] = useState(false)\n  const [documents, setDocuments] = useState(\n    (data || []).map((item) => ({\n      ...item,\n      id: item.id || v4(),\n      checked: false\n    }))\n  )\n  const buttonDeleteDisabled = useMemo(() => !documents.find((item) => item.checked), [documents])\n  const defaultWidth = `${Math.floor(100 / template.length)}%`\n\n  const headers = useMemo(\n    () =>\n      (template || []).map((item) => ({\n        value: v4(),\n        label: item.header,\n        tooltip: item.tooltip || `Сортировка по «${item.header}»`,\n        visible: !item.hidden\n      })),\n    []\n  )\n\n  const handleChecked = (document) => {\n    setDocuments((prev) => {\n      const isExists = (item) => item.id === document.id\n      const candidate = prev.find(isExists)\n      if (candidate) {\n        return prev.map((item) =>\n          isExists(item)\n            ? {\n                ...document,\n                checked: !item.checked\n              }\n            : {\n                ...item,\n                checked: isAllChecked || item.checked\n              }\n        )\n      } else {\n        return [...prev, { ...document, checked: true }]\n      }\n    })\n    setIsAllChecked(false)\n  }\n\n  const handleAllChecked = () => {\n    const value = !isAllChecked\n    setDocuments((prev) =>\n      prev.map((item) => ({\n        ...item,\n        checked: !getIsAdmin(item) ? value : false\n      }))\n    )\n    setIsAllChecked(value)\n  }\n\n  useEffect(() => {\n    const countChecked = documents.reduce((acc, curr) => acc + (curr.checked ? 1 : 0), 0)\n    if (documents.length > 0 && countChecked === documents.length) {\n      setIsAllChecked(true)\n    }\n  }, [documents])\n\n  return (\n    <Wrap className={className} style={style}>\n      <Manage>\n        <CheckboxTooltip text={'Отметить все'} self>\n          {onChecked && <Checkbox size={'s'} checked={isAllChecked} onChange={handleAllChecked} />}\n        </CheckboxTooltip>\n\n        <Headers\n          defaultValue={headers[0]}\n          options={headers.filter((h) => h.visible)}\n          first={onChecked}\n          stretch\n        />\n\n        <Actions appearance={appearance} horizontal>\n          <Tooltip text={'Удаление выделенного'} place={'left'}>\n            <Button\n              size={'xs'}\n              kind={'icon'}\n              appearance={buttonDeleteDisabled ? 'ghost' : 'red'}\n              disabled={buttonDeleteDisabled}\n              onClick={() => onDelete(documents.filter((document) => document.checked))}>\n              <Icon\n                icon={'delete'}\n                size={'xs'}\n                stroke={buttonDeleteDisabled ? 'var(--ghost-color-text)' : 'white'}\n              />\n            </Button>\n          </Tooltip>\n\n          <FieldsPopper\n            place={'left'}\n            offset={{ bottom: 80 }}\n            body={\n              <HeaderList>\n                {headers.map((header, index) => (\n                  <Checkbox key={index} size={'s'} label={header.label} checked={header.visible} />\n                ))}\n              </HeaderList>\n            }\n            appearance={'clear'}>\n            <Tooltip text={'Отображение полей'} place={'left'}>\n              <Button size={'xs'} kind={'icon'}>\n                <Icon icon={'show'} size={'xs'} stroke={'white'} />\n              </Button>\n            </Tooltip>\n          </FieldsPopper>\n        </Actions>\n      </Manage>\n\n      {documents.map((document, index) => (\n        <Track key={index} checked={document.checked}>\n          <Content appearance={appearance}>\n            <CheckboxTooltip text={'Отметить документ'} self>\n              {onChecked && (\n                <Checkbox\n                  size={'s'}\n                  checked={!getIsAdmin(document) && (isAllChecked || document.checked)}\n                  onChange={!getIsAdmin(document) && (() => handleChecked(document))}\n                />\n              )}\n            </CheckboxTooltip>\n\n            <Container onClick={() => onClick(document)}>\n              {template.map((cell, index) =>\n                headers[index].visible\n                  ? React.cloneElement(cell.content(document), {\n                      key: index,\n                      label: cell.header,\n                      width: cell?.width || defaultWidth\n                    })\n                  : null\n              )}\n            </Container>\n          </Content>\n\n          {(onEdit || onDelete) && (\n            <Actions appearance={appearance}>\n              {onEdit && (\n                <Tooltip text={'Редактирование'} place={'left'}>\n                  <Button\n                    size={'xs'}\n                    kind={'icon'}\n                    disabled={getIsAdmin(document) || document.checked}\n                    onClick={() => onEdit(document)}>\n                    <Icon\n                      icon={'edit'}\n                      size={'xs'}\n                      stroke={'white'}\n                      fill={\n                        getIsAdmin(document) || document.checked\n                          ? 'var(--ghost-color-text)'\n                          : 'var(--default-color-accent)'\n                      }\n                    />\n                  </Button>\n                </Tooltip>\n              )}\n              {onDelete && (\n                <Tooltip text={'Удаление'} place={'left'}>\n                  <Button\n                    size={'xs'}\n                    kind={'icon'}\n                    appearance={'red'}\n                    disabled={getIsAdmin(document) || document.checked}\n                    onClick={() => onDelete(document)}>\n                    <Icon\n                      icon={'delete'}\n                      size={'xs'}\n                      stroke={'white'}\n                      fill={\n                        getIsAdmin(document) || document.checked\n                          ? 'var(--ghost-color-text)'\n                          : 'var(--default-color-red)'\n                      }\n                    />\n                  </Button>\n                </Tooltip>\n              )}\n            </Actions>\n          )}\n        </Track>\n      ))}\n    </Wrap>\n  )\n}\n\nTable.defaultProps = {\n  appearance: 'default'\n}\n\nexport default Table\n"]},"metadata":{},"sourceType":"module"}