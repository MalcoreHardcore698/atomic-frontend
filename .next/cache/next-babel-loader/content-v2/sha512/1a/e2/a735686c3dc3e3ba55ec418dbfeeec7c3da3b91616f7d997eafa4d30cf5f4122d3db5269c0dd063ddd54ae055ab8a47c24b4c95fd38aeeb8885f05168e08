{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject28() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  grid-gap: 10px;\\n\"]);\n\n  _templateObject28 = function _templateObject28() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject27() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n  font-size: var(--font-size-s);\\n  color: var(--default-color-text);\\n\"]);\n\n  _templateObject27 = function _templateObject27() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject26() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n  font-size: var(--font-size-s);\\n  color: var(--default-color-text);\\n\"]);\n\n  _templateObject26 = function _templateObject26() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject25() {\n  var data = _taggedTemplateLiteral([\"\\n      right: 0;\\n      font-size: var(--font-size-s);\\n      color: var(--default-color-text);\\n    \"]);\n\n  _templateObject25 = function _templateObject25() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject24() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  right: 10px;\\n  bottom: 5px;\\n  font-size: var(--font-size-xs);\\n\\n  \", \"\\n\"]);\n\n  _templateObject24 = function _templateObject24() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject23() {\n  var data = _taggedTemplateLiteral([\"\\n      right: -12px;\\n      background-image: url('\", \"');\\n      transform: scaleX(-1);\\n    \"]);\n\n  _templateObject23 = function _templateObject23() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject22() {\n  var data = _taggedTemplateLiteral([\"\\n      left: -12px;\\n      background-image: url('\", \"');\\n    \"]);\n\n  _templateObject22 = function _templateObject22() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject21() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: -6px;\\n  background-size: contain;\\n  background-repeat: no-repeat;\\n  width: 25px;\\n  height: 20px;\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject21 = function _templateObject21() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\"\\n      margin-top: 10px;\\n    \"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"\\n  color: inherit;\\n\\n  \", \"\\n\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"\\n      height: \", \"px;\\n    \"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n  height: 128px;\\n\\n  \", \"\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n      cursor: pointer;\\n\\n      &:hover {\\n        opacity: 0.65;\\n      }\\n    \"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n      display: flex;\\n      align-items: center;\\n      grid-gap: 10px;\\n    \"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n  color: inherit;\\n  transition: opacity 150ms ease;\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n      padding: 0 0 25px 0;\\n      background: none;\\n      color: black;\\n      width: 100%;\\n    \"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n      justify-self: end;\\n      background: var(--default-color-accent);\\n      color: white;\\n    \"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n      background: var(--ghost-color-background);\\n      color: var(--ghost-color-text);\\n    \"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  padding: 10px var(--default-gap) 25px var(--default-gap);\\n  border-radius: var(--surface-border-radius);\\n  color: white;\\n  width: fit-content;\\n  grid-area: opinion;\\n\\n  \", \"\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n      cursor: pointer;\\n\\n      &:hover {\\n        opacity: 0.65;\\n      }\\n    \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n      justify-self: end;\\n    \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  grid-area: avatar;\\n  align-self: end;\\n  transition: opacity 150ms ease;\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: var(--input-height-xs);\\n  height: var(--input-height-xs);\\n  min-width: var(--input-height-xs);\\n  min-height: var(--input-height-xs);\\n  border-radius: var(--surface-border-radius);\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      opacity: 0.45;\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      display: flex;\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      grid-template-columns: 1fr 64px;\\n      grid-template-areas: 'opinion avatar';\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 64px 1fr;\\n  grid-template-areas: 'avatar opinion';\\n  margin: 0;\\n  transition: opacity 150ms ease;\\n\\n  \", \"\\n\\n  \", \"\\n    \\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 5px;\\n  font-size: var(--font-size-xs);\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../Row';\nimport Avatar from '../Avatar';\nimport Title from '../Title';\nimport Text from '../Text';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Tooltip from '../Tooltip';\nimport DateText from '../DateText';\nimport Checkbox from '../Checkbox';\nimport TextArea from '../TextArea';\nexport var dispatchDateStyles = css(_templateObject());\nexport var Wrap = styled.div(_templateObject2(), function (_ref) {\n  var side = _ref.side;\n  return side === 'owner' && css(_templateObject3());\n}, function (_ref2) {\n  var compact = _ref2.compact;\n  return compact && css(_templateObject4());\n}, function (_ref3) {\n  var checked = _ref3.checked;\n  return checked && css(_templateObject5());\n});\nexport var MiniAvatar = styled(Avatar)(_templateObject6());\nexport var OpinionAvatar = styled(Avatar)(_templateObject7(), function (_ref4) {\n  var side = _ref4.side;\n  return side === 'owner' && css(_templateObject8());\n}, function (_ref5) {\n  var onClick = _ref5.onClick;\n  return onClick && css(_templateObject9());\n});\nexport var Opinion = styled.div(_templateObject10(), function (_ref6) {\n  var side = _ref6.side;\n  return side === 'observer' && css(_templateObject11());\n}, function (_ref7) {\n  var side = _ref7.side;\n  return side === 'owner' && css(_templateObject12());\n}, function (_ref8) {\n  var compact = _ref8.compact;\n  return compact && css(_templateObject13());\n});\nexport var OpinionName = styled(Title)(_templateObject14(), function (_ref9) {\n  var compact = _ref9.compact;\n  return compact && css(_templateObject15());\n}, function (_ref10) {\n  var onClick = _ref10.onClick;\n  return onClick && css(_templateObject16());\n});\nexport var OpinionTextArea = styled(TextArea)(_templateObject17(), function (_ref11) {\n  var height = _ref11.height;\n  return height && css(_templateObject18(), height);\n});\nexport var OpinionText = styled(Text)(_templateObject19(), function (_ref12) {\n  var compact = _ref12.compact;\n  return compact && css(_templateObject20());\n});\nexport var OpinionTail = styled.span(_templateObject21(), function (_ref13) {\n  var side = _ref13.side,\n      tails = _ref13.tails;\n  return side === 'observer' && css(_templateObject22(), tails.default);\n}, function (_ref14) {\n  var side = _ref14.side,\n      tails = _ref14.tails;\n  return side === 'owner' && css(_templateObject23(), tails.owner);\n});\nexport var DispatchTime = styled(DateText)(_templateObject24(), function (_ref15) {\n  var compact = _ref15.compact;\n  return compact && css(_templateObject25());\n});\nexport var DispatchDate = styled(DateText)(_templateObject26(), dispatchDateStyles);\nexport var DispatchUpdatedDate = styled.div(_templateObject27(), dispatchDateStyles);\nexport var Actions = styled(Row)(_templateObject28());\nexport var Message = function Message(_ref16) {\n  var avatar = _ref16.avatar,\n      side = _ref16.side,\n      name = _ref16.name,\n      text = _ref16.text,\n      time = _ref16.time,\n      tails = _ref16.tails,\n      style = _ref16.style,\n      compact = _ref16.compact,\n      className = _ref16.className,\n      isUpdated = _ref16.isUpdated,\n      isChecked = _ref16.isChecked,\n      onEdit = _ref16.onEdit,\n      onChecked = _ref16.onChecked,\n      onDelete = _ref16.onDelete,\n      onLink = _ref16.onLink;\n\n  var _useState = useState(isUpdated ? time : null),\n      updatedAt = _useState[0],\n      setUpdatedAt = _useState[1];\n\n  var _useState2 = useState(isChecked),\n      checked = _useState2[0],\n      setChecked = _useState2[1];\n\n  var _useState3 = useState(false),\n      isEdit = _useState3[0],\n      setEdit = _useState3[1];\n\n  var _useState4 = useState(text),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var textRef = useRef(null);\n\n  var handleToggleEdit = function handleToggleEdit() {\n    return setEdit(function (prev) {\n      return !prev;\n    });\n  };\n\n  var handleChecked = function handleChecked(e) {\n    var value = e.target.checked;\n    if (onChecked) onChecked(value);\n    setChecked(value);\n  };\n\n  var handleApplyChanges = function handleApplyChanges() {\n    var _textRef$current;\n\n    var value = textRef === null || textRef === void 0 ? void 0 : (_textRef$current = textRef.current) === null || _textRef$current === void 0 ? void 0 : _textRef$current.value;\n\n    if (value) {\n      if (onEdit) onEdit(value);\n      setUpdatedAt(new Date());\n      setMessage(value);\n    }\n\n    handleToggleEdit();\n  };\n\n  return __jsx(Wrap, {\n    side: side,\n    compact: compact,\n    checked: checked,\n    style: style,\n    className: className\n  }, !compact && __jsx(OpinionAvatar, {\n    side: side,\n    src: avatar,\n    onClick: onLink\n  }), __jsx(Opinion, {\n    side: side,\n    compact: compact\n  }, __jsx(OpinionName, {\n    tag: 'h5',\n    compact: compact,\n    onClick: onLink\n  }, compact && __jsx(MiniAvatar, {\n    side: side,\n    src: avatar,\n    onClick: onLink\n  }), name), !compact && __jsx(OpinionTail, {\n    side: side,\n    tails: tails\n  }), isEdit ? __jsx(OpinionTextArea, {\n    ref: textRef,\n    defaultValue: message,\n    appearance: 'ghost'\n  }) : __jsx(OpinionText, {\n    compact: compact\n  }, message), __jsx(DispatchTime, {\n    text: updatedAt || time,\n    compact: compact\n  }), compact && updatedAt && __jsx(DispatchUpdatedDate, null, \"\\u041E\\u0442\\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E\", ' ', new Date(updatedAt).toLocaleString('ru-RU', {\n    day: 'numeric',\n    month: 'long',\n    year: 'numeric'\n  })), compact && !updatedAt && __jsx(DispatchDate, {\n    text: time,\n    options: {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric'\n    }\n  }), compact && onEdit && onDelete && __jsx(Actions, null, !isEdit ? __jsx(React.Fragment, null, __jsx(Tooltip, {\n    text: 'Удалить сообщение'\n  }, __jsx(Button, {\n    kind: 'icon',\n    size: 'xs',\n    disabled: checked,\n    appearance: 'red',\n    onClick: onDelete\n  }, __jsx(Icon, {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), __jsx(Tooltip, {\n    text: 'Редактировать сообщение'\n  }, __jsx(Button, {\n    kind: 'icon',\n    size: 'xs',\n    disabled: checked,\n    onClick: handleToggleEdit\n  }, __jsx(Icon, {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), __jsx(Tooltip, {\n    text: 'Отметить сообщение',\n    self: true\n  }, __jsx(Checkbox, {\n    checked: checked,\n    onChange: handleChecked\n  }))) : __jsx(React.Fragment, null, __jsx(Tooltip, {\n    text: 'Применить изменения',\n    self: true\n  }, __jsx(Button, {\n    kind: 'icon',\n    size: 'xs',\n    disabled: checked,\n    appearance: 'green',\n    onClick: handleApplyChanges\n  }, __jsx(Icon, {\n    icon: 'check',\n    size: 'xs',\n    stroke: 'white'\n  }))), __jsx(Tooltip, {\n    text: 'Отменить изменения',\n    self: true\n  }, __jsx(Button, {\n    kind: 'icon',\n    size: 'xs',\n    disabled: checked,\n    appearance: 'red',\n    onClick: handleToggleEdit\n  }, __jsx(Icon, {\n    icon: 'closeSquare',\n    size: 'xs',\n    stroke: 'white'\n  })))))));\n};\nMessage.defaultProps = {\n  side: 'observer',\n  text: 'Some Message',\n  time: '15:00'\n};\nexport default Message;","map":null,"metadata":{},"sourceType":"module"}