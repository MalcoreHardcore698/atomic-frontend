{"ast":null,"code":"import _slicedToArray from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: calc(var(--input-height-m) + 10px);\\n  left: 0;\\n  z-index: 15;\\n  padding: var(--default-gap);\\n  background: var(--surface-background);\\n  border: var(--surface-border);\\n  border-radius: var(--surface-border-radius);\\n  box-shadow: var(--default-shadow);\\n\\n  &.fade-enter {\\n    opacity: 0;\\n  }\\n\\n  &.fade-enter-active {\\n    opacity: 1;\\n    transition: opacity 100ms, blur 100ms;\\n  }\\n\\n  &.fade-exit {\\n    opacity: 1;\\n  }\\n\\n  &.fade-exit-active {\\n    opacity: 0;\\n    transition: opacity 100ms, blur 100ms;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  flex-grow: 1;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  flex-grow: 1;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { getDateLabel, parseDate } from '../../assets/scripts/date';\nimport useClickOutside from '../../hooks/useClickOutside';\nimport Transition from '../Transition';\nimport DateSheet from '../DateSheet';\nimport Input from '../Input';\nimport Icon from '../Icon';\nvar DURATION = 100;\nexport var Wrap = styled.div(_templateObject());\nexport var TextField = styled.div(_templateObject2());\nexport var Popout = styled(Transition)(_templateObject3());\nexport var DateIcon = styled(Icon)(_templateObject4());\nexport var DatePicker = function DatePicker(_ref) {\n  var id = _ref.id,\n      name = _ref.name,\n      style = _ref.style,\n      sheets = _ref.sheets,\n      inputRef = _ref.inputRef,\n      placeholder = _ref.placeholder,\n      _ref$value = _ref.value,\n      value = _ref$value === void 0 ? null : _ref$value,\n      className = _ref.className,\n      appearance = _ref.appearance,\n      canEditYear = _ref.canEditYear,\n      withNavigate = _ref.withNavigate,\n      withMarkers = _ref.withMarkers,\n      withYearDisplay = _ref.withYearDisplay,\n      onChange = _ref.onChange,\n      onCompare = _ref.onCompare;\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useState2 = useState(parseDate(value)),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var _useClickOutside = useClickOutside(function () {\n    return setIsOpen(false);\n  }),\n      _useClickOutside2 = _slicedToArray(_useClickOutside, 1),\n      label = _useClickOutside2[0];\n\n  var handleChange = function handleChange(newVal) {\n    setSelected(newVal);\n    if (onChange) onChange(newVal);\n  };\n\n  var handleInputClick = function handleInputClick() {\n    setIsOpen(!isOpen);\n  };\n\n  return __jsx(Wrap, {\n    ref: label,\n    className: className,\n    style: style\n  }, __jsx(TextField, {\n    onClick: handleInputClick,\n    className: className,\n    style: style\n  }, __jsx(Input, {\n    id: id,\n    name: name,\n    type: 'text',\n    inputRef: inputRef !== null && inputRef !== void 0 ? inputRef : null,\n    defaultValue: getDateLabel(selected),\n    placeholder: placeholder || 'Выберите дату',\n    appearance: appearance,\n    readOnly: true\n  }), __jsx(DateIcon, {\n    icon: 'calendar',\n    stroke: 'var(--ghost-color-text)'\n  })), __jsx(Popout, {\n    in: isOpen,\n    animation: 'fade',\n    timeout: DURATION\n  }, __jsx(DateSheet, {\n    value: selected,\n    sheets: sheets,\n    style: {\n      width: 282\n    },\n    canEditYear: canEditYear,\n    withNavigate: withNavigate,\n    withMarkers: withMarkers,\n    withYearDisplay: withYearDisplay,\n    onChange: handleChange,\n    onCompare: onCompare\n  })));\n};\nexport default DatePicker;","map":null,"metadata":{},"sourceType":"module"}