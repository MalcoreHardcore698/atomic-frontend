{"ast":null,"code":"import _extends from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  width: 100%;\\n\\n  @media only screen and (max-width: 480px) {\\n    font-size: var(--font-size-l);\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  left: 10px;\\n  height: 100%;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  border-bottom: var(--default-border);\\n  padding: var(--default-gap);\\n  line-height: 1;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      top: 5%;\\n      min-width: 65%;\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  top: 15%;\\n  left: 0;\\n  right: 0;\\n  z-index: var(--z-101);\\n\\n  min-width: 480px;\\n  max-width: 80%;\\n  width: min-content;\\n\\n  margin-block-end: 150px;\\n  background: var(--surface-background);\\n  border: var(--surface-border);\\n  border-radius: var(--surface-border-radius);\\n  box-shadow: var(--surface-shadow);\\n\\n  &.swing-enter {\\n    opacity: 0;\\n    transform: scale(0.9);\\n  }\\n\\n  &.swing-enter-active {\\n    opacity: 1;\\n    transform: translateX(0);\\n    transition: opacity 100ms, transform 100ms;\\n  }\\n\\n  &.swing-exit {\\n    opacity: 1;\\n  }\\n\\n  &.swing-exit-active {\\n    opacity: 0;\\n    transform: scale(0.9);\\n    transition: opacity 100ms, transform 100ms;\\n  }\\n\\n  \", \"\\n\\n  @media only screen and (max-width: 768px) {\\n    min-width: 320px;\\n  }\\n\\n  @media only screen and (max-width: 480px) {\\n    min-width: 285px;\\n    max-width: 100%;\\n    width: auto;\\n    margin: 0 var(--default-gap);\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: var(--z-100);\\n  background: var(--default-color-overlay);\\n  cursor: pointer;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: flex-start;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: var(--z-override);\\n  overflow: auto;\\n\\n  &.fade-enter {\\n    opacity: 0;\\n  }\\n\\n  &.fade-enter-active {\\n    opacity: 1;\\n    transition: opacity 100ms, blur 100ms;\\n  }\\n\\n  &.fade-exit {\\n    opacity: 1;\\n  }\\n\\n  &.fade-exit-active {\\n    opacity: 0;\\n    transition: opacity 100ms, blur 100ms;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Transition from '../Transition';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Title from '../Title';\nvar DURATION = 100;\nexport function getPath(navigator) {\n  if (!navigator || navigator.length === 0) return null;\n  return navigator[navigator.length - 1];\n}\nexport var Wrap = styled.div(_templateObject());\nexport var Overlay = styled.div(_templateObject2());\nexport var Content = styled.div(_templateObject3(), function (_ref) {\n  var size = _ref.size;\n  return size === 'l' && css(_templateObject4());\n});\nexport var Headline = styled.div(_templateObject5());\nexport var BackButton = styled(Button)(_templateObject6());\nexport var StyledTitle = styled(Title)(_templateObject7());\nexport var Switch = function Switch(props) {\n  var Childrens = props.children;\n  if (!Childrens) return null;\n  var path = props.path;\n  var Child = null;\n\n  var _iterator = _createForOfIteratorHelper(Childrens),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var child = _step.value;\n\n      if (path === child.props.path) {\n        Child = child;\n        break;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return Child;\n};\nexport var Route = function Route(_ref2) {\n  var component = _ref2.component,\n      close = _ref2.close,\n      back = _ref2.back,\n      jump = _ref2.jump;\n  var Compoent = component;\n  return __jsx(Compoent, {\n    close: close,\n    back: back,\n    jump: jump\n  });\n};\nexport var Modal = function Modal(_ref3) {\n  var size = _ref3.size,\n      routes = _ref3.routes,\n      closeByBackground = _ref3.closeByBackground,\n      onHide = _ref3.onHide;\n\n  var _useState = useState(['/']),\n      navigator = _useState[0],\n      setNavigator = _useState[1];\n\n  var _useState2 = useState(false),\n      content = _useState2[0],\n      setContent = _useState2[1];\n\n  var _useState3 = useState(null),\n      animation = _useState3[0],\n      setAnimation = _useState3[1];\n\n  var transitions = {\n    fade: {\n      in: routes ? true : false,\n      animation: 'fade',\n      onEnter: function onEnter() {\n        return setContent(true);\n      },\n      onExited: function onExited() {\n        return setContent(false);\n      },\n      timeout: DURATION\n    },\n    swing: {\n      in: content,\n      animation: 'swing',\n      timeout: DURATION\n    }\n  };\n\n  var getTitle = function getTitle() {\n    var _routes$find;\n\n    function compare(route) {\n      return route.path === getPath(navigator);\n    }\n\n    var title = routes === null || routes === void 0 ? void 0 : (_routes$find = routes.find(function (route) {\n      return compare(route);\n    })) === null || _routes$find === void 0 ? void 0 : _routes$find.title;\n    return title || '';\n  };\n\n  var getRoute = function getRoute() {\n    var defaultState = {\n      back: true\n    };\n    var current = navigator[navigator.length - 1];\n    var candidate = routes.find(function (route) {\n      return route.path === current;\n    });\n\n    if (candidate) {\n      var _candidate$back;\n\n      return (_candidate$back = candidate === null || candidate === void 0 ? void 0 : candidate.back) !== null && _candidate$back !== void 0 ? _candidate$back : defaultState;\n    }\n\n    return defaultState;\n  };\n\n  var handleBack = function handleBack() {\n    setAnimation('slideOutRight');\n    setTimeout(function () {\n      setNavigator(_toConsumableArray(navigator.filter(function (e, i) {\n        return i !== navigator.length - 1;\n      })));\n      setAnimation('slideInLeft');\n    }, DURATION);\n  };\n\n  var handleJump = function handleJump(path) {\n    setAnimation('slideOutLeft');\n    setTimeout(function () {\n      setNavigator([].concat(_toConsumableArray(navigator), [path]));\n      setAnimation('slideInRight');\n    }, DURATION);\n  };\n\n  var handleClose = function handleClose() {\n    setContent(false);\n    setAnimation(null);\n    setTimeout(function () {\n      setNavigator(['/']);\n      onHide();\n    }, DURATION);\n  };\n\n  useEffect(function () {\n    if (routes && routes.length > 0) {\n      var route = routes.find(function (route) {\n        return route.home;\n      });\n      setNavigator([(route === null || route === void 0 ? void 0 : route.path) || '/']);\n    }\n  }, [routes]);\n  return __jsx(Transition, transitions.fade, __jsx(Wrap, null, __jsx(Overlay, {\n    className: !closeByBackground ? 'clear' : '',\n    onClick: closeByBackground ? handleClose : function () {}\n  }), __jsx(Transition, transitions.swing, __jsx(Content, {\n    className: \"animate\".concat(animation ? \" \".concat(animation) : ''),\n    size: size\n  }, getTitle() && __jsx(Headline, null, navigator.length > 1 && getRoute().back && __jsx(BackButton, {\n    onClick: handleBack,\n    appearance: 'clear'\n  }, __jsx(Icon, {\n    icon: 'arrowLeft'\n  })), __jsx(StyledTitle, {\n    tag: 'h3'\n  }, getTitle())), __jsx(Switch, {\n    path: getPath(navigator)\n  }, (routes || []).map(function (props, key) {\n    return __jsx(Route, _extends({\n      key: key\n    }, props, {\n      close: handleClose,\n      back: handleBack,\n      jump: handleJump\n    }));\n  }))))));\n};\nModal.defaultProps = {\n  title: 'Modal Title',\n  routes: [],\n  onHide: function onHide() {},\n  closeByBackground: true\n};\nexport default Modal;","map":null,"metadata":{},"sourceType":"module"}