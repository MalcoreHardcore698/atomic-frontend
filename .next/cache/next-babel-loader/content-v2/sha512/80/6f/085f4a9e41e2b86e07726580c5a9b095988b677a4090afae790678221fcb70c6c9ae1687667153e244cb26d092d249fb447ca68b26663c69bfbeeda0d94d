{"ast":null,"code":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useCallback } from 'react';\nimport styled from 'styled-components';\nimport Column from '../../atomic-ui/components/Column';\nimport Search from '../../atomic-ui/components/Search';\nimport Title from '../../atomic-ui/components/Title';\nimport ProjectCard, { Poster, Media } from '../../components/ProjectCard';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"Scaffold__Wrap\",\n  componentId: \"sc-11xb1f4-0\"\n})([\"position:relative;align-items:center;width:100%;padding:45px var(--main-offset-l);&::before{content:'';position:absolute;top:0;left:0;z-index:var(--z-11);width:100%;height:100%;background:rgba(0,0,0,0.15);}@media only screen and (max-width:996px){padding:45px var(--main-offset-m);}@media only screen and (max-width:768px){padding:45px var(--main-offset-s);}@media only screen and (max-width:480px){padding:45px var(--main-offset-xs);}\"]);\nexport const Background = styled.img.withConfig({\n  displayName: \"Scaffold__Background\",\n  componentId: \"sc-11xb1f4-1\"\n})([\"position:absolute;top:0;left:0;z-index:var(--z-10);width:100%;height:100%;object-fit:cover;\"]);\nexport const Header = styled(Column).withConfig({\n  displayName: \"Scaffold__Header\",\n  componentId: \"sc-11xb1f4-2\"\n})([\"padding:0 var(--main-offset-l);margin-bottom:30px;@media only screen and (max-width:996px){padding:0 var(--main-offset-m);}@media only screen and (max-width:768px){padding:0 var(--main-offset-s);}@media only screen and (max-width:480px){padding:0 var(--main-offset-xs);}\"]);\nexport const Container = styled(Column).withConfig({\n  displayName: \"Scaffold__Container\",\n  componentId: \"sc-11xb1f4-3\"\n})([\"position:relative;z-index:var(--z-12);justify-content:center;align-items:center;flex-grow:1;width:100%;height:100%;\"]);\nexport const MainTitle = styled(Title).withConfig({\n  displayName: \"Scaffold__MainTitle\",\n  componentId: \"sc-11xb1f4-4\"\n})([\"text-align:center;color:white;@media only screen and (max-width:768px){font-size:26px;line-height:1.25;margin-bottom:15px;}@media only screen and (max-width:768px){font-size:22px;}\"]);\nexport const Projects = styled.div.withConfig({\n  displayName: \"Scaffold__Projects\",\n  componentId: \"sc-11xb1f4-5\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(256px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:1280px){display:flex;flex-direction:column;}\"]);\nexport const PrimaryProject = styled(ProjectCard).withConfig({\n  displayName: \"Scaffold__PrimaryProject\",\n  componentId: \"sc-11xb1f4-6\"\n})([\"flex-grow:1;height:100%;flex-basis:50%;\", \"{height:256px;}@media only screen and (max-width:768px){\", \"{img{height:256px;flex-basis:auto;}}}\"], Poster, Media);\nexport const Residues = styled(Column).withConfig({\n  displayName: \"Scaffold__Residues\",\n  componentId: \"sc-11xb1f4-7\"\n})([\"flex-grow:1;@media only screen and (max-width:1280px){flex-direction:row;grid-gap:var(--default-gap);width:100%;}@media only screen and (max-width:768px){flex-direction:column;grid-gap:var(--default-gap);width:100%;}\"]);\nexport const Residue = styled(ProjectCard).withConfig({\n  displayName: \"Scaffold__Residue\",\n  componentId: \"sc-11xb1f4-8\"\n})([\"flex-grow:1;@media only screen and (max-width:1280px){width:100%;}\"]);\nexport const detectOwnedProject = (projects, project) => projects === null || projects === void 0 ? void 0 : projects.find(candidate => candidate.id === project.id);\nexport const Scaffold = ({\n  user,\n  title,\n  image,\n  background,\n  primary,\n  residues,\n  className,\n  style,\n  onLike,\n  onLink,\n  onAdd,\n  onSearch,\n  onAboutMore,\n  onCompanyLink,\n  onScreenshotClick\n}) => {\n  const getProjectProps = useCallback((project, layout) => {\n    var _user$folders;\n\n    return {\n      image,\n      project,\n      layout,\n      slicedFactor: 5,\n      owned: detectOwnedProject(user === null || user === void 0 ? void 0 : user.projects, project),\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => {\n        var _folder$projects;\n\n        return !!(folder !== null && folder !== void 0 && (_folder$projects = folder.projects) !== null && _folder$projects !== void 0 && _folder$projects.find(item => item === project.id));\n      })),\n      liked: !![...((project === null || project === void 0 ? void 0 : project.rating) || [])].find(item => item.email === user.email),\n      onLike: onLike && (() => onLike(project)),\n      onAdd: onAdd && (() => onAdd(project)),\n      onLink: () => onLink(project, detectOwnedProject(user === null || user === void 0 ? void 0 : user.projects, project)),\n      onAboutMore: () => onAboutMore(project),\n      onCompanyLink: () => onCompanyLink(project),\n      onScreenshotClick: (_, key) => onScreenshotClick(project, key)\n    };\n  }, [user, image, onLike, onAdd, onAboutMore, onCompanyLink, onScreenshotClick]);\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style\n  }, /*#__PURE__*/React.createElement(Background, {\n    src: background,\n    alt: 'Background'\n  }), /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(Header, null, title && /*#__PURE__*/React.createElement(MainTitle, null, title), /*#__PURE__*/React.createElement(Search, {\n    onSubmit: onSearch\n  })), (primary || residues && residues.length > 0) && /*#__PURE__*/React.createElement(Projects, null, primary && /*#__PURE__*/React.createElement(PrimaryProject, getProjectProps(primary, 'column')), residues && residues.length > 0 && /*#__PURE__*/React.createElement(Residues, null, residues.map((project, index) => /*#__PURE__*/React.createElement(Residue, _extends({\n    key: index\n  }, getProjectProps(project))))))));\n};\nexport default Scaffold;","map":null,"metadata":{},"sourceType":"module"}