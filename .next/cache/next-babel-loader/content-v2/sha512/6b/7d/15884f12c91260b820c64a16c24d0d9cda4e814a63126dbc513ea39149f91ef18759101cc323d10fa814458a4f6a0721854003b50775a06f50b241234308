{"ast":null,"code":"import _toConsumableArray from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  flex-direction: column;\\n  display: \", \";\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      color: var(--default-color-accent);\\n      border-color: var(--default-color-accent);\\n\\n      &:hover {\\n        color: var(--default-color-accent);\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: inline-flex;\\n  margin-right: 40px;\\n  padding-bottom: 12px;\\n  font-family: var(--default-font-family);\\n  font-weight: 500;\\n  font-size: 0.875rem;\\n  line-height: 1;\\n  color: rgba(0, 0, 0, 75%);\\n  border-bottom: 2px solid transparent;\\n  cursor: pointer;\\n  transition: color 0.2s;\\n\\n  &:last-child {\\n    margin-right: 0;\\n  }\\n\\n  &:hover {\\n    color: black;\\n  }\\n\\n  \", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  background: linear-gradient(to top, rgba(0, 0, 0, 15%) 1px, transparent 1px) 0 100% no-repeat;\\n  margin-bottom: 20px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Children, isValidElement, useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nexport var Container = styled.div(_templateObject());\nexport var TabList = styled.ul(_templateObject2());\nexport var TabListItem = styled.li(_templateObject3(), function (_ref) {\n  var isActive = _ref.isActive;\n  return isActive && css(_templateObject4());\n});\nexport var TabPanel = styled.div(_templateObject5(), function (_ref2) {\n  var isActive = _ref2.isActive;\n  return isActive ? 'flex' : 'none';\n});\nexport var getKey = function getKey(key) {\n  if (key === 'Right' || key === 'ArrowRight') {\n    return 'ArrowRight';\n  } else if (key === 'Left' || key === 'ArrowLeft') {\n    return 'ArrowLeft';\n  } else {\n    return key;\n  }\n};\nexport var direction = {\n  ArrowLeft: -1,\n  ArrowRight: 1\n};\nexport var Tab = function Tab(_ref3) {\n  var children = _ref3.children;\n  return __jsx(React.Fragment, null, children);\n};\nexport var Tabs = function Tabs(_ref4) {\n  var active = _ref4.active,\n      onActivate = _ref4.onActivate,\n      ariaLabel = _ref4.label,\n      children = _ref4.children,\n      props = _objectWithoutProperties(_ref4, [\"active\", \"onActivate\", \"label\", \"children\"]);\n\n  var _useState = useState(0),\n      activeTab = _useState[0],\n      setActiveTab = _useState[1];\n\n  var tabsCount = Children.count(children);\n\n  var tabs = _toConsumableArray(new Array(tabsCount)).map(function () {\n    return /*#__PURE__*/React.createRef();\n  });\n\n  var _useState2 = useState(false),\n      isFocus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var activateTab = function activateTab(index) {\n    var focus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (activeTab === index) return;\n    if (onActivate) onActivate(index);\n    setActiveTab(index);\n    setFocus(focus);\n  };\n\n  var activateFirstTab = function activateFirstTab() {\n    activateTab(0);\n  };\n\n  var activateLastTab = function activateLastTab() {\n    activateTab(tabs.length - 1);\n  };\n\n  var switchTab = function switchTab(index, e) {\n    var key = getKey(e.key);\n\n    if (tabs[index + direction[key]]) {\n      activateTab(index + direction[key]);\n    } else if (key === 'ArrowLeft') {\n      activateLastTab();\n    } else if (key === 'ArrowRight') {\n      activateFirstTab();\n    }\n  };\n\n  var handleClick = function handleClick(index) {\n    return function () {\n      activateTab(index);\n    };\n  };\n\n  var handleKeyDown = function handleKeyDown(index) {\n    return function (e) {\n      var key = getKey(e.key);\n\n      if (key === 'ArrowLeft' || key === 'ArrowRight') {\n        switchTab(index, e);\n      } else if (key === 'Home') {\n        e.preventDefault();\n        activateFirstTab();\n      } else if (key === 'End') {\n        e.preventDefault();\n        activateLastTab();\n      }\n    };\n  };\n\n  useEffect(function () {\n    if (active === undefined) return;\n\n    if (active !== activeTab) {\n      activateTab(active, false);\n    }\n  }, [active]);\n  useEffect(function () {\n    if (isFocus) {\n      tabs[activeTab].current.focus();\n      setFocus(false);\n    }\n  }, [isFocus]);\n  return __jsx(Container, props, __jsx(TabList, {\n    role: 'tablist',\n    \"aria-label\": ariaLabel\n  }, Children.map(children, function (child, index) {\n    var isActive = index === activeTab;\n\n    if ( /*#__PURE__*/isValidElement(child)) {\n      var _child$props = child.props,\n          label = _child$props.label,\n          count = _child$props.count;\n      return __jsx(TabListItem, {\n        ref: tabs[index],\n        key: \"tab-\".concat(v4()),\n        id: \"tab-\".concat(v4()),\n        role: \"tab\",\n        \"aria-controls\": \"panel-\".concat(v4()),\n        \"aria-selected\": isActive,\n        tabIndex: isActive ? 0 : undefined,\n        isActive: isActive,\n        onClick: handleClick(index),\n        onKeyDown: handleKeyDown(index)\n      }, label, count !== undefined && count > 0 && \" (\".concat(count, \")\"));\n    }\n\n    return null;\n  })), Children.map(children, function (child, index) {\n    var isActive = index === activeTab;\n\n    if ( /*#__PURE__*/isValidElement(child)) {\n      return __jsx(TabPanel, {\n        key: \"tabpanel-\".concat(v4()),\n        id: \"tabpanel-\".concat(v4()),\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"tab-\".concat(v4()),\n        isActive: isActive\n      }, child);\n    }\n\n    return null;\n  }));\n};\nexport default Tabs;","map":null,"metadata":{},"sourceType":"module"}