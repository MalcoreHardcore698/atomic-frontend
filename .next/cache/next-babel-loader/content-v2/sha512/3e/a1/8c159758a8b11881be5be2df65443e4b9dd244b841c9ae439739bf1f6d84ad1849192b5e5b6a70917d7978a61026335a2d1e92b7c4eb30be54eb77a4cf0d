{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\dan82\\\\Documents\\\\workspace\\\\FREELANCE\\\\atomic\\\\atomic-frontend\\\\atomic-ui\\\\components\\\\Table\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid var(--surface-border);\\n  background: var(--surface-background);\\n  box-shadow: var(--surface-shadow);\\n  border-radius: var(--surface-border-radius);\\n  padding: 10px;\\n  grid-gap: 10px;\\n\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\n  align-items: center;\\n  flex-grow: 1;\\n\\n  width: \", \";\\n  overflow: hidden;\\n\\n  & > div {\\n    width: 100%;\\n  }\\n\\n  h4 {\\n    font-size: var(--font-size-m);\\n    font-weight: var(--font-weight-bold);\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n  }\\n\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n      padding: 0;\\n    \"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px;\\n  width: var(--input-height-m);\\n  grid-gap: 5px;\\n\\n  button {\\n    width: 100%;\\n    flex-grow: 1;\\n  }\\n\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\n      cursor: pointer;\\n    \"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\\n  \", \"\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n      border: none;\\n      background: none;\\n      box-shadow: none;\\n      border-radius: 0;\\n    \"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n      border: 1px solid var(--surface-border);\\n      background: var(--surface-background);\\n      box-shadow: 1px solid var(--surface-shadow);\\n      border-radius: var(--surface-border-radius);\\n    \"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 5px 15px;\\n  width: calc(100% - 55px);\\n\\n  \", \"\\n\\n  \", \"\\n\\n  & > label {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: calc(var(--input-height-m) - 15px);\\n    margin-left: 5px;\\n\\n    & > span {\\n      margin: 0;\\n    }\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      span:first-child {\\n        width: calc(\", \" + 45px);\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      span {\\n        width: \", \";\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \"\\n\\n  \", \"\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nimport Row from '../Row';\nimport Column from '../Column';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Switch from '../Switch';\nimport Difinition from '../Difinition';\nimport Checkbox from '../Checkbox';\nimport Tooltip from '../Tooltip';\nimport Popper from '../Popper';\nexport var Wrap = styled(Column)(_templateObject());\n_c = Wrap;\nexport var Manage = styled(Row)(_templateObject2());\n_c2 = Manage;\nexport var Headers = styled(Switch)(_templateObject3(), function (_ref) {\n  var width = _ref.width;\n  return width && css(_templateObject4(), width);\n}, function (_ref2) {\n  var first = _ref2.first,\n      width = _ref2.width;\n  return first && width && css(_templateObject5(), width);\n});\n_c3 = Headers;\nexport var Track = styled(Row)(_templateObject6());\n_c4 = Track;\nexport var Content = styled(Row)(_templateObject7(), function (_ref3) {\n  var appearance = _ref3.appearance;\n  return appearance === 'default' && css(_templateObject8());\n}, function (_ref4) {\n  var appearance = _ref4.appearance;\n  return appearance === 'clear' && css(_templateObject9());\n});\n_c5 = Content;\nexport var Container = styled(Row)(_templateObject10(), function (_ref5) {\n  var onClick = _ref5.onClick;\n  return onClick && css(_templateObject11());\n});\n_c6 = Container;\nexport var Actions = styled(Column)(_templateObject12(), function (_ref6) {\n  var appearance = _ref6.appearance;\n  return appearance === 'default' && css(_templateObject13());\n}, function (_ref7) {\n  var appearance = _ref7.appearance;\n  return appearance === 'clear' && css(_templateObject14());\n});\n_c7 = Actions;\nexport var Cell = styled(Difinition)(_templateObject15(), function (_ref8) {\n  var width = _ref8.width;\n  return width;\n});\nexport var HeaderList = styled(Column)(_templateObject16());\n_c8 = HeaderList;\nexport var CheckboxTooltip = styled(Tooltip)(_templateObject17());\n_c9 = CheckboxTooltip;\nexport var Table = function Table(_ref9) {\n  _s();\n\n  var data = _ref9.data,\n      template = _ref9.template,\n      className = _ref9.className,\n      style = _ref9.style,\n      appearance = _ref9.appearance,\n      _onClick = _ref9.onClick,\n      onChecked = _ref9.onChecked,\n      onDelete = _ref9.onDelete,\n      onEdit = _ref9.onEdit;\n  var defaultWidth = \"\".concat(Math.floor(100 / template.length), \"%\");\n\n  var _useState = useState((template || []).map(function (item) {\n    return {\n      value: v4(),\n      label: item.header,\n      width: item.width || defaultWidth,\n      tooltip: item.tooltip || \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430 \\u043F\\u043E \\xAB\".concat(item.header, \"\\u200E\\xBB\"),\n      visible: !item.hidden\n    };\n  })),\n      headers = _useState[0],\n      setHeaders = _useState[1];\n\n  var _useState2 = useState(headers[0] || null),\n      header = _useState2[0],\n      setHeader = _useState2[1];\n\n  return __jsx(Wrap, {\n    className: className,\n    style: style,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }\n  }, __jsx(Manage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }, __jsx(Headers, {\n    defaultValue: headers[0],\n    options: headers.filter(function (h) {\n      return h.visible;\n    }),\n    onChange: function onChange(item) {\n      return setHeader(item);\n    },\n    first: onChecked,\n    stretch: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }), __jsx(Popper, {\n    place: 'left',\n    offset: {\n      bottom: 80\n    },\n    body: __jsx(HeaderList, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, headers.map(function (header, index) {\n      return __jsx(Checkbox, {\n        key: index,\n        size: 's',\n        label: header.label,\n        checked: header.visible,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      });\n    })),\n    appearance: 'clear',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, __jsx(Tooltip, {\n    text: 'Отображение полей',\n    place: 'left',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    kind: 'icon',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    icon: 'show',\n    stroke: 'white',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }))))), data.map(function (item, index) {\n    return __jsx(Track, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }, __jsx(Content, {\n      appearance: appearance,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, __jsx(CheckboxTooltip, {\n      text: 'Отметить документ',\n      self: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, onChecked && __jsx(Checkbox, {\n      size: 's',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    })), __jsx(Container, {\n      onClick: function onClick() {\n        return _onClick(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, template.map(function (cell, index) {\n      return headers[index].visible ? /*#__PURE__*/React.cloneElement(cell.content(item), {\n        key: index,\n        label: cell.header,\n        width: (cell === null || cell === void 0 ? void 0 : cell.width) || defaultWidth\n      }) : null;\n    }))), (onEdit || onDelete) && __jsx(Actions, {\n      appearance: appearance,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, onEdit && __jsx(Tooltip, {\n      text: 'Редактирование',\n      place: 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      onClick: function onClick() {\n        return onEdit(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      icon: 'edit',\n      size: 'xs',\n      stroke: 'white',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }))), onDelete && __jsx(Tooltip, {\n      text: 'Удаление',\n      place: 'left',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, __jsx(Button, {\n      size: 'xs',\n      kind: 'icon',\n      appearance: 'red',\n      onClick: function onClick() {\n        return onDelete(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 19\n      }\n    }, __jsx(Icon, {\n      icon: 'delete',\n      size: 'xs',\n      stroke: 'white',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }\n    })))));\n  }));\n};\n\n_s(Table, \"dnAdlvWwQrNrOzHICPvs+0nCP8k=\");\n\n_c10 = Table;\nTable.defaultProps = {\n  appearance: 'default'\n};\nexport default Table;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Manage\");\n$RefreshReg$(_c3, \"Headers\");\n$RefreshReg$(_c4, \"Track\");\n$RefreshReg$(_c5, \"Content\");\n$RefreshReg$(_c6, \"Container\");\n$RefreshReg$(_c7, \"Actions\");\n$RefreshReg$(_c8, \"HeaderList\");\n$RefreshReg$(_c9, \"CheckboxTooltip\");\n$RefreshReg$(_c10, \"Table\");","map":{"version":3,"sources":["C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/atomic-ui/components/Table/index.js"],"names":["React","useState","styled","css","v4","Row","Column","Icon","Button","Switch","Difinition","Checkbox","Tooltip","Popper","Wrap","Manage","Headers","width","first","Track","Content","appearance","Container","onClick","Actions","Cell","HeaderList","CheckboxTooltip","Table","data","template","className","style","onChecked","onDelete","onEdit","defaultWidth","Math","floor","length","map","item","value","label","header","tooltip","visible","hidden","headers","setHeaders","setHeader","filter","h","bottom","index","cell","cloneElement","content","key","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport styled, { css } from 'styled-components'\nimport { v4 } from 'uuid'\n\nimport Row from '../Row'\nimport Column from '../Column'\nimport Icon from '../Icon'\nimport Button from '../Button'\nimport Switch from '../Switch'\nimport Difinition from '../Difinition'\nimport Checkbox from '../Checkbox'\nimport Tooltip from '../Tooltip'\nimport Popper from '../Popper'\n\nexport const Wrap = styled(Column)``\n\nexport const Manage = styled(Row)``\n\nexport const Headers = styled(Switch)`\n  ${({ width }) =>\n    width &&\n    css`\n      span {\n        width: ${width};\n      }\n    `}\n\n  ${({ first, width }) =>\n    first &&\n    width &&\n    css`\n      span:first-child {\n        width: calc(${width} + 45px);\n      }\n    `}\n`\n\nexport const Track = styled(Row)``\n\nexport const Content = styled(Row)`\n  padding: 5px 15px;\n  width: calc(100% - 55px);\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n    `}\n\n  & > label {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: calc(var(--input-height-m) - 15px);\n    margin-left: 5px;\n\n    & > span {\n      margin: 0;\n    }\n  }\n`\n\nexport const Container = styled(Row)`\n  width: 100%;\n\n  ${({ onClick }) =>\n    onClick &&\n    css`\n      cursor: pointer;\n    `}\n`\n\nexport const Actions = styled(Column)`\n  padding: 5px;\n  width: var(--input-height-m);\n  grid-gap: 5px;\n\n  button {\n    width: 100%;\n    flex-grow: 1;\n  }\n\n  ${({ appearance }) =>\n    appearance === 'default' &&\n    css`\n      border: 1px solid var(--surface-border);\n      background: var(--surface-background);\n      box-shadow: 1px solid var(--surface-shadow);\n      border-radius: var(--surface-border-radius);\n    `}\n\n  ${({ appearance }) =>\n    appearance === 'clear' &&\n    css`\n      border: none;\n      background: none;\n      box-shadow: none;\n      border-radius: 0;\n      padding: 0;\n    `}\n`\n\nexport const Cell = styled(Difinition)`\n  align-items: center;\n  flex-grow: 1;\n\n  width: ${({ width }) => width};\n  overflow: hidden;\n\n  & > div {\n    width: 100%;\n  }\n\n  h4 {\n    font-size: var(--font-size-m);\n    font-weight: var(--font-weight-bold);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`\n\nexport const HeaderList = styled(Column)`\n  border: 1px solid var(--surface-border);\n  background: var(--surface-background);\n  box-shadow: var(--surface-shadow);\n  border-radius: var(--surface-border-radius);\n  padding: 10px;\n  grid-gap: 10px;\n`\n\nexport const CheckboxTooltip = styled(Tooltip)`\n  display: flex;\n  align-items: center;\n`\n\nexport const Table = ({\n  data,\n  template,\n  className,\n  style,\n  appearance,\n  onClick,\n  onChecked,\n  onDelete,\n  onEdit\n}) => {\n  const defaultWidth = `${Math.floor(100 / template.length)}%`\n  const [headers, setHeaders] = useState(\n    (template || []).map((item) => ({\n      value: v4(),\n      label: item.header,\n      width: item.width || defaultWidth,\n      tooltip: item.tooltip || `Сортировка по «${item.header}‎»`,\n      visible: !item.hidden\n    }))\n  )\n  const [header, setHeader] = useState(headers[0] || null)\n\n  return (\n    <Wrap className={className} style={style}>\n      <Manage>\n        <Headers\n          defaultValue={headers[0]}\n          options={headers.filter((h) => h.visible)}\n          onChange={(item) => setHeader(item)}\n          first={onChecked}\n          stretch\n        />\n\n        <Popper\n          place={'left'}\n          offset={{ bottom: 80 }}\n          body={\n            <HeaderList>\n              {headers.map((header, index) => (\n                <Checkbox key={index} size={'s'} label={header.label} checked={header.visible} />\n              ))}\n            </HeaderList>\n          }\n          appearance={'clear'}>\n          <Tooltip text={'Отображение полей'} place={'left'}>\n            <Button kind={'icon'}>\n              <Icon icon={'show'} stroke={'white'} />\n            </Button>\n          </Tooltip>\n        </Popper>\n      </Manage>\n\n      {data.map((item, index) => (\n        <Track key={index}>\n          <Content appearance={appearance}>\n            <CheckboxTooltip text={'Отметить документ'} self>\n              {onChecked && <Checkbox size={'s'} />}\n            </CheckboxTooltip>\n            <Container onClick={() => onClick(item)}>\n              {template.map((cell, index) =>\n                headers[index].visible\n                  ? React.cloneElement(cell.content(item), {\n                      key: index,\n                      label: cell.header,\n                      width: cell?.width || defaultWidth\n                    })\n                  : null\n              )}\n            </Container>\n          </Content>\n\n          {(onEdit || onDelete) && (\n            <Actions appearance={appearance}>\n              {onEdit && (\n                <Tooltip text={'Редактирование'} place={'left'}>\n                  <Button size={'xs'} kind={'icon'} onClick={() => onEdit(item)}>\n                    <Icon icon={'edit'} size={'xs'} stroke={'white'} />\n                  </Button>\n                </Tooltip>\n              )}\n              {onDelete && (\n                <Tooltip text={'Удаление'} place={'left'}>\n                  <Button\n                    size={'xs'}\n                    kind={'icon'}\n                    appearance={'red'}\n                    onClick={() => onDelete(item)}>\n                    <Icon icon={'delete'} size={'xs'} stroke={'white'} />\n                  </Button>\n                </Tooltip>\n              )}\n            </Actions>\n          )}\n        </Track>\n      ))}\n    </Wrap>\n  )\n}\n\nTable.defaultProps = {\n  appearance: 'default'\n}\n\nexport default Table\n"]},"metadata":{},"sourceType":"module"}