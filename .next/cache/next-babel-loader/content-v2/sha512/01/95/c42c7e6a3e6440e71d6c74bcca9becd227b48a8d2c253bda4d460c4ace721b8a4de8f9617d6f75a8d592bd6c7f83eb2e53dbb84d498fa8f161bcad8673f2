{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Switch, { Track as SwitchTrack } from '../../atomic-ui/components/Switch';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport Checkbox from '../../atomic-ui/components/Checkbox';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Tooltip, { Wrap as WrapTooltip } from '../../atomic-ui/components/Tooltip';\nimport { setVisibleFilters } from '../../store/actions/root';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"HandleBar__Wrap\",\n  componentId: \"phr6ix-0\"\n})([\"\"]);\n_c = Wrap;\nexport const Header = styled(Row).withConfig({\n  displayName: \"HandleBar__Header\",\n  componentId: \"phr6ix-1\"\n})([\"justify-content:space-between;grid-gap:var(--default-gap);flex-wrap:wrap;\"]);\n_c2 = Header;\nexport const ActionGroup = styled(Row).withConfig({\n  displayName: \"HandleBar__ActionGroup\",\n  componentId: \"phr6ix-2\"\n})([\"justify-content:flex-end;@media only screen and (max-width:996px){width:100%;\", \"{width:auto;}}@media only screen and (max-width:480px){flex-wrap:wrap;grid-gap:var(--default-gap);\", \"{flex-direction:row;flex-grow:1;}\", \"{button{width:100%;height:100%;}}}\"], SwitchTrack, SwitchTrack, WrapTooltip);\n_c3 = ActionGroup;\nexport const CreateButton = styled(Button).withConfig({\n  displayName: \"HandleBar__CreateButton\",\n  componentId: \"phr6ix-3\"\n})([\"display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}@media only screen and (max-width:996px){width:100%;}\"]);\n_c4 = CreateButton;\nexport const Footer = styled(Row).withConfig({\n  displayName: \"HandleBar__Footer\",\n  componentId: \"phr6ix-4\"\n})([\"justify-content:space-between;@media only screen and (max-width:480px){flex-direction:column;align-items:end;grid-gap:var(--default-gap);}\"]);\n_c5 = Footer;\nexport const DeleteButton = styled(Button).withConfig({\n  displayName: \"HandleBar__DeleteButton\",\n  componentId: \"phr6ix-5\"\n})([\"color:var(--default-color-red);background:none;border:none;&:hover{background:none;border:none;color:var(--default-color-red);}\", \"\"], ({\n  disabled\n}) => disabled && css([\"color:var(--ghost-color-text);&:hover{color:var(--ghost-color-text);}\"]));\n_c6 = DeleteButton;\nexport const displayMethods = [{\n  label: /*#__PURE__*/React.createElement(Icon, {\n    icon: 'menu'\n  }),\n  value: 'list',\n  tooltip: 'Отображение списком'\n}, {\n  label: /*#__PURE__*/React.createElement(Icon, {\n    icon: 'category'\n  }),\n  value: 'grid',\n  tooltip: 'Отображение сеткой'\n}];\nexport const Handle = ({\n  icon,\n  title,\n  buttonCreateText,\n  buttonDeleteDisabled,\n  defaultDisplayMethod,\n  withoutFooter,\n  withFilters,\n  checked,\n  onCreate,\n  onChecked,\n  onDeleteAll,\n  onChangeDisplayMethod\n}) => {\n  _s();\n\n  const [isChecked, setChecked] = useState(checked);\n  const [displayMethod, setDisplayMethod] = useState(displayMethods.find(item => item.value === defaultDisplayMethod));\n  const visibleFilters = useSelector(state => state.root.visibleFilters);\n  const dispatch = useDispatch();\n\n  const onVisibleFilter = () => dispatch(setVisibleFilters(!visibleFilters));\n\n  const onDisplayMethod = item => {\n    setDisplayMethod(item);\n    if (onChangeDisplayMethod) onChangeDisplayMethod(item);\n  };\n\n  const onChangeChecked = e => {\n    const value = e.target.checked;\n    setChecked(value);\n    if (onChecked) onChecked(value);\n  };\n\n  useEffect(() => {\n    setChecked(checked);\n  }, [checked]);\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Difinition, {\n    icon: icon,\n    text: title\n  }), /*#__PURE__*/React.createElement(ActionGroup, null, onCreate && /*#__PURE__*/React.createElement(CreateButton, {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/React.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/React.createElement(Icon, {\n    icon: 'add',\n    stroke: 'white'\n  })), withFilters && /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Отображение фильтров'\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onVisibleFilter,\n    revert: !visibleFilters\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'filter2',\n    stroke: !visibleFilters ? 'var(--default-color-accent)' : 'white'\n  }))), /*#__PURE__*/React.createElement(Switch, {\n    defaultValue: displayMethod || displayMethods[1],\n    options: displayMethods,\n    onChange: item => onDisplayMethod(item)\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), !withoutFooter && /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Checkbox, {\n    label: 'Выделить все',\n    checked: isChecked,\n    onChange: onChangeChecked\n  }), /*#__PURE__*/React.createElement(DeleteButton, {\n    appearance: 'clear',\n    disabled: buttonDeleteDisabled,\n    onClick: onDeleteAll\n  }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0432\\u044B\\u0434\\u0435\\u043B\\u0435\\u043D\\u043D\\u043E\\u0435\")));\n};\n\n_s(Handle, \"IQwawrv9P9kcN/bT+3RcV/XBGBg=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c7 = Handle;\nHandle.defaultProps = {\n  buttonCreateText: 'Добавить',\n  buttonDeleteDisabled: true\n};\nexport default Handle;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Wrap\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"ActionGroup\");\n$RefreshReg$(_c4, \"CreateButton\");\n$RefreshReg$(_c5, \"Footer\");\n$RefreshReg$(_c6, \"DeleteButton\");\n$RefreshReg$(_c7, \"Handle\");","map":{"version":3,"sources":["D:/Documents/Workspace/FREELANCE/atomic/atomic-frontend/components/HandleBar/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","styled","css","Row","Column","Button","Icon","Switch","Track","SwitchTrack","Difinition","Checkbox","Divider","Tooltip","Wrap","WrapTooltip","setVisibleFilters","Header","ActionGroup","CreateButton","Footer","DeleteButton","disabled","displayMethods","label","value","tooltip","Handle","icon","title","buttonCreateText","buttonDeleteDisabled","defaultDisplayMethod","withoutFooter","withFilters","checked","onCreate","onChecked","onDeleteAll","onChangeDisplayMethod","isChecked","setChecked","displayMethod","setDisplayMethod","find","item","visibleFilters","state","root","dispatch","onVisibleFilter","onDisplayMethod","onChangeChecked","e","target","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport styled, { css } from 'styled-components'\n\nimport Row from '../../atomic-ui/components/Row'\nimport Column from '../../atomic-ui/components/Column'\nimport Button from '../../atomic-ui/components/Button'\nimport Icon from '../../atomic-ui/components/Icon'\nimport Switch, { Track as SwitchTrack } from '../../atomic-ui/components/Switch'\nimport Difinition from '../../atomic-ui/components/Difinition'\nimport Checkbox from '../../atomic-ui/components/Checkbox'\nimport Divider from '../../atomic-ui/components/Divider'\nimport Tooltip, { Wrap as WrapTooltip } from '../../atomic-ui/components/Tooltip'\n\nimport { setVisibleFilters } from '../../store/actions/root'\n\nexport const Wrap = styled(Column)``\n\nexport const Header = styled(Row)`\n  justify-content: space-between;\n  grid-gap: var(--default-gap);\n  flex-wrap: wrap;\n`\n\nexport const ActionGroup = styled(Row)`\n  justify-content: flex-end;\n\n  @media only screen and (max-width: 996px) {\n    width: 100%;\n\n    ${SwitchTrack} {\n      width: auto;\n    }\n  }\n\n  @media only screen and (max-width: 480px) {\n    flex-wrap: wrap;\n    grid-gap: var(--default-gap);\n\n    ${SwitchTrack} {\n      flex-direction: row;\n      flex-grow: 1;\n    }\n\n    ${WrapTooltip} {\n      button {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n`\n\nexport const CreateButton = styled(Button)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  grid-gap: 10px;\n\n  span {\n    white-space: nowrap;\n  }\n\n  @media only screen and (max-width: 996px) {\n    width: 100%;\n  }\n`\n\nexport const Footer = styled(Row)`\n  justify-content: space-between;\n\n  @media only screen and (max-width: 480px) {\n    flex-direction: column;\n    align-items: end;\n    grid-gap: var(--default-gap);\n  }\n`\n\nexport const DeleteButton = styled(Button)`\n  color: var(--default-color-red);\n  background: none;\n  border: none;\n\n  &:hover {\n    background: none;\n    border: none;\n    color: var(--default-color-red);\n  }\n\n  ${({ disabled }) =>\n    disabled &&\n    css`\n      color: var(--ghost-color-text);\n\n      &:hover {\n        color: var(--ghost-color-text);\n      }\n    `}\n`\n\nexport const displayMethods = [\n  { label: <Icon icon={'menu'} />, value: 'list', tooltip: 'Отображение списком' },\n  { label: <Icon icon={'category'} />, value: 'grid', tooltip: 'Отображение сеткой' }\n]\n\nexport const Handle = ({\n  icon,\n  title,\n  buttonCreateText,\n  buttonDeleteDisabled,\n  defaultDisplayMethod,\n  withoutFooter,\n  withFilters,\n  checked,\n  onCreate,\n  onChecked,\n  onDeleteAll,\n  onChangeDisplayMethod\n}) => {\n  const [isChecked, setChecked] = useState(checked)\n  const [displayMethod, setDisplayMethod] = useState(\n    displayMethods.find((item) => item.value === defaultDisplayMethod)\n  )\n  const visibleFilters = useSelector((state) => state.root.visibleFilters)\n  const dispatch = useDispatch()\n\n  const onVisibleFilter = () => dispatch(setVisibleFilters(!visibleFilters))\n\n  const onDisplayMethod = (item) => {\n    setDisplayMethod(item)\n    if (onChangeDisplayMethod) onChangeDisplayMethod(item)\n  }\n\n  const onChangeChecked = (e) => {\n    const value = e.target.checked\n    setChecked(value)\n    if (onChecked) onChecked(value)\n  }\n\n  useEffect(() => {\n    setChecked(checked)\n  }, [checked])\n\n  return (\n    <Wrap>\n      <Header>\n        <Difinition icon={icon} text={title} />\n\n        <ActionGroup>\n          {onCreate && (\n            <CreateButton type={'button'} onClick={onCreate}>\n              <span>{buttonCreateText}</span>\n              <Icon icon={'add'} stroke={'white'} />\n            </CreateButton>\n          )}\n\n          {withFilters && (\n            <Tooltip text={'Отображение фильтров'}>\n              <Button\n                type={'button'}\n                kind={'icon'}\n                onClick={onVisibleFilter}\n                revert={!visibleFilters}>\n                <Icon\n                  icon={'filter2'}\n                  stroke={!visibleFilters ? 'var(--default-color-accent)' : 'white'}\n                />\n              </Button>\n            </Tooltip>\n          )}\n\n          <Switch\n            defaultValue={displayMethod || displayMethods[1]}\n            options={displayMethods}\n            onChange={(item) => onDisplayMethod(item)}\n          />\n        </ActionGroup>\n      </Header>\n\n      <Divider clear />\n\n      {!withoutFooter && (\n        <Footer>\n          <Checkbox label={'Выделить все'} checked={isChecked} onChange={onChangeChecked} />\n          <DeleteButton appearance={'clear'} disabled={buttonDeleteDisabled} onClick={onDeleteAll}>\n            Удалить выделенное\n          </DeleteButton>\n        </Footer>\n      )}\n    </Wrap>\n  )\n}\n\nHandle.defaultProps = {\n  buttonCreateText: 'Добавить',\n  buttonDeleteDisabled: true\n}\n\nexport default Handle\n"]},"metadata":{},"sourceType":"module"}