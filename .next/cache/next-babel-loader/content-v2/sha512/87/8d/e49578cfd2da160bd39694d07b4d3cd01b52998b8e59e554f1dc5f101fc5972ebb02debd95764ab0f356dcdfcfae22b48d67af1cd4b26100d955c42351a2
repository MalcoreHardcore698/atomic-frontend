{"ast":null,"code":"var _jsxFileName = \"/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/atomic-ui/components/Modal/index.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Transition from '../Transition';\nimport Icon from '../Icon';\nimport Button from '../Button';\nimport Title from '../Title';\nconst DURATION = 100;\nexport function getPath(navigator) {\n  if (!navigator || navigator.length === 0) return null;\n  return navigator[navigator.length - 1];\n}\nexport const Wrap = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-override);\n  overflow: auto;\n\n  &.fade-enter {\n    opacity: 0;\n  }\n\n  &.fade-enter-active {\n    opacity: 1;\n    transition: opacity 100ms, blur 100ms;\n  }\n\n  &.fade-exit {\n    opacity: 1;\n  }\n\n  &.fade-exit-active {\n    opacity: 0;\n    transition: opacity 100ms, blur 100ms;\n  }\n`;\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-100);\n  background: var(--default-color-overlay);\n  cursor: pointer;\n`;\nexport const Content = styled.div`\n  position: relative;\n  top: 15%;\n  left: 0;\n  right: 0;\n  z-index: var(--z-101);\n\n  min-width: 480px;\n  max-width: 80%;\n  width: min-content;\n\n  margin-block-end: 150px;\n  background: var(--surface-background);\n  border: var(--surface-border);\n  border-radius: var(--surface-border-radius);\n  box-shadow: var(--surface-shadow);\n\n  &.swing-enter {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n\n  &.swing-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 100ms, transform 100ms;\n  }\n\n  &.swing-exit {\n    opacity: 1;\n  }\n\n  &.swing-exit-active {\n    opacity: 0;\n    transform: scale(0.9);\n    transition: opacity 100ms, transform 100ms;\n  }\n\n  ${({\n  size\n}) => size === 'l' && css`\n      top: 5%;\n      min-width: 65%;\n    `}\n\n  @media only screen and (max-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    min-width: 285px;\n    max-width: 100%;\n    width: auto;\n    margin: 0 var(--default-gap);\n  }\n`;\nexport const Headline = styled.div`\n  position: relative;\n  display: flex;\n  border-bottom: var(--default-border);\n  padding: var(--default-gap);\n  line-height: 1;\n`;\nexport const BackButton = styled(Button)`\n  position: absolute;\n  top: 0;\n  left: 10px;\n  height: 100%;\n`;\nexport const StyledTitle = styled(Title)`\n  text-align: center;\n  width: 100%;\n\n  @media only screen and (max-width: 480px) {\n    font-size: var(--font-size-l);\n  }\n`;\nexport const Switch = props => {\n  const Childrens = props.children;\n  if (!Childrens) return null;\n  const path = props.path;\n  let Child = null;\n\n  for (const child of Childrens) {\n    if (path === child.props.path) {\n      Child = child;\n      break;\n    }\n  }\n\n  return Child;\n};\nexport const Route = ({\n  component,\n  close,\n  back,\n  jump\n}) => {\n  const Compoent = component;\n  return __jsx(Compoent, {\n    close: close,\n    back: back,\n    jump: jump,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 10\n    }\n  });\n};\nexport const Modal = ({\n  size,\n  routes,\n  closeByBackground,\n  onHide\n}) => {\n  const {\n    0: navigator,\n    1: setNavigator\n  } = useState(['/']);\n  const {\n    0: content,\n    1: setContent\n  } = useState(false);\n  const {\n    0: animation,\n    1: setAnimation\n  } = useState(null);\n  const transitions = {\n    fade: {\n      in: routes ? true : false,\n      animation: 'fade',\n      onEnter: () => setContent(true),\n      onExited: () => setContent(false),\n      timeout: DURATION\n    },\n    swing: {\n      in: content,\n      animation: 'swing',\n      timeout: DURATION\n    }\n  };\n\n  const getTitle = () => {\n    var _routes$find;\n\n    function compare(route) {\n      return route.path === getPath(navigator);\n    }\n\n    const title = routes === null || routes === void 0 ? void 0 : (_routes$find = routes.find(route => compare(route))) === null || _routes$find === void 0 ? void 0 : _routes$find.title;\n    return title || '';\n  };\n\n  const getRoute = () => {\n    const defaultState = {\n      back: true\n    };\n    const current = navigator[navigator.length - 1];\n    const candidate = routes.find(route => route.path === current);\n\n    if (candidate) {\n      var _candidate$back;\n\n      return (_candidate$back = candidate === null || candidate === void 0 ? void 0 : candidate.back) !== null && _candidate$back !== void 0 ? _candidate$back : defaultState;\n    }\n\n    return defaultState;\n  };\n\n  const handleBack = () => {\n    setAnimation('slideOutRight');\n    setTimeout(() => {\n      setNavigator([...navigator.filter((e, i) => i !== navigator.length - 1)]);\n      setAnimation('slideInLeft');\n    }, DURATION);\n  };\n\n  const handleJump = path => {\n    setAnimation('slideOutLeft');\n    setTimeout(() => {\n      setNavigator([...navigator, path]);\n      setAnimation('slideInRight');\n    }, DURATION);\n  };\n\n  const handleClose = () => {\n    setContent(false);\n    setAnimation(null);\n    setTimeout(() => {\n      setNavigator(['/']);\n      onHide();\n    }, DURATION);\n  };\n\n  useEffect(() => {\n    if (routes && routes.length > 0) {\n      const route = routes.find(route => route.home);\n      setNavigator([(route === null || route === void 0 ? void 0 : route.path) || '/']);\n    }\n  }, [routes]);\n  return __jsx(Transition, _extends({}, transitions.fade, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }), __jsx(Wrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }, __jsx(Overlay, {\n    className: !closeByBackground ? 'clear' : '',\n    onClick: closeByBackground ? handleClose : () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }), __jsx(Transition, _extends({}, transitions.swing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }), __jsx(Content, {\n    className: `animate${animation ? ` ${animation}` : ''}`,\n    size: size,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, getTitle() && __jsx(Headline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 15\n    }\n  }, navigator.length > 1 && getRoute().back && __jsx(BackButton, {\n    onClick: handleBack,\n    appearance: 'clear',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }, __jsx(Icon, {\n    icon: 'arrowLeft',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 21\n    }\n  })), __jsx(StyledTitle, {\n    tag: 'h3',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, getTitle())), __jsx(Switch, {\n    path: getPath(navigator),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, (routes || []).map((props, key) => __jsx(Route, _extends({\n    key: key\n  }, props, {\n    close: handleClose,\n    back: handleBack,\n    jump: handleJump,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }))))))));\n};\nModal.defaultProps = {\n  title: 'Modal Title',\n  routes: [],\n  onHide: () => {},\n  closeByBackground: true\n};\nexport default Modal;","map":{"version":3,"sources":["/Users/alicefromwonderland/Desktop/branches/atomic/atomic-frontend/atomic-ui/components/Modal/index.js"],"names":["React","useEffect","useState","styled","css","Transition","Icon","Button","Title","DURATION","getPath","navigator","length","Wrap","div","Overlay","Content","size","Headline","BackButton","StyledTitle","Switch","props","Childrens","children","path","Child","child","Route","component","close","back","jump","Compoent","Modal","routes","closeByBackground","onHide","setNavigator","content","setContent","animation","setAnimation","transitions","fade","in","onEnter","onExited","timeout","swing","getTitle","compare","route","title","find","getRoute","defaultState","current","candidate","handleBack","setTimeout","filter","e","i","handleJump","handleClose","home","map","key","defaultProps"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AAEA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,MAAMC,QAAQ,GAAG,GAAjB;AAEA,OAAO,SAASC,OAAT,CAAiBC,SAAjB,EAA4B;AACjC,MAAI,CAACA,SAAD,IAAcA,SAAS,CAACC,MAAV,KAAqB,CAAvC,EAA0C,OAAO,IAAP;AAE1C,SAAOD,SAAS,CAACA,SAAS,CAACC,MAAV,GAAmB,CAApB,CAAhB;AACD;AAED,OAAO,MAAMC,IAAI,GAAGV,MAAM,CAACW,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA7BO;AA+BP,OAAO,MAAMC,OAAO,GAAGZ,MAAM,CAACW,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATO;AAWP,OAAO,MAAME,OAAO,GAAGb,MAAM,CAACW,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC;AAAEG,EAAAA;AAAF,CAAD,KACAA,IAAI,KAAK,GAAT,IACAb,GAAI;AACR;AACA;AACA,KAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvDO;AAyDP,OAAO,MAAMc,QAAQ,GAAGf,MAAM,CAACW,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA,CANO;AAQP,OAAO,MAAMK,UAAU,GAAGhB,MAAM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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport Transition from '../Transition'\nimport Icon from '../Icon'\nimport Button from '../Button'\nimport Title from '../Title'\n\nconst DURATION = 100\n\nexport function getPath(navigator) {\n  if (!navigator || navigator.length === 0) return null\n\n  return navigator[navigator.length - 1]\n}\n\nexport const Wrap = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-override);\n  overflow: auto;\n\n  &.fade-enter {\n    opacity: 0;\n  }\n\n  &.fade-enter-active {\n    opacity: 1;\n    transition: opacity 100ms, blur 100ms;\n  }\n\n  &.fade-exit {\n    opacity: 1;\n  }\n\n  &.fade-exit-active {\n    opacity: 0;\n    transition: opacity 100ms, blur 100ms;\n  }\n`\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: var(--z-100);\n  background: var(--default-color-overlay);\n  cursor: pointer;\n`\n\nexport const Content = styled.div`\n  position: relative;\n  top: 15%;\n  left: 0;\n  right: 0;\n  z-index: var(--z-101);\n\n  min-width: 480px;\n  max-width: 80%;\n  width: min-content;\n\n  margin-block-end: 150px;\n  background: var(--surface-background);\n  border: var(--surface-border);\n  border-radius: var(--surface-border-radius);\n  box-shadow: var(--surface-shadow);\n\n  &.swing-enter {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n\n  &.swing-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: opacity 100ms, transform 100ms;\n  }\n\n  &.swing-exit {\n    opacity: 1;\n  }\n\n  &.swing-exit-active {\n    opacity: 0;\n    transform: scale(0.9);\n    transition: opacity 100ms, transform 100ms;\n  }\n\n  ${({ size }) =>\n    size === 'l' &&\n    css`\n      top: 5%;\n      min-width: 65%;\n    `}\n\n  @media only screen and (max-width: 768px) {\n    min-width: 320px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    min-width: 285px;\n    max-width: 100%;\n    width: auto;\n    margin: 0 var(--default-gap);\n  }\n`\n\nexport const Headline = styled.div`\n  position: relative;\n  display: flex;\n  border-bottom: var(--default-border);\n  padding: var(--default-gap);\n  line-height: 1;\n`\n\nexport const BackButton = styled(Button)`\n  position: absolute;\n  top: 0;\n  left: 10px;\n  height: 100%;\n`\n\nexport const StyledTitle = styled(Title)`\n  text-align: center;\n  width: 100%;\n\n  @media only screen and (max-width: 480px) {\n    font-size: var(--font-size-l);\n  }\n`\n\nexport const Switch = (props) => {\n  const Childrens = props.children\n  if (!Childrens) return null\n\n  const path = props.path\n\n  let Child = null\n  for (const child of Childrens) {\n    if (path === child.props.path) {\n      Child = child\n      break\n    }\n  }\n  return Child\n}\n\nexport const Route = ({ component, close, back, jump }) => {\n  const Compoent = component\n  return <Compoent close={close} back={back} jump={jump} />\n}\n\nexport const Modal = ({ size, routes, closeByBackground, onHide }) => {\n  const [navigator, setNavigator] = useState(['/'])\n  const [content, setContent] = useState(false)\n  const [animation, setAnimation] = useState(null)\n\n  const transitions = {\n    fade: {\n      in: routes ? true : false,\n      animation: 'fade',\n      onEnter: () => setContent(true),\n      onExited: () => setContent(false),\n      timeout: DURATION\n    },\n    swing: {\n      in: content,\n      animation: 'swing',\n      timeout: DURATION\n    }\n  }\n\n  const getTitle = () => {\n    function compare(route) {\n      return route.path === getPath(navigator)\n    }\n\n    const title = routes?.find((route) => compare(route))?.title\n\n    return title || ''\n  }\n\n  const getRoute = () => {\n    const defaultState = { back: true }\n    const current = navigator[navigator.length - 1]\n    const candidate = routes.find((route) => route.path === current)\n    if (candidate) {\n      return candidate?.back ?? defaultState\n    }\n    return defaultState\n  }\n\n  const handleBack = () => {\n    setAnimation('slideOutRight')\n    setTimeout(() => {\n      setNavigator([...navigator.filter((e, i) => i !== navigator.length - 1)])\n      setAnimation('slideInLeft')\n    }, DURATION)\n  }\n  const handleJump = (path) => {\n    setAnimation('slideOutLeft')\n    setTimeout(() => {\n      setNavigator([...navigator, path])\n      setAnimation('slideInRight')\n    }, DURATION)\n  }\n  const handleClose = () => {\n    setContent(false)\n    setAnimation(null)\n\n    setTimeout(() => {\n      setNavigator(['/'])\n      onHide()\n    }, DURATION)\n  }\n\n  useEffect(() => {\n    if (routes && routes.length > 0) {\n      const route = routes.find((route) => route.home)\n      setNavigator([route?.path || '/'])\n    }\n  }, [routes])\n\n  return (\n    <Transition {...transitions.fade}>\n      <Wrap>\n        <Overlay\n          className={!closeByBackground ? 'clear' : ''}\n          onClick={closeByBackground ? handleClose : () => {}}\n        />\n\n        <Transition {...transitions.swing}>\n          <Content className={`animate${animation ? ` ${animation}` : ''}`} size={size}>\n            {getTitle() && (\n              <Headline>\n                {navigator.length > 1 && getRoute().back && (\n                  <BackButton onClick={handleBack} appearance={'clear'}>\n                    <Icon icon={'arrowLeft'} />\n                  </BackButton>\n                )}\n\n                <StyledTitle tag={'h3'}>{getTitle()}</StyledTitle>\n              </Headline>\n            )}\n\n            <Switch path={getPath(navigator)}>\n              {(routes || []).map((props, key) => (\n                <Route\n                  key={key}\n                  {...props}\n                  close={handleClose}\n                  back={handleBack}\n                  jump={handleJump}\n                />\n              ))}\n            </Switch>\n          </Content>\n        </Transition>\n      </Wrap>\n    </Transition>\n  )\n}\n\nModal.defaultProps = {\n  title: 'Modal Title',\n  routes: [],\n  onHide: () => {},\n  closeByBackground: true\n}\n\nexport default Modal\n"]},"metadata":{},"sourceType":"module"}