{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{D85t:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/projects\",function(){return o(\"RHEb\")}])},EYtC:function(e,t,o){\"use strict\";var a=o(\"q1tI\"),n=o.n(a),r=o(\"vOnD\"),i=o(\"nShV\"),l=o(\"ZeZO\"),s=o(\"feIE\"),c=o(\"t7jn\"),u=o(\"coMr\");const d=Object(r.d)(i.b).withConfig({displayName:\"SearchBar__Wrap\",componentId:\"sc-1ruwjhl-0\"})([\"width:100%;\"]),p=Object(r.d)(c.a).withConfig({displayName:\"SearchBar__WrapSearchField\",componentId:\"sc-1ruwjhl-1\"})([\"flex-grow:100;\"]),f=Object(r.d)(l.a).withConfig({displayName:\"SearchBar__WrapButton\",componentId:\"sc-1ruwjhl-2\"})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\",\"\"],(({visibleFilter:e})=>e&&Object(r.c)([\"background:var(--default-color-accent);\"])));t.a=({appearance:e,buttonCreateText:t,defaultValue:o,onCreate:r,onChangeFilter:i,onSubmit:l})=>{const[c,h]=Object(a.useState)(!1);return n.a.createElement(d,null,n.a.createElement(p,{appearance:e,placeholder:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",defaultValue:o,onSubmit:l}),n.a.createElement(f,{type:\"button\",kind:\"icon\",onClick:()=>{h(!c),i&&i(!c)},visibleFilter:c},n.a.createElement(s.a,{icon:\"filter2\",stroke:c?\"white\":\"var(--default-color-accent)\"})),r&&n.a.createElement(u.a,{type:\"button\",onClick:r},n.a.createElement(\"span\",null,t),n.a.createElement(s.a,{type:\"button\",icon:\"add\",stroke:\"white\"})))}},LSTS:function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,o,a){return o&&e(t.prototype,o),a&&e(t,a),t}}(),n=o(\"q1tI\"),r=l(n),i=l(o(\"17x9\"));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==typeof t&&\"function\"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.scrollListener=o.scrollListener.bind(o),o.eventListenerOptions=o.eventListenerOptions.bind(o),o.mousewheelListener=o.mousewheelListener.bind(o),o}return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:\"componentDidMount\",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:\"componentDidUpdate\",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:\"componentWillUnmount\",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:\"isPassiveSupported\",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener(\"test\",null,t),document.removeEventListener(\"test\",null,t)}catch(o){}return e}},{key:\"eventListenerOptions\",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:\"setDefaultLoader\",value:function(e){this.defaultLoader=e}},{key:\"detachMousewheelListener\",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener(\"mousewheel\",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:\"detachScrollListener\",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener(\"scroll\",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener(\"resize\",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:\"getParentElement\",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:\"filterProps\",value:function(e){return e}},{key:\"attachScrollListener\",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener(\"mousewheel\",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener(\"scroll\",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener(\"resize\",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:\"mousewheelListener\",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:\"scrollListener\",value:function(){var e=this.scrollComponent,t=window,o=this.getParentElement(e),a=void 0;if(this.props.useWindow){var n=document.documentElement||document.body.parentNode||document.body,r=void 0!==t.pageYOffset?t.pageYOffset:n.scrollTop;a=this.props.isReverse?r:this.calculateOffset(e,r)}else a=this.props.isReverse?o.scrollTop:e.scrollHeight-o.scrollTop-o.clientHeight;a<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=o.scrollHeight,this.beforeScrollTop=o.scrollTop,\"function\"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:\"calculateOffset\",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:\"calculateTopPosition\",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:\"render\",value:function(){var e=this,t=this.filterProps(this.props),o=t.children,a=t.element,n=t.hasMore,i=(t.initialLoad,t.isReverse),l=t.loader,s=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var o={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=e[a]);return o}(t,[\"children\",\"element\",\"hasMore\",\"initialLoad\",\"isReverse\",\"loader\",\"loadMore\",\"pageStart\",\"ref\",\"threshold\",\"useCapture\",\"useWindow\",\"getScrollParent\"]));c.ref=function(t){e.scrollComponent=t,s&&s(t)};var u=[o];return n&&(l?i?u.unshift(l):u.push(l):this.defaultLoader&&(i?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),r.default.createElement(a,c,u)}}]),t}(n.Component);s.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},s.defaultProps={element:\"div\",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=s,e.exports=t.default},QX5T:function(e,t,o){\"use strict\";var a=o(\"q1tI\"),n=o.n(a),r=o(\"20a2\"),i=o(\"vOnD\"),l=o(\"VX74\"),s=o(\"RotF\"),c=o.n(s),u=o(\"7Cbv\"),d=o(\"8CDE\"),p=o(\"wZgm\"),f=o(\"auMy\"),h=o(\"QclZ\"),m=o(\"X+Rt\"),v=o(\"p9yE\"),b=o(\"RoTl\"),E=o(\"EYtC\"),y=o(\"coMr\"),g=o(\"586Q\"),O=o(\"/MKj\");const w=Object(i.d)(d.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(i.c)([\"margin:0;\"])));t.a=({title:e,store:t,query:o,handle:i,filters:s,options:d,scaffold:j,dashboard:S,variables:C={},limit:L=6,startOffset:_=6,initialize:P,children:k})=>{const T=Object(r.useRouter)(),R=Object(O.c)((e=>e.root.search)),M=S?v.a:m.a,[D,x]=Object(a.useState)(),[I,N]=Object(a.useState)(),[q,A]=Object(a.useState)(null),[W,F]=Object(a.useState)(!1),[H,V]=Object(a.useState)(_+1),[J,Q]=Object(a.useState)((null===t||void 0===t?void 0:t.documents)||[]),[U,X]=Object(a.useState)(!1),z=Object(a.useMemo)((()=>{var e;return Number(null===(e=T.query)||void 0===e?void 0:e.page)||1}),[T]),[B,{data:G,loading:K,refetch:Y}]=Object(l.useLazyQuery)(o),[Z,{data:$,loading:ee,refetch:te}]=Object(l.useLazyQuery)(o),oe=e=>{if(Q([]),e)A(e),B({variables:{...C,search:e,offset:0,limit:_*z}});else{const e={...C,offset:0,limit:L};A(null),te?te(e):Z({variables:e})}V(0)};return Object(a.useEffect)((()=>{P&&Z({variables:{offset:H,limit:L}})}),[P]),Object(a.useEffect)((()=>{R&&oe(R)}),[R]),Object(a.useEffect)((()=>{const e=!q&&!ee&&$||q&&!K&&G;if(e){const t=e[Object.keys(e)[0]];t.length>0&&Q((e=>[...e,...t])),0===t.length&&X(!0)}}),[q,ee,K,$,G,X]),n.a.createElement(M,{title:e,scaffold:j},n.a.createElement(w,{clear:j||S},!j&&!S&&n.a.createElement(E.a,{defaultValue:R||q,onChangeFilter:()=>F(!W),onSubmit:oe}),S&&i&&n.a.createElement(y.b,{title:e,icon:i.icon,buttonCreateText:i.buttonCreateText,onCreate:i.onCreate,onChangeVisibleFilter:()=>F(!W),onChangeDisplayMethod:i.onChangeDisplayMethod}),(s||d)&&n.a.createElement(b.a,{isOpen:W,filters:s.map((e=>{switch(e.type){case\"DATEPICKER\":return n.a.createElement(p.a,{key:Object(u.a)(),value:D,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:x,withNavigate:!0});case\"SELECT\":return n.a.createElement(h.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:I,onChange:e=>N(e)});default:return null}})),options:d}),q?\"function\"===typeof k?n.a.createElement(k,{documents:J}):k:n.a.createElement(c.a,{pageStart:z||0,loadMore:async e=>{const t={...C,offset:H,limit:L};q&&Y?await Y(C):te?(await te(t),V(L*e+_+1)):await Z({variables:t})},hasMore:!U,loader:n.a.createElement(g.d,{key:\"loader\"},n.a.createElement(f.a,null))},\"function\"===typeof k?n.a.createElement(k,{documents:J}):k)))}},RHEb:function(e,t,o){\"use strict\";o.r(t);var a=o(\"q1tI\"),n=o.n(a),r=o(\"20a2\"),i=o(\"VX74\"),l=o(\"auMy\"),s=o(\"NWnW\"),c=o(\"QX5T\"),u=o(\"qF4B\"),d=o(\"586Q\"),p=o(\"u2Cb\");t.default=()=>{var e;const t=Object(r.useRouter)(),[o,{data:f,loading:h}]=Object(i.useLazyQuery)(p.a.GET_META_PROJECTS);return Object(a.useEffect)((()=>{var e,a;const n=null===(e=t.query)||void 0===e?void 0:e.page,r=null===(a=t.query)||void 0===a?void 0:a.c;r&&o({variables:{offset:n?6*n:0,limit:6,status:\"PUBLISHED\",category:r}})}),[t]),h?n.a.createElement(d.a,null,n.a.createElement(l.a,null)):n.a.createElement(c.a,{title:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",filters:[{type:\"DATEPICKER\"},{type:\"SELECT\",options:null===f||void 0===f?void 0:f.getCategories.map((e=>({value:e.id,label:Object(s.e)(e.name)})))}],options:[{label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",value:\"company\"},{label:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438\",value:\"members\"},{label:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",value:\"createdAt\"}],query:p.a.GET_PROJECTS,variables:{category:null===(e=t.query)||void 0===e?void 0:e.c,status:\"PUBLISHED\"},store:{documents:null===f||void 0===f?void 0:f.getProjects}},(({documents:e})=>n.a.createElement(d.b,null,n.a.createElement(u.a,{initialList:e,layout:!0}))))}},RotF:function(e,t,o){e.exports=o(\"LSTS\")},qF4B:function(e,t,o){\"use strict\";var a=o(\"q1tI\"),n=o.n(a),r=o(\"vOnD\"),i=o(\"VX74\"),l=o(\"/MKj\"),s=o(\"ZwIX\"),c=o(\"auMy\"),u=o(\"586Q\"),d=o(\"VP1n\"),p=o(\"1zqG\"),f=o(\"ApjV\"),h=o(\"lphG\"),m=o(\"8ihE\"),v=o(\"rP4V\"),b=o(\"IxyI\"),E=o(\"u2Cb\");const y=r.d.div.withConfig({displayName:\"ProjectList__Wrap\",componentId:\"zcwfmw-0\"})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]),g=({variables:e,layout:t,eliminable:o,initialList:r,initialRefetch:g,emptyMessage:O})=>{const w=Object(f.b)(),j=Object(h.a)(),{user:S,folder:C}=Object(l.c)((e=>({user:e.user,folder:e.root.folder}))),[L,_]=Object(a.useState)(r||[]),P=Object(l.b)(),{data:k,loading:T,error:R}=r?{data:null,loading:!1,error:!1}:Object(i.useQuery)(E.a.GET_PROJECTS,{variables:e}),M=Object(a.useCallback)((e=>w(b.a,{id:e.id,folders:null===S||void 0===S?void 0:S.folders,mutations:{addProject:E.a.ADD_USER_PROJECT,createFolder:E.a.ADD_USER_FOLDER},callback:t=>{const o={...t,projects:[...t.projects,e.id]};P(Object(m.c)(o))}})()),[S]),D=Object(a.useCallback)((e=>w(b.f,{id:e.id,folder:C,mutation:E.a.REMOVE_USER_PROJECT,callback:()=>g&&g(L.filter((t=>t.id!==e.id)).map((e=>e.id)))})()),[S]);return Object(a.useEffect)((()=>{!T&&k&&_(k.getProjects)}),[k,T]),Object(a.useEffect)((()=>{!T&&(null===r||void 0===r?void 0:r.length)>0&&_(r)}),[T,r]),n.a.createElement(y,null,L.length>0?L.map((e=>{var a,r,i,l;const s=null===S||void 0===S||null===(a=S.projects)||void 0===a?void 0:a.find((t=>t.id===e.id));return n.a.createElement(d.a,{key:e.id},n.a.createElement(p.c,{project:e,eliminable:o,layout:t||\"column\",owned:s,added:!(null===S||void 0===S||null===(r=S.folders)||void 0===r||!r.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===S.email)),onLink:w(b.e,{id:e.id,auth:null===S||void 0===S?void 0:S.email,added:!(null===S||void 0===S||null===(i=S.folders)||void 0===i||!i.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===S.email)),onLike:S.email&&j(E.a.LIKE_PROJECT,{id:e.id},(e=>P(Object(m.e)(e.data.likeProject)))),onAdd:S.email&&w(b.a,{id:e.id,folders:null===S||void 0===S?void 0:S.folders,mutations:{addProject:E.a.ADD_USER_PROJECT,createFolder:E.a.ADD_USER_FOLDER},callback:t=>{const o={...t,projects:[...t.projects,e.id]};P(Object(m.c)(o))}}),owned:s}),onLike:S.email&&j(E.a.LIKE_PROJECT,{id:e.id},(e=>P(Object(m.e)(e.data.likeProject)))),onAdd:S.email&&(()=>M(e)),onRemove:S.email&&(()=>D(e)),onAboutMore:w(v.a,{user:e}),onCompanyLink:w(v.i,{id:null===(l=e.company)||void 0===l?void 0:l.email,auth:null===S||void 0===S?void 0:S.email,recipient:e.author,query:E.a.GET_USER_CHATS,mutation:E.a.SEND_MESSAGE}),onScreenshotClick:(t,o)=>w(b.g,{screenshots:[e.preview,...e.screenshots],key:o})(),withSocials:!0}))})):R?n.a.createElement(s.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"):T?n.a.createElement(u.c,null,n.a.createElement(c.a,null)):n.a.createElement(s.a,{style:{width:\"100%\",textAlign:\"center\"}},O))};g.defaultProps={emptyMessage:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u043e\\u0432 \\u043d\\u0435\\u0442\"},t.a=g}},[[\"D85t\",0,2,1,3,4,5,6,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/projects-cd9b3bfb7a391dc1c7f5.js"],"names":["_N_E","window","push","D85t","module","exports","__webpack_require__","__NEXT_P","EYtC","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__","_HandleBar__WEBPACK_IMPORTED_MODULE_6__","Wrap","Object","withConfig","displayName","componentId","WrapSearchField","WrapButton","visibleFilter","appearance","buttonCreateText","defaultValue","onCreate","onChangeFilter","onSubmit","setVisibleFilter","a","createElement","placeholder","type","kind","onClick","icon","stroke","LSTS","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","pageLoaded","pageStart","options","attachScrollListener","isReverse","loadMore","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","useWindow","parentNode","el","scrollParent","getScrollParent","hasMore","initialLoad","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","children","element","ref","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","Component","propTypes","isRequired","bool","func","number","defaultProps","QX5T","next_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default","uuid__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__","_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__","_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__","_layouts_default__WEBPACK_IMPORTED_MODULE_10__","_dashboard__WEBPACK_IMPORTED_MODULE_11__","_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__","_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__","_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__","_components_Styled__WEBPACK_IMPORTED_MODULE_15__","react_redux__WEBPACK_IMPORTED_MODULE_16__","clear","title","store","query","handle","filters","scaffold","dashboard","variables","limit","startOffset","initialize","router","research","state","root","search","Layout","date","onChangeDate","select","onChangeSelect","setSearch","setOffset","documents","setDocuments","isEnd","setIsEnd","_router$query","page","loadDocumentsBySearch","data","dataBySearch","loading","loadingBySearch","refetch","refetchBySearch","loadDocuments","onSearch","result","resultList","list","prev","onChangeVisibleFilter","onChangeDisplayMethod","isOpen","map","filter","onChange","withNavigate","selected","item","async","RHEb","r","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_4__","_layouts_content__WEBPACK_IMPORTED_MODULE_5__","_components_ProjectList__WEBPACK_IMPORTED_MODULE_6__","_components_Styled__WEBPACK_IMPORTED_MODULE_7__","_graphql_queries__WEBPACK_IMPORTED_MODULE_8__","_router$query3","load","GET_META_PROJECTS","_router$query2","category","c","status","getCategories","id","label","name","GET_PROJECTS","getProjects","initialList","layout","RotF","qF4B","react_redux__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__","_Styled__WEBPACK_IMPORTED_MODULE_6__","_LazyLoad__WEBPACK_IMPORTED_MODULE_7__","_ProjectCard__WEBPACK_IMPORTED_MODULE_8__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__","_store_actions_user__WEBPACK_IMPORTED_MODULE_11__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__","_graphql_queries__WEBPACK_IMPORTED_MODULE_14__","div","ProjectList","eliminable","initialRefetch","emptyMessage","recall","mutate","user","folder","projects","setProjects","dispatch","error","onAdd","project","folders","mutations","addProject","ADD_USER_PROJECT","createFolder","ADD_USER_FOLDER","callback","onRemove","mutation","REMOVE_USER_PROJECT","pr","_user$projects","_user$folders","_user$folders2","_project$company","owned","find","candidate","added","liked","rating","email","onLink","auth","onLike","LIKE_PROJECT","response","likeProject","onAboutMore","onCompanyLink","company","recipient","author","GET_USER_CHATS","SEND_MESSAGE","onScreenshotClick","_","screenshots","preview","withSocials","style","width","textAlign"],"mappings":"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"},"name":"static/chunks/pages/projects-cd9b3bfb7a391dc1c7f5.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[32],{\n\n/***/ \"D85t\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects\",\n        function () {\n          return __webpack_require__(\"RHEb\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"EYtC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export WrapSearchField */\n/* unused harmony export WrapButton */\n/* unused harmony export Search */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"nShV\");\n/* harmony import */ var _atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZeZO\");\n/* harmony import */ var _atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"feIE\");\n/* harmony import */ var _atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"t7jn\");\n/* harmony import */ var _HandleBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"coMr\");\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"b\"]).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nconst WrapSearchField = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nconst WrapButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* css */ \"c\"])([\"background:var(--default-color-accent);\"]));\nconst Search = ({\n  appearance,\n  buttonCreateText,\n  defaultValue,\n  onCreate,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    defaultValue: defaultValue,\n    onSubmit: onSubmit\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HandleBar__WEBPACK_IMPORTED_MODULE_6__[/* CreateButton */ \"a\"], {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Search);\n\n/***/ }),\n\n/***/ \"LSTS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(\"q1tI\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(\"17x9\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"RotF\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"7Cbv\");\n/* harmony import */ var _atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"8CDE\");\n/* harmony import */ var _atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"wZgm\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"QclZ\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"p9yE\");\n/* harmony import */ var _components_FilterBar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"RoTl\");\n/* harmony import */ var _components_SearchBar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"EYtC\");\n/* harmony import */ var _components_HandleBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"586Q\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"/MKj\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const research = Object(react_redux__WEBPACK_IMPORTED_MODULE_16__[/* useSelector */ \"c\"])(state => state.root.search);\n  const Layout = dashboard ? _dashboard__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"] : _layouts_default__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"];\n  const [date, onChangeDate] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [select, onChangeSelect] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [search, setSearch] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const [offset, setOffset] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(startOffset + 1);\n  const [documents, setDocuments] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const pageStart = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n    defaultValue: research || search,\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"b\"], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), search ? typeof children === 'function' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(children, {\n    documents\n  }) : children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_15__[/* LowerLoader */ \"d\"], {\n      key: 'loader'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], null))\n  }, typeof children === 'function' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(children, {\n    documents\n  }) : children)));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"RHEb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"VX74\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"NWnW\");\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_ProjectList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"qF4B\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Проекты';\nconst START_OFFSET = 6;\n\nconst Projects = () => {\n  var _router$query3;\n\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const [load, {\n    data,\n    loading\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__[\"useLazyQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].GET_META_PROJECTS);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    var _router$query, _router$query2;\n\n    const page = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page;\n    const category = (_router$query2 = router.query) === null || _router$query2 === void 0 ? void 0 : _router$query2.c;\n\n    if (category) {\n      load({\n        variables: {\n          offset: page ? page * START_OFFSET : 0,\n          limit: START_OFFSET,\n          status: 'PUBLISHED',\n          category\n        }\n      });\n    }\n  }, [router]);\n\n  if (loading) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_7__[/* FixedLoader */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER'\n    }, {\n      type: 'SELECT',\n      options: data === null || data === void 0 ? void 0 : data.getCategories.map(category => ({\n        value: category.id,\n        label: Object(_atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_4__[/* getLabelCategory */ \"e\"])(category.name)\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата публикации',\n      value: 'createdAt'\n    }],\n    query: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].GET_PROJECTS,\n    variables: {\n      category: (_router$query3 = router.query) === null || _router$query3 === void 0 ? void 0 : _router$query3.c,\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: data === null || data === void 0 ? void 0 : data.getProjects\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_7__[/* GridAside */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectList__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n    initialList: documents,\n    layout: true\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Projects);\n\n/***/ }),\n\n/***/ \"RotF\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"LSTS\")\n\n\n/***/ }),\n\n/***/ \"qF4B\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export ProjectList */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _Styled__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _LazyLoad__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _ProjectCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"].div.withConfig({\n  displayName: \"ProjectList__Wrap\",\n  componentId: \"zcwfmw-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst ProjectList = ({\n  variables,\n  layout,\n  eliminable,\n  initialList,\n  initialRefetch,\n  emptyMessage\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__[/* useMutate */ \"a\"])();\n  const {\n    user,\n    folder\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const [projects, setProjects] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(initialList || []);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__[\"useQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_PROJECTS, {\n    variables\n  });\n  const onAdd = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectAdd */ \"a\"], {\n    id: project.id,\n    folders: user === null || user === void 0 ? void 0 : user.folders,\n    mutations: {\n      addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n      createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n    },\n    callback: item => {\n      const result = { ...item,\n        projects: [...item.projects, project.id]\n      };\n      dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n    }\n  })(), [user]);\n  const onRemove = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectRemove */ \"f\"], {\n    id: project.id,\n    folder,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].REMOVE_USER_PROJECT,\n    callback: () => initialRefetch && initialRefetch(projects.filter(pr => pr.id !== project.id).map(pr => pr.id))\n  })(), [user]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && data) {\n      setProjects(data.getProjects);\n    }\n  }, [data, loading]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && (initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setProjects(initialList);\n  }, [loading, initialList]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _user$folders2, _project$company;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LazyLoad__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n      key: project.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ProjectCard__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"c\"], {\n      project: project,\n      eliminable: eliminable,\n      layout: layout || 'column',\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n      liked: !!(project.rating || []).find(item => item.email === user.email),\n      onLink: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders2 = user.folders) !== null && _user$folders2 !== void 0 && _user$folders2.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n      onAdd: user.email && (() => onAdd(project)),\n      onRemove: user.email && (() => onRemove(project)),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__[/* onUserAboutMore */ \"a\"], {\n        user: project\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__[/* onUserLink */ \"i\"], {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_USER_CHATS,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectScreenshot */ \"g\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })(),\n      withSocials: true\n    }));\n  }) : error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Styled__WEBPACK_IMPORTED_MODULE_6__[/* Loader */ \"c\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, emptyMessage));\n};\nProjectList.defaultProps = {\n  emptyMessage: 'Проектов нет'\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProjectList);\n\n/***/ })\n\n},[[\"D85t\",0,2,1,3,4,5,6,7,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fprojects&absolutePagePath=private-next-pages%2Fprojects.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SearchBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\react-infinite-scroller\\dist\\InfiniteScroll.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\projects.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\react-infinite-scroller\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ProjectList\\index.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAgC;AACzD;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwC;AACQ;AACC;AACM;AACJ;AACS;AAChB;AACrC,aAAa,yEAAM,CAAC,yEAAG;AAC9B;AACA;AACA,CAAC,eAAe;AACT,wBAAwB,yEAAM,CAAC,4EAAW;AACjD;AACA;AACA,CAAC,kBAAkB;AACZ,mBAAmB,yEAAM,CAAC,4EAAM;AACvC;AACA;AACA,CAAC,+CAA+C,YAAY,QAAQ,IAAI,YAAY,gBAAgB;AACpG;AACA,CAAC,sBAAsB,qEAAG,0CAA0C;AAC7D;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4CAA4C,sDAAQ;;AAEpD;AACA;AACA;AACA;;AAEA,sBAAsB,4CAAK,wCAAwC,4CAAK;AACxE;AACA;AACA;AACA;AACA,GAAG,gBAAgB,4CAAK;AACxB;AACA;AACA;AACA;AACA,GAAG,eAAe,4CAAK,eAAe,0EAAI;AAC1C;AACA;AACA,GAAG,6BAA6B,4CAAK,eAAe,+DAAY;AAChE;AACA;AACA,GAAG,eAAe,4CAAK,6DAA6D,4CAAK,eAAe,0EAAI;AAC5G;AACA;AACA;AACA,GAAG;AACH;AACe,+DAAM,E;;;;;;;;AC1DR;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,aAAa,mBAAO,CAAC,MAAO;;AAE5B;;AAEA,iBAAiB,mBAAO,CAAC,MAAY;;AAErC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG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","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects\",\n        function () {\n          return require(\"private-next-pages/projects.js\");\n        }\n      ]);\n    ","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport SearchField from '../../atomic-ui/components/Search';\nimport { CreateButton } from '../HandleBar';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nexport const WrapSearchField = styled(SearchField).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nexport const WrapButton = styled(Button).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && css([\"background:var(--default-color-accent);\"]));\nexport const Search = ({\n  appearance,\n  buttonCreateText,\n  defaultValue,\n  onCreate,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = useState(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    defaultValue: defaultValue,\n    onSubmit: onSubmit\n  }), /*#__PURE__*/React.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/React.createElement(CreateButton, {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/React.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/React.createElement(Icon, {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\nexport default Search;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nimport { useSelector } from 'react-redux';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = useRouter();\n  const research = useSelector(state => state.root.search);\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset + 1);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = useState(false);\n  const pageStart = useMemo(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = useLazyQuery(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    defaultValue: research || search,\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), search ? typeof children === 'function' ? React.createElement(children, {\n    documents\n  }) : children : /*#__PURE__*/React.createElement(InfiniteScroll, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/React.createElement(LowerLoader, {\n      key: 'loader'\n    }, /*#__PURE__*/React.createElement(Spinner, null))\n  }, typeof children === 'function' ? React.createElement(children, {\n    documents\n  }) : children)));\n};\n\nexport default ContentLayout;","import React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport { getLabelCategory } from '../atomic-ui/utils/functions';\nimport ContentLayout from '../layouts/content';\nimport ProjectList from '../components/ProjectList';\nimport { FixedLoader, GridAside as Container } from '../components/Styled';\nimport queries from '../graphql/queries';\nconst TITLE = 'Проекты';\nconst START_OFFSET = 6;\n\nconst Projects = () => {\n  var _router$query3;\n\n  const router = useRouter();\n  const [load, {\n    data,\n    loading\n  }] = useLazyQuery(queries.GET_META_PROJECTS);\n  useEffect(() => {\n    var _router$query, _router$query2;\n\n    const page = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page;\n    const category = (_router$query2 = router.query) === null || _router$query2 === void 0 ? void 0 : _router$query2.c;\n\n    if (category) {\n      load({\n        variables: {\n          offset: page ? page * START_OFFSET : 0,\n          limit: START_OFFSET,\n          status: 'PUBLISHED',\n          category\n        }\n      });\n    }\n  }, [router]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(FixedLoader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER'\n    }, {\n      type: 'SELECT',\n      options: data === null || data === void 0 ? void 0 : data.getCategories.map(category => ({\n        value: category.id,\n        label: getLabelCategory(category.name)\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата публикации',\n      value: 'createdAt'\n    }],\n    query: queries.GET_PROJECTS,\n    variables: {\n      category: (_router$query3 = router.query) === null || _router$query3 === void 0 ? void 0 : _router$query3.c,\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: data === null || data === void 0 ? void 0 : data.getProjects\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(ProjectList, {\n    initialList: documents,\n    layout: true\n  })));\n};\n\nexport default Projects;","module.exports = require('./dist/InfiniteScroll')\n","import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport { Loader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nimport ProjectCard from '../ProjectCard';\nimport { useHelper } from '../../hooks/useHelper';\nimport { useMutate } from '../../hooks/useMutate';\nimport { setUserFolder, updateUser } from '../../store/actions/user';\nimport { onUserAboutMore, onUserLink } from '../../store/helpers/user';\nimport { onProjectAdd, onProjectRemove, onProjectLink, onProjectScreenshot } from '../../store/helpers/project';\nimport queries from '../../graphql/queries';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"ProjectList__Wrap\",\n  componentId: \"zcwfmw-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nexport const ProjectList = ({\n  variables,\n  layout,\n  eliminable,\n  initialList,\n  initialRefetch,\n  emptyMessage\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const {\n    user,\n    folder\n  } = useSelector(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const [projects, setProjects] = useState(initialList || []);\n  const dispatch = useDispatch();\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : useQuery(queries.GET_PROJECTS, {\n    variables\n  });\n  const onAdd = useCallback(project => recall(onProjectAdd, {\n    id: project.id,\n    folders: user === null || user === void 0 ? void 0 : user.folders,\n    mutations: {\n      addProject: queries.ADD_USER_PROJECT,\n      createFolder: queries.ADD_USER_FOLDER\n    },\n    callback: item => {\n      const result = { ...item,\n        projects: [...item.projects, project.id]\n      };\n      dispatch(setUserFolder(result));\n    }\n  })(), [user]);\n  const onRemove = useCallback(project => recall(onProjectRemove, {\n    id: project.id,\n    folder,\n    mutation: queries.REMOVE_USER_PROJECT,\n    callback: () => initialRefetch && initialRefetch(projects.filter(pr => pr.id !== project.id).map(pr => pr.id))\n  })(), [user]);\n  useEffect(() => {\n    if (!loading && data) {\n      setProjects(data.getProjects);\n    }\n  }, [data, loading]);\n  useEffect(() => {\n    if (!loading && (initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setProjects(initialList);\n  }, [loading, initialList]);\n  return /*#__PURE__*/React.createElement(Wrap, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _user$folders2, _project$company;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/React.createElement(LazyLoad, {\n      key: project.id\n    }, /*#__PURE__*/React.createElement(ProjectCard, {\n      project: project,\n      eliminable: eliminable,\n      layout: layout || 'column',\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n      liked: !!(project.rating || []).find(item => item.email === user.email),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders2 = user.folders) !== null && _user$folders2 !== void 0 && _user$folders2.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(setUserFolder(result));\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onAdd: user.email && (() => onAdd(project)),\n      onRemove: user.email && (() => onRemove(project)),\n      onAboutMore: recall(onUserAboutMore, {\n        user: project\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: queries.GET_USER_CHATS,\n        mutation: queries.SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })(),\n      withSocials: true\n    }));\n  }) : error ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, emptyMessage));\n};\nProjectList.defaultProps = {\n  emptyMessage: 'Проектов нет'\n};\nexport default ProjectList;"]}}