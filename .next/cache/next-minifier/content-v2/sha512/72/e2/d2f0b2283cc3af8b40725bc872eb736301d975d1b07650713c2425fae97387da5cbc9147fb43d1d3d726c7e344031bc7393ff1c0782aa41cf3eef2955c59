{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[7],{OqOz:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return N}));var n=a(\"q1tI\"),i=a.n(n),l=a(\"/MKj\"),c=a(\"7Cbv\"),r=a(\"8CDE\"),o=a(\"7BXr\"),d=a(\"p9yE\"),s=a(\"VX74\"),m=a(\"20a2\"),u=a(\"vOnD\"),p=a(\"nShV\"),h=a(\"auMy\"),g=a(\"RKiZ\"),E=a(\"ZeZO\"),b=a(\"EJJs\"),y=a(\"ZwIX\"),f=a(\"586Q\"),v=a(\"VP1n\");const x=u.d.div.withConfig({displayName:\"List__Wrap\",componentId:\"sc-1jo6mxw-0\"})([\"\",\"{width:calc(100vw - 280px);}\"],b.b),k=(Object(u.d)(y.a).withConfig({displayName:\"List__CenterAlert\",componentId:\"sc-1jo6mxw-1\"})([\"width:100%;text-align:center;\"]),({type:e,limit:t=6,template:a,component:c,variables:r,loading:o,refetch:d,initialList:s,setCheckedList:u,onChecked:y,onClick:k,onEdit:O,onDelete:w})=>{var j;const C=Object(m.useRouter)(),_=Object(l.c)((e=>e.root.displayMethod)),[S,T]=Object(n.useState)(Number(null===(j=C.query)||void 0===j?void 0:j.page)||1),[I,L]=Object(n.useState)(s||[]),[N,D]=Object(n.useState)(!1),[M,R]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{(null===I||void 0===I?void 0:I.length)>0&&u&&u(I)}),[I,u]),i.a.createElement(x,null,\"grid\"===_&&i.a.createElement(f.b,null,(I||[]).map((e=>i.a.createElement(v.a,{key:e.id||e.email},c(e))))),\"list\"===_&&i.a.createElement(b.c,{data:I,template:a,onChecked:y,onClick:k,onEdit:O,onDelete:w}),(o||N)&&i.a.createElement(f.d,{key:\"loader\"},i.a.createElement(h.a,null)),!M&&!o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,null),i.a.createElement(p.b,{style:{justifyContent:\"center\"}},i.a.createElement(E.a,{type:\"button\",disabled:N,style:{width:245},onClick:async()=>{if(!M&&!o&&d){D(!0);const a=await d({...r,offset:t*S,limit:t});if(null!==a&&void 0!==a&&a.data){const t=a.data[e];0===t.length&&R(!0),t.length>0&&L((e=>[...e,...t])),T((e=>e+1))}D(!1)}}},\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0435\\u0449\\u0435\"))))});var O=({type:e,query:t,limit:a,template:n,variables:l,component:c,setCheckedList:r,onChecked:o,onClick:d,onEdit:m,onDelete:u})=>{const{data:p,loading:g,refetch:E}=Object(s.useQuery)(t,{variables:{...l,offset:0,limit:a}});return g?i.a.createElement(f.d,{key:\"loader\"},i.a.createElement(h.a,null)):i.a.createElement(k,{type:e,limit:a,refetch:E,template:n,component:c,initialList:e&&p&&p[e],setCheckedList:r,onChecked:o,onDelete:u,onClick:d,onEdit:m})},w=a(\"RoTl\"),j=a(\"coMr\"),C=a(\"xAqQ\"),_=a(\"Sza6\"),S=a(\"Ztxg\"),T=a(\"9Xo6\");const I=e=>{var t;return\"ADMIN\"!==(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())},L=({item:e,query:t,component:a,entityMultiText:c,entitySingleText:r,onSubmit:d})=>{const s=Object(n.useMemo)((()=>Array.isArray(e)),[e]),m=Object(l.b)(),u=a;return i.a.createElement(C.a,{mutation:t,appearance:\"clear\",onCancel:()=>m(Object(S.a)(null)),onSubmit:async(t,a)=>{try{await a({variables:{id:s?e.map((e=>e.id)):[e.id]}}),m(Object(T.c)({type:\"success\",message:s?`${c} \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0443\\u0434\\u0430\\u043b\\u0435\\u043d\\u044b`:`${r} \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0443\\u0434\\u0430\\u043b\\u0435\\u043d`}))}catch(n){n&&m(Object(T.c)({type:\"error\",message:\"\\u0427\\u0442\\u043e-\\u0442\\u043e \\u043f\\u043e\\u0448\\u043b\\u043e \\u043d\\u0435 \\u0442\\u0430\\u043a\"}))}finally{m(Object(S.a)(null)),d&&d()}}},s?i.a.createElement(o.a,{length:\"auto-fit\"},e.map((e=>i.a.createElement(u,{key:e.id,item:e})))):i.a.createElement(u,{item:e}))},N=({item:e,checked:t,appearance:a,component:n,withoutActions:l,withoutChecked:c,onChecked:r,onLink:o,onEdit:d,onDelete:s})=>i.a.cloneElement(n,{checked:t,appearance:a,onChecked:!c&&(t=>r({...e,checked:t})),onLink:o&&(()=>o(e)),onEdit:!l&&d&&(()=>d(e)),onDelete:!l&&s&&(()=>s(e))}),D=({render:e,title:t,icon:a,field:o,filters:s,options:m,template:u,limit:p=6,startOffset:h=6,buttonCreateText:g,getType:E,getQuery:b,deleteQuery:y,deleteEntityMultiText:f,deleteEntitySingleText:v,onLink:x,onEdit:k,onCreate:C,emptyMessage:T,withoutChecked:D})=>{const{displayMethod:M,visibleFilters:R}=Object(l.c)((e=>({displayMethod:e.root.displayMethod,visibleFilters:e.root.visibleFilters}))),P=Object(l.b)(),[V,q]=Object(n.useState)(!1),[A,Q]=Object(n.useState)([]),[z,W]=Object(n.useState)(\"list\"),B=Object(n.useCallback)((e=>{var t;return null===(t=A.find((t=>t[o]===e[o])))||void 0===t?void 0:t.checked}),[A]),F=e=>{Q((t=>{const a=t=>t[o]===e[o];return t.find(a)?t.map((t=>a(t)?{...e,checked:!t.checked}:{...t,checked:V||t.checked})):[...t,{...e,checked:!0}]})),q(!1)},G=()=>{const e=!V;Q((t=>t.map((t=>({...t,checked:!!I(t)&&e}))))),q(e)},J=t=>P(Object(S.a)({icon:\"delete\",color:\"red\",title:\"\\u0423\\u0434\\u0430\\u043b\\u0435\\u043d\\u0438\\u0435\",content:i.a.createElement(L,{item:t,query:y,component:t=>i.a.cloneElement(e(t.item),{appearance:\"clear\",onEdit:null,onDelete:null}),entityMultiText:f,entitySingleText:v,onSubmit:()=>W(Object(c.a)())})}));return Object(n.useEffect)((()=>{const e=A.reduce(((e,t)=>e+(t.checked?1:0)),0);A.length>0&&e===A.length&&q(!0)}),[A]),i.a.createElement(d.a,{title:t},i.a.createElement(r.a,null,i.a.createElement(j.b,{title:t,icon:a,checked:V,defaultDisplayMethod:M,defaultVisibleFilters:R,buttonDeleteDisabled:!A.find((e=>e.checked)),buttonCreateText:g,onCreate:C,onChecked:()=>\"grid\"===M&&G&&G(),onChangeVisibleFilter:()=>P(Object(_.u)(!R)),onChangeDisplayMethod:e=>P(Object(_.l)(e.value)),onDeleteAll:()=>J(A.filter((e=>e.checked))),withoutFooter:\"list\"===M,withFilters:s&&m}),(s||m)&&i.a.createElement(w.a,{isOpen:R,filters:s,options:m}),i.a.createElement(O,{key:z,limit:p,type:E,query:b,template:u,startOffset:h,setCheckedList:Q,component:t=>i.a.createElement(N,{item:t,component:e(t),checked:I(t)&&(V||B(t)),onChecked:F,onLink:e=>x(e),onEdit:e=>k(e),onDelete:J,withoutChecked:D}),emptyMessage:T,onChecked:F,onClick:e=>x(e),onEdit:e=>k(e),onDelete:J})))};D.defaultProps={field:\"id\"};t.b=D},p9yE:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),i=a.n(n),l=a(\"g4pe\"),c=a.n(l),r=a(\"YFqc\"),o=a.n(r),d=a(\"20a2\"),s=a(\"vOnD\"),m=a(\"VX74\"),u=a(\"/MKj\"),p=a(\"nShV\"),h=a(\"N0uN\"),g=a(\"t7jn\"),E=a(\"VWQm\"),b=a(\"auMy\"),y=a(\"8CDE\"),f=a(\"ZeZO\"),v=a(\"V0nP\"),x=a(\"feIE\"),k=a(\"wOhW\"),O=a(\"ApjV\"),w=a(\"586Q\"),j=a(\"ThpJ\"),C=a(\"RKiZ\"),_=a(\"7sPp\"),S=a(\"QUga\"),T=a(\"hfch\"),I=a(\"NWnW\");const L=\"rgba(255, 255, 255, 25%)\",N=Object(s.d)(p.b).withConfig({displayName:\"SideBar__Wrap\",componentId:\"sc-158a552-0\"})([\"--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}\"]),D=Object(s.d)(p.b).withConfig({displayName:\"SideBar__Profile\",componentId:\"sc-158a552-1\"})([\"padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);\",\"{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}\"],j.a),M=Object(s.d)(y.a).withConfig({displayName:\"SideBar__Info\",componentId:\"sc-158a552-2\"})([\"grid-gap:0;\"]),R=Object(s.d)(_.a).withConfig({displayName:\"SideBar__Name\",componentId:\"sc-158a552-3\"})([\"font-size:var(--font-h4);font-weight:var(--font-weight-medium);\"]),P=Object(s.d)(S.b).withConfig({displayName:\"SideBar__Role\",componentId:\"sc-158a552-4\"})([\"color:\",\";\"],L),V=s.d.div.withConfig({displayName:\"SideBar__Strip\",componentId:\"sc-158a552-5\"})([\"display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}\"]),q=Object(s.d)(p.b).withConfig({displayName:\"SideBar__Label\",componentId:\"sc-158a552-6\"})([\"align-items:center;\"]),A=Object(s.d)(x.a).withConfig({displayName:\"SideBar__LabelIcon\",componentId:\"sc-158a552-7\"})([\"width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);\",\" @media only screen and (max-width:480px){background:var(--default-color-accent-dim);\",\" svg{path{stroke:var(--default-color-accent);\",\"}}}\"],(({active:e})=>e&&Object(s.c)([\"background:white;\"])),(({active:e})=>e&&Object(s.c)([\"background:var(--default-color-accent);\"])),(({active:e})=>e&&Object(s.c)([\"stroke:white;\"]))),Q=Object(s.d)(S.b).withConfig({displayName:\"SideBar__LabelText\",componentId:\"sc-158a552-8\"})([\"color:\",\";font-weight:var(--font-weight-medium);\",\"\"],L,(({active:e})=>e&&Object(s.c)([\"color:white;\"]))),z=({active:e,icon:t,text:a,count:n})=>i.a.createElement(V,null,i.a.createElement(q,null,i.a.createElement(A,{icon:t,size:\"xs\",stroke:e?\"var(--default-color-accent)\":L,active:e}),i.a.createElement(Q,{active:e},a)),n&&i.a.createElement(T.a,{count:n,size:\"xs\",style:e?{}:{background:L,borderColor:\"transparent\",color:\"var(--admin-color-accent)\"}})),W=({user:e,link:t,links:a,...n})=>i.a.createElement(N,n,i.a.createElement(D,null,i.a.createElement(j.b,{src:e.avatar,alt:\"Avatar\",size:\"m\"}),i.a.createElement(M,null,i.a.createElement(R,null,e.name),i.a.createElement(P,null,Object(I.g)(e.role)))),i.a.createElement(C.a,{style:{background:\"var(--admin-color-accent-dim)\",margin:\"10px 0\"}}),a&&a.length>0&&a.map(((e,a)=>i.a.createElement(i.a.Fragment,{key:a},e.divide&&i.a.createElement(C.a,{style:{background:\"var(--admin-color-accent-dim)\",margin:\"10px 0\"}}),i.a.createElement(t,{href:e.path},e.component)))));W.defaultProps={link:({children:e,...t})=>i.a.createElement(\"a\",t,e)};var B=W,F=a(\"h4VS\"),G=a(\"QclZ\"),J=a(\"ZwIX\"),U=i.a.createElement;function Z(){var e=Object(F.a)([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  width: 100%;\\n  height: 100%;\\n  flex-grow: 1;\\n\"]);return Z=function(){return e},e}function H(){var e=Object(F.a)([\"\\n  padding: var(--default-gap);\\n\"]);return H=function(){return e},e}var K=Object(s.d)(y.a)(H()),X=s.d.div(Z()),Y=function(e){var t=e.result,a=e.search,l=e.loading,c=e.entities,r=e.initialEntity,o=e.appearance,d=e.style,s=e.className,m=e.onChange,u=e.onSubmit,p=Object(n.useState)(r),h=p[0],E=p[1],y=Object(n.useRef)(null);return Object(n.useEffect)((function(){m&&m(h)}),[h,m]),U(K,{style:d,className:s,appearance:o},U(G.a,{appearance:\"ghost\",defaultValue:h,placeholder:\"\\u0413\\u0434\\u0435 \\u0431\\u0443\\u0434\\u0435\\u043c \\u0438\\u0441\\u043a\\u0430\\u0442\\u044c?\",label:\"\\u0417\\u043e\\u043d\\u0430 \\u043f\\u043e\\u0438\\u0441\\u043a\\u0430\",options:c,onChange:function(e){E(e),null!==y&&void 0!==y&&y.current&&(y.current.value=\"\",u&&u(\"\"))},isLoading:l,isSearchable:!0,isClearable:!0}),!l&&h&&U(i.a.Fragment,null,U(g.a,{ref:y,appearance:\"ghost\",placeholder:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",defaultValue:a,onSubmit:u}),(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return h.render&&U(i.a.Fragment,{key:e.id||e.email},h.render(e))})):U(J.a,{style:{width:\"100%\",textAlign:\"center\",flexGrow:1}},\"\\u041d\\u0438\\u0447\\u0435\\u0433\\u043e \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d\\u043e\")),l&&U(X,null,U(b.a,null)))};Y.defaultProps={appearance:\"clear\"};var $=Y,ee=a(\"OqOz\"),te=a(\"qOKH\");const ae=Object(n.memo)((({data:e,loading:t,search:a,entity:n,entities:l,onChange:c,onSubmit:r})=>{const o=Object(u.b)(),d=()=>o(Object(te.a)(null));return i.a.createElement($,{search:a,loading:t,initialEntity:n,result:a&&e&&n&&e[null===n||void 0===n?void 0:n.value],entities:(l||[]).map((e=>({...e,render:t=>i.a.createElement(ee.a,{key:t.id||t.email,item:t,appearance:\"clear\",component:e.render(t),onLink:d,onEdit:d,onDelete:d,withoutChecked:!0})}))),onSubmit:r,onChange:c})}));var ne=Object(n.memo)((({search:e,entity:t,entities:a,setSearch:n,onHide:l,onChange:c})=>{const[r,{data:o,loading:d,refetch:s}]=t?Object(m.useLazyQuery)(t.query):[null,{data:null,loading:!1,refetch:null}];return i.a.createElement(ae,{data:o,entity:t,search:e,loading:d,entities:a,onHide:l,onChange:c,onSubmit:e=>{const t={search:e};n&&n(e),e&&(s&&s(t),r&&r({variables:t}))}})})),ie=a(\"TsNn\"),le=a(\"yEVw\"),ce=a(\"UwjQ\"),re=a(\"1zqG\"),oe=a(\"4nJQ\"),de=a(\"4NP5\"),se=a(\"u2Cb\");const me=[{value:\"getUsers\",label:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438\",singlePath:\"user\",originPath:\"users\",query:se.a.GET_USERS,deleteQuery:se.a.DELETE_USER,deleteEntityMultiText:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438\",deleteEntitySingleText:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c\",render:e=>i.a.createElement(ie.a,{user:e})},{value:\"getCategories\",label:\"\\u041a\\u0430\\u0442\\u0435\\u0433\\u043e\\u0440\\u0438\\u0438\",singlePath:\"category\",originPath:\"categories\",query:se.a.GET_CATEGORIES,deleteQuery:se.a.DELETE_CATEGORY,deleteEntityMultiText:\"\\u041a\\u0430\\u0442\\u0435\\u0433\\u043e\\u0440\\u0438\\u0438\",deleteEntitySingleText:\"\\u041a\\u0430\\u0442\\u0435\\u0433\\u043e\\u0440\\u0438\\u044f\",render:e=>i.a.createElement(le.a,{category:e})},{value:\"getArticles\",label:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u0438\",singlePath:\"article\",originPath:\"articles\",query:se.a.GET_ARTICLES,deleteQuery:se.a.DELETE_ARTICLE,deleteEntityMultiText:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u0438\",deleteEntitySingleText:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u044f\",render:e=>i.a.createElement(ce.a,{article:e})},{value:\"getProjects\",label:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",singlePath:\"project\",originPath:\"projects\",query:se.a.GET_PROJECTS,deleteQuery:se.a.DELETE_PROJECT,deleteEntityMultiText:\"\\u041f\\u0440\\u043e\\u0434\\u0443\\u043a\\u0442\\u044b\",deleteEntitySingleText:\"\\u041f\\u0440\\u043e\\u0434\\u0443\\u043a\\u0442\",render:e=>i.a.createElement(re.c,{project:e,preview:!0})},{value:\"getTickets\",label:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",singlePath:\"ticket\",originPath:\"tickets\",query:se.a.GET_TICKETS,deleteQuery:se.a.DELETE_TICKET,deleteEntityMultiText:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",deleteEntitySingleText:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",render:e=>i.a.createElement(oe.a,{ticket:e})},{value:\"getRoles\",label:\"\\u0420\\u043e\\u043b\\u0438\",singlePath:\"role\",originPath:\"roles\",query:se.a.GET_ROLES,deleteQuery:se.a.DELETE_ROLE,deleteEntityMultiText:\"\\u0420\\u043e\\u043b\\u0438\",deleteEntitySingleText:\"\\u0420\\u043e\\u043b\\u044c\",render:e=>i.a.createElement(de.a,{role:e})}];var ue=({onJump:e,onHide:t})=>{const[a,l]=Object(n.useState)(null),[c,r]=Object(n.useState)(null);return i.a.createElement(ne,{search:c,entity:a,entities:me,setSearch:r,onChange:l,onJump:e,onHide:t})},pe=a(\"+EEm\"),he=a(\"8ihE\"),ge=a(\"rOcY\");var Ee=e=>{const t=t=>e.find((e=>e===t)),a=[{path:\"/\",component:i.a.createElement(z,{icon:\"activity\",text:\"\\u0413\\u043b\\u0430\\u0432\\u043d\\u0430\\u044f\"})}],n=t(\"VIEW_USER\"),l=t(\"VIEW_CATEGORY\"),c=t(\"VIEW_ARTICLE\"),r=t(\"VIEW_PROJECT\"),o=t(\"VIEW_TICKET\"),d=t(\"VIEW_ROLE\"),s=t(\"VIEW_USER\");return n&&a.push({path:\"/users\",component:i.a.createElement(z,{icon:\"user2\",text:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438\"})}),l&&a.push({path:\"/categories\",component:i.a.createElement(z,{icon:\"folder\",text:\"\\u041a\\u0430\\u0442\\u0435\\u0433\\u043e\\u0440\\u0438\\u0438\"})}),c&&a.push({path:\"/articles\",component:i.a.createElement(z,{icon:\"document\",text:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u0438\"})}),r&&a.push({path:\"/projects\",component:i.a.createElement(z,{icon:\"work\",text:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\"})}),o&&a.push({path:\"/tickets\",component:i.a.createElement(z,{icon:\"ticket\",text:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\"})}),d&&a.push({divide:!0,path:\"/roles\",component:i.a.createElement(z,{icon:\"lock\",text:\"\\u0420\\u043e\\u043b\\u0438\"})}),s&&a.push({path:\"/settings\",component:i.a.createElement(z,{icon:\"setting\",text:\"\\u041d\\u0430\\u0441\\u0442\\u0440\\u043e\\u0439\\u043a\\u0438\"})}),a};const be=s.d.main.withConfig({displayName:\"dashboard__Main\",componentId:\"sc-9r28sr-0\"})([\"display:flex;grid-gap:var(--default-gap);width:100%;\"]),ye=s.d.header.withConfig({displayName:\"dashboard__Header\",componentId:\"sc-9r28sr-1\"})([\"position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;\"]),fe=Object(s.d)(B).withConfig({displayName:\"dashboard__SideBar\",componentId:\"sc-9r28sr-2\"})([\"position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}\"]),ve=Object(s.d)(f.a).withConfig({displayName:\"dashboard__MenuButton\",componentId:\"sc-9r28sr-3\"})([\"display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}\"]),xe=Object(s.d)(p.b).withConfig({displayName:\"dashboard__LogoZone\",componentId:\"sc-9r28sr-4\"})([\"justify-content:space-between;@media only screen and (max-width:996px){width:auto;}\"]),ke=s.d.div.withConfig({displayName:\"dashboard__Logotype\",componentId:\"sc-9r28sr-5\"})([\"display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}\"]),Oe=Object(s.d)(h.a).withConfig({displayName:\"dashboard__Content\",componentId:\"sc-9r28sr-6\"})([\"padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}\"]);t.a=({children:e,title:t=\"\\u041f\\u0430\\u043d\\u0435\\u043b\\u044c \\u0430\\u0434\\u043c\\u0438\\u043d\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f\"})=>{var a,l;const r=Object(O.b)(),s=Object(d.useRouter)(),{root:p,user:h}=Object(u.c)((e=>e)),[f,{data:j,loading:C}]=Object(m.useLazyQuery)(se.a.GET_USER),_=Object(u.b)();return Object(n.useEffect)((()=>{localStorage.getItem(ge.a.get(\"secret\"))?f():s.push(\"/\")}),[]),Object(n.useEffect)((()=>{if(j&&j.getUser){var e;(null===(e=j.getUser.role)||void 0===e?void 0:e.permissions.find((e=>\"ACCESS_DASHBOARD\"===e)))?_(Object(he.b)(j.getUser)):s.push(\"/\")}}),[j,_]),C||!h.authenticated?i.a.createElement(w.a,null,i.a.createElement(b.a,null)):i.a.createElement(k.a,null,i.a.createElement(c.a,null,i.a.createElement(\"meta\",{name:\"keywords\",content:\"next,javascript,nextjs,react\"}),i.a.createElement(\"meta\",{name:\"description\",content:p.settings.meta.description}),i.a.createElement(\"title\",null,t)),i.a.createElement(ye,null,i.a.createElement(ve,{kind:\"icon\",appearance:\"clear\",onClick:r(pe.e,{links:Ee((null===h||void 0===h?void 0:h.role.permissions)||[]).map(((e,t)=>({id:t,text:e.component,onClick:()=>s.push(`/dashboard${e.path}`)})))})},i.a.createElement(x.a,{icon:\"menu\"})),i.a.createElement(xe,null,i.a.createElement(E.b,{text:p.settings.meta.description,offset:{bottom:5},place:\"bottom\",maxWidth:256,multiline:!0},i.a.createElement(ke,null,i.a.createElement(o.a,{href:\"/\"},i.a.createElement(\"a\",null,i.a.createElement(v.a,{src:null===(a=p.settings.general.logotype)||void 0===a?void 0:a.path,alt:\"Logotype\"})))))),i.a.createElement(g.a,{appearance:\"ghost\",onClick:()=>_(Object(te.a)([{path:\"/\",title:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",component:({jump:e,close:t})=>i.a.createElement(ue,{onJump:e,onHide:t})}],\"l\")),disable:!0})),i.a.createElement(be,null,i.a.createElement(fe,{user:{name:h.name,role:h.role.name,avatar:(null===h||void 0===h||null===(l=h.avatar)||void 0===l?void 0:l.path)||\"/images/avatar-default.png\"},link:o.a,links:Ee((null===h||void 0===h?void 0:h.role.permissions)||[]).map(((e,t)=>{const a=`/dashboard${e.path.length>1?e.path:\"\"}`;return{...e,path:a,component:i.a.createElement(\"a\",{key:t,className:s.pathname===a?\"active\":\"\"},i.a.cloneElement(e.component,{active:s.pathname===a}))}}))}),i.a.createElement(Oe,null,i.a.createElement(y.a,null,e))))}}}]);","map":{"version":3,"sources":["static/chunks/0155a6e2201deb97663c396cb63f2fe949413f7c.478a8768c7f997e8bc71.js"],"names":["window","push","OqOz","module","__webpack_exports__","__webpack_require__","d","Card","react","react_default","n","es","v4","Column","Grid","dashboard","client","next_router","styled_components_browser_esm","Row","Spinner","Divider","Button","Table","Alert","Styled","LazyLoad","Wrap","div","withConfig","displayName","componentId","Content","Object","type","limit","template","component","variables","loading","refetch","initialList","setCheckedList","onChecked","onClick","onEdit","onDelete","_router$query","router","displayMethod","state","root","page","setPage","Number","query","items","setItems","isLoading","setIsLoading","isEnd","setIsEnd","length","a","createElement","map","item","key","id","email","data","Fragment","style","justifyContent","disabled","width","async","response","offset","list","prev","components_List","FilterBar","HandleBar","FormDelete","drawer","snacks","getIsAdmin","document","_document$name","name","toUpperCase","Delete","entityMultiText","entitySingleText","onSubmit","isArray","Array","dispatch","Component","mutation","appearance","onCancel","_","action","doc","message","err","checked","withoutActions","withoutChecked","onLink","cloneElement","ContentLayout","render","title","icon","field","filters","options","startOffset","buttonCreateText","getType","getQuery","deleteQuery","deleteEntityMultiText","deleteEntitySingleText","onCreate","emptyMessage","visibleFilters","isAllChecked","setIsAllChecked","checkedList","updated","setUpdated","getIsAnyChecked","_checkedList$find","find","isExists","onAllChecked","value","color","content","props","countChecked","reduce","acc","curr","defaultDisplayMethod","defaultVisibleFilters","buttonDeleteDisabled","onChangeVisibleFilter","onChangeDisplayMethod","onDeleteAll","filter","withoutFooter","withFilters","isOpen","defaultProps","p9yE","head","head_default","next_link","link_default","Container","Search","Tooltip","Image","Icon","main","useHelper","Avatar","Title","Text","Badge","functions","defaultColor","Profile","Info","Name","Role","Strip","Label","LabelIcon","active","LabelText","LinkStrip","text","count","size","stroke","background","borderColor","Side","user","link","Link","links","src","avatar","alt","role","margin","index","divide","href","path","children","SideBar","taggedTemplateLiteral","Select","__jsx","_templateObject2","_templateObject","GlobalSearch_Wrap","Loader","GlobalSearch_GlobalSearch","_ref","result","search","entities","initialEntity","className","onChange","_useState","entity","setEntity","searchRef","defaultValue","placeholder","label","current","isSearchable","isClearable","ref","textAlign","flexGrow","components_GlobalSearch","modal","Query","hideModal","elem","components_QuerySearch","setSearch","onHide","load","UserCard","CategoryCard","ArticleCard","ProjectCard","TicketCard","RoleCard","queries","mocks_entities","singlePath","originPath","GET_USERS","DELETE_USER","GET_CATEGORIES","DELETE_CATEGORY","category","GET_ARTICLES","DELETE_ARTICLE","article","GET_PROJECTS","DELETE_PROJECT","project","preview","GET_TICKETS","DELETE_TICKET","ticket","GET_ROLES","DELETE_ROLE","components_Search","onJump","helpers","actions_user","config","dashboard_links","permissions","getAccess","permission","isHasAccessToUsers","isHasAccessToCategories","isHasAccessToArticles","isHasAccessToProjects","isHasAccessToTickets","isHasAccessToRoles","isHasAccessToSettings","Main","Header","header","dashboard_SideBar","MenuButton","LogoZone","Logotype","_root$settings$genera","_user$avatar","recall","getUser","GET_USER","localStorage","getItem","get","_data$getUser$role","authenticated","settings","meta","description","kind","bottom","place","maxWidth","multiline","general","logotype","jump","close","disable","pathname"],"mappings":"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"},"name":"static/chunks/0155a6e2201deb97663c396cb63f2fe949413f7c.478a8768c7f997e8bc71.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[7],{\n\n/***/ \"OqOz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ Card; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(\"7Cbv\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Grid/index.js\nvar Grid = __webpack_require__(\"7BXr\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 6 modules\nvar dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/index.js\nvar Table = __webpack_require__(\"EJJs\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./components/Styled/index.js\nvar Styled = __webpack_require__(\"586Q\");\n\n// EXTERNAL MODULE: ./components/LazyLoad/index.js\nvar LazyLoad = __webpack_require__(\"VP1n\");\n\n// CONCATENATED MODULE: ./components/List/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = styled_components_browser_esm[\"d\" /* default */].div.withConfig({\n  displayName: \"List__Wrap\",\n  componentId: \"sc-1jo6mxw-0\"\n})([\"\", \"{width:calc(100vw - 280px);}\"], Table[\"b\" /* Wrap */]);\nconst CenterAlert = Object(styled_components_browser_esm[\"d\" /* default */])(Alert[\"a\" /* default */]).withConfig({\n  displayName: \"List__CenterAlert\",\n  componentId: \"sc-1jo6mxw-1\"\n})([\"width:100%;text-align:center;\"]);\nconst Content = ({\n  type,\n  limit = 6,\n  template,\n  component,\n  variables,\n  loading,\n  refetch,\n  initialList,\n  setCheckedList,\n  onChecked,\n  onClick,\n  onEdit,\n  onDelete\n}) => {\n  var _router$query;\n\n  const router = Object(next_router[\"useRouter\"])();\n  const displayMethod = Object(es[\"c\" /* useSelector */])(state => state.root.displayMethod);\n  const [page, setPage] = Object(react[\"useState\"])(Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1);\n  const [items, setItems] = Object(react[\"useState\"])(initialList || []);\n  const [isLoading, setIsLoading] = Object(react[\"useState\"])(false);\n  const [isEnd, setIsEnd] = Object(react[\"useState\"])(false);\n\n  const loadMore = async () => {\n    if (!isEnd && !loading && refetch) {\n      setIsLoading(true);\n      const response = await refetch({ ...variables,\n        offset: limit * page,\n        limit\n      });\n\n      if (response !== null && response !== void 0 && response.data) {\n        const list = response.data[type];\n        if (list.length === 0) setIsEnd(true);\n        if (list.length > 0) setItems(prev => [...prev, ...list]);\n        setPage(prev => prev + 1);\n      }\n\n      setIsLoading(false);\n    }\n  }; // Necessary for determination checkList outside [content]\n\n\n  Object(react[\"useEffect\"])(() => {\n    if ((items === null || items === void 0 ? void 0 : items.length) > 0 && setCheckedList) setCheckedList(items);\n  }, [items, setCheckedList]);\n  return /*#__PURE__*/react_default.a.createElement(Wrap, null, displayMethod === 'grid' && /*#__PURE__*/react_default.a.createElement(Styled[\"b\" /* GridAside */], null, (items || []).map(item => /*#__PURE__*/react_default.a.createElement(LazyLoad[\"a\" /* default */], {\n    key: item.id || item.email\n  }, component(item)))), displayMethod === 'list' && /*#__PURE__*/react_default.a.createElement(Table[\"c\" /* default */], {\n    data: items,\n    template: template,\n    onChecked: onChecked,\n    onClick: onClick,\n    onEdit: onEdit,\n    onDelete: onDelete\n  }), (loading || isLoading) && /*#__PURE__*/react_default.a.createElement(Styled[\"d\" /* LowerLoader */], {\n    key: 'loader'\n  }, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null)), !isEnd && !loading && /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], null), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], {\n    style: {\n      justifyContent: 'center'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    type: 'button',\n    disabled: isLoading,\n    style: {\n      width: 245\n    },\n    onClick: loadMore\n  }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435\"))));\n};\nconst List = ({\n  type,\n  query,\n  limit,\n  template,\n  variables,\n  component,\n  setCheckedList,\n  onChecked,\n  onClick,\n  onEdit,\n  onDelete\n}) => {\n  const {\n    data,\n    loading,\n    refetch\n  } = Object(client[\"useQuery\"])(query, {\n    variables: { ...variables,\n      offset: 0,\n      limit\n    }\n  });\n\n  if (loading) {\n    return /*#__PURE__*/react_default.a.createElement(Styled[\"d\" /* LowerLoader */], {\n      key: 'loader'\n    }, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(Content, {\n    type: type,\n    limit: limit,\n    refetch: refetch,\n    template: template,\n    component: component,\n    initialList: type && data && data[type],\n    setCheckedList: setCheckedList,\n    onChecked: onChecked,\n    onDelete: onDelete,\n    onClick: onClick,\n    onEdit: onEdit\n  });\n};\n/* harmony default export */ var components_List = (List);\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/FormDelete/index.js\nvar FormDelete = __webpack_require__(\"xAqQ\");\n\n// EXTERNAL MODULE: ./store/actions/root.js\nvar root = __webpack_require__(\"Sza6\");\n\n// EXTERNAL MODULE: ./store/actions/drawer.js\nvar drawer = __webpack_require__(\"Ztxg\");\n\n// EXTERNAL MODULE: ./store/actions/snacks.js\nvar snacks = __webpack_require__(\"9Xo6\");\n\n// CONCATENATED MODULE: ./layouts/dashboard/content.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst getIsAdmin = document => {\n  var _document$name;\n\n  return (document === null || document === void 0 ? void 0 : (_document$name = document.name) === null || _document$name === void 0 ? void 0 : _document$name.toUpperCase()) !== 'ADMIN';\n};\n\nconst Delete = ({\n  item,\n  query,\n  component,\n  entityMultiText,\n  entitySingleText,\n  onSubmit\n}) => {\n  const isArray = Object(react[\"useMemo\"])(() => Array.isArray(item), [item]);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const Component = component;\n  return /*#__PURE__*/react_default.a.createElement(FormDelete[\"a\" /* default */], {\n    mutation: query,\n    appearance: 'clear',\n    onCancel: () => dispatch(Object(drawer[\"a\" /* setDrawer */])(null)),\n    onSubmit: async (_, action) => {\n      try {\n        await action({\n          variables: {\n            id: isArray ? item.map(doc => doc.id) : [item.id]\n          }\n        });\n        dispatch(Object(snacks[\"c\" /* setItem */])({\n          type: 'success',\n          message: isArray ? `${entityMultiText} успешно удалены` : `${entitySingleText} успешно удален`\n        }));\n      } catch (err) {\n        if (err) {\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Что-то пошло не так'\n          }));\n        }\n      } finally {\n        dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n        if (onSubmit) onSubmit();\n      }\n    }\n  }, isArray ? /*#__PURE__*/react_default.a.createElement(Grid[\"a\" /* default */], {\n    length: 'auto-fit'\n  }, item.map(document => /*#__PURE__*/react_default.a.createElement(Component, {\n    key: document.id,\n    item: document\n  }))) : /*#__PURE__*/react_default.a.createElement(Component, {\n    item: item\n  }));\n};\n\nconst Card = ({\n  item,\n  checked,\n  appearance,\n  component,\n  withoutActions,\n  withoutChecked,\n  onChecked,\n  onLink,\n  onEdit,\n  onDelete\n}) => react_default.a.cloneElement(component, {\n  checked,\n  appearance,\n  onChecked: !withoutChecked && (checked => onChecked({ ...item,\n    checked\n  })),\n  onLink: onLink && (() => onLink(item)),\n  onEdit: !withoutActions && onEdit && (() => onEdit(item)),\n  onDelete: !withoutActions && onDelete && (() => onDelete(item))\n});\n\nconst ContentLayout = ({\n  render,\n  title,\n  icon,\n  field,\n  filters,\n  options,\n  template,\n  limit = 6,\n  startOffset = 6,\n  buttonCreateText,\n  getType,\n  getQuery,\n  deleteQuery,\n  deleteEntityMultiText,\n  deleteEntitySingleText,\n  onLink,\n  onEdit,\n  onCreate,\n  emptyMessage,\n  withoutChecked\n}) => {\n  const {\n    displayMethod,\n    visibleFilters\n  } = Object(es[\"c\" /* useSelector */])(state => ({\n    displayMethod: state.root.displayMethod,\n    visibleFilters: state.root.visibleFilters\n  }));\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const [isAllChecked, setIsAllChecked] = Object(react[\"useState\"])(false);\n  const [checkedList, setCheckedList] = Object(react[\"useState\"])([]);\n  const [updated, setUpdated] = Object(react[\"useState\"])('list');\n  const getIsAnyChecked = Object(react[\"useCallback\"])(item => {\n    var _checkedList$find;\n\n    return (_checkedList$find = checkedList.find(document => document[field] === item[field])) === null || _checkedList$find === void 0 ? void 0 : _checkedList$find.checked;\n  }, [checkedList]);\n\n  const onChecked = document => {\n    setCheckedList(prev => {\n      const isExists = item => item[field] === document[field];\n\n      const candidate = prev.find(isExists);\n\n      if (candidate) {\n        return prev.map(item => isExists(item) ? { ...document,\n          checked: !item.checked\n        } : { ...item,\n          checked: isAllChecked || item.checked\n        });\n      } else {\n        return [...prev, { ...document,\n          checked: true\n        }];\n      }\n    });\n    setIsAllChecked(false);\n  };\n\n  const onAllChecked = () => {\n    const value = !isAllChecked;\n    setCheckedList(prev => prev.map(item => ({ ...item,\n      checked: getIsAdmin(item) ? value : false\n    })));\n    setIsAllChecked(value);\n  };\n\n  const onDelete = item => dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление',\n    content: /*#__PURE__*/react_default.a.createElement(Delete, {\n      item: item,\n      query: deleteQuery,\n      component: props => react_default.a.cloneElement(render(props.item), {\n        appearance: 'clear',\n        onEdit: null,\n        onDelete: null\n      }),\n      entityMultiText: deleteEntityMultiText,\n      entitySingleText: deleteEntitySingleText,\n      onSubmit: () => setUpdated(Object(v4[\"a\" /* default */])())\n    })\n  }));\n\n  const onDeleteAll = () => onDelete(checkedList.filter(document => document.checked));\n\n  Object(react[\"useEffect\"])(() => {\n    const countChecked = checkedList.reduce((acc, curr) => acc + (curr.checked ? 1 : 0), 0);\n\n    if (checkedList.length > 0 && countChecked === checkedList.length) {\n      setIsAllChecked(true);\n    }\n  }, [checkedList]);\n  return /*#__PURE__*/react_default.a.createElement(dashboard[\"a\" /* default */], {\n    title: title\n  }, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(HandleBar[\"b\" /* default */], {\n    title: title,\n    icon: icon,\n    checked: isAllChecked,\n    defaultDisplayMethod: displayMethod,\n    defaultVisibleFilters: visibleFilters,\n    buttonDeleteDisabled: !checkedList.find(item => item.checked),\n    buttonCreateText: buttonCreateText,\n    onCreate: onCreate,\n    onChecked: () => displayMethod === 'grid' && onAllChecked && onAllChecked(),\n    onChangeVisibleFilter: () => dispatch(Object(root[\"u\" /* setVisibleFilters */])(!visibleFilters)),\n    onChangeDisplayMethod: item => dispatch(Object(root[\"l\" /* setDisplayMethod */])(item.value)),\n    onDeleteAll: onDeleteAll,\n    withoutFooter: displayMethod === 'list',\n    withFilters: filters && options\n  }), (filters || options) && /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilters,\n    filters: filters,\n    options: options\n  }), /*#__PURE__*/react_default.a.createElement(components_List, {\n    key: updated,\n    limit: limit,\n    type: getType,\n    query: getQuery,\n    template: template,\n    startOffset: startOffset,\n    setCheckedList: setCheckedList,\n    component: item => /*#__PURE__*/react_default.a.createElement(Card, {\n      item: item,\n      component: render(item),\n      checked: getIsAdmin(item) && (isAllChecked || getIsAnyChecked(item)),\n      onChecked: onChecked,\n      onLink: item => onLink(item),\n      onEdit: item => onEdit(item),\n      onDelete: onDelete,\n      withoutChecked: withoutChecked\n    }),\n    emptyMessage: emptyMessage,\n    onChecked: onChecked,\n    onClick: item => onLink(item),\n    onEdit: item => onEdit(item),\n    onDelete: onDelete\n  })));\n};\n\nContentLayout.defaultProps = {\n  field: 'id'\n};\n/* harmony default export */ var content = __webpack_exports__[\"b\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"p9yE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// UNUSED EXPORTS: DashboardLayout\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/next/head.js\nvar head = __webpack_require__(\"g4pe\");\nvar head_default = /*#__PURE__*/__webpack_require__.n(head);\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Container/index.js\nvar Container = __webpack_require__(\"N0uN\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Search/index.js\nvar Search = __webpack_require__(\"t7jn\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Tooltip/index.js\nvar Tooltip = __webpack_require__(\"VWQm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Image/index.js\nvar Image = __webpack_require__(\"V0nP\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Icon/index.js + 109 modules\nvar Icon = __webpack_require__(\"feIE\");\n\n// EXTERNAL MODULE: ./layouts/main.js + 4 modules\nvar main = __webpack_require__(\"wOhW\");\n\n// EXTERNAL MODULE: ./hooks/useHelper.js\nvar useHelper = __webpack_require__(\"ApjV\");\n\n// EXTERNAL MODULE: ./components/Styled/index.js\nvar Styled = __webpack_require__(\"586Q\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Avatar/index.js\nvar Avatar = __webpack_require__(\"ThpJ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Title/index.js\nvar Title = __webpack_require__(\"7sPp\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Text/index.js\nvar Text = __webpack_require__(\"QUga\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Badge/index.js\nvar Badge = __webpack_require__(\"hfch\");\n\n// EXTERNAL MODULE: ./atomic-ui/utils/functions.js\nvar functions = __webpack_require__(\"NWnW\");\n\n// CONCATENATED MODULE: ./components/SideBar/index.js\n\n\n\n\n\n\n\n\n\n\n\nconst defaultColor = 'rgba(255, 255, 255, 25%)';\nconst activeColor = 'var(--default-color-accent)';\nconst Wrap = Object(styled_components_browser_esm[\"d\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Wrap\",\n  componentId: \"sc-158a552-0\"\n})([\"--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}\"]);\nconst Profile = Object(styled_components_browser_esm[\"d\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Profile\",\n  componentId: \"sc-158a552-1\"\n})([\"padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);\", \"{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}\"], Avatar[\"a\" /* Wrap */]);\nconst Info = Object(styled_components_browser_esm[\"d\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"SideBar__Info\",\n  componentId: \"sc-158a552-2\"\n})([\"grid-gap:0;\"]);\nconst Name = Object(styled_components_browser_esm[\"d\" /* default */])(Title[\"a\" /* default */]).withConfig({\n  displayName: \"SideBar__Name\",\n  componentId: \"sc-158a552-3\"\n})([\"font-size:var(--font-h4);font-weight:var(--font-weight-medium);\"]);\nconst Role = Object(styled_components_browser_esm[\"d\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Role\",\n  componentId: \"sc-158a552-4\"\n})([\"color:\", \";\"], defaultColor);\nconst Strip = styled_components_browser_esm[\"d\" /* default */].div.withConfig({\n  displayName: \"SideBar__Strip\",\n  componentId: \"sc-158a552-5\"\n})([\"display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}\"]);\nconst Label = Object(styled_components_browser_esm[\"d\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Label\",\n  componentId: \"sc-158a552-6\"\n})([\"align-items:center;\"]);\nconst LabelIcon = Object(styled_components_browser_esm[\"d\" /* default */])(Icon[\"a\" /* default */]).withConfig({\n  displayName: \"SideBar__LabelIcon\",\n  componentId: \"sc-158a552-7\"\n})([\"width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);\", \" @media only screen and (max-width:480px){background:var(--default-color-accent-dim);\", \" svg{path{stroke:var(--default-color-accent);\", \"}}}\"], ({\n  active\n}) => active && Object(styled_components_browser_esm[\"c\" /* css */])([\"background:white;\"]), ({\n  active\n}) => active && Object(styled_components_browser_esm[\"c\" /* css */])([\"background:var(--default-color-accent);\"]), ({\n  active\n}) => active && Object(styled_components_browser_esm[\"c\" /* css */])([\"stroke:white;\"]));\nconst LabelText = Object(styled_components_browser_esm[\"d\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__LabelText\",\n  componentId: \"sc-158a552-8\"\n})([\"color:\", \";font-weight:var(--font-weight-medium);\", \"\"], defaultColor, ({\n  active\n}) => active && Object(styled_components_browser_esm[\"c\" /* css */])([\"color:white;\"]));\nconst LinkStrip = ({\n  active,\n  icon,\n  text,\n  count\n}) => /*#__PURE__*/react_default.a.createElement(Strip, null, /*#__PURE__*/react_default.a.createElement(Label, null, /*#__PURE__*/react_default.a.createElement(LabelIcon, {\n  icon: icon,\n  size: 'xs',\n  stroke: active ? activeColor : defaultColor,\n  active: active\n}), /*#__PURE__*/react_default.a.createElement(LabelText, {\n  active: active\n}, text)), count && /*#__PURE__*/react_default.a.createElement(Badge[\"a\" /* default */], {\n  count: count,\n  size: 'xs',\n  style: !active ? {\n    background: defaultColor,\n    borderColor: 'transparent',\n    color: 'var(--admin-color-accent)'\n  } : {}\n}));\nconst Side = ({\n  user,\n  link: Link,\n  links,\n  ...props\n}) => /*#__PURE__*/react_default.a.createElement(Wrap, props, /*#__PURE__*/react_default.a.createElement(Profile, null, /*#__PURE__*/react_default.a.createElement(Avatar[\"b\" /* default */], {\n  src: user.avatar,\n  alt: 'Avatar',\n  size: 'm'\n}), /*#__PURE__*/react_default.a.createElement(Info, null, /*#__PURE__*/react_default.a.createElement(Name, null, user.name), /*#__PURE__*/react_default.a.createElement(Role, null, Object(functions[\"g\" /* getLabelRole */])(user.role)))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), links && links.length > 0 && links.map((link, index) => /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, {\n  key: index\n}, link.divide && /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), /*#__PURE__*/react_default.a.createElement(Link, {\n  href: link.path\n}, link.component))));\nSide.defaultProps = {\n  link: ({\n    children,\n    ...props\n  }) => /*#__PURE__*/react_default.a.createElement(\"a\", props, children)\n};\n/* harmony default export */ var SideBar = (Side);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(\"h4VS\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// CONCATENATED MODULE: ./atomic-ui/components/GlobalSearch/index.js\n\nvar __jsx = react_default.a.createElement;\n\nfunction _templateObject2() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  width: 100%;\\n  height: 100%;\\n  flex-grow: 1;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  padding: var(--default-gap);\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\n\n\n\nvar GlobalSearch_Wrap = Object(styled_components_browser_esm[\"d\" /* default */])(Column[\"a\" /* default */])(_templateObject());\nvar Loader = styled_components_browser_esm[\"d\" /* default */].div(_templateObject2());\n/*\n * const entities: entity[]\n * type entity = {\n *  label: string;\n *  value: ObjectID | string;\n *  render: ReactNode | Element | string;\n * }\n */\n\nvar GlobalSearch_GlobalSearch = function GlobalSearch(_ref) {\n  var result = _ref.result,\n      search = _ref.search,\n      loading = _ref.loading,\n      entities = _ref.entities,\n      initialEntity = _ref.initialEntity,\n      appearance = _ref.appearance,\n      style = _ref.style,\n      className = _ref.className,\n      onChange = _ref.onChange,\n      onSubmit = _ref.onSubmit;\n\n  var _useState = Object(react[\"useState\"])(initialEntity),\n      entity = _useState[0],\n      setEntity = _useState[1];\n\n  var searchRef = Object(react[\"useRef\"])(null);\n\n  var handleChange = function handleChange(value) {\n    setEntity(value);\n\n    if (searchRef !== null && searchRef !== void 0 && searchRef.current) {\n      searchRef.current.value = '';\n      if (onSubmit) onSubmit('');\n    }\n  };\n\n  var renderContent = function renderContent() {\n    return __jsx(react_default.a.Fragment, null, __jsx(Search[\"a\" /* default */], {\n      ref: searchRef,\n      appearance: 'ghost',\n      placeholder: 'Поиск',\n      defaultValue: search,\n      onSubmit: onSubmit\n    }), (result === null || result === void 0 ? void 0 : result.length) > 0 ? result.map(function (item) {\n      return entity.render && __jsx(react_default.a.Fragment, {\n        key: item.id || item.email\n      }, entity.render(item));\n    }) : __jsx(Alert[\"a\" /* default */], {\n      style: {\n        width: '100%',\n        textAlign: 'center',\n        flexGrow: 1\n      }\n    }, \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"));\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    if (onChange) onChange(entity);\n  }, [entity, onChange]);\n  return __jsx(GlobalSearch_Wrap, {\n    style: style,\n    className: className,\n    appearance: appearance\n  }, __jsx(Select[\"a\" /* default */], {\n    appearance: 'ghost',\n    defaultValue: entity,\n    placeholder: 'Где будем искать?',\n    label: 'Зона поиска',\n    options: entities,\n    onChange: handleChange,\n    isLoading: loading,\n    isSearchable: true,\n    isClearable: true\n  }), !loading && entity && renderContent(), loading && __jsx(Loader, null, __jsx(Spinner[\"a\" /* default */], null)));\n};\nGlobalSearch_GlobalSearch.defaultProps = {\n  appearance: 'clear'\n};\n/* harmony default export */ var components_GlobalSearch = (GlobalSearch_GlobalSearch);\n// EXTERNAL MODULE: ./layouts/dashboard/content.js + 1 modules\nvar content = __webpack_require__(\"OqOz\");\n\n// EXTERNAL MODULE: ./store/actions/modal.js\nvar modal = __webpack_require__(\"qOKH\");\n\n// CONCATENATED MODULE: ./components/QuerySearch/index.js\n\n\n\n\n\n\nconst Query = Object(react[\"memo\"])(({\n  data,\n  loading,\n  search,\n  entity,\n  entities,\n  onChange,\n  onSubmit\n}) => {\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n\n  const hideModal = () => dispatch(Object(modal[\"a\" /* setModal */])(null));\n\n  return /*#__PURE__*/react_default.a.createElement(components_GlobalSearch, {\n    search: search,\n    loading: loading,\n    initialEntity: entity,\n    result: search && data && entity && data[entity === null || entity === void 0 ? void 0 : entity.value],\n    entities: (entities || []).map(elem => ({ ...elem,\n      render: item => /*#__PURE__*/react_default.a.createElement(content[\"a\" /* Card */], {\n        key: item.id || item.email,\n        item: item,\n        appearance: 'clear',\n        component: elem.render(item),\n        onLink: hideModal,\n        onEdit: hideModal,\n        onDelete: hideModal,\n        withoutChecked: true\n      })\n    })),\n    onSubmit: onSubmit,\n    onChange: onChange\n  });\n});\nconst QuerySearch = Object(react[\"memo\"])(({\n  search,\n  entity,\n  entities,\n  setSearch,\n  onHide,\n  onChange\n}) => {\n  const initialResult = [null, {\n    data: null,\n    loading: false,\n    refetch: null\n  }];\n  const [load, {\n    data,\n    loading,\n    refetch\n  }] = entity ? Object(client[\"useLazyQuery\"])(entity.query) : initialResult;\n\n  const onSubmit = value => {\n    const variables = {\n      search: value\n    };\n    if (setSearch) setSearch(value);\n\n    if (value) {\n      if (refetch) {\n        refetch(variables);\n      }\n\n      if (load) {\n        load({\n          variables\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(Query, {\n    data: data,\n    entity: entity,\n    search: search,\n    loading: loading,\n    entities: entities,\n    onHide: onHide,\n    onChange: onChange,\n    onSubmit: onSubmit\n  });\n});\n/* harmony default export */ var components_QuerySearch = (QuerySearch);\n// EXTERNAL MODULE: ./components/UserCard/index.js\nvar UserCard = __webpack_require__(\"TsNn\");\n\n// EXTERNAL MODULE: ./components/CategoryCard/index.js\nvar CategoryCard = __webpack_require__(\"yEVw\");\n\n// EXTERNAL MODULE: ./components/ArticleCard/index.js + 1 modules\nvar ArticleCard = __webpack_require__(\"UwjQ\");\n\n// EXTERNAL MODULE: ./components/ProjectCard/index.js\nvar ProjectCard = __webpack_require__(\"1zqG\");\n\n// EXTERNAL MODULE: ./components/TicketCard/index.js\nvar TicketCard = __webpack_require__(\"4nJQ\");\n\n// EXTERNAL MODULE: ./components/RoleCard/index.js\nvar RoleCard = __webpack_require__(\"4NP5\");\n\n// EXTERNAL MODULE: ./graphql/queries/index.js + 16 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// CONCATENATED MODULE: ./components/Search/mocks/index.js\n\n\n\n\n\n\n\n\nconst mocks_entities = [{\n  value: 'getUsers',\n  label: 'Пользователи',\n  singlePath: 'user',\n  originPath: 'users',\n  query: queries[\"a\" /* default */].GET_USERS,\n  deleteQuery: queries[\"a\" /* default */].DELETE_USER,\n  deleteEntityMultiText: 'Пользователи',\n  deleteEntitySingleText: 'Пользователь',\n  render: item => /*#__PURE__*/react_default.a.createElement(UserCard[\"a\" /* default */], {\n    user: item\n  })\n}, {\n  value: 'getCategories',\n  label: 'Категории',\n  singlePath: 'category',\n  originPath: 'categories',\n  query: queries[\"a\" /* default */].GET_CATEGORIES,\n  deleteQuery: queries[\"a\" /* default */].DELETE_CATEGORY,\n  deleteEntityMultiText: 'Категории',\n  deleteEntitySingleText: 'Категория',\n  render: item => /*#__PURE__*/react_default.a.createElement(CategoryCard[\"a\" /* default */], {\n    category: item\n  })\n}, {\n  value: 'getArticles',\n  label: 'Статьи',\n  singlePath: 'article',\n  originPath: 'articles',\n  query: queries[\"a\" /* default */].GET_ARTICLES,\n  deleteQuery: queries[\"a\" /* default */].DELETE_ARTICLE,\n  deleteEntityMultiText: 'Статьи',\n  deleteEntitySingleText: 'Статья',\n  render: item => /*#__PURE__*/react_default.a.createElement(ArticleCard[\"a\" /* default */], {\n    article: item\n  })\n}, {\n  value: 'getProjects',\n  label: 'Проекты',\n  singlePath: 'project',\n  originPath: 'projects',\n  query: queries[\"a\" /* default */].GET_PROJECTS,\n  deleteQuery: queries[\"a\" /* default */].DELETE_PROJECT,\n  deleteEntityMultiText: 'Продукты',\n  deleteEntitySingleText: 'Продукт',\n  render: item => /*#__PURE__*/react_default.a.createElement(ProjectCard[\"c\" /* default */], {\n    project: item,\n    preview: true\n  })\n}, {\n  value: 'getTickets',\n  label: 'Обращения',\n  singlePath: 'ticket',\n  originPath: 'tickets',\n  query: queries[\"a\" /* default */].GET_TICKETS,\n  deleteQuery: queries[\"a\" /* default */].DELETE_TICKET,\n  deleteEntityMultiText: 'Обращения',\n  deleteEntitySingleText: 'Обращение',\n  render: item => /*#__PURE__*/react_default.a.createElement(TicketCard[\"a\" /* default */], {\n    ticket: item\n  })\n}, {\n  value: 'getRoles',\n  label: 'Роли',\n  singlePath: 'role',\n  originPath: 'roles',\n  query: queries[\"a\" /* default */].GET_ROLES,\n  deleteQuery: queries[\"a\" /* default */].DELETE_ROLE,\n  deleteEntityMultiText: 'Роли',\n  deleteEntitySingleText: 'Роль',\n  render: item => /*#__PURE__*/react_default.a.createElement(RoleCard[\"a\" /* default */], {\n    role: item\n  })\n}];\n// CONCATENATED MODULE: ./components/Search/index.js\n\n\n\nconst Search_Search = ({\n  onJump,\n  onHide\n}) => {\n  const [entity, setEntity] = Object(react[\"useState\"])(null);\n  const [search, setSearch] = Object(react[\"useState\"])(null);\n  return /*#__PURE__*/react_default.a.createElement(components_QuerySearch, {\n    search: search,\n    entity: entity,\n    entities: mocks_entities,\n    setSearch: setSearch,\n    onChange: setEntity,\n    onJump: onJump,\n    onHide: onHide\n  });\n};\n/* harmony default export */ var components_Search = (Search_Search);\n// EXTERNAL MODULE: ./store/helpers/index.js + 4 modules\nvar helpers = __webpack_require__(\"+EEm\");\n\n// EXTERNAL MODULE: ./store/actions/user.js\nvar actions_user = __webpack_require__(\"8ihE\");\n\n// EXTERNAL MODULE: ./config/index.js\nvar config = __webpack_require__(\"rOcY\");\n\n// CONCATENATED MODULE: ./layouts/dashboard/links.js\n\n\nconst getLinks = permissions => {\n  const getAccess = value => permissions.find(permission => permission === value);\n\n  const result = [{\n    path: '/',\n    component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n      icon: 'activity',\n      text: 'Главная'\n    })\n  }];\n  const isHasAccessToUsers = getAccess('VIEW_USER');\n  const isHasAccessToCategories = getAccess('VIEW_CATEGORY');\n  const isHasAccessToArticles = getAccess('VIEW_ARTICLE');\n  const isHasAccessToProjects = getAccess('VIEW_PROJECT');\n  const isHasAccessToTickets = getAccess('VIEW_TICKET');\n  const isHasAccessToRoles = getAccess('VIEW_ROLE');\n  const isHasAccessToSettings = getAccess('VIEW_USER');\n\n  if (isHasAccessToUsers) {\n    result.push({\n      path: '/users',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'user2',\n        text: 'Пользователи'\n      })\n    });\n  }\n\n  if (isHasAccessToCategories) {\n    result.push({\n      path: '/categories',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'folder',\n        text: 'Категории'\n      })\n    });\n  }\n\n  if (isHasAccessToArticles) {\n    result.push({\n      path: '/articles',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'document',\n        text: 'Статьи'\n      })\n    });\n  }\n\n  if (isHasAccessToProjects) {\n    result.push({\n      path: '/projects',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'work',\n        text: 'Проекты'\n      })\n    });\n  }\n\n  if (isHasAccessToTickets) {\n    result.push({\n      path: '/tickets',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'ticket',\n        text: 'Обращения'\n      })\n    });\n  }\n\n  if (isHasAccessToRoles) {\n    result.push({\n      divide: true,\n      path: '/roles',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'lock',\n        text: 'Роли'\n      })\n    });\n  }\n\n  if (isHasAccessToSettings) {\n    result.push({\n      path: '/settings',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'setting',\n        text: 'Настройки'\n      })\n    });\n  }\n\n  return result;\n};\n/* harmony default export */ var dashboard_links = (getLinks);\n// CONCATENATED MODULE: ./layouts/dashboard/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Main = styled_components_browser_esm[\"d\" /* default */].main.withConfig({\n  displayName: \"dashboard__Main\",\n  componentId: \"sc-9r28sr-0\"\n})([\"display:flex;grid-gap:var(--default-gap);width:100%;\"]);\nconst Header = styled_components_browser_esm[\"d\" /* default */].header.withConfig({\n  displayName: \"dashboard__Header\",\n  componentId: \"sc-9r28sr-1\"\n})([\"position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;\"]);\nconst dashboard_SideBar = Object(styled_components_browser_esm[\"d\" /* default */])(SideBar).withConfig({\n  displayName: \"dashboard__SideBar\",\n  componentId: \"sc-9r28sr-2\"\n})([\"position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}\"]);\nconst MenuButton = Object(styled_components_browser_esm[\"d\" /* default */])(Button[\"a\" /* default */]).withConfig({\n  displayName: \"dashboard__MenuButton\",\n  componentId: \"sc-9r28sr-3\"\n})([\"display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}\"]);\nconst LogoZone = Object(styled_components_browser_esm[\"d\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"dashboard__LogoZone\",\n  componentId: \"sc-9r28sr-4\"\n})([\"justify-content:space-between;@media only screen and (max-width:996px){width:auto;}\"]);\nconst Logotype = styled_components_browser_esm[\"d\" /* default */].div.withConfig({\n  displayName: \"dashboard__Logotype\",\n  componentId: \"sc-9r28sr-5\"\n})([\"display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}\"]);\nconst Content = Object(styled_components_browser_esm[\"d\" /* default */])(Container[\"a\" /* default */]).withConfig({\n  displayName: \"dashboard__Content\",\n  componentId: \"sc-9r28sr-6\"\n})([\"padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}\"]);\nconst DashboardLayout = ({\n  children,\n  title = 'Панель администрирования'\n}) => {\n  var _root$settings$genera, _user$avatar;\n\n  const recall = Object(useHelper[\"b\" /* useHelper */])();\n  const router = Object(next_router[\"useRouter\"])();\n  const {\n    root,\n    user\n  } = Object(es[\"c\" /* useSelector */])(state => state);\n  const [getUser, {\n    data,\n    loading\n  }] = Object(client[\"useLazyQuery\"])(queries[\"a\" /* default */].GET_USER);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  Object(react[\"useEffect\"])(() => {\n    if (true) {\n      const token = localStorage.getItem(config[\"a\" /* default */].get('secret'));\n      if (token) getUser();else router.push('/');\n    }\n  }, []);\n  Object(react[\"useEffect\"])(() => {\n    if (data && data.getUser) {\n      var _data$getUser$role;\n\n      const isAccept = (_data$getUser$role = data.getUser.role) === null || _data$getUser$role === void 0 ? void 0 : _data$getUser$role.permissions.find(permission => permission === 'ACCESS_DASHBOARD');\n\n      if (isAccept) {\n        dispatch(Object(actions_user[\"b\" /* setUser */])(data.getUser));\n      } else {\n        router.push('/');\n      }\n    }\n  }, [data, dispatch]);\n\n  if (loading || !user.authenticated) {\n    return /*#__PURE__*/react_default.a.createElement(Styled[\"a\" /* FixedLoader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(main[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(head_default.a, null, /*#__PURE__*/react_default.a.createElement(\"meta\", {\n    name: \"keywords\",\n    content: \"next,javascript,nextjs,react\"\n  }), /*#__PURE__*/react_default.a.createElement(\"meta\", {\n    name: \"description\",\n    content: root.settings.meta.description\n  }), /*#__PURE__*/react_default.a.createElement(\"title\", null, title)), /*#__PURE__*/react_default.a.createElement(Header, null, /*#__PURE__*/react_default.a.createElement(MenuButton, {\n    kind: 'icon',\n    appearance: 'clear',\n    onClick: recall(helpers[\"e\" /* onMenu */], {\n      links: dashboard_links((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => ({\n        id: index,\n        text: link.component,\n        onClick: () => router.push(`/dashboard${link.path}`)\n      }))\n    })\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'menu'\n  })), /*#__PURE__*/react_default.a.createElement(LogoZone, null, /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: root.settings.meta.description,\n    offset: {\n      bottom: 5\n    },\n    place: 'bottom',\n    maxWidth: 256,\n    multiline: true\n  }, /*#__PURE__*/react_default.a.createElement(Logotype, null, /*#__PURE__*/react_default.a.createElement(link_default.a, {\n    href: '/'\n  }, /*#__PURE__*/react_default.a.createElement(\"a\", null, /*#__PURE__*/react_default.a.createElement(Image[\"a\" /* default */], {\n    src: (_root$settings$genera = root.settings.general.logotype) === null || _root$settings$genera === void 0 ? void 0 : _root$settings$genera.path,\n    alt: 'Logotype'\n  })))))), /*#__PURE__*/react_default.a.createElement(Search[\"a\" /* default */], {\n    appearance: 'ghost',\n    onClick: () => dispatch(Object(modal[\"a\" /* setModal */])([{\n      path: '/',\n      title: 'Поиск',\n      component: ({\n        jump,\n        close\n      }) => /*#__PURE__*/react_default.a.createElement(components_Search, {\n        onJump: jump,\n        onHide: close\n      })\n    }], 'l')),\n    disable: true\n  })), /*#__PURE__*/react_default.a.createElement(Main, null, /*#__PURE__*/react_default.a.createElement(dashboard_SideBar, {\n    user: {\n      name: user.name,\n      role: user.role.name,\n      avatar: (user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.path) || '/images/avatar-default.png'\n    },\n    link: link_default.a,\n    links: dashboard_links((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => {\n      const path = `/dashboard${link.path.length > 1 ? link.path : ''}`;\n      return { ...link,\n        path,\n        component: /*#__PURE__*/react_default.a.createElement(\"a\", {\n          key: index,\n          className: router.pathname === path ? 'active' : ''\n        }, react_default.a.cloneElement(link.component, {\n          active: router.pathname === path\n        }))\n      };\n    })\n  }), /*#__PURE__*/react_default.a.createElement(Content, null, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], null, children))));\n};\n/* harmony default export */ var dashboard = __webpack_exports__[\"a\"] = (DashboardLayout);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\List\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\dashboard\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SideBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\components\\GlobalSearch\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\QuerySearch\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\Search\\mocks\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\Search\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\dashboard\\links.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\dashboard\\index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmD;AACJ;AACL;AACF;AACD;AACU;AACQ;AACA;AACF;AACqB;AACvB;AACW;AAC7B;AAC5B,aAAa,gDAAM;AAC1B;AACA;AACA,CAAC,SAAS,2BAA2B,IAAI,qBAAS;AAC3C,oBAAoB,wDAAM,CAAC,wBAAK;AACvC;AACA;AACA,CAAC,eAAe,kBAAkB;AAC3B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,gCAAS;AAC1B,wBAAwB,iCAAW;AACnC,0BAA0B,yBAAQ;AAClC,4BAA4B,yBAAQ;AACpC,oCAAoC,yBAAQ;AAC5C,4BAA4B,yBAAQ;;AAEpC;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;;AAGJ,EAAE,0BAAS;AACX;AACA,GAAG;AACH,sBAAsB,eAAK,oEAAoE,eAAK,eAAe,2BAAS,+CAA+C,eAAK,eAAe,2BAAQ;AACvM;AACA,GAAG,+DAA+D,eAAK,eAAe,wBAAK;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,0CAA0C,eAAK,eAAe,6BAAW;AAC5E;AACA,GAAG,eAAe,eAAK,eAAe,0BAAO,6CAA6C,eAAK,eAAe,eAAK,8BAA8B,eAAK,eAAe,0BAAO,sBAAsB,eAAK,eAAe,sBAAG;AACzN;AACA;AACA;AACA,GAAG,eAAe,eAAK,eAAe,yBAAM;AAC5C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG,GAAG,0BAAQ;AACd,gBAAgB;AAChB;AACA;AACA;AACA,GAAG;;AAEH;AACA,wBAAwB,eAAK,eAAe,6BAAW;AACvD;AACA,KAAK,eAAe,eAAK,eAAe,0BAAO;AAC/C;;AAEA,sBAAsB,eAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACe,wDAAI,E;;;;;;;;;;;;;;;;;;;;ACxIsD;AAClB;AAC7B;AAC6B;AACJ;AACR;AACF;AACU;AACA;AACE;AAC0B;AACxB;AACF;;AAErD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAkB,wBAAO;AACzB,mBAAmB,iCAAW;AAC9B;AACA,sBAAsB,eAAK,eAAe,6BAAU;AACpD;AACA;AACA,6BAA6B,mCAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB,iCAAO;AACxB;AACA,gCAAgC,gBAAgB,uBAAuB,iBAAiB;AACxF,SAAS;AACT,OAAO;AACP;AACA,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,iBAAiB,mCAAS;AAC1B;AACA;AACA;AACA,GAAG,yBAAyB,eAAK,eAAe,uBAAI;AACpD;AACA,GAAG,oCAAoC,eAAK;AAC5C;AACA;AACA,GAAG,mBAAmB,eAAK;AAC3B;AACA,GAAG;AACH;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,KAAK,eAAK;AACX;AACA;AACA,uDAAuD;AACvD;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG,GAAG,iCAAW;AACjB;AACA;AACA,GAAG;AACH,mBAAmB,iCAAW;AAC9B,0CAA0C,yBAAQ;AAClD,wCAAwC,yBAAQ;AAChD,gCAAgC,yBAAQ;AACxC,0BAA0B,4BAAW;AACrC;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA,kDAAkD;AAClD;AACA,SAAS,IAAI;AACb;AACA,SAAS;AACT,OAAO;AACP,0BAA0B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;;;;;;;AC5GoJ;AACvK,YAAY,eAAK;;AAEjB;AACA,aAAa,gDAAsB,qBAAqB,4BAA4B,wBAAwB,kBAAkB,iBAAiB,iBAAiB;;AAEhK;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,gDAAsB,mCAAmC;;AAEtE;AACA;AACA;;AAEA;AACA;;AAE2D;AACpB;AACR;AACA;AACA;AACE;AACJ;AACtB,IAAI,iBAAI,GAAG,wDAAM,CAAC,yBAAM;AACxB,aAAa,gDAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAI,yBAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,kBAAkB,uBAAM;;AAExB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAK,uBAAuB,yBAAM;AACnD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,oCAAoC,eAAK;AACzC;AACA,OAAO;AACP,KAAK,UAAU,wBAAK;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,EAAE,0BAAS;AACX;AACA,GAAG;AACH,eAAe,iBAAI;AACnB;AACA;AACA;AACA,GAAG,QAAQ,yBAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,+EAA+E,0BAAO;AACzF;AACA,yBAAY;AACZ;AACA;AACe,qFAAY,E;;;;;;;;AC9GS;AACM;AACS;AACgB;AACZ;AACF;AAC9C,cAAc,qBAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB,iCAAW;;AAE9B,mCAAmC,iCAAQ;;AAE3C,sBAAsB,eAAK,eAAe,uBAAY;AACtD;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,mCAAmC,eAAK,eAAe,uBAAI;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,GAAG;AACH,CAAC;AACM,oBAAoB,qBAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG,aAAa,8BAAY;;AAE5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,sBAAsB,eAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACc,sEAAW,E;;;;;;;;;;;;;;;;;;;;;;;ACzFA;AACY;AACQ;AACF;AACA;AACF;AACJ;AACS;AACxC,MAAM,cAAQ;AACrB;AACA;AACA;AACA;AACA,SAAS,0BAAO;AAChB,eAAe,0BAAO;AACtB;AACA;AACA,+BAA+B,eAAK,eAAe,2BAAQ;AAC3D;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,0BAAO;AAChB,eAAe,0BAAO;AACtB;AACA;AACA,+BAA+B,eAAK,eAAe,+BAAY;AAC/D;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,0BAAO;AAChB,eAAe,0BAAO;AACtB;AACA;AACA,+BAA+B,eAAK,eAAe,8BAAW;AAC9D;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,0BAAO;AAChB,eAAe,0BAAO;AACtB;AACA;AACA,+BAA+B,eAAK,eAAe,8BAAW;AAC9D;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,0BAAO;AAChB,eAAe,0BAAO;AACtB;AACA;AACA,+BAA+B,eAAK,eAAe,6BAAU;AAC7D;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,SAAS,0BAAO;AAChB,eAAe,0BAAO;AACtB;AACA;AACA,+BAA+B,eAAK,eAAe,2BAAQ;AAC3D;AACA,GAAG;AACH,CAAC,E;;ACjFuC;AACC;AACN;AAC5B,MAAM,aAAM;AACnB;AACA;AACA,CAAC;AACD,8BAA8B,yBAAQ;AACtC,8BAA8B,yBAAQ;AACtC,sBAAsB,eAAK,eAAe,sBAAW;AACrD;AACA;AACA,c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","file":"x","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useSelector } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Button from '../../atomic-ui/components/Button';\nimport Table, { Wrap as WrapTable } from '../../atomic-ui/components/Table';\nimport Alert from '../../atomic-ui/components/Alert';\nimport { GridAside as Container, LowerLoader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"List__Wrap\",\n  componentId: \"sc-1jo6mxw-0\"\n})([\"\", \"{width:calc(100vw - 280px);}\"], WrapTable);\nexport const CenterAlert = styled(Alert).withConfig({\n  displayName: \"List__CenterAlert\",\n  componentId: \"sc-1jo6mxw-1\"\n})([\"width:100%;text-align:center;\"]);\nexport const Content = ({\n  type,\n  limit = 6,\n  template,\n  component,\n  variables,\n  loading,\n  refetch,\n  initialList,\n  setCheckedList,\n  onChecked,\n  onClick,\n  onEdit,\n  onDelete\n}) => {\n  var _router$query;\n\n  const router = useRouter();\n  const displayMethod = useSelector(state => state.root.displayMethod);\n  const [page, setPage] = useState(Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1);\n  const [items, setItems] = useState(initialList || []);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isEnd, setIsEnd] = useState(false);\n\n  const loadMore = async () => {\n    if (!isEnd && !loading && refetch) {\n      setIsLoading(true);\n      const response = await refetch({ ...variables,\n        offset: limit * page,\n        limit\n      });\n\n      if (response !== null && response !== void 0 && response.data) {\n        const list = response.data[type];\n        if (list.length === 0) setIsEnd(true);\n        if (list.length > 0) setItems(prev => [...prev, ...list]);\n        setPage(prev => prev + 1);\n      }\n\n      setIsLoading(false);\n    }\n  }; // Necessary for determination checkList outside [content]\n\n\n  useEffect(() => {\n    if ((items === null || items === void 0 ? void 0 : items.length) > 0 && setCheckedList) setCheckedList(items);\n  }, [items, setCheckedList]);\n  return /*#__PURE__*/React.createElement(Wrap, null, displayMethod === 'grid' && /*#__PURE__*/React.createElement(Container, null, (items || []).map(item => /*#__PURE__*/React.createElement(LazyLoad, {\n    key: item.id || item.email\n  }, component(item)))), displayMethod === 'list' && /*#__PURE__*/React.createElement(Table, {\n    data: items,\n    template: template,\n    onChecked: onChecked,\n    onClick: onClick,\n    onEdit: onEdit,\n    onDelete: onDelete\n  }), (loading || isLoading) && /*#__PURE__*/React.createElement(LowerLoader, {\n    key: 'loader'\n  }, /*#__PURE__*/React.createElement(Spinner, null)), !isEnd && !loading && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      justifyContent: 'center'\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    disabled: isLoading,\n    style: {\n      width: 245\n    },\n    onClick: loadMore\n  }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435\"))));\n};\nexport const List = ({\n  type,\n  query,\n  limit,\n  template,\n  variables,\n  component,\n  setCheckedList,\n  onChecked,\n  onClick,\n  onEdit,\n  onDelete\n}) => {\n  const {\n    data,\n    loading,\n    refetch\n  } = useQuery(query, {\n    variables: { ...variables,\n      offset: 0,\n      limit\n    }\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(LowerLoader, {\n      key: 'loader'\n    }, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(Content, {\n    type: type,\n    limit: limit,\n    refetch: refetch,\n    template: template,\n    component: component,\n    initialList: type && data && data[type],\n    setCheckedList: setCheckedList,\n    onChecked: onChecked,\n    onDelete: onDelete,\n    onClick: onClick,\n    onEdit: onEdit\n  });\n};\nexport default List;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { v4 } from 'uuid';\nimport Column from '../../atomic-ui/components/Column';\nimport Grid from '../../atomic-ui/components/Grid';\nimport DashboardLayout from '../dashboard';\nimport List from '../../components/List';\nimport FilterBar from '../../components/FilterBar';\nimport HandleBar from '../../components/HandleBar';\nimport DeleteForm from '../../components/FormDelete';\nimport { setDisplayMethod, setVisibleFilters } from '../../store/actions/root';\nimport { setDrawer } from '../../store/actions/drawer';\nimport { setItem } from '../../store/actions/snacks';\n\nconst getIsAdmin = document => {\n  var _document$name;\n\n  return (document === null || document === void 0 ? void 0 : (_document$name = document.name) === null || _document$name === void 0 ? void 0 : _document$name.toUpperCase()) !== 'ADMIN';\n};\n\nconst Delete = ({\n  item,\n  query,\n  component,\n  entityMultiText,\n  entitySingleText,\n  onSubmit\n}) => {\n  const isArray = useMemo(() => Array.isArray(item), [item]);\n  const dispatch = useDispatch();\n  const Component = component;\n  return /*#__PURE__*/React.createElement(DeleteForm, {\n    mutation: query,\n    appearance: 'clear',\n    onCancel: () => dispatch(setDrawer(null)),\n    onSubmit: async (_, action) => {\n      try {\n        await action({\n          variables: {\n            id: isArray ? item.map(doc => doc.id) : [item.id]\n          }\n        });\n        dispatch(setItem({\n          type: 'success',\n          message: isArray ? `${entityMultiText} успешно удалены` : `${entitySingleText} успешно удален`\n        }));\n      } catch (err) {\n        if (err) {\n          dispatch(setItem({\n            type: 'error',\n            message: 'Что-то пошло не так'\n          }));\n        }\n      } finally {\n        dispatch(setDrawer(null));\n        if (onSubmit) onSubmit();\n      }\n    }\n  }, isArray ? /*#__PURE__*/React.createElement(Grid, {\n    length: 'auto-fit'\n  }, item.map(document => /*#__PURE__*/React.createElement(Component, {\n    key: document.id,\n    item: document\n  }))) : /*#__PURE__*/React.createElement(Component, {\n    item: item\n  }));\n};\n\nexport const Card = ({\n  item,\n  checked,\n  appearance,\n  component,\n  withoutActions,\n  withoutChecked,\n  onChecked,\n  onLink,\n  onEdit,\n  onDelete\n}) => React.cloneElement(component, {\n  checked,\n  appearance,\n  onChecked: !withoutChecked && (checked => onChecked({ ...item,\n    checked\n  })),\n  onLink: onLink && (() => onLink(item)),\n  onEdit: !withoutActions && onEdit && (() => onEdit(item)),\n  onDelete: !withoutActions && onDelete && (() => onDelete(item))\n});\n\nconst ContentLayout = ({\n  render,\n  title,\n  icon,\n  field,\n  filters,\n  options,\n  template,\n  limit = 6,\n  startOffset = 6,\n  buttonCreateText,\n  getType,\n  getQuery,\n  deleteQuery,\n  deleteEntityMultiText,\n  deleteEntitySingleText,\n  onLink,\n  onEdit,\n  onCreate,\n  emptyMessage,\n  withoutChecked\n}) => {\n  const {\n    displayMethod,\n    visibleFilters\n  } = useSelector(state => ({\n    displayMethod: state.root.displayMethod,\n    visibleFilters: state.root.visibleFilters\n  }));\n  const dispatch = useDispatch();\n  const [isAllChecked, setIsAllChecked] = useState(false);\n  const [checkedList, setCheckedList] = useState([]);\n  const [updated, setUpdated] = useState('list');\n  const getIsAnyChecked = useCallback(item => {\n    var _checkedList$find;\n\n    return (_checkedList$find = checkedList.find(document => document[field] === item[field])) === null || _checkedList$find === void 0 ? void 0 : _checkedList$find.checked;\n  }, [checkedList]);\n\n  const onChecked = document => {\n    setCheckedList(prev => {\n      const isExists = item => item[field] === document[field];\n\n      const candidate = prev.find(isExists);\n\n      if (candidate) {\n        return prev.map(item => isExists(item) ? { ...document,\n          checked: !item.checked\n        } : { ...item,\n          checked: isAllChecked || item.checked\n        });\n      } else {\n        return [...prev, { ...document,\n          checked: true\n        }];\n      }\n    });\n    setIsAllChecked(false);\n  };\n\n  const onAllChecked = () => {\n    const value = !isAllChecked;\n    setCheckedList(prev => prev.map(item => ({ ...item,\n      checked: getIsAdmin(item) ? value : false\n    })));\n    setIsAllChecked(value);\n  };\n\n  const onDelete = item => dispatch(setDrawer({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление',\n    content: /*#__PURE__*/React.createElement(Delete, {\n      item: item,\n      query: deleteQuery,\n      component: props => React.cloneElement(render(props.item), {\n        appearance: 'clear',\n        onEdit: null,\n        onDelete: null\n      }),\n      entityMultiText: deleteEntityMultiText,\n      entitySingleText: deleteEntitySingleText,\n      onSubmit: () => setUpdated(v4())\n    })\n  }));\n\n  const onDeleteAll = () => onDelete(checkedList.filter(document => document.checked));\n\n  useEffect(() => {\n    const countChecked = checkedList.reduce((acc, curr) => acc + (curr.checked ? 1 : 0), 0);\n\n    if (checkedList.length > 0 && countChecked === checkedList.length) {\n      setIsAllChecked(true);\n    }\n  }, [checkedList]);\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    title: title\n  }, /*#__PURE__*/React.createElement(Column, null, /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: icon,\n    checked: isAllChecked,\n    defaultDisplayMethod: displayMethod,\n    defaultVisibleFilters: visibleFilters,\n    buttonDeleteDisabled: !checkedList.find(item => item.checked),\n    buttonCreateText: buttonCreateText,\n    onCreate: onCreate,\n    onChecked: () => displayMethod === 'grid' && onAllChecked && onAllChecked(),\n    onChangeVisibleFilter: () => dispatch(setVisibleFilters(!visibleFilters)),\n    onChangeDisplayMethod: item => dispatch(setDisplayMethod(item.value)),\n    onDeleteAll: onDeleteAll,\n    withoutFooter: displayMethod === 'list',\n    withFilters: filters && options\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilters,\n    filters: filters,\n    options: options\n  }), /*#__PURE__*/React.createElement(List, {\n    key: updated,\n    limit: limit,\n    type: getType,\n    query: getQuery,\n    template: template,\n    startOffset: startOffset,\n    setCheckedList: setCheckedList,\n    component: item => /*#__PURE__*/React.createElement(Card, {\n      item: item,\n      component: render(item),\n      checked: getIsAdmin(item) && (isAllChecked || getIsAnyChecked(item)),\n      onChecked: onChecked,\n      onLink: item => onLink(item),\n      onEdit: item => onEdit(item),\n      onDelete: onDelete,\n      withoutChecked: withoutChecked\n    }),\n    emptyMessage: emptyMessage,\n    onChecked: onChecked,\n    onClick: item => onLink(item),\n    onEdit: item => onEdit(item),\n    onDelete: onDelete\n  })));\n};\n\nContentLayout.defaultProps = {\n  field: 'id'\n};\nexport default ContentLayout;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Column from '../../atomic-ui/components/Column';\nimport Row from '../../atomic-ui/components/Row';\nimport Avatar, { Wrap as WrapAvatar } from '../../atomic-ui/components/Avatar';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Badge from '../../atomic-ui/components/Badge';\nimport { getLabelRole } from '../../atomic-ui/utils/functions';\nconst defaultColor = 'rgba(255, 255, 255, 25%)';\nconst activeColor = 'var(--default-color-accent)';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SideBar__Wrap\",\n  componentId: \"sc-158a552-0\"\n})([\"--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}\"]);\nexport const Profile = styled(Row).withConfig({\n  displayName: \"SideBar__Profile\",\n  componentId: \"sc-158a552-1\"\n})([\"padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);\", \"{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}\"], WrapAvatar);\nexport const Info = styled(Column).withConfig({\n  displayName: \"SideBar__Info\",\n  componentId: \"sc-158a552-2\"\n})([\"grid-gap:0;\"]);\nexport const Name = styled(Title).withConfig({\n  displayName: \"SideBar__Name\",\n  componentId: \"sc-158a552-3\"\n})([\"font-size:var(--font-h4);font-weight:var(--font-weight-medium);\"]);\nexport const Role = styled(Text).withConfig({\n  displayName: \"SideBar__Role\",\n  componentId: \"sc-158a552-4\"\n})([\"color:\", \";\"], defaultColor);\nexport const Strip = styled.div.withConfig({\n  displayName: \"SideBar__Strip\",\n  componentId: \"sc-158a552-5\"\n})([\"display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}\"]);\nexport const Label = styled(Row).withConfig({\n  displayName: \"SideBar__Label\",\n  componentId: \"sc-158a552-6\"\n})([\"align-items:center;\"]);\nexport const LabelIcon = styled(Icon).withConfig({\n  displayName: \"SideBar__LabelIcon\",\n  componentId: \"sc-158a552-7\"\n})([\"width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);\", \" @media only screen and (max-width:480px){background:var(--default-color-accent-dim);\", \" svg{path{stroke:var(--default-color-accent);\", \"}}}\"], ({\n  active\n}) => active && css([\"background:white;\"]), ({\n  active\n}) => active && css([\"background:var(--default-color-accent);\"]), ({\n  active\n}) => active && css([\"stroke:white;\"]));\nexport const LabelText = styled(Text).withConfig({\n  displayName: \"SideBar__LabelText\",\n  componentId: \"sc-158a552-8\"\n})([\"color:\", \";font-weight:var(--font-weight-medium);\", \"\"], defaultColor, ({\n  active\n}) => active && css([\"color:white;\"]));\nexport const LinkStrip = ({\n  active,\n  icon,\n  text,\n  count\n}) => /*#__PURE__*/React.createElement(Strip, null, /*#__PURE__*/React.createElement(Label, null, /*#__PURE__*/React.createElement(LabelIcon, {\n  icon: icon,\n  size: 'xs',\n  stroke: active ? activeColor : defaultColor,\n  active: active\n}), /*#__PURE__*/React.createElement(LabelText, {\n  active: active\n}, text)), count && /*#__PURE__*/React.createElement(Badge, {\n  count: count,\n  size: 'xs',\n  style: !active ? {\n    background: defaultColor,\n    borderColor: 'transparent',\n    color: 'var(--admin-color-accent)'\n  } : {}\n}));\nexport const Side = ({\n  user,\n  link: Link,\n  links,\n  ...props\n}) => /*#__PURE__*/React.createElement(Wrap, props, /*#__PURE__*/React.createElement(Profile, null, /*#__PURE__*/React.createElement(Avatar, {\n  src: user.avatar,\n  alt: 'Avatar',\n  size: 'm'\n}), /*#__PURE__*/React.createElement(Info, null, /*#__PURE__*/React.createElement(Name, null, user.name), /*#__PURE__*/React.createElement(Role, null, getLabelRole(user.role)))), /*#__PURE__*/React.createElement(Divider, {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), links && links.length > 0 && links.map((link, index) => /*#__PURE__*/React.createElement(React.Fragment, {\n  key: index\n}, link.divide && /*#__PURE__*/React.createElement(Divider, {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), /*#__PURE__*/React.createElement(Link, {\n  href: link.path\n}, link.component))));\nSide.defaultProps = {\n  link: ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"a\", props, children)\n};\nexport default Side;","import _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  width: 100%;\\n  height: 100%;\\n  flex-grow: 1;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: var(--default-gap);\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport Column from '../Column';\nimport Select from '../Select';\nimport Search from '../Search';\nimport Spinner from '../Spinner';\nimport Alert from '../Alert';\nexport var Wrap = styled(Column)(_templateObject());\nexport var Loader = styled.div(_templateObject2());\n/*\n * const entities: entity[]\n * type entity = {\n *  label: string;\n *  value: ObjectID | string;\n *  render: ReactNode | Element | string;\n * }\n */\n\nexport var GlobalSearch = function GlobalSearch(_ref) {\n  var result = _ref.result,\n      search = _ref.search,\n      loading = _ref.loading,\n      entities = _ref.entities,\n      initialEntity = _ref.initialEntity,\n      appearance = _ref.appearance,\n      style = _ref.style,\n      className = _ref.className,\n      onChange = _ref.onChange,\n      onSubmit = _ref.onSubmit;\n\n  var _useState = useState(initialEntity),\n      entity = _useState[0],\n      setEntity = _useState[1];\n\n  var searchRef = useRef(null);\n\n  var handleChange = function handleChange(value) {\n    setEntity(value);\n\n    if (searchRef !== null && searchRef !== void 0 && searchRef.current) {\n      searchRef.current.value = '';\n      if (onSubmit) onSubmit('');\n    }\n  };\n\n  var renderContent = function renderContent() {\n    return __jsx(React.Fragment, null, __jsx(Search, {\n      ref: searchRef,\n      appearance: 'ghost',\n      placeholder: 'Поиск',\n      defaultValue: search,\n      onSubmit: onSubmit\n    }), (result === null || result === void 0 ? void 0 : result.length) > 0 ? result.map(function (item) {\n      return entity.render && __jsx(React.Fragment, {\n        key: item.id || item.email\n      }, entity.render(item));\n    }) : __jsx(Alert, {\n      style: {\n        width: '100%',\n        textAlign: 'center',\n        flexGrow: 1\n      }\n    }, \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"));\n  };\n\n  useEffect(function () {\n    if (onChange) onChange(entity);\n  }, [entity, onChange]);\n  return __jsx(Wrap, {\n    style: style,\n    className: className,\n    appearance: appearance\n  }, __jsx(Select, {\n    appearance: 'ghost',\n    defaultValue: entity,\n    placeholder: 'Где будем искать?',\n    label: 'Зона поиска',\n    options: entities,\n    onChange: handleChange,\n    isLoading: loading,\n    isSearchable: true,\n    isClearable: true\n  }), !loading && entity && renderContent(), loading && __jsx(Loader, null, __jsx(Spinner, null)));\n};\nGlobalSearch.defaultProps = {\n  appearance: 'clear'\n};\nexport default GlobalSearch;","import React, { memo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport GlobalSearch from '../../atomic-ui/components/GlobalSearch';\nimport { Card } from '../../layouts/dashboard/content';\nimport { setModal } from '../../store/actions/modal';\nexport const Query = memo(({\n  data,\n  loading,\n  search,\n  entity,\n  entities,\n  onChange,\n  onSubmit\n}) => {\n  const dispatch = useDispatch();\n\n  const hideModal = () => dispatch(setModal(null));\n\n  return /*#__PURE__*/React.createElement(GlobalSearch, {\n    search: search,\n    loading: loading,\n    initialEntity: entity,\n    result: search && data && entity && data[entity === null || entity === void 0 ? void 0 : entity.value],\n    entities: (entities || []).map(elem => ({ ...elem,\n      render: item => /*#__PURE__*/React.createElement(Card, {\n        key: item.id || item.email,\n        item: item,\n        appearance: 'clear',\n        component: elem.render(item),\n        onLink: hideModal,\n        onEdit: hideModal,\n        onDelete: hideModal,\n        withoutChecked: true\n      })\n    })),\n    onSubmit: onSubmit,\n    onChange: onChange\n  });\n});\nexport const QuerySearch = memo(({\n  search,\n  entity,\n  entities,\n  setSearch,\n  onHide,\n  onChange\n}) => {\n  const initialResult = [null, {\n    data: null,\n    loading: false,\n    refetch: null\n  }];\n  const [load, {\n    data,\n    loading,\n    refetch\n  }] = entity ? useLazyQuery(entity.query) : initialResult;\n\n  const onSubmit = value => {\n    const variables = {\n      search: value\n    };\n    if (setSearch) setSearch(value);\n\n    if (value) {\n      if (refetch) {\n        refetch(variables);\n      }\n\n      if (load) {\n        load({\n          variables\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Query, {\n    data: data,\n    entity: entity,\n    search: search,\n    loading: loading,\n    entities: entities,\n    onHide: onHide,\n    onChange: onChange,\n    onSubmit: onSubmit\n  });\n});\nexport default QuerySearch;","import React from 'react';\nimport UserCard from '../../UserCard';\nimport CategoryCard from '../../CategoryCard';\nimport ArticleCard from '../../ArticleCard';\nimport ProjectCard from '../../ProjectCard';\nimport TicketCard from '../../TicketCard';\nimport RoleCard from '../../RoleCard';\nimport queries from '../../../graphql/queries';\nexport const entities = [{\n  value: 'getUsers',\n  label: 'Пользователи',\n  singlePath: 'user',\n  originPath: 'users',\n  query: queries.GET_USERS,\n  deleteQuery: queries.DELETE_USER,\n  deleteEntityMultiText: 'Пользователи',\n  deleteEntitySingleText: 'Пользователь',\n  render: item => /*#__PURE__*/React.createElement(UserCard, {\n    user: item\n  })\n}, {\n  value: 'getCategories',\n  label: 'Категории',\n  singlePath: 'category',\n  originPath: 'categories',\n  query: queries.GET_CATEGORIES,\n  deleteQuery: queries.DELETE_CATEGORY,\n  deleteEntityMultiText: 'Категории',\n  deleteEntitySingleText: 'Категория',\n  render: item => /*#__PURE__*/React.createElement(CategoryCard, {\n    category: item\n  })\n}, {\n  value: 'getArticles',\n  label: 'Статьи',\n  singlePath: 'article',\n  originPath: 'articles',\n  query: queries.GET_ARTICLES,\n  deleteQuery: queries.DELETE_ARTICLE,\n  deleteEntityMultiText: 'Статьи',\n  deleteEntitySingleText: 'Статья',\n  render: item => /*#__PURE__*/React.createElement(ArticleCard, {\n    article: item\n  })\n}, {\n  value: 'getProjects',\n  label: 'Проекты',\n  singlePath: 'project',\n  originPath: 'projects',\n  query: queries.GET_PROJECTS,\n  deleteQuery: queries.DELETE_PROJECT,\n  deleteEntityMultiText: 'Продукты',\n  deleteEntitySingleText: 'Продукт',\n  render: item => /*#__PURE__*/React.createElement(ProjectCard, {\n    project: item,\n    preview: true\n  })\n}, {\n  value: 'getTickets',\n  label: 'Обращения',\n  singlePath: 'ticket',\n  originPath: 'tickets',\n  query: queries.GET_TICKETS,\n  deleteQuery: queries.DELETE_TICKET,\n  deleteEntityMultiText: 'Обращения',\n  deleteEntitySingleText: 'Обращение',\n  render: item => /*#__PURE__*/React.createElement(TicketCard, {\n    ticket: item\n  })\n}, {\n  value: 'getRoles',\n  label: 'Роли',\n  singlePath: 'role',\n  originPath: 'roles',\n  query: queries.GET_ROLES,\n  deleteQuery: queries.DELETE_ROLE,\n  deleteEntityMultiText: 'Роли',\n  deleteEntitySingleText: 'Роль',\n  render: item => /*#__PURE__*/React.createElement(RoleCard, {\n    role: item\n  })\n}];","import React, { useState } from 'react';\nimport QuerySearch from '../QuerySearch';\nimport { entities } from './mocks';\nexport const Search = ({\n  onJump,\n  onHide\n}) => {\n  const [entity, setEntity] = useState(null);\n  const [search, setSearch] = useState(null);\n  return /*#__PURE__*/React.createElement(QuerySearch, {\n    search: search,\n    entity: entity,\n    entities: entities,\n    setSearch: setSearch,\n    onChange: setEntity,\n    onJump: onJump,\n    onHide: onHide\n  });\n};\nexport default Search;","import React from 'react';\nimport { LinkStrip } from '../../components/SideBar';\nexport const getLinks = permissions => {\n  const getAccess = value => permissions.find(permission => permission === value);\n\n  const result = [{\n    path: '/',\n    component: /*#__PURE__*/React.createElement(LinkStrip, {\n      icon: 'activity',\n      text: 'Главная'\n    })\n  }];\n  const isHasAccessToUsers = getAccess('VIEW_USER');\n  const isHasAccessToCategories = getAccess('VIEW_CATEGORY');\n  const isHasAccessToArticles = getAccess('VIEW_ARTICLE');\n  const isHasAccessToProjects = getAccess('VIEW_PROJECT');\n  const isHasAccessToTickets = getAccess('VIEW_TICKET');\n  const isHasAccessToRoles = getAccess('VIEW_ROLE');\n  const isHasAccessToSettings = getAccess('VIEW_USER');\n\n  if (isHasAccessToUsers) {\n    result.push({\n      path: '/users',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'user2',\n        text: 'Пользователи'\n      })\n    });\n  }\n\n  if (isHasAccessToCategories) {\n    result.push({\n      path: '/categories',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'folder',\n        text: 'Категории'\n      })\n    });\n  }\n\n  if (isHasAccessToArticles) {\n    result.push({\n      path: '/articles',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'document',\n        text: 'Статьи'\n      })\n    });\n  }\n\n  if (isHasAccessToProjects) {\n    result.push({\n      path: '/projects',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'work',\n        text: 'Проекты'\n      })\n    });\n  }\n\n  if (isHasAccessToTickets) {\n    result.push({\n      path: '/tickets',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'ticket',\n        text: 'Обращения'\n      })\n    });\n  }\n\n  if (isHasAccessToRoles) {\n    result.push({\n      divide: true,\n      path: '/roles',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'lock',\n        text: 'Роли'\n      })\n    });\n  }\n\n  if (isHasAccessToSettings) {\n    result.push({\n      path: '/settings',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'setting',\n        text: 'Настройки'\n      })\n    });\n  }\n\n  return result;\n};\nexport default getLinks;","import React, { useEffect } from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Row from '../../atomic-ui/components/Row';\nimport Container from '../../atomic-ui/components/Container';\nimport CommonSearch from '../../atomic-ui/components/Search';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport Column from '../../atomic-ui/components/Column';\nimport Button from '../../atomic-ui/components/Button';\nimport Image from '../../atomic-ui/components/Image';\nimport Icon from '../../atomic-ui/components/Icon';\nimport MainLayout from '../main';\nimport { useHelper } from '../../hooks/useHelper';\nimport { FixedLoader } from '../../components/Styled';\nimport BaseSideBar from '../../components/SideBar';\nimport Search from '../../components/Search';\nimport { onMenu } from '../../store/helpers';\nimport { setModal } from '../../store/actions/modal';\nimport { setUser } from '../../store/actions/user';\nimport queries from '../../graphql/queries';\nimport config from '../../config';\nimport getLinks from './links';\nconst Main = styled.main.withConfig({\n  displayName: \"dashboard__Main\",\n  componentId: \"sc-9r28sr-0\"\n})([\"display:flex;grid-gap:var(--default-gap);width:100%;\"]);\nconst Header = styled.header.withConfig({\n  displayName: \"dashboard__Header\",\n  componentId: \"sc-9r28sr-1\"\n})([\"position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;\"]);\nconst SideBar = styled(BaseSideBar).withConfig({\n  displayName: \"dashboard__SideBar\",\n  componentId: \"sc-9r28sr-2\"\n})([\"position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}\"]);\nconst MenuButton = styled(Button).withConfig({\n  displayName: \"dashboard__MenuButton\",\n  componentId: \"sc-9r28sr-3\"\n})([\"display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}\"]);\nconst LogoZone = styled(Row).withConfig({\n  displayName: \"dashboard__LogoZone\",\n  componentId: \"sc-9r28sr-4\"\n})([\"justify-content:space-between;@media only screen and (max-width:996px){width:auto;}\"]);\nconst Logotype = styled.div.withConfig({\n  displayName: \"dashboard__Logotype\",\n  componentId: \"sc-9r28sr-5\"\n})([\"display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}\"]);\nconst Content = styled(Container).withConfig({\n  displayName: \"dashboard__Content\",\n  componentId: \"sc-9r28sr-6\"\n})([\"padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}\"]);\nexport const DashboardLayout = ({\n  children,\n  title = 'Панель администрирования'\n}) => {\n  var _root$settings$genera, _user$avatar;\n\n  const recall = useHelper();\n  const router = useRouter();\n  const {\n    root,\n    user\n  } = useSelector(state => state);\n  const [getUser, {\n    data,\n    loading\n  }] = useLazyQuery(queries.GET_USER);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (true) {\n      const token = localStorage.getItem(config.get('secret'));\n      if (token) getUser();else router.push('/');\n    }\n  }, []);\n  useEffect(() => {\n    if (data && data.getUser) {\n      var _data$getUser$role;\n\n      const isAccept = (_data$getUser$role = data.getUser.role) === null || _data$getUser$role === void 0 ? void 0 : _data$getUser$role.permissions.find(permission => permission === 'ACCESS_DASHBOARD');\n\n      if (isAccept) {\n        dispatch(setUser(data.getUser));\n      } else {\n        router.push('/');\n      }\n    }\n  }, [data, dispatch]);\n\n  if (loading || !user.authenticated) {\n    return /*#__PURE__*/React.createElement(FixedLoader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(MainLayout, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"keywords\",\n    content: \"next,javascript,nextjs,react\"\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: root.settings.meta.description\n  }), /*#__PURE__*/React.createElement(\"title\", null, title)), /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(MenuButton, {\n    kind: 'icon',\n    appearance: 'clear',\n    onClick: recall(onMenu, {\n      links: getLinks((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => ({\n        id: index,\n        text: link.component,\n        onClick: () => router.push(`/dashboard${link.path}`)\n      }))\n    })\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'menu'\n  })), /*#__PURE__*/React.createElement(LogoZone, null, /*#__PURE__*/React.createElement(Tooltip, {\n    text: root.settings.meta.description,\n    offset: {\n      bottom: 5\n    },\n    place: 'bottom',\n    maxWidth: 256,\n    multiline: true\n  }, /*#__PURE__*/React.createElement(Logotype, null, /*#__PURE__*/React.createElement(Link, {\n    href: '/'\n  }, /*#__PURE__*/React.createElement(\"a\", null, /*#__PURE__*/React.createElement(Image, {\n    src: (_root$settings$genera = root.settings.general.logotype) === null || _root$settings$genera === void 0 ? void 0 : _root$settings$genera.path,\n    alt: 'Logotype'\n  })))))), /*#__PURE__*/React.createElement(CommonSearch, {\n    appearance: 'ghost',\n    onClick: () => dispatch(setModal([{\n      path: '/',\n      title: 'Поиск',\n      component: ({\n        jump,\n        close\n      }) => /*#__PURE__*/React.createElement(Search, {\n        onJump: jump,\n        onHide: close\n      })\n    }], 'l')),\n    disable: true\n  })), /*#__PURE__*/React.createElement(Main, null, /*#__PURE__*/React.createElement(SideBar, {\n    user: {\n      name: user.name,\n      role: user.role.name,\n      avatar: (user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.path) || '/images/avatar-default.png'\n    },\n    link: Link,\n    links: getLinks((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => {\n      const path = `/dashboard${link.path.length > 1 ? link.path : ''}`;\n      return { ...link,\n        path,\n        component: /*#__PURE__*/React.createElement(\"a\", {\n          key: index,\n          className: router.pathname === path ? 'active' : ''\n        }, React.cloneElement(link.component, {\n          active: router.pathname === path\n        }))\n      };\n    })\n  }), /*#__PURE__*/React.createElement(Content, null, /*#__PURE__*/React.createElement(Column, null, children))));\n};\nexport default DashboardLayout;"]}}