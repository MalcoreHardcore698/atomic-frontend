{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{\"W+IF\":function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return ne}));var n=a(\"q1tI\"),o=a.n(n),i=a(\"20a2\"),l=a(\"vOnD\"),c=a(\"/MKj\"),r=a(\"VX74\"),d=a(\"nShV\"),s=a(\"8CDE\"),p=a(\"OXt0\"),u=a(\"ZwIX\"),m=a(\"wZgm\"),h=a(\"QclZ\"),b=a(\"ZeZO\"),f=a(\"auMy\"),g=a(\"VWQm\"),v=a(\"QUga\"),E=a(\"feIE\"),w=a(\"e3uv\"),y=a(\"ApjV\"),j=a(\"lphG\"),_=a(\"X+Rt\"),x=a(\"aBfq\"),k=a(\"RKiZ\"),O=a(\"7sPp\"),C=a(\"V0nP\"),I=a(\"DTT8\"),N=a(\"ObTy\");const P=Object(l.c)(d.b).withConfig({displayName:\"UserBar__Wrap\",componentId:\"sc-17kd9nb-0\"})([\"width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}\"]),S=Object(l.c)(s.a).withConfig({displayName:\"UserBar__Content\",componentId:\"sc-17kd9nb-1\"})([\"justify-content:space-between;grid-gap:0;width:100%;\"]),A=Object(l.c)(C.a).withConfig({displayName:\"UserBar__RoundedAvatar\",componentId:\"sc-17kd9nb-2\"})([\"width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}\"]),D=l.c.div.withConfig({displayName:\"UserBar__About\",componentId:\"sc-17kd9nb-3\"})([\"display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}\"]),T=l.c.p.withConfig({displayName:\"UserBar__More\",componentId:\"sc-17kd9nb-4\"})([\"color:var(--default-color-accent);cursor:pointer;\"]),L=Object(l.c)(d.b).withConfig({displayName:\"UserBar__Difinitions\",componentId:\"sc-17kd9nb-5\"})([\"flex-wrap:wrap;justify-content:space-between;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}\"]),R=Object(l.c)(b.a).withConfig({displayName:\"UserBar__EditButton\",componentId:\"sc-17kd9nb-6\"})([\"font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}\"]);var U=({user:e,onEdit:t,onAboutMore:a})=>{var n,i;return o.a.createElement(P,null,o.a.createElement(A,{src:(null===e||void 0===e||null===(n=e.avatar)||void 0===n?void 0:n.path)||\"/images/avatar-default.png\"}),o.a.createElement(S,null,o.a.createElement(x.a,{category:Object(N.e)(e.account)}),o.a.createElement(d.b,{style:{gridGap:\"0 10px\"}},o.a.createElement(O.a,{tag:\"h3\"},e.name),o.a.createElement(g.b,{place:\"top\",text:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c\"},o.a.createElement(R,{type:\"button\",kind:\"icon\",size:\"xs\",appearance:\"clear\",onClick:t},\"\\u0420\\u0435\\u0434.\"))),o.a.createElement(k.a,{style:{margin:\"5px 0\"}}),o.a.createElement(D,null,o.a.createElement(v.b,null,(null===e||void 0===e?void 0:e.about)||\"\\u0418\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044f \\u043e\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"),(null===e||void 0===e?void 0:e.about)&&(null===e||void 0===e?void 0:e.about.length)>135&&o.a.createElement(T,{onClick:a},\"\\u041f\\u043e\\u0434\\u0440\\u043e\\u0431\\u043d\\u0435\\u0435\")),o.a.createElement(L,null,o.a.createElement(I.b,{icon:\"chart\",label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",text:(null===e||void 0===e?void 0:e.company)||0}),o.a.createElement(I.b,{icon:\"work\",label:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",text:(null===e||void 0===e||null===(i=e.projects)||void 0===i?void 0:i.length)||0}),o.a.createElement(I.b,{icon:\"user2\",label:\"\\u041f\\u043e\\u0434\\u043f\\u0438\\u0441\\u0447\\u0438\\u043a\\u0438\",text:(null===e||void 0===e?void 0:e.followers)||0}))))},B=a(\"RoTl\"),z=a(\"EYtC\"),M=a(\"1zqG\"),V=a(\"Sza6\"),G=a(\"8ihE\"),X=a(\"IxyI\"),Z=a(\"rP4V\"),F=a(\"u2Cb\"),J=a(\"wha1\");const Q=l.c.aside.withConfig({displayName:\"profile__Container\",componentId:\"sc-84d5hd-0\"})([\"display:grid;grid-template-columns:repeat(auto-fill,minmax(442px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fill,minmax(285px,1fr));}\"]),W=Object(l.c)(d.b).withConfig({displayName:\"profile__ContainerInProgress\",componentId:\"sc-84d5hd-1\"})([\"grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}\"]),q=Object(l.c)(b.a).withConfig({displayName:\"profile__CreateButton\",componentId:\"sc-84d5hd-2\"})([\"display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}\"]),K=Object(l.c)(s.a).withConfig({displayName:\"profile__Orginizer\",componentId:\"sc-84d5hd-3\"})([\"width:265px;\"]),Y=Object(l.c)(g.b).withConfig({displayName:\"profile__RemoveTooltip\",componentId:\"sc-84d5hd-4\"})([\"position:absolute;right:5px;display:none;\"]),H=l.c.div.withConfig({displayName:\"profile__ListItem\",componentId:\"sc-84d5hd-5\"})([\"position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);cursor:pointer;transition:all 150ms ease;\",\"{display:flex;align-items:center;border-radius:var(--surface-border-radius);background:var(--ghost-color-background);width:100%;height:var(--input-height-s);padding:0 10px;transition:all 150ms ease;}&:hover{\",\"{display:flex;}\",\"{color:black;}}\",\"\"],v.a,Y,v.a,(({active:e})=>e&&Object(l.b)([\"\",\"{color:var(--default-color-accent);background:var(--default-color-accent-dim);}&:hover{\",\"{color:var(--default-color-accent);}}\"],v.a,v.a))),$=Object(l.c)(u.a).withConfig({displayName:\"profile__AlertEmpty\",componentId:\"sc-84d5hd-6\"})([\"display:flex;justify-content:center;align-items:center;width:100%;\"]),ee=l.c.div.withConfig({displayName:\"profile__Loader\",componentId:\"sc-84d5hd-7\"})([\"display:flex;justify-content:center;width:100%;height:80px;\"]),te=({projects:e})=>{const t=Object(y.b)(),a=Object(j.a)(),n=Object(c.c)((e=>e.user)),i=Object(c.b)();return e&&0===e.length?o.a.createElement(u.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u043e\\u0432 \\u043d\\u0435\\u0442\"):o.a.createElement(Q,null,e&&e.length>0&&e.map((e=>{var l;return o.a.createElement(M.c,{owned:!0,key:e.id,project:e,liked:!!((null===n||void 0===n?void 0:n.likedProjects)||[]).find((t=>t.id===e.id)),onLike:a(F.a.LIKE_PROJECT,{id:e.id},(e=>i(Object(G.e)(e.data.likeProject)))),onLink:t(X.e,{id:e.id,auth:null===n||void 0===n?void 0:n.email,project:e,owned:!0}),onAdd:t(X.a,{id:e.id,project:e}),onCompanyLink:e.company&&t(Z.i,{id:null===(l=e.company)||void 0===l?void 0:l.email,auth:null===n||void 0===n?void 0:n.email}),onScreenshotClick:(a,n)=>t(X.f,{screenshots:[e.preview,...e.screenshots],key:n})()})})))},ae=()=>{const e=Object(y.b)(),{user:t,folder:a}=Object(c.c)((e=>({user:e.user,folder:e.root.folder}))),i=Object(c.b)(),[l,{data:d,loading:p,refetch:m}]=Object(r.useLazyQuery)(F.a.GET_PROJECTS_BY_IDS);return Object(n.useEffect)((()=>{if(!a&&null!==t&&void 0!==t&&t.folders&&t.folders.length>0){const e=t.folders[0];e.projects.length>0&&l({variables:{projects:e.projects.map((e=>e.id))}}),i(Object(V.k)(e))}}),[a,t,i,l]),o.a.createElement(W,null,o.a.createElement(K,null,t.folders&&t.folders.length>0?o.a.createElement(s.a,null,t.folders.map((t=>o.a.createElement(H,{key:t.id,active:a&&t.id===a.id,onClick:()=>(async e=>{m&&await m({projects:e.projects.map((e=>e.id))}),i(Object(V.k)(e))})(t)},o.a.createElement(v.b,null,t.name),o.a.createElement(Y,{place:\"left\",text:\"\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c\"},o.a.createElement(b.a,{type:\"button\",kind:\"icon\",size:\"xs\",disabled:p,onClick:e(Z.h,{id:t.id,mutation:F.a.DELETE_USER_FOLDER})},o.a.createElement(E.a,{size:\"xs\",icon:\"delete\",stroke:\"white\"}))))))):o.a.createElement(u.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041f\\u0430\\u043f\\u043e\\u043a \\u043d\\u0435\\u0442\"),o.a.createElement(q,{onClick:e(Z.g,{mutation:F.a.ADD_USER_FOLDER})},o.a.createElement(\"span\",null,\"\\u041d\\u043e\\u0432\\u0430\\u044f \\u043f\\u0430\\u043f\\u043a\\u0430\"),o.a.createElement(E.a,{icon:\"add\",stroke:\"white\"}))),p&&o.a.createElement(f.a,null),d&&d.getProjectsByIds.length>0&&d.getProjectsByIds.map((a=>{var n;return o.a.createElement(M.c,{owned:!0,key:a.id,project:a,onLink:e(X.e,{id:a.id,project:a,auth:null===t||void 0===t?void 0:t.email,owned:!0}),onAdd:e(X.a,{project:a}),onCompanyLink:a.company&&e(Z.i,{id:null===(n=a.company)||void 0===n?void 0:n.email,auth:null===t||void 0===t?void 0:t.email}),onScreenshotClick:(t,n)=>e(X.f,{screenshots:[a.preview,...a.screenshots],key:n})()})})),(d&&0===d.getProjectsByIds.length||!d)&&o.a.createElement($,null,\"\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043f\\u0430\\u043f\\u043a\\u0443 \\u0441 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u0430\\u043c\\u0438\"))};var ne=!0;t.default=({categories:e})=>{const t=Object(y.b)(),a=Object(i.useRouter)(),l=Object(c.c)((e=>e.user)),[r,d]=Object(n.useState)(),[u,b]=Object(n.useState)(),[g,v]=Object(n.useState)(J.d[0]),[E,j]=Object(n.useState)(!1),x=Object(n.useMemo)((()=>\"ADMIN\"===(null===l||void 0===l?void 0:l.account)),[l]),k=Object(n.useCallback)((()=>{switch(g.value){case\"/projects\":return o.a.createElement(te,{projects:l.projects});case\"/liked\":return o.a.createElement(te,{projects:l.likedProjects});default:return o.a.createElement(ae,null)}}),[g]);return Object(n.useEffect)((()=>{l.authenticated||a.push(\"/auth\")}),[l]),l.authenticated?o.a.createElement(_.a,{title:l.authenticated?l.name||\"\\u041f\\u0440\\u043e\\u0444\\u0438\\u043b\\u044c\":\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f\"},o.a.createElement(s.a,null,o.a.createElement(U,{user:l,onEdit:t(Z.c,{user:null===l||void 0===l?void 0:l.email,canEditAccount:!x,mutations:{update:F.a.UPDATE_CLIENT_USER,del:F.a.DELETE_USER,changePassword:F.a.UPDATE_CLIENT_USER}}),onAboutMore:t(Z.a,{user:l})}),o.a.createElement(p.b,{defaultValue:g,options:J.d,onChange:e=>v(e),stretch:!0}),o.a.createElement(z.a,{onChangeFilter:()=>j(!E)}),o.a.createElement(B.a,{isOpen:E,filters:[o.a.createElement(m.a,{key:\"publishedAt\",value:r,placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:d,withNavigate:!0}),o.a.createElement(h.a,{key:\"categories\",options:e.map((e=>({value:e.id,label:e.name}))),placeholder:\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:u,onChange:e=>b(e)})],options:w.a.project.map(((e,t)=>({label:e.header,value:t})))}),k())):o.a.createElement(ee,null,o.a.createElement(f.a,null))}},u1GD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/profile\",function(){return a(\"W+IF\")}])}},[[\"u1GD\",0,2,1,3,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/profile-620ee6b421e5514355dc.js"],"names":["_N_E","window","push","W+IF","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","next_router","styled_components_browser_esm","es","client","Row","Column","Switch","Alert","DatePicker","Select","Button","Spinner","Tooltip","Text","Icon","templates","useHelper","useMutate","layouts_default","Meta","Divider","Title","Image","Difinition","functions","Wrap","Object","withConfig","displayName","componentId","Content","RoundedAvatar","About","div","More","p","Difinitions","EditButton","UserBar","user","onEdit","onAboutMore","_user$avatar","_user$projects","a","createElement","src","avatar","path","category","account","style","gridGap","tag","name","place","text","type","kind","size","appearance","onClick","margin","about","length","icon","label","company","projects","followers","FilterBar","SearchBar","ProjectCard","root","actions_user","helpers_project","helpers_user","queries","_mock_","Container","aside","ContainerInProgress","CreateButton","Orginizer","RemoveTooltip","ListItem","active","AlertEmpty","Loader","Projects","recall","mutate","state","dispatch","width","textAlign","map","project","_project$company","owned","key","id","liked","likedProjects","find","item","onLike","LIKE_PROJECT","response","data","likeProject","onLink","auth","email","onAdd","onCompanyLink","onScreenshotClick","_","screenshots","preview","InProgress","folder","getProjects","loading","refetch","GET_PROJECTS_BY_IDS","folders","defaultFolder","variables","async","onFolderClick","disabled","mutation","DELETE_USER_FOLDER","stroke","ADD_USER_FOLDER","getProjectsByIds","_project$company2","categories","router","date","onChangeDate","select","onChangeSelect","currentPage","setCurrentPage","visibleFilter","setVisibleFilter","isAdmin","renderContentPage","value","authenticated","title","canEditAccount","mutations","update","UPDATE_CLIENT_USER","del","DELETE_USER","changePassword","defaultValue","options","onChange","stretch","onChangeFilter","isOpen","filters","placeholder","withNavigate","selected","index","header","u1GD","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/profile-620ee6b421e5514355dc.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[31],{\n\n/***/ \"W+IF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Switch/index.js\nvar Switch = __webpack_require__(\"OXt0\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Tooltip/index.js\nvar Tooltip = __webpack_require__(\"VWQm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Text/index.js\nvar Text = __webpack_require__(\"QUga\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Icon/index.js + 107 modules\nvar Icon = __webpack_require__(\"feIE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/templates/index.js + 6 modules\nvar templates = __webpack_require__(\"e3uv\");\n\n// EXTERNAL MODULE: ./hooks/useHelper.js\nvar useHelper = __webpack_require__(\"ApjV\");\n\n// EXTERNAL MODULE: ./hooks/useMutate.js\nvar useMutate = __webpack_require__(\"lphG\");\n\n// EXTERNAL MODULE: ./layouts/default.js + 3 modules\nvar layouts_default = __webpack_require__(\"X+Rt\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Meta/index.js\nvar Meta = __webpack_require__(\"aBfq\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Title/index.js\nvar Title = __webpack_require__(\"7sPp\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Image/index.js\nvar Image = __webpack_require__(\"V0nP\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Difinition/index.js\nvar Difinition = __webpack_require__(\"DTT8\");\n\n// EXTERNAL MODULE: ./utils/functions.js\nvar functions = __webpack_require__(\"ObTy\");\n\n// CONCATENATED MODULE: ./components/UserBar/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"UserBar__Wrap\",\n  componentId: \"sc-17kd9nb-0\"\n})([\"width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}\"]);\nconst Content = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"UserBar__Content\",\n  componentId: \"sc-17kd9nb-1\"\n})([\"justify-content:space-between;grid-gap:0;width:100%;\"]);\nconst RoundedAvatar = Object(styled_components_browser_esm[\"c\" /* default */])(Image[\"a\" /* default */]).withConfig({\n  displayName: \"UserBar__RoundedAvatar\",\n  componentId: \"sc-17kd9nb-2\"\n})([\"width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}\"]);\nconst About = styled_components_browser_esm[\"c\" /* default */].div.withConfig({\n  displayName: \"UserBar__About\",\n  componentId: \"sc-17kd9nb-3\"\n})([\"display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}\"]);\nconst More = styled_components_browser_esm[\"c\" /* default */].p.withConfig({\n  displayName: \"UserBar__More\",\n  componentId: \"sc-17kd9nb-4\"\n})([\"color:var(--default-color-accent);cursor:pointer;\"]);\nconst Difinitions = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"UserBar__Difinitions\",\n  componentId: \"sc-17kd9nb-5\"\n})([\"flex-wrap:wrap;justify-content:space-between;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}\"]);\nconst EditButton = Object(styled_components_browser_esm[\"c\" /* default */])(Button[\"a\" /* default */]).withConfig({\n  displayName: \"UserBar__EditButton\",\n  componentId: \"sc-17kd9nb-6\"\n})([\"font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}\"]);\nconst User = ({\n  user,\n  onEdit,\n  onAboutMore\n}) => {\n  var _user$avatar, _user$projects;\n\n  return /*#__PURE__*/react_default.a.createElement(Wrap, null, /*#__PURE__*/react_default.a.createElement(RoundedAvatar, {\n    src: (user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.path) || '/images/avatar-default.png'\n  }), /*#__PURE__*/react_default.a.createElement(Content, null, /*#__PURE__*/react_default.a.createElement(Meta[\"a\" /* default */], {\n    category: Object(functions[\"e\" /* getLabelRole */])(user.account)\n  }), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], {\n    style: {\n      gridGap: '0 10px'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Title[\"a\" /* default */], {\n    tag: 'h3'\n  }, user.name), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    place: 'top',\n    text: 'Редактировать'\n  }, /*#__PURE__*/react_default.a.createElement(EditButton, {\n    type: 'button',\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'clear',\n    onClick: onEdit\n  }, \"\\u0420\\u0435\\u0434.\"))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n    style: {\n      margin: '5px 0'\n    }\n  }), /*#__PURE__*/react_default.a.createElement(About, null, /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, (user === null || user === void 0 ? void 0 : user.about) || 'Информация отсутствует'), (user === null || user === void 0 ? void 0 : user.about) && (user === null || user === void 0 ? void 0 : user.about.length) > 135 && /*#__PURE__*/react_default.a.createElement(More, {\n    onClick: onAboutMore\n  }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\")), /*#__PURE__*/react_default.a.createElement(Difinitions, null, /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    icon: 'chart',\n    label: 'Компания',\n    text: (user === null || user === void 0 ? void 0 : user.company) || 0\n  }), /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    icon: 'work',\n    label: 'Проекты',\n    text: (user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.length) || 0\n  }), /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    icon: 'user2',\n    label: 'Подписчики',\n    text: (user === null || user === void 0 ? void 0 : user.followers) || 0\n  }))));\n};\n/* harmony default export */ var UserBar = (User);\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./components/SearchBar/index.js\nvar SearchBar = __webpack_require__(\"EYtC\");\n\n// EXTERNAL MODULE: ./components/ProjectCard/index.js\nvar ProjectCard = __webpack_require__(\"1zqG\");\n\n// EXTERNAL MODULE: ./store/actions/root.js\nvar root = __webpack_require__(\"Sza6\");\n\n// EXTERNAL MODULE: ./store/actions/user.js\nvar actions_user = __webpack_require__(\"8ihE\");\n\n// EXTERNAL MODULE: ./store/helpers/project.js + 6 modules\nvar helpers_project = __webpack_require__(\"IxyI\");\n\n// EXTERNAL MODULE: ./store/helpers/user.js + 11 modules\nvar helpers_user = __webpack_require__(\"rP4V\");\n\n// EXTERNAL MODULE: ./graphql/queries/index.js + 14 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// EXTERNAL MODULE: ./__mock__/index.js\nvar _mock_ = __webpack_require__(\"wha1\");\n\n// CONCATENATED MODULE: ./pages/profile.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Профиль';\nconst Container = styled_components_browser_esm[\"c\" /* default */].aside.withConfig({\n  displayName: \"profile__Container\",\n  componentId: \"sc-84d5hd-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fill,minmax(442px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fill,minmax(285px,1fr));}\"]);\nconst ContainerInProgress = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"profile__ContainerInProgress\",\n  componentId: \"sc-84d5hd-1\"\n})([\"grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}\"]);\nconst CreateButton = Object(styled_components_browser_esm[\"c\" /* default */])(Button[\"a\" /* default */]).withConfig({\n  displayName: \"profile__CreateButton\",\n  componentId: \"sc-84d5hd-2\"\n})([\"display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}\"]);\nconst Orginizer = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"profile__Orginizer\",\n  componentId: \"sc-84d5hd-3\"\n})([\"width:265px;\"]);\nconst RemoveTooltip = Object(styled_components_browser_esm[\"c\" /* default */])(Tooltip[\"b\" /* default */]).withConfig({\n  displayName: \"profile__RemoveTooltip\",\n  componentId: \"sc-84d5hd-4\"\n})([\"position:absolute;right:5px;display:none;\"]);\nconst ListItem = styled_components_browser_esm[\"c\" /* default */].div.withConfig({\n  displayName: \"profile__ListItem\",\n  componentId: \"sc-84d5hd-5\"\n})([\"position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);cursor:pointer;transition:all 150ms ease;\", \"{display:flex;align-items:center;border-radius:var(--surface-border-radius);background:var(--ghost-color-background);width:100%;height:var(--input-height-s);padding:0 10px;transition:all 150ms ease;}&:hover{\", \"{display:flex;}\", \"{color:black;}}\", \"\"], Text[\"a\" /* Wrap */], RemoveTooltip, Text[\"a\" /* Wrap */], ({\n  active\n}) => active && Object(styled_components_browser_esm[\"b\" /* css */])([\"\", \"{color:var(--default-color-accent);background:var(--default-color-accent-dim);}&:hover{\", \"{color:var(--default-color-accent);}}\"], Text[\"a\" /* Wrap */], Text[\"a\" /* Wrap */]));\nconst AlertEmpty = Object(styled_components_browser_esm[\"c\" /* default */])(Alert[\"a\" /* default */]).withConfig({\n  displayName: \"profile__AlertEmpty\",\n  componentId: \"sc-84d5hd-6\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;\"]);\nconst Loader = styled_components_browser_esm[\"c\" /* default */].div.withConfig({\n  displayName: \"profile__Loader\",\n  componentId: \"sc-84d5hd-7\"\n})([\"display:flex;justify-content:center;width:100%;height:80px;\"]);\n\nconst Projects = ({\n  projects\n}) => {\n  const recall = Object(useHelper[\"b\" /* useHelper */])();\n  const mutate = Object(useMutate[\"a\" /* useMutate */])();\n  const user = Object(es[\"c\" /* useSelector */])(state => state.user);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n\n  if (projects && projects.length === 0) {\n    return /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n      style: {\n        width: '100%',\n        textAlign: 'center'\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u043E\\u0432 \\u043D\\u0435\\u0442\");\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(Container, null, projects && projects.length > 0 && projects.map(project => {\n    var _project$company;\n\n    return /*#__PURE__*/react_default.a.createElement(ProjectCard[\"c\" /* default */], {\n      owned: true,\n      key: project.id,\n      project: project,\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLike: mutate(queries[\"a\" /* default */].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(actions_user[\"e\" /* updateUser */])(response.data.likeProject))),\n      onLink: recall(helpers_project[\"e\" /* onProjectLink */], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        project,\n        owned: true\n      }),\n      onAdd: recall(helpers_project[\"a\" /* onProjectAdd */], {\n        id: project.id,\n        project\n      }),\n      onCompanyLink: project.company && recall(helpers_user[\"i\" /* onUserLink */], {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onScreenshotClick: (_, key) => recall(helpers_project[\"f\" /* onProjectScreenshot */], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    });\n  }));\n};\n\nconst InProgress = () => {\n  const recall = Object(useHelper[\"b\" /* useHelper */])();\n  const {\n    user,\n    folder\n  } = Object(es[\"c\" /* useSelector */])(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const [getProjects, {\n    data,\n    loading,\n    refetch\n  }] = Object(client[\"useLazyQuery\"])(queries[\"a\" /* default */].GET_PROJECTS_BY_IDS);\n\n  const onFolderClick = async item => {\n    if (refetch) await refetch({\n      projects: item.projects.map(project => project.id)\n    });\n    dispatch(Object(root[\"k\" /* setFolder */])(item));\n  };\n\n  Object(react[\"useEffect\"])(() => {\n    if (!folder && user !== null && user !== void 0 && user.folders && user.folders.length > 0) {\n      const defaultFolder = user.folders[0];\n\n      if (defaultFolder.projects.length > 0) {\n        getProjects({\n          variables: {\n            projects: defaultFolder.projects.map(project => project.id)\n          }\n        });\n      }\n\n      dispatch(Object(root[\"k\" /* setFolder */])(defaultFolder));\n    }\n  }, [folder, user, dispatch, getProjects]);\n  return /*#__PURE__*/react_default.a.createElement(ContainerInProgress, null, /*#__PURE__*/react_default.a.createElement(Orginizer, null, user.folders && user.folders.length > 0 ? /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], null, user.folders.map(item => /*#__PURE__*/react_default.a.createElement(ListItem, {\n    key: item.id,\n    active: folder && item.id === folder.id,\n    onClick: () => onFolderClick(item)\n  }, /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, item.name), /*#__PURE__*/react_default.a.createElement(RemoveTooltip, {\n    place: 'left',\n    text: 'Удалить'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    type: 'button',\n    kind: 'icon',\n    size: 'xs',\n    disabled: loading,\n    onClick: recall(helpers_user[\"h\" /* onUserFolderDelete */], {\n      id: item.id,\n      mutation: queries[\"a\" /* default */].DELETE_USER_FOLDER\n    })\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    size: 'xs',\n    icon: 'delete',\n    stroke: 'white'\n  })))))) : /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u0430\\u043F\\u043E\\u043A \\u043D\\u0435\\u0442\"), /*#__PURE__*/react_default.a.createElement(CreateButton, {\n    onClick: recall(helpers_user[\"g\" /* onUserFolderAdd */], {\n      mutation: queries[\"a\" /* default */].ADD_USER_FOLDER\n    })\n  }, /*#__PURE__*/react_default.a.createElement(\"span\", null, \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430\"), /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'add',\n    stroke: 'white'\n  }))), loading && /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null), data && data.getProjectsByIds.length > 0 && data.getProjectsByIds.map(project => {\n    var _project$company2;\n\n    return /*#__PURE__*/react_default.a.createElement(ProjectCard[\"c\" /* default */], {\n      owned: true,\n      key: project.id,\n      project: project,\n      onLink: recall(helpers_project[\"e\" /* onProjectLink */], {\n        id: project.id,\n        project,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned: true\n      }),\n      onAdd: recall(helpers_project[\"a\" /* onProjectAdd */], {\n        project\n      }),\n      onCompanyLink: project.company && recall(helpers_user[\"i\" /* onUserLink */], {\n        id: (_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onScreenshotClick: (_, key) => recall(helpers_project[\"f\" /* onProjectScreenshot */], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    });\n  }), (data && data.getProjectsByIds.length === 0 || !data) && /*#__PURE__*/react_default.a.createElement(AlertEmpty, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u043F\\u043A\\u0443 \\u0441 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\\u043C\\u0438\"));\n};\n\nconst Profile = ({\n  categories\n}) => {\n  const recall = Object(useHelper[\"b\" /* useHelper */])();\n  const router = Object(next_router[\"useRouter\"])();\n  const user = Object(es[\"c\" /* useSelector */])(state => state.user);\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [currentPage, setCurrentPage] = Object(react[\"useState\"])(_mock_[\"d\" /* profilePages */][0]);\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const isAdmin = Object(react[\"useMemo\"])(() => (user === null || user === void 0 ? void 0 : user.account) === 'ADMIN', [user]);\n  const renderContentPage = Object(react[\"useCallback\"])(() => {\n    switch (currentPage.value) {\n      case '/projects':\n        return /*#__PURE__*/react_default.a.createElement(Projects, {\n          projects: user.projects\n        });\n\n      case '/liked':\n        return /*#__PURE__*/react_default.a.createElement(Projects, {\n          projects: user.likedProjects\n        });\n\n      default:\n        return /*#__PURE__*/react_default.a.createElement(InProgress, null);\n    }\n  }, [currentPage]);\n  Object(react[\"useEffect\"])(() => {\n    if (!user.authenticated) {\n      router.push('/auth');\n    }\n  }, [user]);\n\n  if (!user.authenticated) {\n    return /*#__PURE__*/react_default.a.createElement(Loader, null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(layouts_default[\"a\" /* default */], {\n    title: user.authenticated ? user.name || TITLE : 'Авторизация'\n  }, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(UserBar, {\n    user: user,\n    onEdit: recall(helpers_user[\"c\" /* onUserClientEdit */], {\n      user: user === null || user === void 0 ? void 0 : user.email,\n      canEditAccount: !isAdmin,\n      mutations: {\n        update: queries[\"a\" /* default */].UPDATE_CLIENT_USER,\n        del: queries[\"a\" /* default */].DELETE_USER,\n        changePassword: queries[\"a\" /* default */].UPDATE_CLIENT_USER\n      }\n    }),\n    onAboutMore: recall(helpers_user[\"a\" /* onUserAboutMore */], {\n      user\n    })\n  }), /*#__PURE__*/react_default.a.createElement(Switch[\"b\" /* default */], {\n    defaultValue: currentPage,\n    options: _mock_[\"d\" /* profilePages */],\n    onChange: item => setCurrentPage(item),\n    stretch: true\n  }), /*#__PURE__*/react_default.a.createElement(SearchBar[\"a\" /* default */], {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter)\n  }), /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n      key: 'publishedAt',\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n      key: 'categories',\n      options: categories.map(category => ({\n        value: category.id,\n        label: category.name\n      })),\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: templates[\"a\" /* default */].project.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), renderContentPage()));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ var profile = __webpack_exports__[\"default\"] = (Profile);\n\n/***/ }),\n\n/***/ \"u1GD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/profile\",\n        function () {\n          return __webpack_require__(\"W+IF\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"u1GD\",0,2,1,3,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\UserBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\profile.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fprofile&absolutePagePath=private-next-pages%2Fprofile.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Image from '../../atomic-ui/components/Image';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nimport Button from '../../atomic-ui/components/Button';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport { getLabelRole } from '../../utils/functions';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"UserBar__Wrap\",\n  componentId: \"sc-17kd9nb-0\"\n})([\"width:100%;@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}\"]);\nexport const Content = styled(Column).withConfig({\n  displayName: \"UserBar__Content\",\n  componentId: \"sc-17kd9nb-1\"\n})([\"justify-content:space-between;grid-gap:0;width:100%;\"]);\nexport const RoundedAvatar = styled(Image).withConfig({\n  displayName: \"UserBar__RoundedAvatar\",\n  componentId: \"sc-17kd9nb-2\"\n})([\"width:256px;height:256px;border-radius:var(--surface-border-radius);object-fit:cover;@media only screen and (max-width:768px){width:169px;}@media only screen and (max-width:568px){width:100%;}\"]);\nexport const About = styled.div.withConfig({\n  displayName: \"UserBar__About\",\n  componentId: \"sc-17kd9nb-3\"\n})([\"display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;flex-grow:100;@media only screen and (max-width:568px){margin-bottom:15px;}\"]);\nexport const More = styled.p.withConfig({\n  displayName: \"UserBar__More\",\n  componentId: \"sc-17kd9nb-4\"\n})([\"color:var(--default-color-accent);cursor:pointer;\"]);\nexport const Difinitions = styled(Row).withConfig({\n  displayName: \"UserBar__Difinitions\",\n  componentId: \"sc-17kd9nb-5\"\n})([\"flex-wrap:wrap;justify-content:space-between;grid-gap:var(--default-gap);@media only screen and (max-width:568px){flex-direction:column;grid-gap:var(--default-gap);}\"]);\nexport const EditButton = styled(Button).withConfig({\n  displayName: \"UserBar__EditButton\",\n  componentId: \"sc-17kd9nb-6\"\n})([\"font-size:var(--font-size-s);color:var(--ghost-color-text);transition:color 150ms ease;&:hover{color:black;}\"]);\nexport const User = ({\n  user,\n  onEdit,\n  onAboutMore\n}) => {\n  var _user$avatar, _user$projects;\n\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(RoundedAvatar, {\n    src: (user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.path) || '/images/avatar-default.png'\n  }), /*#__PURE__*/React.createElement(Content, null, /*#__PURE__*/React.createElement(Meta, {\n    category: getLabelRole(user.account)\n  }), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      gridGap: '0 10px'\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    tag: 'h3'\n  }, user.name), /*#__PURE__*/React.createElement(Tooltip, {\n    place: 'top',\n    text: 'Редактировать'\n  }, /*#__PURE__*/React.createElement(EditButton, {\n    type: 'button',\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'clear',\n    onClick: onEdit\n  }, \"\\u0420\\u0435\\u0434.\"))), /*#__PURE__*/React.createElement(Divider, {\n    style: {\n      margin: '5px 0'\n    }\n  }), /*#__PURE__*/React.createElement(About, null, /*#__PURE__*/React.createElement(Text, null, (user === null || user === void 0 ? void 0 : user.about) || 'Информация отсутствует'), (user === null || user === void 0 ? void 0 : user.about) && (user === null || user === void 0 ? void 0 : user.about.length) > 135 && /*#__PURE__*/React.createElement(More, {\n    onClick: onAboutMore\n  }, \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\")), /*#__PURE__*/React.createElement(Difinitions, null, /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'chart',\n    label: 'Компания',\n    text: (user === null || user === void 0 ? void 0 : user.company) || 0\n  }), /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'work',\n    label: 'Проекты',\n    text: (user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.length) || 0\n  }), /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'user2',\n    label: 'Подписчики',\n    text: (user === null || user === void 0 ? void 0 : user.followers) || 0\n  }))));\n};\nexport default User;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport styled, { css } from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport Row from '../atomic-ui/components/Row';\nimport Column from '../atomic-ui/components/Column';\nimport Switch from '../atomic-ui/components/Switch';\nimport Alert from '../atomic-ui/components/Alert';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Select from '../atomic-ui/components/Select';\nimport Button from '../atomic-ui/components/Button';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Tooltip from '../atomic-ui/components/Tooltip';\nimport Text, { Wrap as WrapText } from '../atomic-ui/components/Text';\nimport Icon from '../atomic-ui/components/Icon';\nimport templates from '../atomic-ui/components/Table/templates';\nimport { useHelper } from '../hooks/useHelper';\nimport { useMutate } from '../hooks/useMutate';\nimport DefaultLayout from '../layouts/default';\nimport UserBar from '../components/UserBar';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport ProjectCard from '../components/ProjectCard';\nimport { setFolder } from '../store/actions/root';\nimport { updateUser } from '../store/actions/user';\nimport { onProjectLink, onProjectAdd, onProjectScreenshot } from '../store/helpers/project';\nimport { onUserLink, onUserClientEdit, onUserAboutMore, onUserFolderAdd, onUserFolderDelete } from '../store/helpers/user';\nimport queries from '../graphql/queries';\nimport { profilePages } from '../__mock__';\nconst TITLE = 'Профиль';\nconst Container = styled.aside.withConfig({\n  displayName: \"profile__Container\",\n  componentId: \"sc-84d5hd-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fill,minmax(442px,1fr));grid-gap:var(--default-gap);@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fill,minmax(285px,1fr));}\"]);\nconst ContainerInProgress = styled(Row).withConfig({\n  displayName: \"profile__ContainerInProgress\",\n  componentId: \"sc-84d5hd-1\"\n})([\"grid-gap:var(--default-gap);@media only screen and (max-width:768px){flex-direction:column;}\"]);\nconst CreateButton = styled(Button).withConfig({\n  displayName: \"profile__CreateButton\",\n  componentId: \"sc-84d5hd-2\"\n})([\"display:flex;justify-content:center;align-items:center;grid-gap:10px;span{white-space:nowrap;}\"]);\nconst Orginizer = styled(Column).withConfig({\n  displayName: \"profile__Orginizer\",\n  componentId: \"sc-84d5hd-3\"\n})([\"width:265px;\"]);\nconst RemoveTooltip = styled(Tooltip).withConfig({\n  displayName: \"profile__RemoveTooltip\",\n  componentId: \"sc-84d5hd-4\"\n})([\"position:absolute;right:5px;display:none;\"]);\nconst ListItem = styled.div.withConfig({\n  displayName: \"profile__ListItem\",\n  componentId: \"sc-84d5hd-5\"\n})([\"position:relative;display:flex;justify-content:space-between;align-items:center;height:var(--input-height-s);cursor:pointer;transition:all 150ms ease;\", \"{display:flex;align-items:center;border-radius:var(--surface-border-radius);background:var(--ghost-color-background);width:100%;height:var(--input-height-s);padding:0 10px;transition:all 150ms ease;}&:hover{\", \"{display:flex;}\", \"{color:black;}}\", \"\"], WrapText, RemoveTooltip, WrapText, ({\n  active\n}) => active && css([\"\", \"{color:var(--default-color-accent);background:var(--default-color-accent-dim);}&:hover{\", \"{color:var(--default-color-accent);}}\"], WrapText, WrapText));\nconst AlertEmpty = styled(Alert).withConfig({\n  displayName: \"profile__AlertEmpty\",\n  componentId: \"sc-84d5hd-6\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;\"]);\nconst Loader = styled.div.withConfig({\n  displayName: \"profile__Loader\",\n  componentId: \"sc-84d5hd-7\"\n})([\"display:flex;justify-content:center;width:100%;height:80px;\"]);\n\nconst Projects = ({\n  projects\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n\n  if (projects && projects.length === 0) {\n    return /*#__PURE__*/React.createElement(Alert, {\n      style: {\n        width: '100%',\n        textAlign: 'center'\n      }\n    }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u043E\\u0432 \\u043D\\u0435\\u0442\");\n  }\n\n  return /*#__PURE__*/React.createElement(Container, null, projects && projects.length > 0 && projects.map(project => {\n    var _project$company;\n\n    return /*#__PURE__*/React.createElement(ProjectCard, {\n      owned: true,\n      key: project.id,\n      project: project,\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLike: mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        project,\n        owned: true\n      }),\n      onAdd: recall(onProjectAdd, {\n        id: project.id,\n        project\n      }),\n      onCompanyLink: project.company && recall(onUserLink, {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    });\n  }));\n};\n\nconst InProgress = () => {\n  const recall = useHelper();\n  const {\n    user,\n    folder\n  } = useSelector(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const dispatch = useDispatch();\n  const [getProjects, {\n    data,\n    loading,\n    refetch\n  }] = useLazyQuery(queries.GET_PROJECTS_BY_IDS);\n\n  const onFolderClick = async item => {\n    if (refetch) await refetch({\n      projects: item.projects.map(project => project.id)\n    });\n    dispatch(setFolder(item));\n  };\n\n  useEffect(() => {\n    if (!folder && user !== null && user !== void 0 && user.folders && user.folders.length > 0) {\n      const defaultFolder = user.folders[0];\n\n      if (defaultFolder.projects.length > 0) {\n        getProjects({\n          variables: {\n            projects: defaultFolder.projects.map(project => project.id)\n          }\n        });\n      }\n\n      dispatch(setFolder(defaultFolder));\n    }\n  }, [folder, user, dispatch, getProjects]);\n  return /*#__PURE__*/React.createElement(ContainerInProgress, null, /*#__PURE__*/React.createElement(Orginizer, null, user.folders && user.folders.length > 0 ? /*#__PURE__*/React.createElement(Column, null, user.folders.map(item => /*#__PURE__*/React.createElement(ListItem, {\n    key: item.id,\n    active: folder && item.id === folder.id,\n    onClick: () => onFolderClick(item)\n  }, /*#__PURE__*/React.createElement(Text, null, item.name), /*#__PURE__*/React.createElement(RemoveTooltip, {\n    place: 'left',\n    text: 'Удалить'\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: 'button',\n    kind: 'icon',\n    size: 'xs',\n    disabled: loading,\n    onClick: recall(onUserFolderDelete, {\n      id: item.id,\n      mutation: queries.DELETE_USER_FOLDER\n    })\n  }, /*#__PURE__*/React.createElement(Icon, {\n    size: 'xs',\n    icon: 'delete',\n    stroke: 'white'\n  })))))) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u0430\\u043F\\u043E\\u043A \\u043D\\u0435\\u0442\"), /*#__PURE__*/React.createElement(CreateButton, {\n    onClick: recall(onUserFolderAdd, {\n      mutation: queries.ADD_USER_FOLDER\n    })\n  }, /*#__PURE__*/React.createElement(\"span\", null, \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430\"), /*#__PURE__*/React.createElement(Icon, {\n    icon: 'add',\n    stroke: 'white'\n  }))), loading && /*#__PURE__*/React.createElement(Spinner, null), data && data.getProjectsByIds.length > 0 && data.getProjectsByIds.map(project => {\n    var _project$company2;\n\n    return /*#__PURE__*/React.createElement(ProjectCard, {\n      owned: true,\n      key: project.id,\n      project: project,\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        project,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned: true\n      }),\n      onAdd: recall(onProjectAdd, {\n        project\n      }),\n      onCompanyLink: project.company && recall(onUserLink, {\n        id: (_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    });\n  }), (data && data.getProjectsByIds.length === 0 || !data) && /*#__PURE__*/React.createElement(AlertEmpty, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u043F\\u043A\\u0443 \\u0441 \\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u0430\\u043C\\u0438\"));\n};\n\nconst Profile = ({\n  categories\n}) => {\n  const recall = useHelper();\n  const router = useRouter();\n  const user = useSelector(state => state.user);\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [currentPage, setCurrentPage] = useState(profilePages[0]);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const isAdmin = useMemo(() => (user === null || user === void 0 ? void 0 : user.account) === 'ADMIN', [user]);\n  const renderContentPage = useCallback(() => {\n    switch (currentPage.value) {\n      case '/projects':\n        return /*#__PURE__*/React.createElement(Projects, {\n          projects: user.projects\n        });\n\n      case '/liked':\n        return /*#__PURE__*/React.createElement(Projects, {\n          projects: user.likedProjects\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(InProgress, null);\n    }\n  }, [currentPage]);\n  useEffect(() => {\n    if (!user.authenticated) {\n      router.push('/auth');\n    }\n  }, [user]);\n\n  if (!user.authenticated) {\n    return /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(DefaultLayout, {\n    title: user.authenticated ? user.name || TITLE : 'Авторизация'\n  }, /*#__PURE__*/React.createElement(Column, null, /*#__PURE__*/React.createElement(UserBar, {\n    user: user,\n    onEdit: recall(onUserClientEdit, {\n      user: user === null || user === void 0 ? void 0 : user.email,\n      canEditAccount: !isAdmin,\n      mutations: {\n        update: queries.UPDATE_CLIENT_USER,\n        del: queries.DELETE_USER,\n        changePassword: queries.UPDATE_CLIENT_USER\n      }\n    }),\n    onAboutMore: recall(onUserAboutMore, {\n      user\n    })\n  }), /*#__PURE__*/React.createElement(Switch, {\n    defaultValue: currentPage,\n    options: profilePages,\n    onChange: item => setCurrentPage(item),\n    stretch: true\n  }), /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter)\n  }), /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/React.createElement(DatePicker, {\n      key: 'publishedAt',\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/React.createElement(Select, {\n      key: 'categories',\n      options: categories.map(category => ({\n        value: category.id,\n        label: category.name\n      })),\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: templates.project.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), renderContentPage()));\n};\n\nexport var __N_SSP = true;\nexport default Profile;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/profile\",\n        function () {\n          return require(\"private-next-pages/profile.js\");\n        }\n      ]);\n    "]}}