{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{OaTT:function(e,a,t){\"use strict\";var i=t(\"q1tI\"),l=t.n(i),n=t(\"VX74\"),d=t(\"/MKj\"),o=t(\"ZwIX\"),r=t(\"auMy\"),c=t(\"586Q\"),s=t(\"VP1n\"),u=t(\"UwjQ\"),m=t(\"ApjV\"),p=t(\"owvJ\"),f=t(\"u2Cb\");a.a=({variables:e,layout:a,initialList:t})=>{const E=Object(m.b)(),v=Object(d.c)((e=>e.user)),[b,j]=Object(i.useState)(t||[]),{data:O,loading:h,error:_}=t?{data:null,loading:!1,error:!1}:Object(n.useQuery)(f.a.GET_ARTICLES,{variables:e});return Object(i.useEffect)((()=>{!h&&O&&j(O.getArticles)}),[O,h]),Object(i.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&j(t)}),[t]),!h&&O||b.length>0?b.map((e=>{var t;return l.a.createElement(s.a,{key:e.id},l.a.createElement(u.b,{article:e,layout:a||\"column\",owned:null===v||void 0===v||null===(t=v.articles)||void 0===t?void 0:t.find((a=>a.id===e.id)),onLink:E(p.d,{id:e.id,auth:null===v||void 0===v?void 0:v.email})}))})):_?l.a.createElement(o.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"):h?l.a.createElement(c.c,null,l.a.createElement(r.a,null)):l.a.createElement(o.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0435\\u0439 \\u043d\\u0435\\u0442\")}},RNiq:function(e,a,t){\"use strict\";t.r(a),t.d(a,\"__N_SSP\",(function(){return _}));var i=t(\"q1tI\"),l=t.n(i),n=t(\"20a2\"),d=t(\"vOnD\"),o=t(\"/MKj\"),r=t(\"7sPp\"),c=t(\"qF4B\"),s=t(\"OaTT\"),u=t(\"20ex\"),m=t(\"ApjV\"),p=t(\"lphG\"),f=t(\"QX5T\"),E=t(\"8ihE\"),v=t(\"IxyI\"),b=t(\"rP4V\"),j=t(\"u2Cb\");const O=d.d.div.withConfig({displayName:\"pages__Container\",componentId:\"sc-1kp8388-0\"})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;\",\" @media only screen and (max-width:1196px){grid-template-columns:1fr;}\"],(({isSearch:e})=>e&&Object(d.c)([\"grid-template-columns:1fr;\"]))),h=d.d.aside.withConfig({displayName:\"pages__Aside\",componentId:\"sc-1kp8388-1\"})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);var _=!0;a.default=({store:e})=>{const a=Object(n.useRouter)(),t=Object(m.b)(),d=Object(p.a)(),{user:_,search:g}=Object(o.c)((e=>({user:e.user,search:e.root.search}))),y=Object(o.b)(),w=Object(i.useMemo)((()=>({title:e.scaffold.title,background:e.scaffold.background.path,primary:e.scaffold.primary,residues:e.scaffold.residues,onLink:(e,a)=>{var i;return t(v.e,{id:e.id,auth:null===_||void 0===_?void 0:_.email,added:!(null===_||void 0===_||null===(i=_.folders)||void 0===i||!i.find((a=>!(null===a||void 0===a||!a.projects.find((a=>a===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===_.email)),onLike:_.email&&d(j.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(E.e)(e.data.likeProject)))),onAdd:_.email&&t(v.a,{id:e.id,folders:null===_||void 0===_?void 0:_.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};y(Object(E.c)(t))}}),owned:a})()},onLike:_.email&&(e=>d(j.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(E.e)(e.data.likeProject))))()),onAdd:_.email&&(e=>t(v.a,{id:e.id,folders:null===_||void 0===_?void 0:_.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};y(Object(E.c)(t))}})()),onSearch:e=>a.push({pathname:a.pathname,query:{search:e}},void 0,{shallow:!0}),onAboutMore:e=>t(b.a,{user:e}),onCompanyLink:e=>{var a;return t(b.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:_})()},onScreenshotClick:(e,a)=>t(v.g,{screenshots:[e.preview,...e.screenshots],key:a})()})),[_,e,t,d,y]);return l.a.createElement(f.a,{title:\"\\u0410\\u0442\\u043e\\u043c\\u0438\\u043a\",limit:4,scaffold:w,startOffset:0,query:j.a.GET_PROJECTS,variables:{status:\"PUBLISHED\"},initialize:!0},(({documents:e})=>l.a.createElement(O,{isSearch:g},l.a.createElement(c.a,{initialList:e,layout:!0}),!g&&l.a.createElement(h,null,l.a.createElement(r.a,{tag:\"h4\"},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u044b\"),l.a.createElement(u.a,{variables:{offset:0,limit:1}}),l.a.createElement(r.a,{tag:\"h4\"},\"\\u041d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0438\"),l.a.createElement(s.a,{variables:{offset:0,limit:1}})))))}},qF4B:function(e,a,t){\"use strict\";var i=t(\"q1tI\"),l=t.n(i),n=t(\"vOnD\"),d=t(\"VX74\"),o=t(\"/MKj\"),r=t(\"ZwIX\"),c=t(\"auMy\"),s=t(\"586Q\"),u=t(\"VP1n\"),m=t(\"1zqG\"),p=t(\"ApjV\"),f=t(\"lphG\"),E=t(\"8ihE\"),v=t(\"rP4V\"),b=t(\"IxyI\"),j=t(\"u2Cb\");const O=n.d.div.withConfig({displayName:\"ProjectList__Wrap\",componentId:\"zcwfmw-0\"})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]),h=({variables:e,layout:a,eliminable:t,initialList:n,initialRefetch:h,emptyMessage:_})=>{const g=Object(p.b)(),y=Object(f.a)(),{user:w,folder:k}=Object(o.c)((e=>({user:e.user,folder:e.root.folder}))),[R,P]=Object(i.useState)(n||[]),S=Object(o.b)(),{data:A,loading:C,error:D}=n?{data:null,loading:!1,error:!1}:Object(d.useQuery)(j.a.GET_PROJECTS,{variables:e}),T=Object(i.useCallback)((e=>g(b.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};S(Object(E.c)(t))}})()),[w]),L=Object(i.useCallback)((e=>g(b.f,{id:e.id,folder:k,mutation:j.a.REMOVE_USER_PROJECT,callback:()=>h&&h(R.filter((a=>a.id!==e.id)).map((e=>e.id)))})()),[w]);return Object(i.useEffect)((()=>{!C&&A&&P(A.getProjects)}),[A,C]),Object(i.useEffect)((()=>{!C&&(null===n||void 0===n?void 0:n.length)>0&&P(n)}),[C,n]),l.a.createElement(O,null,R.length>0?R.map((e=>{var i,n,d,o;const r=null===w||void 0===w||null===(i=w.projects)||void 0===i?void 0:i.find((a=>a.id===e.id));return l.a.createElement(u.a,{key:e.id},l.a.createElement(m.c,{project:e,eliminable:t,layout:a||\"column\",owned:r,added:!(null===w||void 0===w||null===(n=w.folders)||void 0===n||!n.find((a=>!(null===a||void 0===a||!a.projects.find((a=>a===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===w.email)),onLink:g(b.e,{id:e.id,auth:null===w||void 0===w?void 0:w.email,added:!(null===w||void 0===w||null===(d=w.folders)||void 0===d||!d.find((a=>!(null===a||void 0===a||!a.projects.find((a=>a===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===w.email)),onLike:w.email&&y(j.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(E.e)(e.data.likeProject)))),onAdd:w.email&&g(b.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:a=>{const t={...a,projects:[...a.projects,e.id]};S(Object(E.c)(t))}}),owned:r}),onLike:w.email&&y(j.a.LIKE_PROJECT,{id:e.id},(e=>S(Object(E.e)(e.data.likeProject)))),onAdd:w.email&&(()=>T(e)),onRemove:w.email&&(()=>L(e)),onAboutMore:g(v.a,{user:e}),onCompanyLink:g(v.i,{id:null===(o=e.company)||void 0===o?void 0:o.email,auth:null===w||void 0===w?void 0:w.email,recipient:e.author,query:j.a.GET_USER_CHATS,mutation:j.a.SEND_MESSAGE}),onScreenshotClick:(a,t)=>g(b.g,{screenshots:[e.preview,...e.screenshots],key:t})()}))})):D?l.a.createElement(r.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"):C?l.a.createElement(s.c,null,l.a.createElement(c.a,null)):l.a.createElement(r.a,{style:{width:\"100%\",textAlign:\"center\"}},_))};h.defaultProps={emptyMessage:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u043e\\u0432 \\u043d\\u0435\\u0442\"},a.a=h},vlRD:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return t(\"RNiq\")}])}},[[\"vlRD\",0,2,1,3,4,5,6,7,9]]]);","map":{"version":3,"sources":["static/chunks/pages/index-b29c2ca1c58566571194.js"],"names":["_N_E","window","push","OaTT","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__","_Styled__WEBPACK_IMPORTED_MODULE_5__","_LazyLoad__WEBPACK_IMPORTED_MODULE_6__","_ArticleCard__WEBPACK_IMPORTED_MODULE_7__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__","_store_helpers_article__WEBPACK_IMPORTED_MODULE_9__","_graphql_queries__WEBPACK_IMPORTED_MODULE_10__","variables","layout","initialList","recall","Object","user","state","articles","setArticles","data","loading","error","GET_ARTICLES","getArticles","length","map","article","_user$articles","a","createElement","key","id","owned","find","candidate","onLink","auth","email","appearance","style","width","textAlign","RNiq","r","d","__N_SSP","next_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__","_components_ProjectList__WEBPACK_IMPORTED_MODULE_5__","_components_ArticleList__WEBPACK_IMPORTED_MODULE_6__","_components_UserList__WEBPACK_IMPORTED_MODULE_7__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_9__","_layouts_content__WEBPACK_IMPORTED_MODULE_10__","_store_actions_user__WEBPACK_IMPORTED_MODULE_11__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_13__","_graphql_queries__WEBPACK_IMPORTED_MODULE_14__","Container","div","withConfig","displayName","componentId","isSearch","Aside","aside","store","router","mutate","search","root","dispatch","scaffold","title","background","path","primary","residues","project","_user$folders","added","folders","folder","projects","item","liked","rating","onLike","LIKE_PROJECT","response","likeProject","onAdd","mutations","addProject","ADD_USER_PROJECT","createFolder","ADD_USER_FOLDER","callback","result","onSearch","value","pathname","query","undefined","shallow","onAboutMore","onCompanyLink","_project$company","company","onScreenshotClick","screenshots","preview","limit","startOffset","GET_PROJECTS","status","initialize","documents","tag","offset","qF4B","styled_components__WEBPACK_IMPORTED_MODULE_1__","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__","_Styled__WEBPACK_IMPORTED_MODULE_6__","_LazyLoad__WEBPACK_IMPORTED_MODULE_7__","_ProjectCard__WEBPACK_IMPORTED_MODULE_8__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__","Wrap","ProjectList","eliminable","initialRefetch","emptyMessage","setProjects","onRemove","mutation","REMOVE_USER_PROJECT","filter","pr","getProjects","_user$projects","_user$folders2","recipient","author","GET_USER_CHATS","SEND_MESSAGE","_","defaultProps","vlRD","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/index-b29c2ca1c58566571194.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[30],{\n\n/***/ \"OaTT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ArticleList */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _Styled__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _LazyLoad__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _ArticleCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"UwjQ\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _store_helpers_article__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"owvJ\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\nconst ArticleList = ({\n  variables,\n  layout,\n  initialList\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__[/* useHelper */ \"b\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useSelector */ \"c\"])(state => state.user);\n  const [articles, setArticles] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(initialList || []);\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__[\"useQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"].GET_ARTICLES, {\n    variables\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && data) {\n      setArticles(data.getArticles);\n    }\n  }, [data, loading]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if ((initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setArticles(initialList);\n  }, [initialList]);\n  return !loading && data || articles.length > 0 ? articles.map(article => {\n    var _user$articles;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LazyLoad__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n      key: article.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ArticleCard__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"b\"], {\n      article: article,\n      layout: layout || 'column',\n      owned: user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(candidate => candidate.id === article.id),\n      onLink: recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_9__[/* onArticleLink */ \"d\"], {\n        id: article.id,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    }));\n  }) : error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Styled__WEBPACK_IMPORTED_MODULE_5__[/* Loader */ \"c\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439 \\u043D\\u0435\\u0442\");\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (ArticleList);\n\n/***/ }),\n\n/***/ \"RNiq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"7sPp\");\n/* harmony import */ var _components_ProjectList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"qF4B\");\n/* harmony import */ var _components_ArticleList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"OaTT\");\n/* harmony import */ var _components_UserList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"20ex\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Атомик';\nconst START_OFFSET = 0;\nconst LIMIT = 4;\nconst Container = styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"].div.withConfig({\n  displayName: \"pages__Container\",\n  componentId: \"sc-1kp8388-0\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;\", \" @media only screen and (max-width:1196px){grid-template-columns:1fr;}\"], ({\n  isSearch\n}) => isSearch && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"grid-template-columns:1fr;\"]));\nconst Aside = styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"].aside.withConfig({\n  displayName: \"pages__Aside\",\n  componentId: \"sc-1kp8388-1\"\n})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);\n\nconst Home = ({\n  store\n}) => {\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_9__[/* useMutate */ \"a\"])();\n  const {\n    user,\n    search\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    search: state.root.search\n  }));\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  const scaffold = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => ({\n    title: store.scaffold.title,\n    background: store.scaffold.background.path,\n    primary: store.scaffold.primary,\n    residues: store.scaffold.residues,\n    onLink: (project, owned) => {\n      var _user$folders;\n\n      return recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n          }\n        }),\n        owned\n      })();\n    },\n    onLike: user.email && (project => mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n      id: project.id\n    }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject)))()),\n    onAdd: user.email && (project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectAdd */ \"a\"], {\n      id: project.id,\n      folders: user === null || user === void 0 ? void 0 : user.folders,\n      mutations: {\n        addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n        createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n      },\n      callback: item => {\n        const result = { ...item,\n          projects: [...item.projects, project.id]\n        };\n        dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n      }\n    })()),\n    onSearch: value => router.push({\n      pathname: router.pathname,\n      query: {\n        search: value\n      }\n    }, undefined, {\n      shallow: true\n    }),\n    onAboutMore: project => recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_13__[/* onUserAboutMore */ \"a\"], {\n      user: project\n    }),\n    onCompanyLink: project => {\n      var _project$company;\n\n      return recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_13__[/* onUserLink */ \"i\"], {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user\n      })();\n    },\n    onScreenshotClick: (project, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectScreenshot */ \"g\"], {\n      screenshots: [project.preview, ...project.screenshots],\n      key\n    })()\n  }), [user, store, recall, mutate, dispatch]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    title: TITLE,\n    limit: LIMIT,\n    scaffold: scaffold,\n    startOffset: START_OFFSET,\n    query: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_PROJECTS,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    initialize: true\n  }, ({\n    documents\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, {\n    isSearch: search\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectList__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n    initialList: documents,\n    layout: true\n  }), !search && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Aside, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    tag: 'h4'\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UserList__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n    variables: {\n      offset: 0,\n      limit: 1\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    tag: 'h4'\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArticleList__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n    variables: {\n      offset: 0,\n      limit: 1\n    }\n  }))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\n\n/***/ }),\n\n/***/ \"qF4B\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export ProjectList */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _Styled__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _LazyLoad__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _ProjectCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"].div.withConfig({\n  displayName: \"ProjectList__Wrap\",\n  componentId: \"zcwfmw-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst ProjectList = ({\n  variables,\n  layout,\n  eliminable,\n  initialList,\n  initialRefetch,\n  emptyMessage\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__[/* useMutate */ \"a\"])();\n  const {\n    user,\n    folder\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const [projects, setProjects] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(initialList || []);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__[\"useQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_PROJECTS, {\n    variables\n  });\n  const onAdd = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectAdd */ \"a\"], {\n    id: project.id,\n    folders: user === null || user === void 0 ? void 0 : user.folders,\n    mutations: {\n      addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n      createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n    },\n    callback: item => {\n      const result = { ...item,\n        projects: [...item.projects, project.id]\n      };\n      dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n    }\n  })(), [user]);\n  const onRemove = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectRemove */ \"f\"], {\n    id: project.id,\n    folder,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].REMOVE_USER_PROJECT,\n    callback: () => initialRefetch && initialRefetch(projects.filter(pr => pr.id !== project.id).map(pr => pr.id))\n  })(), [user]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && data) {\n      setProjects(data.getProjects);\n    }\n  }, [data, loading]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && (initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setProjects(initialList);\n  }, [loading, initialList]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _user$folders2, _project$company;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LazyLoad__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n      key: project.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ProjectCard__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"c\"], {\n      project: project,\n      eliminable: eliminable,\n      layout: layout || 'column',\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n      liked: !!(project.rating || []).find(item => item.email === user.email),\n      onLink: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders2 = user.folders) !== null && _user$folders2 !== void 0 && _user$folders2.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n      onAdd: user.email && (() => onAdd(project)),\n      onRemove: user.email && (() => onRemove(project)),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__[/* onUserAboutMore */ \"a\"], {\n        user: project\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__[/* onUserLink */ \"i\"], {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_USER_CHATS,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectScreenshot */ \"g\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    }));\n  }) : error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Styled__WEBPACK_IMPORTED_MODULE_6__[/* Loader */ \"c\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, emptyMessage));\n};\nProjectList.defaultProps = {\n  emptyMessage: 'Проектов нет'\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProjectList);\n\n/***/ }),\n\n/***/ \"vlRD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/\",\n        function () {\n          return __webpack_require__(\"RNiq\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"vlRD\",0,2,1,3,4,5,6,7,9]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ArticleList\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ProjectList\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2F&absolutePagePath=private-next-pages%2Findex.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useSelector } from 'react-redux';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport { Loader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nimport ArticleCard from '../ArticleCard';\nimport { useHelper } from '../../hooks/useHelper';\nimport { onArticleLink } from '../../store/helpers/article';\nimport queries from '../../graphql/queries';\nexport const ArticleList = ({\n  variables,\n  layout,\n  initialList\n}) => {\n  const recall = useHelper();\n  const user = useSelector(state => state.user);\n  const [articles, setArticles] = useState(initialList || []);\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : useQuery(queries.GET_ARTICLES, {\n    variables\n  });\n  useEffect(() => {\n    if (!loading && data) {\n      setArticles(data.getArticles);\n    }\n  }, [data, loading]);\n  useEffect(() => {\n    if ((initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setArticles(initialList);\n  }, [initialList]);\n  return !loading && data || articles.length > 0 ? articles.map(article => {\n    var _user$articles;\n\n    return /*#__PURE__*/React.createElement(LazyLoad, {\n      key: article.id\n    }, /*#__PURE__*/React.createElement(ArticleCard, {\n      article: article,\n      layout: layout || 'column',\n      owned: user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(candidate => candidate.id === article.id),\n      onLink: recall(onArticleLink, {\n        id: article.id,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    }));\n  }) : error ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439 \\u043D\\u0435\\u0442\");\n};\nexport default ArticleList;","import React, { useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport styled, { css } from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Title from '../atomic-ui/components/Title';\nimport ProjectList from '../components/ProjectList';\nimport ArticleList from '../components/ArticleList';\nimport UserList from '../components/UserList';\nimport { useHelper } from '../hooks/useHelper';\nimport { useMutate } from '../hooks/useMutate';\nimport ContentLayout from '../layouts/content';\nimport { setUserFolder, updateUser } from '../store/actions/user';\nimport { onProjectLink, onProjectAdd, onProjectScreenshot } from '../store/helpers/project';\nimport { onUserAboutMore, onUserLink } from '../store/helpers/user';\nimport queries from '../graphql/queries';\nconst TITLE = 'Атомик';\nconst START_OFFSET = 0;\nconst LIMIT = 4;\nconst Container = styled.div.withConfig({\n  displayName: \"pages__Container\",\n  componentId: \"sc-1kp8388-0\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;\", \" @media only screen and (max-width:1196px){grid-template-columns:1fr;}\"], ({\n  isSearch\n}) => isSearch && css([\"grid-template-columns:1fr;\"]));\nconst Aside = styled.aside.withConfig({\n  displayName: \"pages__Aside\",\n  componentId: \"sc-1kp8388-1\"\n})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);\n\nconst Home = ({\n  store\n}) => {\n  const router = useRouter();\n  const recall = useHelper();\n  const mutate = useMutate();\n  const {\n    user,\n    search\n  } = useSelector(state => ({\n    user: state.user,\n    search: state.root.search\n  }));\n  const dispatch = useDispatch();\n  const scaffold = useMemo(() => ({\n    title: store.scaffold.title,\n    background: store.scaffold.background.path,\n    primary: store.scaffold.primary,\n    residues: store.scaffold.residues,\n    onLink: (project, owned) => {\n      var _user$folders;\n\n      return recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(setUserFolder(result));\n          }\n        }),\n        owned\n      })();\n    },\n    onLike: user.email && (project => mutate(queries.LIKE_PROJECT, {\n      id: project.id\n    }, response => dispatch(updateUser(response.data.likeProject)))()),\n    onAdd: user.email && (project => recall(onProjectAdd, {\n      id: project.id,\n      folders: user === null || user === void 0 ? void 0 : user.folders,\n      mutations: {\n        addProject: queries.ADD_USER_PROJECT,\n        createFolder: queries.ADD_USER_FOLDER\n      },\n      callback: item => {\n        const result = { ...item,\n          projects: [...item.projects, project.id]\n        };\n        dispatch(setUserFolder(result));\n      }\n    })()),\n    onSearch: value => router.push({\n      pathname: router.pathname,\n      query: {\n        search: value\n      }\n    }, undefined, {\n      shallow: true\n    }),\n    onAboutMore: project => recall(onUserAboutMore, {\n      user: project\n    }),\n    onCompanyLink: project => {\n      var _project$company;\n\n      return recall(onUserLink, {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user\n      })();\n    },\n    onScreenshotClick: (project, key) => recall(onProjectScreenshot, {\n      screenshots: [project.preview, ...project.screenshots],\n      key\n    })()\n  }), [user, store, recall, mutate, dispatch]);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    limit: LIMIT,\n    scaffold: scaffold,\n    startOffset: START_OFFSET,\n    query: queries.GET_PROJECTS,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    initialize: true\n  }, ({\n    documents\n  }) => /*#__PURE__*/React.createElement(Container, {\n    isSearch: search\n  }, /*#__PURE__*/React.createElement(ProjectList, {\n    initialList: documents,\n    layout: true\n  }), !search && /*#__PURE__*/React.createElement(Aside, null, /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"), /*#__PURE__*/React.createElement(UserList, {\n    variables: {\n      offset: 0,\n      limit: 1\n    }\n  }), /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), /*#__PURE__*/React.createElement(ArticleList, {\n    variables: {\n      offset: 0,\n      limit: 1\n    }\n  }))));\n};\n\nexport var __N_SSP = true;\nexport default Home;","import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport { Loader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nimport ProjectCard from '../ProjectCard';\nimport { useHelper } from '../../hooks/useHelper';\nimport { useMutate } from '../../hooks/useMutate';\nimport { setUserFolder, updateUser } from '../../store/actions/user';\nimport { onUserAboutMore, onUserLink } from '../../store/helpers/user';\nimport { onProjectAdd, onProjectRemove, onProjectLink, onProjectScreenshot } from '../../store/helpers/project';\nimport queries from '../../graphql/queries';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"ProjectList__Wrap\",\n  componentId: \"zcwfmw-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nexport const ProjectList = ({\n  variables,\n  layout,\n  eliminable,\n  initialList,\n  initialRefetch,\n  emptyMessage\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const {\n    user,\n    folder\n  } = useSelector(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const [projects, setProjects] = useState(initialList || []);\n  const dispatch = useDispatch();\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : useQuery(queries.GET_PROJECTS, {\n    variables\n  });\n  const onAdd = useCallback(project => recall(onProjectAdd, {\n    id: project.id,\n    folders: user === null || user === void 0 ? void 0 : user.folders,\n    mutations: {\n      addProject: queries.ADD_USER_PROJECT,\n      createFolder: queries.ADD_USER_FOLDER\n    },\n    callback: item => {\n      const result = { ...item,\n        projects: [...item.projects, project.id]\n      };\n      dispatch(setUserFolder(result));\n    }\n  })(), [user]);\n  const onRemove = useCallback(project => recall(onProjectRemove, {\n    id: project.id,\n    folder,\n    mutation: queries.REMOVE_USER_PROJECT,\n    callback: () => initialRefetch && initialRefetch(projects.filter(pr => pr.id !== project.id).map(pr => pr.id))\n  })(), [user]);\n  useEffect(() => {\n    if (!loading && data) {\n      setProjects(data.getProjects);\n    }\n  }, [data, loading]);\n  useEffect(() => {\n    if (!loading && (initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setProjects(initialList);\n  }, [loading, initialList]);\n  return /*#__PURE__*/React.createElement(Wrap, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _user$folders2, _project$company;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/React.createElement(LazyLoad, {\n      key: project.id\n    }, /*#__PURE__*/React.createElement(ProjectCard, {\n      project: project,\n      eliminable: eliminable,\n      layout: layout || 'column',\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n      liked: !!(project.rating || []).find(item => item.email === user.email),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders2 = user.folders) !== null && _user$folders2 !== void 0 && _user$folders2.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(setUserFolder(result));\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onAdd: user.email && (() => onAdd(project)),\n      onRemove: user.email && (() => onRemove(project)),\n      onAboutMore: recall(onUserAboutMore, {\n        user: project\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: queries.GET_USER_CHATS,\n        mutation: queries.SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    }));\n  }) : error ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, emptyMessage));\n};\nProjectList.defaultProps = {\n  emptyMessage: 'Проектов нет'\n};\nexport default ProjectList;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/\",\n        function () {\n          return require(\"private-next-pages/index.js\");\n        }\n      ]);\n    "]}}