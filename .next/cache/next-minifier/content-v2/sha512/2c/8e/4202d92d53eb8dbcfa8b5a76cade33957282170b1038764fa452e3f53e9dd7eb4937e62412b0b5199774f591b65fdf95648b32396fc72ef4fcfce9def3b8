{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{AKVo:function(e,t,n){\"use strict\";var a=n(\"q1tI\"),o=n.n(a),i=n(\"TsNn\");t.a=({user:e,preview:t,checked:n,appearance:a,hasOwned:r,onLink:u,onChat:c,onMembers:d,onAboutMore:l,onCompanyLink:s,onChecked:E,onDelete:v,onEdit:m})=>o.a.createElement(i.a,{user:e,preview:t,checked:n,appearance:a,owned:r&&r(e),onLink:()=>u&&u(e),onChat:r&&(()=>c(e)),onMembers:()=>d&&d(e),onAboutMore:()=>l&&l(e),onCompanyLink:()=>s&&s(e),onChecked:E,onDelete:v,onEdit:m})},\"HL7+\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/users\",function(){return n(\"jNog\")}])},U1Bd:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var a=n(\"q1tI\"),o=n(\"/MKj\"),i=n(\"rP4V\"),r=n(\"ApjV\"),u=n(\"lphG\"),c=n(\"u2Cb\");const d=({isManage:e}={})=>{var t;const n=Object(r.b)(),d=Object(u.a)(),l=Object(o.c)((e=>e.user)),s=Object(o.b)(),E=Object(a.useMemo)((()=>\"ADMIN\"!==(null===l||void 0===l?void 0:l.account)),[l]),v=Object(a.useMemo)((()=>{var e;return l&&\"ADMIN\"===(null===l||void 0===l||null===(e=l.role)||void 0===e?void 0:e.name)}),[l]),m=Object(a.useCallback)((e=>(null===e||void 0===e?void 0:e.name)===(null===l||void 0===l?void 0:l.name)),[l]),b=Object(a.useCallback)((e=>{const t=(null===e||void 0===e?void 0:e.name)===(null===l||void 0===l?void 0:l.name);n(i.i,{id:null===e||void 0===e?void 0:e.email,auth:null===l||void 0===l?void 0:l.email,owned:t,queries:{userChats:c.a.GET_USER_CHATS,chat:c.a.GET_CHAT},mutations:{addUserChat:c.a.ADD_USER_CHAT,sendMessage:c.a.SEND_MESSAGE}})()}),[l,s,d,n]),h=Object(a.useCallback)((e=>{n(h,{sender:null===l||void 0===l?void 0:l.email,recipient:e.email,queries:{userChats:c.a.GET_USER_CHATS,chat:c.a.GET_CHAT},mutations:{addUserChat:c.a.ADD_USER_CHAT,sendMessage:c.a.SEND_MESSAGE}})()}),[l,d,s]),C=Object(a.useCallback)((e=>{n(i.j,{id:null===e||void 0===e?void 0:e.email,auth:null===l||void 0===l?void 0:l.email})()}),[l,n]),_=Object(a.useCallback)((e=>{n(i.a,{user:e})()}),[n]),p=Object(a.useCallback)((e=>{var t;n(i.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===l||void 0===l?void 0:l.email,queries:{userChats:c.a.GET_USER_CHATS,chat:c.a.GET_CHAT},mutations:{addUserChat:c.a.ADD_USER_CHAT,sendMessage:c.a.SEND_MESSAGE}})()}),[l,n]);return{user:l,hasOwned:m,onLink:b,onChat:h,onAboutMore:_,onMembers:(null===l||void 0===l||null===(t=l.members)||void 0===t?void 0:t.length)>0&&C,onCompanyLink:(null===l||void 0===l?void 0:l.company)&&p,onEdit:e&&((e,t)=>n(i.f,{user:e.email,auth:null===l||void 0===l?void 0:l.email,canEditAccount:E,canEditRole:v,mutations:{del:c.a.DELETE_USER,update:c.a.UPDATE_USER},onAfter:t})()),onCreate:e&&(e=>n(i.d,{canEditRole:v,mutation:c.a.CREATE_USER,onAfter:e})())}}},jNog:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),o=n.n(a),i=n(\"/MKj\"),r=n(\"+nv6\"),u=n(\"EJJs\");const c=e=>{switch(e){case\"ADMIN\":return\"\\u0410\\u0434\\u043c\\u0438\\u043d\";case\"MODERATOR\":return\"\\u041c\\u043e\\u0434\\u0435\\u0440\\u0430\\u0442\\u043e\\u0440\";case\"OFICIAL\":return\"\\u041e\\u0444. \\u043b\\u0438\\u0446\\u043e\";case\"ENTITY\":return\"\\u042e\\u0440. \\u043b\\u0438\\u0446\\u043e\";default:return\"\\u0424\\u0438\\u0437. \\u043b\\u0438\\u0446\\u043e\"}};var d=[{header:\"\\u041d\\u0430\\u0438\\u043c\\u0435\\u043d\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\",content:e=>{var t;return o.a.createElement(u.a,{img:null===(t=e.avatar)||void 0===t?void 0:t.path,text:e.name||\"-\"})}},{header:\"\\u0410\\u043a\\u043a\\u0430\\u0443\\u043d\\u0442\",content:e=>o.a.createElement(u.a,{text:e.account&&c(e.account)||\"-\"})},{header:\"\\u041e \\u0441\\u0435\\u0431\\u0435\",content:e=>o.a.createElement(u.a,{text:e.about||\"-\"})},{header:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",content:e=>{var t;return o.a.createElement(u.a,{text:(null===(t=e.projects)||void 0===t?void 0:t.length)||\"-\"})}},{header:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438\",content:e=>o.a.createElement(u.a,{text:o.a.createElement(r.a,{text:e.createdAt,options:{year:\"numeric\",month:\"2-digit\",day:\"2-digit\"}})||\"-\"}),hidden:!0}],l=n(\"AKVo\"),s=n(\"OqOz\"),E=n(\"j8/+\"),v=n(\"v0uu\"),m=n(\"U1Bd\"),b=n(\"u2Cb\");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.default=()=>{const{onCreate:e,onEdit:t,...n}=Object(m.a)({isManage:!0}),r=Object(i.b)();return Object(a.useEffect)((()=>{r(Object(E.a)(null))}),[]),o.a.createElement(s.b,{title:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438\",icon:\"user2\",field:\"email\",template:d,entityType:\"user\",getType:\"getUsers\",limit:v.c,getQuery:b.a.GET_USERS,startOffset:v.b,deleteQuery:b.a.DELETE_USER,emptyMessage:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u0439 \\u043d\\u0435\\u0442\",deleteEntityMultiText:\"\\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438\",deleteEntitySingleText:\"\\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c\",buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044f\",render:e=>o.a.createElement(l.a,h({},n,{user:e,withSocials:!1,preview:!0})),onCreate:e,onEdit:t})}},v0uu:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a})),n.d(t,\"a\",(function(){return o})),n.d(t,\"d\",(function(){return i})),n.d(t,\"c\",(function(){return r}));const a=0,o=4,i=12,r=12}},[[\"HL7+\",0,2,6,7,1,3,4,5,8]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/users-3f9518ee093601485027.js"],"names":["_N_E","window","push","AKVo","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_UserCard__WEBPACK_IMPORTED_MODULE_1__","user","preview","checked","appearance","hasOwned","onLink","onChat","onMembers","onAboutMore","onCompanyLink","onChecked","onDelete","onEdit","a","createElement","owned","HL7+","exports","__NEXT_P","U1Bd","d","useUser","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__","_useHelper__WEBPACK_IMPORTED_MODULE_3__","_useMutate__WEBPACK_IMPORTED_MODULE_4__","_graphql_queries__WEBPACK_IMPORTED_MODULE_5__","isManage","_user$members","recall","Object","mutate","state","dispatch","canEditAccount","account","canEditRole","_user$role","role","name","author","id","email","auth","queries","userChats","GET_USER_CHATS","chat","GET_CHAT","mutations","addUserChat","ADD_USER_CHAT","sendMessage","SEND_MESSAGE","sender","recipient","_author$company","company","members","length","onAfter","del","DELETE_USER","update","UPDATE_USER","onCreate","mutation","CREATE_USER","jNog","r","react","react_default","es","DateText","Table","getLabelRole","templates_user","header","content","item","_item$avatar","img","avatar","path","text","about","_item$projects","projects","createdAt","options","year","month","day","hidden","UserSuit","documents","constants","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","methods","title","icon","field","template","entityType","getType","limit","getQuery","GET_USERS","startOffset","deleteQuery","emptyMessage","deleteEntityMultiText","deleteEntitySingleText","buttonCreateText","render","document","withSocials","v0uu","COMMON_START_OFFSET","COMMON_LOAD_LIMIT","INDEX_LOAD_LIMIT","DASHBOARD_LOAD_LIMIT"],"mappings":"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"},"name":"static/chunks/pages/dashboard/users-3f9518ee093601485027.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[29],{\n\n/***/ \"AKVo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export UserSuit */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _UserCard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"TsNn\");\n\n\nconst UserSuit = ({\n  user,\n  preview,\n  checked,\n  appearance,\n  hasOwned,\n  onLink,\n  onChat,\n  onMembers,\n  onAboutMore,\n  onCompanyLink,\n  onChecked,\n  onDelete,\n  onEdit\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UserCard__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n  user: user,\n  preview: preview,\n  checked: checked,\n  appearance: appearance,\n  owned: hasOwned && hasOwned(user),\n  onLink: () => onLink && onLink(user),\n  onChat: hasOwned && (() => onChat(user)),\n  onMembers: () => onMembers && onMembers(user),\n  onAboutMore: () => onAboutMore && onAboutMore(user),\n  onCompanyLink: () => onCompanyLink && onCompanyLink(user),\n  onChecked: onChecked,\n  onDelete: onDelete,\n  onEdit: onEdit\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (UserSuit);\n\n/***/ }),\n\n/***/ \"HL7+\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/users\",\n      function () {\n        return __webpack_require__(\"jNog\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"U1Bd\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useUser; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _useHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _useMutate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\nconst useUser = ({\n  isManage\n} = {}) => {\n  var _user$members;\n\n  const recall = Object(_useHelper__WEBPACK_IMPORTED_MODULE_3__[/* useHelper */ \"b\"])();\n  const mutate = Object(_useMutate__WEBPACK_IMPORTED_MODULE_4__[/* useMutate */ \"a\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.user);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useDispatch */ \"b\"])();\n  const canEditAccount = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => (user === null || user === void 0 ? void 0 : user.account) !== 'ADMIN', [user]);\n  const canEditRole = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n  const hasOwned = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(author => (author === null || author === void 0 ? void 0 : author.name) === (user === null || user === void 0 ? void 0 : user.name), [user]);\n  const onLink = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(author => {\n    const owned = (author === null || author === void 0 ? void 0 : author.name) === (user === null || user === void 0 ? void 0 : user.name);\n    recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__[/* onUserLink */ \"i\"], {\n      id: author === null || author === void 0 ? void 0 : author.email,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      owned,\n      queries: {\n        userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_USER_CHATS,\n        chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_CHAT\n      },\n      mutations: {\n        addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].ADD_USER_CHAT,\n        sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].SEND_MESSAGE\n      }\n    })();\n  }, [user, dispatch, mutate, recall]);\n  const onChat = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(author => {\n    recall(onChat, {\n      sender: user === null || user === void 0 ? void 0 : user.email,\n      recipient: author.email,\n      queries: {\n        userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_USER_CHATS,\n        chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_CHAT\n      },\n      mutations: {\n        addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].ADD_USER_CHAT,\n        sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].SEND_MESSAGE\n      }\n    })();\n  }, [user, mutate, dispatch]);\n  const onMembers = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(author => {\n    recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__[/* onUserMembers */ \"j\"], {\n      id: author === null || author === void 0 ? void 0 : author.email,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    })();\n  }, [user, recall]);\n  const onAboutMore = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(author => {\n    recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__[/* onUserAboutMore */ \"a\"], {\n      user: author\n    })();\n  }, [recall]);\n  const onCompanyLink = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(author => {\n    var _author$company;\n\n    recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__[/* onUserLink */ \"i\"], {\n      id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      queries: {\n        userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_USER_CHATS,\n        chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_CHAT\n      },\n      mutations: {\n        addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].ADD_USER_CHAT,\n        sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].SEND_MESSAGE\n      }\n    })();\n  }, [user, recall]);\n\n  const onEdit = (author, onAfter) => recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__[/* onUserEdit */ \"f\"], {\n    user: author.email,\n    auth: user === null || user === void 0 ? void 0 : user.email,\n    canEditAccount,\n    canEditRole,\n    mutations: {\n      del: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].DELETE_USER,\n      update: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].UPDATE_USER\n    },\n    onAfter\n  })();\n\n  const onCreate = onAfter => recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_2__[/* onUserCreate */ \"d\"], {\n    canEditRole,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].CREATE_USER,\n    onAfter\n  })();\n\n  return {\n    user,\n    hasOwned,\n    onLink,\n    onChat,\n    onAboutMore,\n    onMembers: (user === null || user === void 0 ? void 0 : (_user$members = user.members) === null || _user$members === void 0 ? void 0 : _user$members.length) > 0 && onMembers,\n    onCompanyLink: (user === null || user === void 0 ? void 0 : user.company) && onCompanyLink,\n    onEdit: isManage && onEdit,\n    onCreate: isManage && onCreate\n  };\n};\n\n/***/ }),\n\n/***/ \"jNog\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DateText/index.js\nvar DateText = __webpack_require__(\"+nv6\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/index.js\nvar Table = __webpack_require__(\"EJJs\");\n\n// CONCATENATED MODULE: ./atomic-ui/components/Table/templates/user.js\n\n\n\n\nconst getLabelRole = role => {\n  switch (role) {\n    case 'ADMIN':\n      return 'Админ';\n\n    case 'MODERATOR':\n      return 'Модератор';\n\n    case 'OFICIAL':\n      return 'Оф. лицо';\n\n    case 'ENTITY':\n      return 'Юр. лицо';\n\n    default:\n      return 'Физ. лицо';\n  }\n};\n\nconst user = [{\n  header: 'Наименование',\n  content: item => {\n    var _item$avatar;\n\n    return /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n      img: (_item$avatar = item.avatar) === null || _item$avatar === void 0 ? void 0 : _item$avatar.path,\n      text: item.name || '-'\n    });\n  }\n}, {\n  header: 'Аккаунт',\n  content: item => /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n    text: item.account && getLabelRole(item.account) || '-'\n  })\n}, {\n  header: 'О себе',\n  content: item => /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n    text: item.about || '-'\n  })\n}, {\n  header: 'Проекты',\n  content: item => {\n    var _item$projects;\n\n    return /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n      text: ((_item$projects = item.projects) === null || _item$projects === void 0 ? void 0 : _item$projects.length) || '-'\n    });\n  }\n}, {\n  header: 'Дата регистрации',\n  content: item => /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n    text: /*#__PURE__*/react_default.a.createElement(DateText[\"a\" /* default */], {\n      text: item.createdAt,\n      options: {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      }\n    }) || '-'\n  }),\n  hidden: true\n}];\n/* harmony default export */ var templates_user = (user);\n// EXTERNAL MODULE: ./components/UserSuit/index.js\nvar UserSuit = __webpack_require__(\"AKVo\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/content.js + 1 modules\nvar content = __webpack_require__(\"OqOz\");\n\n// EXTERNAL MODULE: ./store/actions/documents.js\nvar documents = __webpack_require__(\"j8/+\");\n\n// EXTERNAL MODULE: ./constants/index.js\nvar constants = __webpack_require__(\"v0uu\");\n\n// EXTERNAL MODULE: ./hooks/useUser.js\nvar useUser = __webpack_require__(\"U1Bd\");\n\n// EXTERNAL MODULE: ./graphql/queries/index.js + 16 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// CONCATENATED MODULE: ./pages/dashboard/users.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Пользователи';\n\nconst Users = () => {\n  const {\n    onCreate,\n    onEdit,\n    ...methods\n  } = Object(useUser[\"a\" /* useUser */])({\n    isManage: true\n  });\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  Object(react[\"useEffect\"])(() => {\n    dispatch(Object(documents[\"a\" /* setDocuments */])(null));\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(content[\"b\" /* default */], {\n    title: TITLE,\n    icon: 'user2',\n    field: 'email',\n    template: templates_user,\n    entityType: 'user',\n    getType: 'getUsers',\n    limit: constants[\"c\" /* DASHBOARD_LOAD_LIMIT */],\n    getQuery: queries[\"a\" /* default */].GET_USERS,\n    startOffset: constants[\"b\" /* COMMON_START_OFFSET */],\n    deleteQuery: queries[\"a\" /* default */].DELETE_USER,\n    emptyMessage: 'Пользователей нет',\n    deleteEntityMultiText: 'пользователи',\n    deleteEntitySingleText: 'пользователь',\n    buttonCreateText: 'Создать пользователя',\n    render: document => /*#__PURE__*/react_default.a.createElement(UserSuit[\"a\" /* default */], _extends({}, methods, {\n      user: document,\n      withSocials: false,\n      preview: true\n    })),\n    onCreate: onCreate,\n    onEdit: onEdit\n  });\n};\n\n/* harmony default export */ var users = __webpack_exports__[\"default\"] = (Users);\n\n/***/ }),\n\n/***/ \"v0uu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return COMMON_START_OFFSET; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return COMMON_LOAD_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return INDEX_LOAD_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DASHBOARD_LOAD_LIMIT; });\nconst COMMON_START_OFFSET = 0;\nconst COMMON_LOAD_LIMIT = 4;\nconst INDEX_LOAD_LIMIT = 12;\nconst DASHBOARD_LOAD_LIMIT = 12;\n\n/***/ })\n\n},[[\"HL7+\",0,2,6,7,1,3,4,5,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\UserSuit\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Fusers&absolutePagePath=private-next-pages%2Fdashboard%2Fusers.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\hooks\\useUser.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\components\\Table\\templates\\user.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\users.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\constants\\index.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport UserCard from '../UserCard';\nexport const UserSuit = ({\n  user,\n  preview,\n  checked,\n  appearance,\n  hasOwned,\n  onLink,\n  onChat,\n  onMembers,\n  onAboutMore,\n  onCompanyLink,\n  onChecked,\n  onDelete,\n  onEdit\n}) => /*#__PURE__*/React.createElement(UserCard, {\n  user: user,\n  preview: preview,\n  checked: checked,\n  appearance: appearance,\n  owned: hasOwned && hasOwned(user),\n  onLink: () => onLink && onLink(user),\n  onChat: hasOwned && (() => onChat(user)),\n  onMembers: () => onMembers && onMembers(user),\n  onAboutMore: () => onAboutMore && onAboutMore(user),\n  onCompanyLink: () => onCompanyLink && onCompanyLink(user),\n  onChecked: onChecked,\n  onDelete: onDelete,\n  onEdit: onEdit\n});\nexport default UserSuit;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/users\",\n      function () {\n        return require(\"private-next-pages/dashboard/users.js\");\n      }\n    ]);\n  ","import { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { onUserAboutMore, onUserLink, onUserMembers, onUserEdit, onUserCreate } from '../store/helpers/user';\nimport { useHelper } from './useHelper';\nimport { useMutate } from './useMutate';\nimport queries from '../graphql/queries';\nexport const useUser = ({\n  isManage\n} = {}) => {\n  var _user$members;\n\n  const recall = useHelper();\n  const mutate = useMutate();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const canEditAccount = useMemo(() => (user === null || user === void 0 ? void 0 : user.account) !== 'ADMIN', [user]);\n  const canEditRole = useMemo(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n  const hasOwned = useCallback(author => (author === null || author === void 0 ? void 0 : author.name) === (user === null || user === void 0 ? void 0 : user.name), [user]);\n  const onLink = useCallback(author => {\n    const owned = (author === null || author === void 0 ? void 0 : author.name) === (user === null || user === void 0 ? void 0 : user.name);\n    recall(onUserLink, {\n      id: author === null || author === void 0 ? void 0 : author.email,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      owned,\n      queries: {\n        userChats: queries.GET_USER_CHATS,\n        chat: queries.GET_CHAT\n      },\n      mutations: {\n        addUserChat: queries.ADD_USER_CHAT,\n        sendMessage: queries.SEND_MESSAGE\n      }\n    })();\n  }, [user, dispatch, mutate, recall]);\n  const onChat = useCallback(author => {\n    recall(onChat, {\n      sender: user === null || user === void 0 ? void 0 : user.email,\n      recipient: author.email,\n      queries: {\n        userChats: queries.GET_USER_CHATS,\n        chat: queries.GET_CHAT\n      },\n      mutations: {\n        addUserChat: queries.ADD_USER_CHAT,\n        sendMessage: queries.SEND_MESSAGE\n      }\n    })();\n  }, [user, mutate, dispatch]);\n  const onMembers = useCallback(author => {\n    recall(onUserMembers, {\n      id: author === null || author === void 0 ? void 0 : author.email,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    })();\n  }, [user, recall]);\n  const onAboutMore = useCallback(author => {\n    recall(onUserAboutMore, {\n      user: author\n    })();\n  }, [recall]);\n  const onCompanyLink = useCallback(author => {\n    var _author$company;\n\n    recall(onUserLink, {\n      id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      queries: {\n        userChats: queries.GET_USER_CHATS,\n        chat: queries.GET_CHAT\n      },\n      mutations: {\n        addUserChat: queries.ADD_USER_CHAT,\n        sendMessage: queries.SEND_MESSAGE\n      }\n    })();\n  }, [user, recall]);\n\n  const onEdit = (author, onAfter) => recall(onUserEdit, {\n    user: author.email,\n    auth: user === null || user === void 0 ? void 0 : user.email,\n    canEditAccount,\n    canEditRole,\n    mutations: {\n      del: queries.DELETE_USER,\n      update: queries.UPDATE_USER\n    },\n    onAfter\n  })();\n\n  const onCreate = onAfter => recall(onUserCreate, {\n    canEditRole,\n    mutation: queries.CREATE_USER,\n    onAfter\n  })();\n\n  return {\n    user,\n    hasOwned,\n    onLink,\n    onChat,\n    onAboutMore,\n    onMembers: (user === null || user === void 0 ? void 0 : (_user$members = user.members) === null || _user$members === void 0 ? void 0 : _user$members.length) > 0 && onMembers,\n    onCompanyLink: (user === null || user === void 0 ? void 0 : user.company) && onCompanyLink,\n    onEdit: isManage && onEdit,\n    onCreate: isManage && onCreate\n  };\n};","import React from 'react';\nimport DateText from '../../DateText';\nimport { Cell } from '..';\n\nconst getLabelRole = role => {\n  switch (role) {\n    case 'ADMIN':\n      return 'Админ';\n\n    case 'MODERATOR':\n      return 'Модератор';\n\n    case 'OFICIAL':\n      return 'Оф. лицо';\n\n    case 'ENTITY':\n      return 'Юр. лицо';\n\n    default:\n      return 'Физ. лицо';\n  }\n};\n\nexport const user = [{\n  header: 'Наименование',\n  content: item => {\n    var _item$avatar;\n\n    return /*#__PURE__*/React.createElement(Cell, {\n      img: (_item$avatar = item.avatar) === null || _item$avatar === void 0 ? void 0 : _item$avatar.path,\n      text: item.name || '-'\n    });\n  }\n}, {\n  header: 'Аккаунт',\n  content: item => /*#__PURE__*/React.createElement(Cell, {\n    text: item.account && getLabelRole(item.account) || '-'\n  })\n}, {\n  header: 'О себе',\n  content: item => /*#__PURE__*/React.createElement(Cell, {\n    text: item.about || '-'\n  })\n}, {\n  header: 'Проекты',\n  content: item => {\n    var _item$projects;\n\n    return /*#__PURE__*/React.createElement(Cell, {\n      text: ((_item$projects = item.projects) === null || _item$projects === void 0 ? void 0 : _item$projects.length) || '-'\n    });\n  }\n}, {\n  header: 'Дата регистрации',\n  content: item => /*#__PURE__*/React.createElement(Cell, {\n    text: /*#__PURE__*/React.createElement(DateText, {\n      text: item.createdAt,\n      options: {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      }\n    }) || '-'\n  }),\n  hidden: true\n}];\nexport default user;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport template from '../../atomic-ui/components/Table/templates/user';\nimport UserSuit from '../../components/UserSuit';\nimport ContentLayout from '../../layouts/dashboard/content';\nimport { setDocuments } from '../../store/actions/documents';\nimport { COMMON_START_OFFSET, DASHBOARD_LOAD_LIMIT } from '../../constants';\nimport { useUser } from '../../hooks/useUser';\nimport queries from '../../graphql/queries';\nconst TITLE = 'Пользователи';\n\nconst Users = () => {\n  const {\n    onCreate,\n    onEdit,\n    ...methods\n  } = useUser({\n    isManage: true\n  });\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    icon: 'user2',\n    field: 'email',\n    template: template,\n    entityType: 'user',\n    getType: 'getUsers',\n    limit: DASHBOARD_LOAD_LIMIT,\n    getQuery: queries.GET_USERS,\n    startOffset: COMMON_START_OFFSET,\n    deleteQuery: queries.DELETE_USER,\n    emptyMessage: 'Пользователей нет',\n    deleteEntityMultiText: 'пользователи',\n    deleteEntitySingleText: 'пользователь',\n    buttonCreateText: 'Создать пользователя',\n    render: document => /*#__PURE__*/React.createElement(UserSuit, _extends({}, methods, {\n      user: document,\n      withSocials: false,\n      preview: true\n    })),\n    onCreate: onCreate,\n    onEdit: onEdit\n  });\n};\n\nexport default Users;","export const COMMON_START_OFFSET = 0;\nexport const COMMON_LOAD_LIMIT = 4;\nexport const INDEX_LOAD_LIMIT = 12;\nexport const DASHBOARD_LOAD_LIMIT = 12;"]}}