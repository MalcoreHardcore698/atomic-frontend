{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{DTHg:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/auth\",function(){return n(\"yk4J\")}])},yk4J:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),i=n.n(a),o=n(\"20a2\"),c=n(\"vOnD\"),r=n(\"/MKj\"),u=n(\"auMy\"),s=n(\"ApjV\"),p=n(\"X+Rt\"),l=n(\"rP4V\"),d=n(\"u2Cb\");const E=c.d.div.withConfig({displayName:\"auth__Wrap\",componentId:\"sc-16eje6u-0\"})([\"display:grid;grid-template-columns:380px;justify-content:center;align-content:center;margin:120px 0;@media only screen and (max-width:480px){grid-template-columns:100%;margin:25px 0;}\"]),m=c.d.div.withConfig({displayName:\"auth__Loader\",componentId:\"sc-16eje6u-1\"})([\"position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);t.default=()=>{const e=Object(s.b)(),t=Object(o.useRouter)(),{user:n,stepper:c}=Object(r.c)((e=>({user:e.user,stepper:e.stepper})));return Object(a.useEffect)((()=>{null!==c&&void 0!==c&&c.content||e(l.b,{mutations:{checkin:d.a.CHECKIN,googleAuth:d.a.GOOGLE_AUTH,facebookAuth:d.a.FACEBOOK_AUTH,login:d.a.LOGIN,register:d.a.REGISTER,forgotEmail:d.a.LOGIN,forgotPassword:d.a.RESET,checkResetToken:d.a.CHECK_RESET_TOKEN}})()}),[c]),Object(a.useEffect)((()=>{n&&n.authenticated&&t.push({pathname:\"/profile\",query:t.query})}),[n]),!c||n.authenticated?i.a.createElement(m,null,i.a.createElement(u.a,null)):i.a.createElement(p.a,{title:\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f\"},i.a.createElement(E,{key:c.name},c.content))}}},[[\"DTHg\",0,2,6,7,1,3,4,5,9]]]);","map":{"version":3,"sources":["static/chunks/pages/auth-438e07bd1feaea334627.js"],"names":["_N_E","window","push","DTHg","module","exports","__webpack_require__","__NEXT_P","yk4J","__webpack_exports__","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","next_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__","_layouts_default__WEBPACK_IMPORTED_MODULE_6__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__","_graphql_queries__WEBPACK_IMPORTED_MODULE_8__","Wrap","div","withConfig","displayName","componentId","Loader","recall","Object","router","user","stepper","state","content","mutations","checkin","CHECKIN","googleAuth","GOOGLE_AUTH","facebookAuth","FACEBOOK_AUTH","login","LOGIN","register","REGISTER","forgotEmail","forgotPassword","RESET","checkResetToken","CHECK_RESET_TOKEN","authenticated","pathname","query","a","createElement","title","key","name"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAASC,IAG5BL,OAAOM,SAAWN,OAAOM,UAAY,IAAIL,KAAK,CAC7C,QACA,WACE,OAAOI,EAAoB,YAO7BE,KACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aACAA,EAAoBI,EAAED,GACD,IAAIE,EAAqCL,EAAoB,QACzDM,EAA0DN,EAAoBO,EAAEF,GAChFG,EAA2CR,EAAoB,QAE/DS,EAAiDT,EAAoB,QACrEU,EAA2CV,EAAoB,QAC/DW,EAA6DX,EAAoB,QACjFY,EAAgDZ,EAAoB,QACpEa,EAAgDb,EAAoB,QACpEc,EAAmDd,EAAoB,QACvEe,EAAgDf,EAAoB,QAU7F,MACMgB,EAAOP,EAAgE,EAAEQ,IAAIC,WAAW,CAC5FC,YAAa,aACbC,YAAa,gBAFFX,CAGV,CAAC,4LACEY,EAASZ,EAAgE,EAAEQ,IAAIC,WAAW,CAC9FC,YAAa,eACbC,YAAa,gBAFAX,CAGZ,CAAC,+GAgDyBN,EAA6B,QA9C7C,KACX,MAAMmB,EAASC,OAAOX,EAAiE,EAAxEW,GACTC,EAASD,OAAOf,EAAoD,UAA3De,IACTE,KACJA,EAAIC,QACJA,GACEH,OAAOb,EAA8D,EAArEa,EAAwEI,IAAS,CACnFF,KAAME,EAAMF,KACZC,QAASC,EAAMD,YA2BjB,OAzBAH,OAAOlB,EAA8C,UAArDkB,EAAwD,KACpC,OAAZG,QAAgC,IAAZA,GAAsBA,EAAQE,SACtDN,EAAOR,EAAwE,EAAG,CAChFe,UAAW,CACTC,QAASf,EAA+D,EAAEgB,QAC1EC,WAAYjB,EAA+D,EAAEkB,YAC7EC,aAAcnB,EAA+D,EAAEoB,cAC/EC,MAAOrB,EAA+D,EAAEsB,MACxEC,SAAUvB,EAA+D,EAAEwB,SAC3EC,YAAazB,EAA+D,EAAEsB,MAC9EI,eAAgB1B,EAA+D,EAAE2B,MACjFC,gBAAiB5B,EAA+D,EAAE6B,oBATtFtB,KAaD,CAACI,IACJH,OAAOlB,EAA8C,UAArDkB,EAAwD,KAClDE,GAAQA,EAAKoB,eACfrB,EAAO5B,KAAK,CACVkD,SAAU,WACVC,MAAOvB,EAAOuB,UAGjB,CAACtB,KAECC,GAAWD,EAAKoB,cACCvC,EAA2C0C,EAAEC,cAAc5B,EAAQ,KAAmBf,EAA2C0C,EAAEC,cAActC,EAA4E,EAAG,OAGlOL,EAA2C0C,EAAEC,cAAcpC,EAA+D,EAAG,CAC/IqC,MAlDU,sEAmDI5C,EAA2C0C,EAAEC,cAAcjC,EAAM,CAC/EmC,IAAKzB,EAAQ0B,MACZ1B,EAAQE,aAOX,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/auth-438e07bd1feaea334627.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[19],{\n\n/***/ \"DTHg\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/auth\",\n      function () {\n        return __webpack_require__(\"yk4J\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"yk4J\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Авторизация';\nconst Wrap = styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"].div.withConfig({\n  displayName: \"auth__Wrap\",\n  componentId: \"sc-16eje6u-0\"\n})([\"display:grid;grid-template-columns:380px;justify-content:center;align-content:center;margin:120px 0;@media only screen and (max-width:480px){grid-template-columns:100%;margin:25px 0;}\"]);\nconst Loader = styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"].div.withConfig({\n  displayName: \"auth__Loader\",\n  componentId: \"sc-16eje6u-1\"\n})([\"position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);\n\nconst Auth = () => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__[/* useHelper */ \"b\"])();\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const {\n    user,\n    stepper\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    stepper: state.stepper\n  }));\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!(stepper !== null && stepper !== void 0 && stepper.content)) {\n      recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__[/* onUserCheckin */ \"b\"], {\n        mutations: {\n          checkin: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].CHECKIN,\n          googleAuth: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].GOOGLE_AUTH,\n          facebookAuth: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].FACEBOOK_AUTH,\n          login: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].LOGIN,\n          register: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].REGISTER,\n          forgotEmail: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].LOGIN,\n          forgotPassword: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].RESET,\n          checkResetToken: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].CHECK_RESET_TOKEN\n        }\n      })();\n    }\n  }, [stepper]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (user && user.authenticated) {\n      router.push({\n        pathname: '/profile',\n        query: router.query\n      });\n    }\n  }, [user]);\n\n  if (!stepper || user.authenticated) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Loader, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_default__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n    title: TITLE\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    key: stepper.name\n  }, stepper.content));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Auth);\n\n/***/ })\n\n},[[\"DTHg\",0,2,6,7,1,3,4,5,9]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fauth&absolutePagePath=private-next-pages%2Fauth.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\auth.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA4B;AACnD;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACD;AACD;AACG;AACY;AACP;AACA;AACO;AACb;AACzC;AACA,aAAa,iEAAM;AACnB;AACA;AACA,CAAC,iBAAiB,4BAA4B,uBAAuB,qBAAqB,eAAe,yCAAyC,2BAA2B,eAAe;AAC5L,eAAe,iEAAM;AACrB;AACA;AACA,CAAC,mBAAmB,MAAM,OAAO,aAAa,uBAAuB,mBAAmB,WAAW,YAAY;;AAE/G;AACA,iBAAiB,0EAAS;AAC1B,iBAAiB,6DAAS;AAC1B;AACA;AACA;AACA,GAAG,GAAG,uEAAW;AACjB;AACA;AACA,GAAG;AACH,EAAE,uDAAS;AACX;AACA,aAAa,yEAAa;AAC1B;AACA,mBAAmB,gEAAO;AAC1B,sBAAsB,gEAAO;AAC7B,wBAAwB,gEAAO;AAC/B,iBAAiB,gEAAO;AACxB,oBAAoB,gEAAO;AAC3B,uBAAuB,gEAAO;AAC9B,0BAA0B,gEAAO;AACjC,2BAA2B,gEAAO;AAClC;AACA,OAAO;AACP;AACA,GAAG;AACH,EAAE,uDAAS;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,wBAAwB,4CAAK,0CAA0C,4CAAK,eAAe,6EAAO;AAClG;;AAEA,sBAAsB,4CAAK,eAAe,gEAAa;AACvD;AACA,GAAG,eAAe,4CAAK;AACvB;AACA,GAAG;AACH;;AAEe,mEAAI,E","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/auth\",\n      function () {\n        return require(\"private-next-pages/auth.js\");\n      }\n    ]);\n  ","import React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport { useHelper } from '../hooks/useHelper';\nimport DefaultLayout from '../layouts/default';\nimport { onUserCheckin } from '../store/helpers/user';\nimport queries from '../graphql/queries';\nconst TITLE = 'Авторизация';\nconst Wrap = styled.div.withConfig({\n  displayName: \"auth__Wrap\",\n  componentId: \"sc-16eje6u-0\"\n})([\"display:grid;grid-template-columns:380px;justify-content:center;align-content:center;margin:120px 0;@media only screen and (max-width:480px){grid-template-columns:100%;margin:25px 0;}\"]);\nconst Loader = styled.div.withConfig({\n  displayName: \"auth__Loader\",\n  componentId: \"sc-16eje6u-1\"\n})([\"position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);\n\nconst Auth = () => {\n  const recall = useHelper();\n  const router = useRouter();\n  const {\n    user,\n    stepper\n  } = useSelector(state => ({\n    user: state.user,\n    stepper: state.stepper\n  }));\n  useEffect(() => {\n    if (!(stepper !== null && stepper !== void 0 && stepper.content)) {\n      recall(onUserCheckin, {\n        mutations: {\n          checkin: queries.CHECKIN,\n          googleAuth: queries.GOOGLE_AUTH,\n          facebookAuth: queries.FACEBOOK_AUTH,\n          login: queries.LOGIN,\n          register: queries.REGISTER,\n          forgotEmail: queries.LOGIN,\n          forgotPassword: queries.RESET,\n          checkResetToken: queries.CHECK_RESET_TOKEN\n        }\n      })();\n    }\n  }, [stepper]);\n  useEffect(() => {\n    if (user && user.authenticated) {\n      router.push({\n        pathname: '/profile',\n        query: router.query\n      });\n    }\n  }, [user]);\n\n  if (!stepper || user.authenticated) {\n    return /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(DefaultLayout, {\n    title: TITLE\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    key: stepper.name\n  }, stepper.content));\n};\n\nexport default Auth;"]}}