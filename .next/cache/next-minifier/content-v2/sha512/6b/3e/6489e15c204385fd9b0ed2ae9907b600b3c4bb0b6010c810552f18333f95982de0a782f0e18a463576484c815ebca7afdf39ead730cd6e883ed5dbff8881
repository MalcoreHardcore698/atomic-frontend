{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{\"0RHc\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"q1tI\"),i=n.n(a),c=n(\"/MKj\"),o=n(\"4yYH\"),r=n(\"OqOz\"),u=n(\"1zqG\"),d=n(\"8UhZ\"),E=n(\"IxyI\"),s=n(\"j8/+\"),l=n(\"8ihE\"),p=n(\"ApjV\"),b=n(\"lphG\"),T=n(\"u2Cb\");e.default=()=>{const t=Object(p.b)(),e=Object(b.a)(),n=Object(c.c)((t=>t.user)),_=Object(c.b)(),j=Object(a.useMemo)((()=>n&&\"ADMIN\"===n.role.name),[n]);return Object(a.useEffect)((()=>{_(Object(s.a)(null))}),[]),i.a.createElement(r.b,{title:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",limit:12,icon:\"work\",template:o.a,startOffset:0,emptyMessage:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u043e\\u0432 \\u043d\\u0435\\u0442\",buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\",getType:\"getProjects\",getQuery:T.a.GET_PROJECTS,deleteQuery:T.a.DELETE_PROJECT,deleteEntityMultiText:\"\\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",deleteEntitySingleText:\"\\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\",onLink:a=>{var i;const c=null===n||void 0===n||null===(i=n.projects)||void 0===i?void 0:i.find((t=>t.id===a.id));t(E.e,Object(d.b)(a.id,n,c,_,e,t,(t=>{const e={...t,projects:[...t.projects,a.id]};_(Object(l.c)(e))})))()},onEdit:n=>t(E.d,{id:n.id,canEditStatus:j,mutation:T.a.UPDATE_PROJECT,query:T.a.GET_USERS,onCompanyInputChange:e(T.a.GET_USERS,{account:\"ENTITY\"})})(),onCreate:t(E.b,{canEditStatus:j,mutation:T.a.CREATE_PROJECT,query:T.a.GET_USERS}),render:t=>i.a.createElement(u.c,{project:t,withSocials:!0,preview:!0})})}},\"4yYH\":function(t,e,n){\"use strict\";var a=n(\"q1tI\"),i=n.n(a),c=n(\"+nv6\"),o=n(\"EJJs\"),r=i.a.createElement,u=[{header:\"\\u041d\\u0430\\u0438\\u043c\\u0435\\u043d\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\",content:function(t){return r(o.a,{text:t.name||\"-\"})},width:\"15%\"},{header:\"\\u041e\\u043f\\u0438\\u0441\\u0430\\u043d\\u0438\\u0435\",content:function(t){return r(o.a,{text:t.description||\"-\"})},width:\"70%\"},{header:\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u044f\",content:function(t){return r(o.a,{text:r(c.a,{text:t.createdAt,options:{year:\"numeric\",month:\"2-digit\",day:\"2-digit\"}})||\"-\"})},width:\"15%\"}];e.a=u},e0St:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/projects\",function(){return n(\"0RHc\")}])}},[[\"e0St\",0,2,1,3,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/projects-afca6cdfb6652fa0b93d.js"],"names":["_N_E","window","push","0RHc","module","__webpack_exports__","__webpack_require__","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","_atomic_ui_components_Table_templates_category__WEBPACK_IMPORTED_MODULE_2__","_layouts_dashboard_content__WEBPACK_IMPORTED_MODULE_3__","_components_ProjectCard__WEBPACK_IMPORTED_MODULE_4__","_hooks_useEntityQuery__WEBPACK_IMPORTED_MODULE_5__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_6__","_store_actions_documents__WEBPACK_IMPORTED_MODULE_7__","_store_actions_user__WEBPACK_IMPORTED_MODULE_8__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__","_graphql_queries__WEBPACK_IMPORTED_MODULE_11__","recall","Object","mutate","user","state","dispatch","canEditStatus","role","name","a","createElement","title","limit","icon","template","startOffset","emptyMessage","buttonCreateText","getType","getQuery","GET_PROJECTS","deleteQuery","DELETE_PROJECT","deleteEntityMultiText","deleteEntitySingleText","onLink","project","_user$projects","owned","projects","find","candidate","id","item","result","onEdit","mutation","UPDATE_PROJECT","query","GET_USERS","onCompanyInputChange","account","onCreate","CREATE_PROJECT","render","document","withSocials","preview","4yYH","_DateText__WEBPACK_IMPORTED_MODULE_1__","___WEBPACK_IMPORTED_MODULE_2__","__jsx","category","header","content","text","width","description","createdAt","options","year","month","day","e0St","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/dashboard/projects-afca6cdfb6652fa0b93d.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[24],{\n\n/***/ \"0RHc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Table_templates_category__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"4yYH\");\n/* harmony import */ var _layouts_dashboard_content__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"OqOz\");\n/* harmony import */ var _components_ProjectCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _hooks_useEntityQuery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"8UhZ\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _store_actions_documents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"j8/+\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Проекты';\nconst LIMIT = 12;\nconst START_OFFSET = 0;\n\nconst Projects = () => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__[/* useMutate */ \"a\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.user);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useDispatch */ \"b\"])();\n  const canEditStatus = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => user && user.role.name === 'ADMIN', [user]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    dispatch(Object(_store_actions_documents__WEBPACK_IMPORTED_MODULE_7__[/* setDocuments */ \"a\"])(null));\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_dashboard_content__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"b\"], {\n    title: TITLE,\n    limit: LIMIT,\n    icon: 'work',\n    template: _atomic_ui_components_Table_templates_category__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],\n    startOffset: START_OFFSET,\n    emptyMessage: 'Проектов нет',\n    buttonCreateText: 'Создать проект',\n    getType: 'getProjects',\n    getQuery: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_PROJECTS,\n    deleteQuery: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].DELETE_PROJECT,\n    deleteEntityMultiText: 'проекты',\n    deleteEntitySingleText: 'проект',\n    onLink: project => {\n      var _user$projects;\n\n      const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n      recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_6__[/* onProjectLink */ \"e\"], Object(_hooks_useEntityQuery__WEBPACK_IMPORTED_MODULE_5__[/* getProjectLinkProps */ \"b\"])(project.id, user, owned, dispatch, mutate, recall, item => {\n        const result = { ...item,\n          projects: [...item.projects, project.id]\n        };\n        dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_8__[/* setUserFolder */ \"c\"])(result));\n      }))();\n    },\n    onEdit: project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_6__[/* onProjectEdit */ \"d\"], {\n      id: project.id,\n      canEditStatus,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].UPDATE_PROJECT,\n      query: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USERS,\n      onCompanyInputChange: mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USERS, {\n        account: 'ENTITY'\n      })\n    })(),\n    onCreate: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_6__[/* onProjectCreate */ \"b\"], {\n      canEditStatus,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].CREATE_PROJECT,\n      query: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USERS\n    }),\n    render: document => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectCard__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"c\"], {\n      project: document,\n      withSocials: true,\n      preview: true\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Projects);\n\n/***/ }),\n\n/***/ \"4yYH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export category */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _DateText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"+nv6\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"EJJs\");\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;\n\n\n\nvar category = [{\n  header: 'Наименование',\n  content: function content(item) {\n    return __jsx(___WEBPACK_IMPORTED_MODULE_2__[/* Cell */ \"a\"], {\n      text: item.name || '-'\n    });\n  },\n  width: '15%'\n}, {\n  header: 'Описание',\n  content: function content(item) {\n    return __jsx(___WEBPACK_IMPORTED_MODULE_2__[/* Cell */ \"a\"], {\n      text: item.description || '-'\n    });\n  },\n  width: '70%'\n}, {\n  header: 'Дата создания',\n  content: function content(item) {\n    return __jsx(___WEBPACK_IMPORTED_MODULE_2__[/* Cell */ \"a\"], {\n      text: __jsx(_DateText__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n        text: item.createdAt,\n        options: {\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit'\n        }\n      }) || '-'\n    });\n  },\n  width: '15%'\n}];\n/* harmony default export */ __webpack_exports__[\"a\"] = (category);\n\n/***/ }),\n\n/***/ \"e0St\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/projects\",\n        function () {\n          return __webpack_require__(\"0RHc\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"e0St\",0,2,1,3,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\projects.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\components\\Table\\templates\\category.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Fprojects&absolutePagePath=private-next-pages%2Fdashboard%2Fprojects.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACK;AACoB;AACf;AACL;AACU;AAC2B;AAC/B;AACJ;AACP;AACA;AACN;AAC5C;AACA;AACA;;AAEA;AACA,iBAAiB,0EAAS;AAC1B,iBAAiB,2EAAS;AAC1B,eAAe,uEAAW;AAC1B,mBAAmB,uEAAW;AAC9B,wBAAwB,qDAAO;AAC/B,EAAE,uDAAS;AACX,aAAa,qFAAY;AACzB,GAAG;AACH,sBAAsB,4CAAK,eAAe,0EAAa;AACvD;AACA;AACA;AACA,cAAc,8FAAQ;AACtB;AACA;AACA;AACA;AACA,cAAc,iEAAO;AACrB,iBAAiB,iEAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA,aAAa,4EAAa,EAAE,yFAAmB;AAC/C,wBAAwB;AACxB;AACA;AACA,iBAAiB,iFAAa;AAC9B,OAAO;AACP,KAAK;AACL,8BAA8B,4EAAa;AAC3C;AACA;AACA,gBAAgB,iEAAO;AACvB,aAAa,iEAAO;AACpB,mCAAmC,iEAAO;AAC1C;AACA,OAAO;AACP,KAAK;AACL,qBAAqB,8EAAe;AACpC;AACA,gBAAgB,iEAAO;AACvB,aAAa,iEAAO;AACpB,KAAK;AACL,qCAAqC,4CAAK,eAAe,uEAAW;AACpE;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEe,uEAAQ,E;;;;;;;;ACvEvB;AAAA;AAAA;AAAA;AAAA;AAAA,YAAY,4CAAK;AACS;AACY;AACZ;AACnB;AACP;AACA;AACA,iBAAiB,8CAAI;AACrB;AACA,KAAK;AACL,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA,iBAAiB,8CAAI;AACrB;AACA,KAAK;AACL,GAAG;AACH;AACA,CAAC;AACD;AACA;AACA,iBAAiB,8CAAI;AACrB,kBAAkB,yDAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA,CAAC;AACc,iEAAQ,E;;;;;;;;ACnCvB;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA0C;AACnE;AACA","file":"x","sourcesContent":["import React, { useEffect, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport template from '../../atomic-ui/components/Table/templates/category';\nimport ContentLayout from '../../layouts/dashboard/content';\nimport ProjectCard from '../../components/ProjectCard';\nimport { getProjectLinkProps } from '../../hooks/useEntityQuery';\nimport { onProjectCreate, onProjectEdit, onProjectLink } from '../../store/helpers/project';\nimport { setDocuments } from '../../store/actions/documents';\nimport { setUserFolder } from '../../store/actions/user';\nimport { useHelper } from '../../hooks/useHelper';\nimport { useMutate } from '../../hooks/useMutate';\nimport queries from '../../graphql/queries';\nconst TITLE = 'Проекты';\nconst LIMIT = 12;\nconst START_OFFSET = 0;\n\nconst Projects = () => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const canEditStatus = useMemo(() => user && user.role.name === 'ADMIN', [user]);\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    limit: LIMIT,\n    icon: 'work',\n    template: template,\n    startOffset: START_OFFSET,\n    emptyMessage: 'Проектов нет',\n    buttonCreateText: 'Создать проект',\n    getType: 'getProjects',\n    getQuery: queries.GET_PROJECTS,\n    deleteQuery: queries.DELETE_PROJECT,\n    deleteEntityMultiText: 'проекты',\n    deleteEntitySingleText: 'проект',\n    onLink: project => {\n      var _user$projects;\n\n      const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n      recall(onProjectLink, getProjectLinkProps(project.id, user, owned, dispatch, mutate, recall, item => {\n        const result = { ...item,\n          projects: [...item.projects, project.id]\n        };\n        dispatch(setUserFolder(result));\n      }))();\n    },\n    onEdit: project => recall(onProjectEdit, {\n      id: project.id,\n      canEditStatus,\n      mutation: queries.UPDATE_PROJECT,\n      query: queries.GET_USERS,\n      onCompanyInputChange: mutate(queries.GET_USERS, {\n        account: 'ENTITY'\n      })\n    })(),\n    onCreate: recall(onProjectCreate, {\n      canEditStatus,\n      mutation: queries.CREATE_PROJECT,\n      query: queries.GET_USERS\n    }),\n    render: document => /*#__PURE__*/React.createElement(ProjectCard, {\n      project: document,\n      withSocials: true,\n      preview: true\n    })\n  });\n};\n\nexport default Projects;","var __jsx = React.createElement;\nimport React from 'react';\nimport DateText from '../../DateText';\nimport { Cell } from '..';\nexport var category = [{\n  header: 'Наименование',\n  content: function content(item) {\n    return __jsx(Cell, {\n      text: item.name || '-'\n    });\n  },\n  width: '15%'\n}, {\n  header: 'Описание',\n  content: function content(item) {\n    return __jsx(Cell, {\n      text: item.description || '-'\n    });\n  },\n  width: '70%'\n}, {\n  header: 'Дата создания',\n  content: function content(item) {\n    return __jsx(Cell, {\n      text: __jsx(DateText, {\n        text: item.createdAt,\n        options: {\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit'\n        }\n      }) || '-'\n    });\n  },\n  width: '15%'\n}];\nexport default category;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/projects\",\n        function () {\n          return require(\"private-next-pages/dashboard/projects.js\");\n        }\n      ]);\n    "]}}