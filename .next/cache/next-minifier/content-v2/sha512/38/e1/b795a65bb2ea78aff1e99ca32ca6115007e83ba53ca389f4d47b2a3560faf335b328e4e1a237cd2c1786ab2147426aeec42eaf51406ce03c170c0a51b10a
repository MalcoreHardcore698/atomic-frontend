{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{\"20ex\":function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),o=a(\"VX74\"),r=a(\"/MKj\"),i=a(\"ZwIX\"),c=a(\"auMy\"),s=a(\"586Q\"),u=a(\"VP1n\"),d=a(\"TsNn\"),m=a(\"ApjV\"),E=a(\"+EEm\"),b=a(\"rP4V\"),h=a(\"u2Cb\");t.a=({variables:e,initialList:t})=>{const a=Object(m.b)(),p=Object(r.c)((e=>e.user)),[f,v]=Object(n.useState)(t||[]),{data:C,loading:_,error:S}=t?{data:null,loading:!1,error:!1}:Object(o.useQuery)(h.a.GET_USERS,{variables:e});return Object(n.useEffect)((()=>{!_&&C&&v(C.getUsers)}),[C,_]),Object(n.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&v(t)}),[t]),!_&&C||f.length>0?f.map((e=>{var t;const n=e.name===(null===p||void 0===p?void 0:p.name);return l.a.createElement(u.a,{key:e.email},l.a.createElement(d.a,{user:e,owned:n,onChat:p.email&&a(E.a,{email:e.email,auth:null===p||void 0===p?void 0:p.email,queries:{userChats:h.a.GET_USER_CHATS,chat:h.a.GET_CHAT},mutations:{addUserChat:h.a.ADD_USER_CHAT,sendMessage:h.a.SEND_MESSAGE}}),onLink:a(b.i,{id:e.email,auth:null===p||void 0===p?void 0:p.email,owned:n,queries:{userChats:h.a.GET_USER_CHATS,chat:h.a.GET_CHAT},mutations:{addUserChat:h.a.ADD_USER_CHAT,sendMessage:h.a.SEND_MESSAGE}}),onAboutMore:a(b.a,{user:e}),onMembers:a(b.j,{id:null===e||void 0===e?void 0:e.email,auth:null===p||void 0===p?void 0:p.email}),onCompanyLink:a(b.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===p||void 0===p?void 0:p.email,queries:{userChats:h.a.GET_USER_CHATS,chat:h.a.GET_CHAT},mutations:{addUserChat:h.a.ADD_USER_CHAT,sendMessage:h.a.SEND_MESSAGE}})}))})):S?l.a.createElement(i.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"):_?l.a.createElement(s.c,null,l.a.createElement(c.a,null)):l.a.createElement(i.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u043e\\u0432 \\u043d\\u0435\\u0442\")}},Aoc7:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return s}));var n=a(\"q1tI\"),l=a.n(n),o=a(\"QX5T\"),r=a(\"586Q\"),i=a(\"20ex\"),c=a(\"u2Cb\");var s=!0;t.default=({store:e})=>l.a.createElement(o.a,{title:\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u044b\",filters:[{type:\"DATEPICKER\",placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0430\\u0440\\u0446\\u0438\\u0438\"},{type:\"SELECT\",placeholder:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",options:null===e||void 0===e?void 0:e.companies.map((e=>({value:e.email,label:e.name})))}],options:[{label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",value:\"company\"},{label:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438\",value:\"members\"},{label:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0430\\u0440\\u0446\\u0438\\u0438\",value:\"createdAt\"}],query:c.a.GET_USERS,store:{documents:null===e||void 0===e?void 0:e.users}},(({documents:e})=>l.a.createElement(r.b,null,l.a.createElement(i.a,{initialList:e}))))},QX5T:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),o=a(\"vOnD\"),r=a(\"VX74\"),i=a(\"7Cbv\"),c=a(\"8CDE\"),s=a(\"ZwIX\"),u=a(\"wZgm\"),d=a(\"auMy\"),m=a(\"QclZ\");const E=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[l,o]=Object(n.useState)(0);Object(n.useEffect)((()=>{const n=document.documentElement,r=()=>{if(!n)return;const r=n.scrollTop-l;t&&r>0&&n.scrollTop+n.clientHeight>=n.scrollHeight-a&&t(n.scrollTop,n.scrollHeight),e&&r<0&&n.scrollTop<=a&&e(n.scrollTop,n.scrollHeight),o(n.scrollTop)};return n&&window.addEventListener(\"scroll\",r),()=>{n&&window.removeEventListener(\"scroll\",r)}}),[e,t,a])};var b=a(\"X+Rt\"),h=a(\"p9yE\"),p=a(\"RoTl\"),f=a(\"EYtC\"),v=a(\"coMr\"),C=a(\"586Q\");const _=Object(o.c)(c.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(o.b)([\"margin:0;\"])));t.a=({title:e,store:t,query:a,handle:o,filters:c,options:S,research:T,scaffold:g,dashboard:w,variables:O={},limit:y=6,startOffset:j=6,initialize:A,children:D})=>{const M=w?h.a:b.a,[x,H]=Object(n.useState)(),[N,R]=Object(n.useState)(),[U,k]=Object(n.useState)(null),[G,I]=Object(n.useState)(!1),[L,Q]=Object(n.useState)(!1),[X,q]=Object(n.useState)(j),[P,V]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[Z,{data:K,loading:z,error:B,refetch:F}]=Object(r.useLazyQuery)(a),[J,{data:W,loading:Y,error:$,refetch:ee}]=Object(r.useLazyQuery)(a),te=e=>{if(V([]),e)k(e),Z({variables:{...O,search:e,offset:0,limit:j}});else{const e={...O,offset:0,limit:y};k(null),ee?ee(e):J({variables:e})}q(0)};return E({callbackOnBottom:async()=>{if(!Y&&!G){I(!0);const e={...O,offset:X,limit:y};U?await F(O):ee?(await ee(e),q((e=>e+y))):await J({variables:e}),I(!1)}},offset:850}),Object(n.useEffect)((()=>{A&&J({variables:{offset:X,limit:y}})}),[A]),Object(n.useEffect)((()=>{T&&te(T)}),[T]),Object(n.useEffect)((()=>{const e=!U&&!Y&&W||U&&!z&&K;e&&V((t=>[...t,...e[Object.keys(e)[0]]]))}),[U,Y,z,W,K]),l.a.createElement(M,{title:e,scaffold:g},l.a.createElement(_,{clear:g||w},!g&&!w&&l.a.createElement(f.a,{onChangeFilter:()=>Q(!L),onSubmit:te}),w&&o&&l.a.createElement(v.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>Q(!L),onChangeDisplayMethod:o.onChangeDisplayMethod}),(c||S)&&l.a.createElement(p.a,{isOpen:L,filters:c.map((e=>{switch(e.type){case\"DATEPICKER\":return l.a.createElement(u.a,{key:Object(i.a)(),value:x,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:H,withNavigate:!0});case\"SELECT\":return l.a.createElement(m.a,{key:Object(i.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:N,onChange:e=>R(e)});default:return null}})),options:S}),l.a.createElement(D,{documents:P}),U&&!z&&0===P.length&&l.a.createElement(s.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041f\\u043e \\u0432\\u0430\\u0448\\u0435\\u043c\\u0443 \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441\\u0443 \\u043d\\u0438\\u0447\\u0435\\u0433\\u043e \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d\\u043e\"),(U&&B||!U&&$)&&l.a.createElement(s.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"),(G||!$&&Y||U&&!B&&z)&&l.a.createElement(C.d,null,l.a.createElement(d.a,null)),!U&&!Y&&!z&&!B&&0===P.length&&l.a.createElement(s.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0414\\u0430\\u043d\\u043d\\u044b\\u0445 \\u043d\\u0435\\u0442\")))}},ZtKI:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/creators\",function(){return a(\"Aoc7\")}])}},[[\"ZtKI\",0,2,1,3,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/creators-7151653d6db59d4a8c57.js"],"names":["_N_E","window","push","20ex","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__","_Styled__WEBPACK_IMPORTED_MODULE_5__","_LazyLoad__WEBPACK_IMPORTED_MODULE_6__","_UserCard__WEBPACK_IMPORTED_MODULE_7__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__","_store_helpers__WEBPACK_IMPORTED_MODULE_9__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__","_graphql_queries__WEBPACK_IMPORTED_MODULE_11__","variables","initialList","recall","Object","user","state","users","setUsers","data","loading","error","GET_USERS","getUsers","length","map","author","_author$company","owned","name","a","createElement","key","email","onChat","auth","queries","userChats","GET_USER_CHATS","chat","GET_CHAT","mutations","addUserChat","ADD_USER_CHAT","sendMessage","SEND_MESSAGE","onLink","id","onAboutMore","onMembers","onCompanyLink","company","appearance","style","width","textAlign","Aoc7","r","d","__N_SSP","_layouts_content__WEBPACK_IMPORTED_MODULE_1__","_components_Styled__WEBPACK_IMPORTED_MODULE_2__","_components_UserList__WEBPACK_IMPORTED_MODULE_3__","_graphql_queries__WEBPACK_IMPORTED_MODULE_4__","store","title","filters","type","placeholder","options","companies","value","label","query","documents","QX5T","react","react_default","styled_components_browser_esm","client","v4","Column","Alert","DatePicker","Spinner","Select","useInfiniteScroll","callbackOnTop","callbackOnBottom","offset","lastScrollTop","setLastScrollTop","scrollElement","document","documentElement","onScroll","dir","scrollTop","clientHeight","scrollHeight","addEventListener","removeEventListener","layouts_default","layouts_dashboard","FilterBar","SearchBar","HandleBar","Styled","Wrap","withConfig","displayName","componentId","clear","handle","research","scaffold","dashboard","limit","startOffset","initialize","children","Layout","date","onChangeDate","select","onChangeSelect","search","setSearch","isFetching","setFetching","visibleFilter","setVisibleFilter","setOffset","setDocuments","loadDocumentsBySearch","dataBySearch","loadingBySearch","errorBySearch","refetch","refetchBySearch","loadDocuments","onSearch","result","async","prev","keys","onChangeFilter","onSubmit","icon","buttonCreateText","onCreate","onChangeVisibleFilter","onChangeDisplayMethod","isOpen","filter","onChange","withNavigate","selected","item","ZtKI","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/creators-7151653d6db59d4a8c57.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[19],{\n\n/***/ \"20ex\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export UserList */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _Styled__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _LazyLoad__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _UserCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"TsNn\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _store_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"+EEm\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst UserList = ({\n  variables,\n  initialList\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__[/* useHelper */ \"b\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useSelector */ \"c\"])(state => state.user);\n  const [users, setUsers] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(initialList || []);\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__[\"useQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USERS, {\n    variables\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && data) {\n      setUsers(data.getUsers);\n    }\n  }, [data, loading]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if ((initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setUsers(initialList);\n  }, [initialList]);\n  return !loading && data || users.length > 0 ? users.map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LazyLoad__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n      key: author.email\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UserCard__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(_store_helpers__WEBPACK_IMPORTED_MODULE_9__[/* onChat */ \"a\"], {\n        email: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserLink */ \"i\"], {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserAboutMore */ \"a\"], {\n        user: author\n      }),\n      onMembers: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserMembers */ \"j\"], {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserLink */ \"i\"], {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      })\n    }));\n  }) : error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Styled__WEBPACK_IMPORTED_MODULE_5__[/* Loader */ \"c\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\");\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (UserList);\n\n/***/ }),\n\n/***/ \"Aoc7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _components_UserList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20ex\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\nconst TITLE = 'Авторы';\n\nconst Creators = ({\n  store\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n  title: TITLE,\n  filters: [{\n    type: 'DATEPICKER',\n    placeholder: 'Дата регистарции'\n  }, {\n    type: 'SELECT',\n    placeholder: 'Компания',\n    options: store === null || store === void 0 ? void 0 : store.companies.map(company => ({\n      value: company.email,\n      label: company.name\n    }))\n  }],\n  options: [{\n    label: 'Компания',\n    value: 'company'\n  }, {\n    label: 'Участники',\n    value: 'members'\n  }, {\n    label: 'Дата регистарции',\n    value: 'createdAt'\n  }],\n  query: _graphql_queries__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].GET_USERS,\n  store: {\n    documents: store === null || store === void 0 ? void 0 : store.users\n  }\n}, ({\n  documents\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_2__[/* GridAside */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UserList__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n  initialList: documents\n})));\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Creators);\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(\"7Cbv\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// CONCATENATED MODULE: ./hooks/useInfiniteScroll.js\n\nconst useInfiniteScroll = ({\n  callbackOnTop,\n  callbackOnBottom,\n  offset = 50\n}) => {\n  const [lastScrollTop, setLastScrollTop] = Object(react[\"useState\"])(0);\n  Object(react[\"useEffect\"])(() => {\n    const scrollElement = document.documentElement;\n\n    const onScroll = () => {\n      if (!scrollElement) return;\n      const dir = scrollElement.scrollTop - lastScrollTop;\n\n      if (callbackOnBottom && dir > 0 && scrollElement.scrollTop + scrollElement.clientHeight >= scrollElement.scrollHeight - offset) {\n        callbackOnBottom(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      if (callbackOnTop && dir < 0 && scrollElement.scrollTop <= offset) {\n        callbackOnTop(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      setLastScrollTop(scrollElement.scrollTop);\n    };\n\n    if (scrollElement) {\n      window.addEventListener('scroll', onScroll);\n    }\n\n    return () => {\n      if (scrollElement) {\n        window.removeEventListener('scroll', onScroll);\n      }\n    };\n  }, [callbackOnTop, callbackOnBottom, offset]);\n};\n/* harmony default export */ var hooks_useInfiniteScroll = (useInfiniteScroll);\n// EXTERNAL MODULE: ./layouts/default.js + 3 modules\nvar layouts_default = __webpack_require__(\"X+Rt\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 2 modules\nvar layouts_dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./components/SearchBar/index.js\nvar SearchBar = __webpack_require__(\"EYtC\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/Styled/index.js\nvar Styled = __webpack_require__(\"586Q\");\n\n// CONCATENATED MODULE: ./layouts/content.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components_browser_esm[\"b\" /* css */])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  research,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const Layout = dashboard ? layouts_dashboard[\"a\" /* default */] : layouts_default[\"a\" /* default */];\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [search, setSearch] = Object(react[\"useState\"])(null);\n  const [isFetching, setFetching] = Object(react[\"useState\"])(false);\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const [offset, setOffset] = Object(react[\"useState\"])(startOffset);\n  const [documents, setDocuments] = Object(react[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    error: errorBySearch,\n    refetch: refetchBySearch\n  }] = Object(client[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = Object(client[\"useLazyQuery\"])(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n            key: Object(v4[\"a\" /* default */])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n            key: Object(v4[\"a\" /* default */])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  useInfiniteScroll({\n    callbackOnBottom: async () => {\n      const updateOffset = () => setOffset(prev => prev + limit);\n\n      if (!loading && !isFetching) {\n        setFetching(true);\n        const result = { ...variables,\n          offset,\n          limit\n        };\n\n        if (search) {\n          await refetchBySearch(variables);\n        } else {\n          if (refetch) {\n            await refetch(result);\n            updateOffset();\n          } else {\n            await loadDocuments({\n              variables: result\n            });\n          }\n        }\n\n        setFetching(false);\n      }\n    },\n    offset: 850\n  });\n  Object(react[\"useEffect\"])(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  Object(react[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react[\"useEffect\"])(() => {\n    const isCommon = !search && !loading && data;\n    const isSearch = search && !loadingBySearch && dataBySearch;\n    const result = isCommon || isSearch;\n    if (result) setDocuments(prev => [...prev, ...result[Object.keys(result)[0]]]);\n  }, [search, loading, loadingBySearch, data, dataBySearch]);\n  return /*#__PURE__*/react_default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react_default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react_default.a.createElement(SearchBar[\"a\" /* default */], {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react_default.a.createElement(HandleBar[\"a\" /* default */], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), react_default.a.createElement(children, {\n    documents\n  }), search && !loadingBySearch && documents.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"), (search && errorBySearch || !search && error) && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), (isFetching || !error && loading || search && !errorBySearch && loadingBySearch) && /*#__PURE__*/react_default.a.createElement(Styled[\"d\" /* LowerLoader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null)), !search && !loading && !loadingBySearch && !errorBySearch && documents.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\")));\n};\n\n/* harmony default export */ var content = __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"ZtKI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/creators\",\n        function () {\n          return __webpack_require__(\"Aoc7\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"ZtKI\",0,2,1,3,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\UserList\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\creators.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\hooks\\useInfiniteScroll.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcreators&absolutePagePath=private-next-pages%2Fcreators.js!"],"names":[],"mappings":"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nB;AACA;AACA;AACA;AACA,8BAA8B,eAAK,eAAe,6BAAU;AAC5D,iBAAiB,6BAAE;AACnB;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA,8BAA8B,eAAK,eAAe,yBAAM;AACxD,iBAAiB,6BAAE;AACnB;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,sBAAsB;AACtB;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,OAAO;AACP;;AAEA;AACA;;AAEA,EAAE,iBAAiB;AACnB;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH,EAAE,0BAAS;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,EAAE,0BAAS;AACX;AACA,GAAG;AACH,EAAE,0BAAS;AACX;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,eAAK;AAC3B;AACA;AACA,GAAG,eAAe,eAAK;AACvB;AACA,GAAG,0CAA0C,eAAK,eAAe,4BAAS;AAC1E;AACA;AACA,GAAG,uCAAuC,eAAK,eAAe,4BAAS;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,wCAAwC,eAAK,eAAe,4BAAS;AACxE;AACA;AACA;AACA,GAAG,GAAG,eAAK;AACX;AACA,GAAG,wEAAwE,eAAK,eAAe,wBAAK;AACpG;AACA;AACA;AACA;AACA,GAAG,8PAA8P,eAAK,eAAe,wBAAK;AAC1R;AACA;AACA;AACA;AACA;AACA,GAAG,2PAA2P,eAAK,eAAe,6BAAW,qBAAqB,eAAK,eAAe,0BAAO,8GAA8G,eAAK,eAAe,wBAAK;AACpd;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEe,oFAAa,E;;;;;;;;ACtM5B;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAgC;AACzD;AACA","file":"x","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useSelector } from 'react-redux';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport { Loader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nimport UserCard from '../UserCard';\nimport { useHelper } from '../../hooks/useHelper';\nimport { onChat } from '../../store/helpers';\nimport { onUserAboutMore, onUserLink, onUserMembers } from '../../store/helpers/user';\nimport queries from '../../graphql/queries';\nexport const UserList = ({\n  variables,\n  initialList\n}) => {\n  const recall = useHelper();\n  const user = useSelector(state => state.user);\n  const [users, setUsers] = useState(initialList || []);\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : useQuery(queries.GET_USERS, {\n    variables\n  });\n  useEffect(() => {\n    if (!loading && data) {\n      setUsers(data.getUsers);\n    }\n  }, [data, loading]);\n  useEffect(() => {\n    if ((initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setUsers(initialList);\n  }, [initialList]);\n  return !loading && data || users.length > 0 ? users.map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/React.createElement(LazyLoad, {\n      key: author.email\n    }, /*#__PURE__*/React.createElement(UserCard, {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(onChat, {\n        email: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onLink: recall(onUserLink, {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onAboutMore: recall(onUserAboutMore, {\n        user: author\n      }),\n      onMembers: recall(onUserMembers, {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      })\n    }));\n  }) : error ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\");\n};\nexport default UserList;","import React from 'react';\nimport ContentLayout from '../layouts/content';\nimport { GridAside as Container } from '../components/Styled';\nimport UserList from '../components/UserList';\nimport queries from '../graphql/queries';\nconst TITLE = 'Авторы';\n\nconst Creators = ({\n  store\n}) => /*#__PURE__*/React.createElement(ContentLayout, {\n  title: TITLE,\n  filters: [{\n    type: 'DATEPICKER',\n    placeholder: 'Дата регистарции'\n  }, {\n    type: 'SELECT',\n    placeholder: 'Компания',\n    options: store === null || store === void 0 ? void 0 : store.companies.map(company => ({\n      value: company.email,\n      label: company.name\n    }))\n  }],\n  options: [{\n    label: 'Компания',\n    value: 'company'\n  }, {\n    label: 'Участники',\n    value: 'members'\n  }, {\n    label: 'Дата регистарции',\n    value: 'createdAt'\n  }],\n  query: queries.GET_USERS,\n  store: {\n    documents: store === null || store === void 0 ? void 0 : store.users\n  }\n}, ({\n  documents\n}) => /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(UserList, {\n  initialList: documents\n})));\n\nexport var __N_SSP = true;\nexport default Creators;","import { useState, useEffect } from 'react';\nexport const useInfiniteScroll = ({\n  callbackOnTop,\n  callbackOnBottom,\n  offset = 50\n}) => {\n  const [lastScrollTop, setLastScrollTop] = useState(0);\n  useEffect(() => {\n    const scrollElement = document.documentElement;\n\n    const onScroll = () => {\n      if (!scrollElement) return;\n      const dir = scrollElement.scrollTop - lastScrollTop;\n\n      if (callbackOnBottom && dir > 0 && scrollElement.scrollTop + scrollElement.clientHeight >= scrollElement.scrollHeight - offset) {\n        callbackOnBottom(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      if (callbackOnTop && dir < 0 && scrollElement.scrollTop <= offset) {\n        callbackOnTop(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      setLastScrollTop(scrollElement.scrollTop);\n    };\n\n    if (scrollElement) {\n      window.addEventListener('scroll', onScroll);\n    }\n\n    return () => {\n      if (scrollElement) {\n        window.removeEventListener('scroll', onScroll);\n      }\n    };\n  }, [callbackOnTop, callbackOnBottom, offset]);\n};\nexport default useInfiniteScroll;","import React, { useState, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport Alert from '../atomic-ui/components/Alert';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport { useInfiniteScroll } from '../hooks/useInfiniteScroll';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  research,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [isFetching, setFetching] = useState(false);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    error: errorBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = useLazyQuery(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  useInfiniteScroll({\n    callbackOnBottom: async () => {\n      const updateOffset = () => setOffset(prev => prev + limit);\n\n      if (!loading && !isFetching) {\n        setFetching(true);\n        const result = { ...variables,\n          offset,\n          limit\n        };\n\n        if (search) {\n          await refetchBySearch(variables);\n        } else {\n          if (refetch) {\n            await refetch(result);\n            updateOffset();\n          } else {\n            await loadDocuments({\n              variables: result\n            });\n          }\n        }\n\n        setFetching(false);\n      }\n    },\n    offset: 850\n  });\n  useEffect(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const isCommon = !search && !loading && data;\n    const isSearch = search && !loadingBySearch && dataBySearch;\n    const result = isCommon || isSearch;\n    if (result) setDocuments(prev => [...prev, ...result[Object.keys(result)[0]]]);\n  }, [search, loading, loadingBySearch, data, dataBySearch]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), React.createElement(children, {\n    documents\n  }), search && !loadingBySearch && documents.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"), (search && errorBySearch || !search && error) && /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), (isFetching || !error && loading || search && !errorBySearch && loadingBySearch) && /*#__PURE__*/React.createElement(LowerLoader, null, /*#__PURE__*/React.createElement(Spinner, null)), !search && !loading && !loadingBySearch && !errorBySearch && documents.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\")));\n};\n\nexport default ContentLayout;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/creators\",\n        function () {\n          return require(\"private-next-pages/creators.js\");\n        }\n      ]);\n    "]}}