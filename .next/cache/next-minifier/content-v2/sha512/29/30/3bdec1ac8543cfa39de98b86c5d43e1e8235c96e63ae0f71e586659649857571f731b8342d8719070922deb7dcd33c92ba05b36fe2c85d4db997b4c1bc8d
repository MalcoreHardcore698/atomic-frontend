{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{\"17Xh\":function(e,a,t){\"use strict\";t.r(a),t.d(a,\"__N_SSP\",(function(){return ee}));var n=t(\"q1tI\"),r=t.n(n),l=t(\"/MKj\"),o=t(\"7BXr\"),c=t(\"ZwIX\"),i=t(\"wZgm\"),s=t(\"QclZ\"),d=t(\"EJJs\"),p=t(\"e3uv\"),u=t(\"ApjV\"),m=t(\"p9yE\"),b=t(\"coMr\"),g=t(\"RoTl\"),E=t(\"vOnD\"),h=t(\"nShV\"),f=t(\"8CDE\"),O=t(\"aBfq\"),v=t(\"RKiZ\"),j=t(\"JyfY\"),w=t(\"ZeZO\"),y=t(\"feIE\"),k=t(\"79b8\"),C=t(\"7sPp\"),_=t(\"VWQm\"),x=t(\"ObTy\");const N=Object(E.c)(f.a).withConfig({displayName:\"RoleCard__Wrap\",componentId:\"sc-1nltqyr-0\"})([\"grid-gap:var(--default-gap);height:100%;\",\" \",\" \",\"\"],(({appearance:e})=>\"default\"===e&&Object(E.b)([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"])),(({appearance:e})=>\"ghost\"===e&&Object(E.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"])),(({appearance:e})=>\"clear\"===e&&Object(E.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]))),R=Object(E.c)(h.b).withConfig({displayName:\"RoleCard__Header\",componentId:\"sc-1nltqyr-1\"})([\"justify-content:space-between;align-items:center;\"]),S=Object(E.c)(C.a).withConfig({displayName:\"RoleCard__Name\",componentId:\"sc-1nltqyr-2\"})([\"transition:opacity 150ms ease;\",\"\"],(({onClick:e})=>e&&Object(E.b)([\"cursor:pointer;&:hover{opacity:0.45;}\"]))),P=Object(E.c)(h.b).withConfig({displayName:\"RoleCard__Actions\",componentId:\"sc-1nltqyr-3\"})([\"grid-gap:5px;\"]),q=Object(E.c)(h.b).withConfig({displayName:\"RoleCard__Permissions\",componentId:\"sc-1nltqyr-4\"})([\"flex-wrap:wrap;grid-gap:10px;\"]),A=({role:e,style:a,appearance:t,className:n,limitPermissions:l,onLink:o,onChecked:i,onEdit:s,onDelete:d})=>{const p=e.permissions.slice(0,l),u=e.permissions.length-l;return r.a.createElement(N,{className:n,style:a,appearance:t},r.a.createElement(f.a,{style:{gridGap:5}},r.a.createElement(R,null,r.a.createElement(O.a,{date:e.createdAt}),i&&s&&d&&r.a.createElement(P,null,r.a.createElement(_.b,{text:\"\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\"},r.a.createElement(w.a,{kind:\"icon\",size:\"xs\",appearance:\"red\",onClick:d},r.a.createElement(y.a,{icon:\"delete\",size:\"xs\",stroke:\"white\"}))),r.a.createElement(_.b,{text:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\"},r.a.createElement(w.a,{kind:\"icon\",size:\"xs\",onClick:s},r.a.createElement(y.a,{icon:\"edit\",size:\"xs\",stroke:\"white\"}))),r.a.createElement(_.b,{text:\"\\u041e\\u0442\\u043c\\u0435\\u0442\\u0438\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\",self:!0},r.a.createElement(k.a,null)))),r.a.createElement(S,{tag:\"h4\",onClick:o},Object(x.e)(e.name))),r.a.createElement(v.a,{clear:!0}),e&&e.permissions.length>0?r.a.createElement(q,null,p.map((e=>r.a.createElement(j.a,{key:e,color:\"ghost\",appearance:\"outlined\"},Object(x.d)(e)))),u>0&&r.a.createElement(j.a,{color:\"ghost\",appearance:\"outlined\"},\"+\",u)):r.a.createElement(c.a,null,\"\\u041f\\u0440\\u0438\\u0432\\u0435\\u043b\\u0435\\u0433\\u0438\\u0438 \\u043e\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"))};A.defaultProps={appearance:\"default\",limitPermissions:5};var D=A,I=t(\"Gliw\"),L=t(\"qoM+\");var T=({role:e,permissions:a,mutation:t,appearance:l,className:o,onSubmit:i})=>{var d;const[p,u]=Object(n.useState)(!1),[m,b]=Object(n.useState)((null===e||void 0===e||null===(d=e.permissions)||void 0===d?void 0:d.map((e=>({value:e,label:Object(x.d)(e)}))))||null),[g,E]=Object(n.useState)(!0);return r.a.createElement(L.b,{className:o,appearance:l,mutation:t,onSubmit:(e,a)=>{(null===m||void 0===m?void 0:m.length)>0?i({...e,permissions:m},a):u(!0)}},(({register:t,loading:n,errors:l,getValues:o})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(C.a,{tag:\"h4\"},\"\\u041e\\u0441\\u043d\\u043e\\u0432\\u043d\\u043e\\u0435\"),l&&l.name&&r.a.createElement(c.a,{style:{width:\"100%\"},appearance:\"error\"},\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435 \\u0440\\u043e\\u043b\\u0438 \\u0434\\u043e\\u043b\\u0436\\u043d\\u043e \\u0441\\u043e\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044c \\u0442\\u043e\\u043b\\u044c\\u043a\\u043e \\u043b\\u0430\\u0442\\u0438\\u043d\\u0441\\u043a\\u0438\\u0435 \\u0441\\u0438\\u043c\\u0432\\u043e\\u043b\\u044b\"),r.a.createElement(I.a,{type:\"text\",name:\"name\",ref:t({required:!0,pattern:/[A-Za-z]/}),onChange:a=>{a.target.value===(null===e||void 0===e?void 0:e.name)?E(!0):E(!1)},defaultValue:(null===e||void 0===e?void 0:e.name)||o(\"name\"),placeholder:\"\\u041d\\u0430\\u0437\\u0432\\u0430\\u043d\\u0438\\u0435\",appearance:\"ghost\",disabled:n}),p&&r.a.createElement(c.a,{style:{width:\"100%\"},appearance:\"error\"},\"\\u0421\\u043f\\u0438\\u0441\\u043e\\u043a \\u043f\\u0440\\u0438\\u0432\\u0438\\u043b\\u0435\\u0433\\u0438\\u0439 \\u0434\\u043e\\u043b\\u0436\\u0435\\u043d \\u0441\\u043e\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044c \\u0445\\u043e\\u0442\\u044f \\u0431\\u044b \\u043e\\u0434\\u0438\\u043d \\u044d\\u043b\\u0435\\u043c\\u0435\\u043d\\u0442\"),r.a.createElement(s.a,{name:\"permissions\",appearance:\"ghost\",defaultValue:m,onChange:a=>{var t;b(a),u(!1),a.value.length===(null===e||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.length)?E(!0):E(!1)},placeholder:\"\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043f\\u0440\\u0438\\u0432\\u0435\\u043b\\u0435\\u0433\\u0438\\u0438\",options:Object(x.a)(a).map((e=>({...e,label:Object(x.d)(e.label)}))),isLoading:n,isClearable:!0,isMulti:!0})),r.a.createElement(h.b,null,r.a.createElement(w.a,{style:{flexGrow:1},type:\"submit\",disabled:g||n},!e&&\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c\",e&&\"\\u0421\\u043e\\u0445\\u0440\\u0430\\u043d\\u0438\\u0442\\u044c\")))))},V=t(\"xAqQ\"),X=t(\"7Cbv\");const Z=Object(E.c)(f.a).withConfig({displayName:\"RoleView__Wrap\",componentId:\"sc-3s69fr-0\"})([\"grid-gap:var(--default-gap);height:max-content;\",\" \",\" \",\"\"],(({appearance:e})=>\"default\"===e&&Object(E.b)([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"])),(({appearance:e})=>\"ghost\"===e&&Object(E.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"])),(({appearance:e})=>\"clear\"===e&&Object(E.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]))),M=Object(E.c)(h.b).withConfig({displayName:\"RoleView__Permissions\",componentId:\"sc-3s69fr-1\"})([\"flex-wrap:wrap;grid-gap:10px;\"]),z=({role:e,appearance:a,className:t,style:n})=>r.a.createElement(Z,{className:t,style:n,appearance:a},r.a.createElement(f.a,{style:{gridGap:0}},r.a.createElement(O.a,{date:e.createdAt}),r.a.createElement(C.a,{tag:\"h4\"},Object(x.e)(e.name))),r.a.createElement(v.a,{clear:!0}),e&&e.permissions.length>0?r.a.createElement(M,null,e.permissions.map((e=>r.a.createElement(j.a,{key:Object(X.a)(),color:\"ghost\",appearance:\"outlined\"},Object(x.d)(e))))):r.a.createElement(c.a,null,\"\\u041f\\u0440\\u0438\\u0432\\u0435\\u043b\\u0435\\u0433\\u0438\\u0438 \\u043e\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"));z.defaultProps={appearance:\"default\"};var J=z,G=t(\"j8/+\"),U=t(\"Ztxg\"),Q=t(\"9Xo6\");function W(e,a){const{role:t}=a;e(Object(U.a)({icon:\"lock\",title:\"\\u0420\\u043e\\u043b\\u044c\",content:r.a.createElement(J,{role:t,appearance:\"clear\"})}))}function B(e,a){const{permissions:t,mutation:n}=a;e(Object(U.a)({icon:\"lock\",title:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u0435 \\u0440\\u043e\\u043b\\u0438\",content:r.a.createElement(T,{mutation:n,permissions:t,appearance:\"clear\",onSubmit:async(a,t)=>{try{const n=await t({variables:{input:{name:a.name,permissions:a.permissions.map((e=>e.value))}}});e(Object(G.a)(n.data.createRole)),e(Object(U.a)(null)),e(Object(Q.c)({type:\"success\",message:\"\\u0420\\u043e\\u043b\\u044c \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0430\"}))}catch(n){e(Object(U.a)(null)),e(Object(Q.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0441\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\"}))}}})}))}function F(e,a){const{role:t,permissions:n,mutation:l}=a;e(Object(U.a)({icon:\"lock\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435 \\u0440\\u043e\\u043b\\u0438\",content:r.a.createElement(T,{role:t,mutation:l,permissions:n,appearance:\"clear\",onSubmit:async(a,n)=>{try{const r=await n({variables:{id:t.id,input:{name:a.name,permissions:a.permissions.map((e=>e.value))}}});e(Object(G.a)(r.data.updateRole)),e(Object(U.a)(null)),e(Object(Q.c)({type:\"success\",message:\"\\u0420\\u043e\\u043b\\u044c \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u043e\\u0442\\u0440\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0430\"}))}catch(r){e(Object(U.a)(null)),e(Object(Q.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u043e\\u0442\\u0440\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\"}))}}})}))}function K(e,a){const{role:t,mutation:n}=a;e(Object(U.a)({icon:\"delete\",color:\"red\",title:\"\\u0423\\u0434\\u0430\\u043b\\u0435\\u043d\\u0438\\u0435 \\u0440\\u043e\\u043b\\u0438\",content:r.a.createElement(V.a,{mutation:n,appearance:\"clear\",onCancel:()=>e(Object(U.a)(null)),onSubmit:async(a,n)=>{try{const a=await n({variables:{id:t.id}});e(Object(G.a)(a.data.deleteRole)),e(Object(Q.c)({type:\"success\",message:\"\\u0420\\u043e\\u043b\\u044c \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0443\\u0434\\u0430\\u043b\\u0435\\u043d\\u0430\"}))}catch(r){e(Object(Q.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0443\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\"}))}finally{e(Object(U.a)(null))}}},r.a.createElement(J,{role:t,appearance:\"clear\"}))}))}var H=t(\"wha1\"),Y=t(\"u2Cb\");const $=\"\\u0420\\u043e\\u043b\\u0438\";var ee=!0;a.default=({store:e,permissions:a})=>{const t=Object(u.a)(),E=Object(l.c)((e=>e.documents)),h=Object(l.b)(),[f,O]=Object(n.useState)(),[v,j]=Object(n.useState)(),[w,y]=Object(n.useState)(!1),[k,C]=Object(n.useState)(\"grid\"),_=Object(n.useMemo)((()=>E||e.roles),[E,e]);return Object(n.useEffect)((()=>{h(Object(G.a)(null))}),[]),r.a.createElement(m.a,{title:$},r.a.createElement(b.a,{icon:\"lock\",title:$,buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u0440\\u043e\\u043b\\u044c\",onCreate:t(B,{permissions:a,mutation:Y.a.CREATE_ROLE}),onChangeVisibleFilter:()=>y(!w),onChangeDisplayMethod:e=>C(e.value)}),r.a.createElement(g.a,{isOpen:w,filters:[r.a.createElement(i.a,{key:0,value:f,placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:O,withNavigate:!0}),r.a.createElement(s.a,{key:1,options:H.a,placeholder:\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:v,onChange:e=>j(e)})],options:\"list\"===k?[]:p.a.role.map(((e,a)=>({label:e.header,value:a})))}),0===_.length&&r.a.createElement(c.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0420\\u043e\\u043b\\u0435\\u0439 \\u043d\\u0435\\u0442\"),\"list\"===k&&r.a.createElement(d.b,{data:_,template:p.a.role,onChecked:()=>{},onClick:e=>t(W,{id:e.id,role:e})(),onDelete:e=>t(K,{id:e.id,role:e,mutation:Y.a.DELETE_ROLE})(),onEdit:e=>t(F,{id:e.id,role:e,permissions:a,mutation:Y.a.UPDATE_ROLE})(),style:{overflowX:\"auto\",width:\"calc(100vw - 290px)\"}}),\"grid\"===k&&r.a.createElement(o.a,null,_.map((e=>r.a.createElement(D,{key:e.id,role:e,onChecked:()=>{},onLink:t(W,{id:e.id,role:e}),onDelete:t(K,{id:e.id,role:e,mutation:Y.a.DELETE_ROLE}),onEdit:t(F,{id:e.id,role:e,permissions:a,mutation:Y.a.UPDATE_ROLE})})))))}},\"98EU\":function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/roles\",function(){return t(\"17Xh\")}])},wha1:function(e,a,t){\"use strict\";t.d(a,\"f\",(function(){return n})),t.d(a,\"e\",(function(){return r})),t.d(a,\"b\",(function(){return l})),t.d(a,\"d\",(function(){return o})),t.d(a,\"a\",(function(){return c})),t.d(a,\"c\",(function(){return i}));const n=[{label:\"\\u041e \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0435\",path:\"/about\"},{label:\"\\u041b\\u044e\\u0434\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0430\",path:\"/creators\"},{label:\"\\u041f\\u043e\\u0434\\u0434\\u0435\\u0440\\u0436\\u043a\\u0430\",path:\"/support\"},{label:\"\\u0421\\u043f\\u0440\\u0430\\u0432\\u043e\\u0447\\u043d\\u0438\\u043a\",path:\"/guide\"}],r=[\"/images/socials/gmail.png\",\"/images/socials/vk.png\",\"/images/socials/facebook.png\"],l=[{label:\"\\u0433. \\u0415\\u043a\\u0430\\u0442\\u0435\\u0440\\u0438\\u043d\\u0431\\u0443\\u0440\\u0433, \\u0443\\u043b. \\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u0438\\u0441\\u0442\\u043e\\u0432 20\\u0430, \\u043e\\u0444. 302\",icon:\"location\"},{label:\"+7 (499) 222-54-86\",icon:\"call\"},{label:\"info@mail.ru\",icon:\"message\"}],o=[{label:\"\\u041c\\u043e\\u0438 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",value:\"/projects\"},{label:\"\\u041d\\u0440\\u0430\\u0432\\u0438\\u0442\\u0441\\u044f\",value:\"/liked\"},{label:\"\\u0412 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0435\",value:\"/feed\"}],c=[{value:0,label:\"\\u0421\\u0442\\u0440\\u043e\\u0438\\u0442\\u0435\\u043b\\u044c\\u0441\\u0442\\u0432\\u043e\"},{value:1,label:\"\\u0420\\u0435\\u043a\\u043e\\u043d\\u0441\\u0442\\u0440\\u0443\\u043a\\u0446\\u0438\\u044f\"},{value:2,label:\"\\u041a\\u0430\\u043f\\u0438\\u0442\\u0430\\u043b\\u044c\\u043d\\u044b\\u0439 \\u0440\\u0435\\u043c\\u043e\\u043d\\u0442\"},{value:3,label:\"\\u0426\\u0438\\u0444\\u0440\\u043e\\u0432\\u0430\\u044f \\u0441\\u0440\\u0435\\u0434\\u0430\"}],i=[{label:\"\\u0420\\u0435\\u0439\\u0442\\u0438\\u043d\\u0433\",value:\"rating\"},{label:\"\\u041f\\u043e\\u0434\\u043f\\u0438\\u0441\\u0447\\u0438\\u043a\\u0438\",value:\"followers\"},{label:\"\\u0414\\u0430\\u0442\\u0430\",value:\"date\"}]}},[[\"98EU\",0,2,1,3,4,5,7]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/roles-c1a8de27f39bcd33eac0.js"],"names":["_N_E","window","push","17Xh","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","es","Grid","Alert","DatePicker","Select","Table","templates","useHelper","dashboard","HandleBar","FilterBar","styled_components_browser_esm","Row","Column","Meta","Divider","Chip","Button","Icon","Checkbox","Title","Tooltip","functions","Wrap","Object","withConfig","displayName","componentId","appearance","Header","Name","onClick","Actions","Permissions","Card","role","style","className","limitPermissions","onLink","onChecked","onEdit","onDelete","permissions","slice","residue","length","a","createElement","gridGap","date","createdAt","text","kind","size","icon","stroke","self","tag","name","clear","map","permission","key","color","defaultProps","RoleCard","Input","Form","FormRole","mutation","onSubmit","_role$permissions","permissionsError","setPermissionsError","selectedPermissions","setSelectedPermissions","value","label","disabled","setDisabled","form","action","register","loading","errors","getValues","Fragment","width","type","ref","required","pattern","onChange","e","target","defaultValue","placeholder","_role$permissions2","options","option","isLoading","isClearable","isMulti","flexGrow","FormDelete","v4","RoleView_Wrap","RoleView_Permissions","View","RoleView","actions_documents","drawer","snacks","onRoleLink","dispatch","props","title","content","onRoleCreate","async","roles","variables","input","data","createRole","message","_unused","onRoleEdit","id","updateRole","_unused2","onRoleDelete","onCancel","_","deleteRole","_unused3","_mock_","queries","TITLE","store","recall","documents","state","onChangeDate","select","onChangeSelect","visibleFilter","setVisibleFilter","displayMethod","onChangeDisplayMethod","buttonCreateText","onCreate","CREATE_ROLE","onChangeVisibleFilter","item","isOpen","filters","withNavigate","selected","index","header","textAlign","template","DELETE_ROLE","UPDATE_ROLE","overflowX","98EU","exports","__NEXT_P","wha1","supportLinks","socials","contacts","profilePages","categories","path"],"mappings":"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"},"name":"static/chunks/pages/dashboard/roles-c1a8de27f39bcd33eac0.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[24],{\n\n/***/ \"17Xh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Grid/index.js\nvar Grid = __webpack_require__(\"7BXr\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/index.js\nvar Table = __webpack_require__(\"EJJs\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/templates/index.js + 6 modules\nvar templates = __webpack_require__(\"e3uv\");\n\n// EXTERNAL MODULE: ./hooks/useHelper.js\nvar useHelper = __webpack_require__(\"ApjV\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 3 modules\nvar dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Meta/index.js\nvar Meta = __webpack_require__(\"aBfq\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Chip/index.js\nvar Chip = __webpack_require__(\"JyfY\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Icon/index.js + 107 modules\nvar Icon = __webpack_require__(\"feIE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Checkbox/index.js\nvar Checkbox = __webpack_require__(\"79b8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Title/index.js\nvar Title = __webpack_require__(\"7sPp\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Tooltip/index.js\nvar Tooltip = __webpack_require__(\"VWQm\");\n\n// EXTERNAL MODULE: ./utils/functions.js\nvar functions = __webpack_require__(\"ObTy\");\n\n// CONCATENATED MODULE: ./components/RoleCard/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"RoleCard__Wrap\",\n  componentId: \"sc-1nltqyr-0\"\n})([\"grid-gap:var(--default-gap);height:100%;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nconst Header = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"RoleCard__Header\",\n  componentId: \"sc-1nltqyr-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\nconst Name = Object(styled_components_browser_esm[\"c\" /* default */])(Title[\"a\" /* default */]).withConfig({\n  displayName: \"RoleCard__Name\",\n  componentId: \"sc-1nltqyr-2\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && Object(styled_components_browser_esm[\"b\" /* css */])([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nconst Actions = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"RoleCard__Actions\",\n  componentId: \"sc-1nltqyr-3\"\n})([\"grid-gap:5px;\"]);\nconst Permissions = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"RoleCard__Permissions\",\n  componentId: \"sc-1nltqyr-4\"\n})([\"flex-wrap:wrap;grid-gap:10px;\"]);\nconst Card = ({\n  role,\n  style,\n  appearance,\n  className,\n  limitPermissions,\n  onLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  const permissions = role.permissions.slice(0, limitPermissions);\n  const residue = role.permissions.length - limitPermissions;\n  return /*#__PURE__*/react_default.a.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Header, null, /*#__PURE__*/react_default.a.createElement(Meta[\"a\" /* default */], {\n    date: role.createdAt\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/react_default.a.createElement(Actions, null, /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Удалить роль'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Редактировать роль'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Отметить роль',\n    self: true\n  }, /*#__PURE__*/react_default.a.createElement(Checkbox[\"a\" /* default */], null)))), /*#__PURE__*/react_default.a.createElement(Name, {\n    tag: 'h4',\n    onClick: onLink\n  }, Object(functions[\"e\" /* getLabelRole */])(role.name))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n    clear: true\n  }), role && role.permissions.length > 0 ? /*#__PURE__*/react_default.a.createElement(Permissions, null, permissions.map(permission => /*#__PURE__*/react_default.a.createElement(Chip[\"a\" /* default */], {\n    key: permission,\n    color: 'ghost',\n    appearance: 'outlined'\n  }, Object(functions[\"d\" /* getLabelPermission */])(permission))), residue > 0 && /*#__PURE__*/react_default.a.createElement(Chip[\"a\" /* default */], {\n    color: 'ghost',\n    appearance: 'outlined'\n  }, \"+\", residue)) : /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], null, \"\\u041F\\u0440\\u0438\\u0432\\u0435\\u043B\\u0435\\u0433\\u0438\\u0438 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"));\n};\nCard.defaultProps = {\n  appearance: 'default',\n  limitPermissions: 5\n};\n/* harmony default export */ var RoleCard = (Card);\n// EXTERNAL MODULE: ./atomic-ui/components/Input/index.js\nvar Input = __webpack_require__(\"Gliw\");\n\n// EXTERNAL MODULE: ./components/Form/index.js\nvar Form = __webpack_require__(\"qoM+\");\n\n// CONCATENATED MODULE: ./components/FormRole/index.js\n\n\n\n\n\n\n\n\n\n\nconst Role = ({\n  role,\n  permissions,\n  mutation,\n  appearance,\n  className,\n  onSubmit\n}) => {\n  var _role$permissions;\n\n  const [permissionsError, setPermissionsError] = Object(react[\"useState\"])(false);\n  const [selectedPermissions, setSelectedPermissions] = Object(react[\"useState\"])((role === null || role === void 0 ? void 0 : (_role$permissions = role.permissions) === null || _role$permissions === void 0 ? void 0 : _role$permissions.map(permission => ({\n    value: permission,\n    label: Object(functions[\"d\" /* getLabelPermission */])(permission)\n  }))) || null);\n  const [disabled, setDisabled] = Object(react[\"useState\"])(true);\n  return /*#__PURE__*/react_default.a.createElement(Form[\"b\" /* default */], {\n    className: className,\n    appearance: appearance,\n    mutation: mutation,\n    onSubmit: (form, action) => {\n      if ((selectedPermissions === null || selectedPermissions === void 0 ? void 0 : selectedPermissions.length) > 0) {\n        onSubmit({ ...form,\n          permissions: selectedPermissions\n        }, action);\n      } else {\n        setPermissionsError(true);\n      }\n    }\n  }, ({\n    register,\n    loading,\n    errors,\n    getValues\n  }) => /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(Title[\"a\" /* default */], {\n    tag: 'h4'\n  }, \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0435\"), errors && errors.name && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%'\n    },\n    appearance: 'error'\n  }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0440\\u043E\\u043B\\u0438 \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u043B\\u0430\\u0442\\u0438\\u043D\\u0441\\u043A\\u0438\\u0435 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u044B\"), /*#__PURE__*/react_default.a.createElement(Input[\"a\" /* default */], {\n    type: 'text',\n    name: 'name',\n    ref: register({\n      required: true,\n      pattern: /[A-Za-z]/\n    }),\n    onChange: e => {\n      if (e.target.value === (role === null || role === void 0 ? void 0 : role.name)) {\n        setDisabled(true);\n      } else {\n        setDisabled(false);\n      }\n    },\n    defaultValue: (role === null || role === void 0 ? void 0 : role.name) || getValues('name'),\n    placeholder: 'Название',\n    appearance: 'ghost',\n    disabled: loading\n  }), permissionsError && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%'\n    },\n    appearance: 'error'\n  }, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0440\\u0438\\u0432\\u0438\\u043B\\u0435\\u0433\\u0438\\u0439 \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0445\\u043E\\u0442\\u044F \\u0431\\u044B \\u043E\\u0434\\u0438\\u043D \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\"), /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n    name: 'permissions',\n    appearance: 'ghost',\n    defaultValue: selectedPermissions,\n    onChange: value => {\n      var _role$permissions2;\n\n      setSelectedPermissions(value);\n      setPermissionsError(false);\n\n      if (value.value.length === (role === null || role === void 0 ? void 0 : (_role$permissions2 = role.permissions) === null || _role$permissions2 === void 0 ? void 0 : _role$permissions2.length)) {\n        setDisabled(true);\n      } else {\n        setDisabled(false);\n      }\n    },\n    placeholder: 'Выберите привелегии',\n    options: Object(functions[\"a\" /* createSelectOptions */])(permissions).map(option => ({ ...option,\n      label: Object(functions[\"d\" /* getLabelPermission */])(option.label)\n    })),\n    isLoading: loading,\n    isClearable: true,\n    isMulti: true\n  })), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    style: {\n      flexGrow: 1\n    },\n    type: 'submit',\n    disabled: disabled || loading\n  }, !role && 'Создать', role && 'Сохранить'))));\n};\n/* harmony default export */ var FormRole = (Role);\n// EXTERNAL MODULE: ./components/FormDelete/index.js\nvar FormDelete = __webpack_require__(\"xAqQ\");\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(\"7Cbv\");\n\n// CONCATENATED MODULE: ./components/RoleView/index.js\n\n\n\n\n\n\n\n\n\n\n\nconst RoleView_Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"RoleView__Wrap\",\n  componentId: \"sc-3s69fr-0\"\n})([\"grid-gap:var(--default-gap);height:max-content;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nconst RoleView_Permissions = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"RoleView__Permissions\",\n  componentId: \"sc-3s69fr-1\"\n})([\"flex-wrap:wrap;grid-gap:10px;\"]);\nconst View = ({\n  role,\n  appearance,\n  className,\n  style\n}) => /*#__PURE__*/react_default.a.createElement(RoleView_Wrap, {\n  className: className,\n  style: style,\n  appearance: appearance\n}, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], {\n  style: {\n    gridGap: 0\n  }\n}, /*#__PURE__*/react_default.a.createElement(Meta[\"a\" /* default */], {\n  date: role.createdAt\n}), /*#__PURE__*/react_default.a.createElement(Title[\"a\" /* default */], {\n  tag: 'h4'\n}, Object(functions[\"e\" /* getLabelRole */])(role.name))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n  clear: true\n}), role && role.permissions.length > 0 ? /*#__PURE__*/react_default.a.createElement(RoleView_Permissions, null, role.permissions.map(permission => /*#__PURE__*/react_default.a.createElement(Chip[\"a\" /* default */], {\n  key: Object(v4[\"a\" /* default */])(),\n  color: 'ghost',\n  appearance: 'outlined'\n}, Object(functions[\"d\" /* getLabelPermission */])(permission)))) : /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], null, \"\\u041F\\u0440\\u0438\\u0432\\u0435\\u043B\\u0435\\u0433\\u0438\\u0438 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"));\nView.defaultProps = {\n  appearance: 'default'\n};\n/* harmony default export */ var RoleView = (View);\n// EXTERNAL MODULE: ./store/actions/documents.js\nvar actions_documents = __webpack_require__(\"j8/+\");\n\n// EXTERNAL MODULE: ./store/actions/drawer.js\nvar drawer = __webpack_require__(\"Ztxg\");\n\n// EXTERNAL MODULE: ./store/actions/snacks.js\nvar snacks = __webpack_require__(\"9Xo6\");\n\n// CONCATENATED MODULE: ./store/helpers/role.js\n\n\n\n\n\n\n\nfunction onRoleLink(dispatch, props) {\n  const {\n    role\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'lock',\n    title: 'Роль',\n    content: /*#__PURE__*/react_default.a.createElement(RoleView, {\n      role: role,\n      appearance: 'clear'\n    })\n  }));\n}\nfunction onRoleCreate(dispatch, props) {\n  const {\n    permissions,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'lock',\n    title: 'Создание роли',\n    content: /*#__PURE__*/react_default.a.createElement(FormRole, {\n      mutation: mutation,\n      permissions: permissions,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const roles = await action({\n            variables: {\n              input: {\n                name: form.name,\n                permissions: form.permissions.map(permission => permission.value)\n              }\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(roles.data.createRole));\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Роль успешно создана'\n          }));\n        } catch (_unused) {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось создать роль'\n          }));\n        }\n      }\n    })\n  }));\n}\nfunction onRoleEdit(dispatch, props) {\n  const {\n    role,\n    permissions,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'lock',\n    title: 'Редактирование роли',\n    content: /*#__PURE__*/react_default.a.createElement(FormRole, {\n      role: role,\n      mutation: mutation,\n      permissions: permissions,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const roles = await action({\n            variables: {\n              id: role.id,\n              input: {\n                name: form.name,\n                permissions: form.permissions.map(permission => permission.value)\n              }\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(roles.data.updateRole));\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Роль успешно отредактирована'\n          }));\n        } catch (_unused2) {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось отредактировать роль'\n          }));\n        }\n      }\n    })\n  }));\n}\nfunction onRoleDelete(dispatch, props) {\n  const {\n    role,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление роли',\n    content: /*#__PURE__*/react_default.a.createElement(FormDelete[\"a\" /* default */], {\n      mutation: mutation,\n      appearance: 'clear',\n      onCancel: () => dispatch(Object(drawer[\"a\" /* setDrawer */])(null)),\n      onSubmit: async (_, action) => {\n        try {\n          const roles = await action({\n            variables: {\n              id: role.id\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(roles.data.deleteRole));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Роль успешно удалена'\n          }));\n        } catch (_unused3) {\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось удалить роль'\n          }));\n        } finally {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n        }\n      }\n    }, /*#__PURE__*/react_default.a.createElement(RoleView, {\n      role: role,\n      appearance: 'clear'\n    }))\n  }));\n}\n// EXTERNAL MODULE: ./__mock__/index.js\nvar _mock_ = __webpack_require__(\"wha1\");\n\n// EXTERNAL MODULE: ./graphql/queries/index.js + 14 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// CONCATENATED MODULE: ./pages/dashboard/roles.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Роли';\n\nconst Roles = ({\n  store,\n  permissions\n}) => {\n  const recall = Object(useHelper[\"a\" /* useHelper */])();\n  const documents = Object(es[\"c\" /* useSelector */])(state => state.documents);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const [displayMethod, onChangeDisplayMethod] = Object(react[\"useState\"])('grid');\n  const roles = Object(react[\"useMemo\"])(() => documents || store.roles, [documents, store]);\n  Object(react[\"useEffect\"])(() => {\n    dispatch(Object(actions_documents[\"a\" /* setDocuments */])(null));\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(dashboard[\"a\" /* default */], {\n    title: TITLE\n  }, /*#__PURE__*/react_default.a.createElement(HandleBar[\"a\" /* default */], {\n    icon: 'lock',\n    title: TITLE,\n    buttonCreateText: 'Создать роль',\n    onCreate: recall(onRoleCreate, {\n      permissions,\n      mutation: queries[\"a\" /* default */].CREATE_ROLE\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n      key: 1,\n      options: _mock_[\"a\" /* categories */],\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates[\"a\" /* default */].role.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), roles.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0420\\u043E\\u043B\\u0435\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/react_default.a.createElement(Table[\"b\" /* default */], {\n    data: roles,\n    template: templates[\"a\" /* default */].role,\n    onChecked: () => {},\n    onClick: role => recall(onRoleLink, {\n      id: role.id,\n      role\n    })(),\n    onDelete: role => recall(onRoleDelete, {\n      id: role.id,\n      role,\n      mutation: queries[\"a\" /* default */].DELETE_ROLE\n    })(),\n    onEdit: role => recall(onRoleEdit, {\n      id: role.id,\n      role,\n      permissions,\n      mutation: queries[\"a\" /* default */].UPDATE_ROLE\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/react_default.a.createElement(Grid[\"a\" /* default */], null, roles.map(role => /*#__PURE__*/react_default.a.createElement(RoleCard, {\n    key: role.id,\n    role: role,\n    onChecked: () => {},\n    onLink: recall(onRoleLink, {\n      id: role.id,\n      role\n    }),\n    onDelete: recall(onRoleDelete, {\n      id: role.id,\n      role,\n      mutation: queries[\"a\" /* default */].DELETE_ROLE\n    }),\n    onEdit: recall(onRoleEdit, {\n      id: role.id,\n      role,\n      permissions,\n      mutation: queries[\"a\" /* default */].UPDATE_ROLE\n    })\n  }))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ var dashboard_roles = __webpack_exports__[\"default\"] = (Roles);\n\n/***/ }),\n\n/***/ \"98EU\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/roles\",\n        function () {\n          return __webpack_require__(\"17Xh\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"wha1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return supportLinks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return socials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return contacts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return profilePages; });\n/* unused harmony export notifications */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return categories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return filters; });\nconst supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nconst socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nconst contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nconst profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nconst notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nconst categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nconst filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];\n\n/***/ })\n\n},[[\"98EU\",0,2,1,3,4,5,7]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\RoleCard\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\FormRole\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\RoleView\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\store\\helpers\\role.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\roles.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Froles&absolutePagePath=private-next-pages%2Fdashboard%2Froles.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\__mock__\\index.js"],"names":[],"mappings":"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BAAS;AACX,aAAa,iDAAY;AACzB,GAAG;AACH,sBAAsB,eAAK,eAAe,4BAAe;AACzD;AACA,GAAG,eAAe,eAAK,eAAe,4BAAS;AAC/C;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL;AACA;AACA,GAAG,gBAAgB,eAAK,eAAe,4BAAS;AAChD;AACA,2BAA2B,eAAK,eAAe,6BAAU;AACzD;AACA;AACA;AACA;AACA;AACA,KAAK,gBAAgB,eAAK,eAAe,yBAAM;AAC/C;AACA,eAAe,4BAAU;AACzB;AACA;AACA;AACA,KAAK;AACL,6CAA6C,4BAAS;AACtD;AACA;AACA,KAAK;AACL,GAAG,sCAAsC,eAAK,eAAe,wBAAK;AAClE;AACA;AACA;AACA;AACA,GAAG,iGAAiG,eAAK,eAAe,wBAAK;AAC7H;AACA,cAAc,4BAAS;AACvB,uBAAuB;AACvB,4BAA4B,UAAU;AACtC;AACA;AACA,KAAK;AACL,6BAA6B,YAAY;AACzC;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,2BAA2B,UAAU;AACrC;AACA;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG,4CAA4C,eAAK,eAAe,uBAAI,uCAAuC,eAAK,eAAe,QAAQ;AAC1I;AACA;AACA,uBAAuB;AACvB,mBAAmB,UAAU;AAC7B;AACA;AACA,KAAK;AACL,qBAAqB,YAAY;AACjC;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,0FAAK,E;;;;;;;;ACnHpB;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAuC;AAChE;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACA;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC,E","file":"x","sourcesContent":["import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Chip from '../../atomic-ui/components/Chip';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Checkbox from '../../atomic-ui/components/Checkbox';\nimport Title from '../../atomic-ui/components/Title';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nimport { getLabelRole, getLabelPermission } from '../../utils/functions';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"RoleCard__Wrap\",\n  componentId: \"sc-1nltqyr-0\"\n})([\"grid-gap:var(--default-gap);height:100%;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nexport const Header = styled(Row).withConfig({\n  displayName: \"RoleCard__Header\",\n  componentId: \"sc-1nltqyr-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\nexport const Name = styled(Title).withConfig({\n  displayName: \"RoleCard__Name\",\n  componentId: \"sc-1nltqyr-2\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && css([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nexport const Actions = styled(Row).withConfig({\n  displayName: \"RoleCard__Actions\",\n  componentId: \"sc-1nltqyr-3\"\n})([\"grid-gap:5px;\"]);\nexport const Permissions = styled(Row).withConfig({\n  displayName: \"RoleCard__Permissions\",\n  componentId: \"sc-1nltqyr-4\"\n})([\"flex-wrap:wrap;grid-gap:10px;\"]);\nexport const Card = ({\n  role,\n  style,\n  appearance,\n  className,\n  limitPermissions,\n  onLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  const permissions = role.permissions.slice(0, limitPermissions);\n  const residue = role.permissions.length - limitPermissions;\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Meta, {\n    date: role.createdAt\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/React.createElement(Actions, null, /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Удалить роль'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Редактировать роль'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Отметить роль',\n    self: true\n  }, /*#__PURE__*/React.createElement(Checkbox, null)))), /*#__PURE__*/React.createElement(Name, {\n    tag: 'h4',\n    onClick: onLink\n  }, getLabelRole(role.name))), /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), role && role.permissions.length > 0 ? /*#__PURE__*/React.createElement(Permissions, null, permissions.map(permission => /*#__PURE__*/React.createElement(Chip, {\n    key: permission,\n    color: 'ghost',\n    appearance: 'outlined'\n  }, getLabelPermission(permission))), residue > 0 && /*#__PURE__*/React.createElement(Chip, {\n    color: 'ghost',\n    appearance: 'outlined'\n  }, \"+\", residue)) : /*#__PURE__*/React.createElement(Alert, null, \"\\u041F\\u0440\\u0438\\u0432\\u0435\\u043B\\u0435\\u0433\\u0438\\u0438 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"));\n};\nCard.defaultProps = {\n  appearance: 'default',\n  limitPermissions: 5\n};\nexport default Card;","import React, { useState } from 'react';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Input from '../../atomic-ui/components/Input';\nimport Button from '../../atomic-ui/components/Button';\nimport Select from '../../atomic-ui/components/Select';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Form from '../Form';\nimport { createSelectOptions, getLabelPermission } from '../../utils/functions';\nexport const Role = ({\n  role,\n  permissions,\n  mutation,\n  appearance,\n  className,\n  onSubmit\n}) => {\n  var _role$permissions;\n\n  const [permissionsError, setPermissionsError] = useState(false);\n  const [selectedPermissions, setSelectedPermissions] = useState((role === null || role === void 0 ? void 0 : (_role$permissions = role.permissions) === null || _role$permissions === void 0 ? void 0 : _role$permissions.map(permission => ({\n    value: permission,\n    label: getLabelPermission(permission)\n  }))) || null);\n  const [disabled, setDisabled] = useState(true);\n  return /*#__PURE__*/React.createElement(Form, {\n    className: className,\n    appearance: appearance,\n    mutation: mutation,\n    onSubmit: (form, action) => {\n      if ((selectedPermissions === null || selectedPermissions === void 0 ? void 0 : selectedPermissions.length) > 0) {\n        onSubmit({ ...form,\n          permissions: selectedPermissions\n        }, action);\n      } else {\n        setPermissionsError(true);\n      }\n    }\n  }, ({\n    register,\n    loading,\n    errors,\n    getValues\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Column, null, /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u043E\\u0435\"), errors && errors.name && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%'\n    },\n    appearance: 'error'\n  }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0440\\u043E\\u043B\\u0438 \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u043B\\u0430\\u0442\\u0438\\u043D\\u0441\\u043A\\u0438\\u0435 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u044B\"), /*#__PURE__*/React.createElement(Input, {\n    type: 'text',\n    name: 'name',\n    ref: register({\n      required: true,\n      pattern: /[A-Za-z]/\n    }),\n    onChange: e => {\n      if (e.target.value === (role === null || role === void 0 ? void 0 : role.name)) {\n        setDisabled(true);\n      } else {\n        setDisabled(false);\n      }\n    },\n    defaultValue: (role === null || role === void 0 ? void 0 : role.name) || getValues('name'),\n    placeholder: 'Название',\n    appearance: 'ghost',\n    disabled: loading\n  }), permissionsError && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%'\n    },\n    appearance: 'error'\n  }, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0440\\u0438\\u0432\\u0438\\u043B\\u0435\\u0433\\u0438\\u0439 \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0445\\u043E\\u0442\\u044F \\u0431\\u044B \\u043E\\u0434\\u0438\\u043D \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\"), /*#__PURE__*/React.createElement(Select, {\n    name: 'permissions',\n    appearance: 'ghost',\n    defaultValue: selectedPermissions,\n    onChange: value => {\n      var _role$permissions2;\n\n      setSelectedPermissions(value);\n      setPermissionsError(false);\n\n      if (value.value.length === (role === null || role === void 0 ? void 0 : (_role$permissions2 = role.permissions) === null || _role$permissions2 === void 0 ? void 0 : _role$permissions2.length)) {\n        setDisabled(true);\n      } else {\n        setDisabled(false);\n      }\n    },\n    placeholder: 'Выберите привелегии',\n    options: createSelectOptions(permissions).map(option => ({ ...option,\n      label: getLabelPermission(option.label)\n    })),\n    isLoading: loading,\n    isClearable: true,\n    isMulti: true\n  })), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      flexGrow: 1\n    },\n    type: 'submit',\n    disabled: disabled || loading\n  }, !role && 'Создать', role && 'Сохранить'))));\n};\nexport default Role;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Chip from '../../atomic-ui/components/Chip';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Title from '../../atomic-ui/components/Title';\nimport { getLabelRole, getLabelPermission } from '../../utils/functions';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"RoleView__Wrap\",\n  componentId: \"sc-3s69fr-0\"\n})([\"grid-gap:var(--default-gap);height:max-content;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nexport const Permissions = styled(Row).withConfig({\n  displayName: \"RoleView__Permissions\",\n  componentId: \"sc-3s69fr-1\"\n})([\"flex-wrap:wrap;grid-gap:10px;\"]);\nexport const View = ({\n  role,\n  appearance,\n  className,\n  style\n}) => /*#__PURE__*/React.createElement(Wrap, {\n  className: className,\n  style: style,\n  appearance: appearance\n}, /*#__PURE__*/React.createElement(Column, {\n  style: {\n    gridGap: 0\n  }\n}, /*#__PURE__*/React.createElement(Meta, {\n  date: role.createdAt\n}), /*#__PURE__*/React.createElement(Title, {\n  tag: 'h4'\n}, getLabelRole(role.name))), /*#__PURE__*/React.createElement(Divider, {\n  clear: true\n}), role && role.permissions.length > 0 ? /*#__PURE__*/React.createElement(Permissions, null, role.permissions.map(permission => /*#__PURE__*/React.createElement(Chip, {\n  key: v4(),\n  color: 'ghost',\n  appearance: 'outlined'\n}, getLabelPermission(permission)))) : /*#__PURE__*/React.createElement(Alert, null, \"\\u041F\\u0440\\u0438\\u0432\\u0435\\u043B\\u0435\\u0433\\u0438\\u0438 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"));\nView.defaultProps = {\n  appearance: 'default'\n};\nexport default View;","import React from 'react';\nimport RoleForm from '../../components/FormRole';\nimport DeleteForm from '../../components/FormDelete';\nimport RoleView from '../../components/RoleView';\nimport { setDocuments } from '../actions/documents';\nimport { setDrawer } from '../actions/drawer';\nimport { setItem } from '../actions/snacks';\nexport function onRoleLink(dispatch, props) {\n  const {\n    role\n  } = props;\n  dispatch(setDrawer({\n    icon: 'lock',\n    title: 'Роль',\n    content: /*#__PURE__*/React.createElement(RoleView, {\n      role: role,\n      appearance: 'clear'\n    })\n  }));\n}\nexport function onRoleCreate(dispatch, props) {\n  const {\n    permissions,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'lock',\n    title: 'Создание роли',\n    content: /*#__PURE__*/React.createElement(RoleForm, {\n      mutation: mutation,\n      permissions: permissions,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const roles = await action({\n            variables: {\n              input: {\n                name: form.name,\n                permissions: form.permissions.map(permission => permission.value)\n              }\n            }\n          });\n          dispatch(setDocuments(roles.data.createRole));\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Роль успешно создана'\n          }));\n        } catch (_unused) {\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось создать роль'\n          }));\n        }\n      }\n    })\n  }));\n}\nexport function onRoleEdit(dispatch, props) {\n  const {\n    role,\n    permissions,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'lock',\n    title: 'Редактирование роли',\n    content: /*#__PURE__*/React.createElement(RoleForm, {\n      role: role,\n      mutation: mutation,\n      permissions: permissions,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const roles = await action({\n            variables: {\n              id: role.id,\n              input: {\n                name: form.name,\n                permissions: form.permissions.map(permission => permission.value)\n              }\n            }\n          });\n          dispatch(setDocuments(roles.data.updateRole));\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Роль успешно отредактирована'\n          }));\n        } catch (_unused2) {\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось отредактировать роль'\n          }));\n        }\n      }\n    })\n  }));\n}\nexport function onRoleDelete(dispatch, props) {\n  const {\n    role,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление роли',\n    content: /*#__PURE__*/React.createElement(DeleteForm, {\n      mutation: mutation,\n      appearance: 'clear',\n      onCancel: () => dispatch(setDrawer(null)),\n      onSubmit: async (_, action) => {\n        try {\n          const roles = await action({\n            variables: {\n              id: role.id\n            }\n          });\n          dispatch(setDocuments(roles.data.deleteRole));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Роль успешно удалена'\n          }));\n        } catch (_unused3) {\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось удалить роль'\n          }));\n        } finally {\n          dispatch(setDrawer(null));\n        }\n      }\n    }, /*#__PURE__*/React.createElement(RoleView, {\n      role: role,\n      appearance: 'clear'\n    }))\n  }));\n}","import React, { useState, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Grid from '../../atomic-ui/components/Grid';\nimport Alert from '../../atomic-ui/components/Alert';\nimport DatePicker from '../../atomic-ui/components/DatePicker';\nimport Select from '../../atomic-ui/components/Select';\nimport Table from '../../atomic-ui/components/Table';\nimport templates from '../../atomic-ui/components/Table/templates';\nimport { useHelper } from '../../hooks/useHelper';\nimport DashboardLayout from '../../layouts/dashboard';\nimport HandleBar from '../../components/HandleBar';\nimport FilterBar from '../../components/FilterBar';\nimport RoleCard from '../../components/RoleCard';\nimport { onRoleCreate, onRoleEdit, onRoleDelete, onRoleLink } from '../../store/helpers/role';\nimport { setDocuments } from '../../store/actions/documents';\nimport { categories } from '../../__mock__';\nimport queries from '../../graphql/queries';\nconst TITLE = 'Роли';\n\nconst Roles = ({\n  store,\n  permissions\n}) => {\n  const recall = useHelper();\n  const documents = useSelector(state => state.documents);\n  const dispatch = useDispatch();\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [displayMethod, onChangeDisplayMethod] = useState('grid');\n  const roles = useMemo(() => documents || store.roles, [documents, store]);\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    title: TITLE\n  }, /*#__PURE__*/React.createElement(HandleBar, {\n    icon: 'lock',\n    title: TITLE,\n    buttonCreateText: 'Создать роль',\n    onCreate: recall(onRoleCreate, {\n      permissions,\n      mutation: queries.CREATE_ROLE\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/React.createElement(DatePicker, {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/React.createElement(Select, {\n      key: 1,\n      options: categories,\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates.role.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), roles.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0420\\u043E\\u043B\\u0435\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/React.createElement(Table, {\n    data: roles,\n    template: templates.role,\n    onChecked: () => {},\n    onClick: role => recall(onRoleLink, {\n      id: role.id,\n      role\n    })(),\n    onDelete: role => recall(onRoleDelete, {\n      id: role.id,\n      role,\n      mutation: queries.DELETE_ROLE\n    })(),\n    onEdit: role => recall(onRoleEdit, {\n      id: role.id,\n      role,\n      permissions,\n      mutation: queries.UPDATE_ROLE\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/React.createElement(Grid, null, roles.map(role => /*#__PURE__*/React.createElement(RoleCard, {\n    key: role.id,\n    role: role,\n    onChecked: () => {},\n    onLink: recall(onRoleLink, {\n      id: role.id,\n      role\n    }),\n    onDelete: recall(onRoleDelete, {\n      id: role.id,\n      role,\n      mutation: queries.DELETE_ROLE\n    }),\n    onEdit: recall(onRoleEdit, {\n      id: role.id,\n      role,\n      permissions,\n      mutation: queries.UPDATE_ROLE\n    })\n  }))));\n};\n\nexport var __N_SSP = true;\nexport default Roles;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/roles\",\n        function () {\n          return require(\"private-next-pages/dashboard/roles.js\");\n        }\n      ]);\n    ","export const supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nexport const socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nexport const contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nexport const profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nexport const notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nexport const categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nexport const filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];"]}}