{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{\"20ex\":function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),r=a(\"VX74\"),o=a(\"/MKj\"),i=a(\"ZwIX\"),c=a(\"auMy\"),s=a(\"586Q\"),u=a(\"VP1n\"),d=a(\"TsNn\"),m=a(\"ApjV\"),E=a(\"+EEm\"),b=a(\"rP4V\"),p=a(\"u2Cb\");t.a=({variables:e,initialList:t})=>{const a=Object(m.b)(),h=Object(o.c)((e=>e.user)),[f,v]=Object(n.useState)(t||[]),{data:C,loading:S,error:_}=t?{data:null,loading:!1,error:!1}:Object(r.useQuery)(p.a.GET_USERS,{variables:e});return Object(n.useEffect)((()=>{!S&&C&&v(C.getUsers)}),[C,S]),Object(n.useEffect)((()=>{(null===t||void 0===t?void 0:t.length)>0&&v(t)}),[t]),!S&&C||f.length>0?f.map((e=>{var t;const n=e.name===(null===h||void 0===h?void 0:h.name);return l.a.createElement(u.a,{key:e.email},l.a.createElement(d.a,{user:e,owned:n,onChat:h.email&&a(E.a,{sender:null===h||void 0===h?void 0:h.email,recipient:e.email,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}}),onLink:a(b.i,{id:e.email,auth:null===h||void 0===h?void 0:h.email,owned:n,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}}),onAboutMore:a(b.a,{user:e}),onMembers:a(b.j,{id:null===e||void 0===e?void 0:e.email,auth:null===h||void 0===h?void 0:h.email}),onCompanyLink:a(b.i,{id:null===(t=e.company)||void 0===t?void 0:t.email,auth:null===h||void 0===h?void 0:h.email,queries:{userChats:p.a.GET_USER_CHATS,chat:p.a.GET_CHAT},mutations:{addUserChat:p.a.ADD_USER_CHAT,sendMessage:p.a.SEND_MESSAGE}})}))})):_?l.a.createElement(i.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"):S?l.a.createElement(s.c,null,l.a.createElement(c.a,null)):l.a.createElement(i.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u043e\\u0432 \\u043d\\u0435\\u0442\")}},Aoc7:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return s}));var n=a(\"q1tI\"),l=a.n(n),r=a(\"QX5T\"),o=a(\"586Q\"),i=a(\"20ex\"),c=a(\"u2Cb\");var s=!0;t.default=({store:e})=>l.a.createElement(r.a,{title:\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u044b\",filters:[{type:\"DATEPICKER\",placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0430\\u0440\\u0446\\u0438\\u0438\"},{type:\"SELECT\",placeholder:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",options:null===e||void 0===e?void 0:e.companies.map((e=>({value:e.email,label:e.name})))}],options:[{label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",value:\"company\"},{label:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438\",value:\"members\"},{label:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0430\\u0440\\u0446\\u0438\\u0438\",value:\"createdAt\"}],query:c.a.GET_USERS,store:{documents:null===e||void 0===e?void 0:e.users}},(({documents:e})=>l.a.createElement(o.b,null,l.a.createElement(i.a,{initialList:e}))))},EYtC:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),r=a(\"vOnD\"),o=a(\"nShV\"),i=a(\"ZeZO\"),c=a(\"feIE\"),s=a(\"t7jn\"),u=a(\"coMr\");const d=Object(r.d)(o.b).withConfig({displayName:\"SearchBar__Wrap\",componentId:\"sc-1ruwjhl-0\"})([\"width:100%;\"]),m=Object(r.d)(s.a).withConfig({displayName:\"SearchBar__WrapSearchField\",componentId:\"sc-1ruwjhl-1\"})([\"flex-grow:100;\"]),E=Object(r.d)(i.a).withConfig({displayName:\"SearchBar__WrapButton\",componentId:\"sc-1ruwjhl-2\"})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\",\"\"],(({visibleFilter:e})=>e&&Object(r.c)([\"background:var(--default-color-accent);\"])));t.a=({appearance:e,buttonCreateText:t,defaultValue:a,onCreate:r,onChangeFilter:o,onSubmit:i})=>{const[s,b]=Object(n.useState)(!1);return l.a.createElement(d,null,l.a.createElement(m,{appearance:e,placeholder:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",defaultValue:a,onSubmit:i}),l.a.createElement(E,{type:\"button\",kind:\"icon\",onClick:()=>{b(!s),o&&o(!s)},visibleFilter:s},l.a.createElement(c.a,{icon:\"filter2\",stroke:s?\"white\":\"var(--default-color-accent)\"})),r&&l.a.createElement(u.a,{type:\"button\",onClick:r},l.a.createElement(\"span\",null,t),l.a.createElement(c.a,{type:\"button\",icon:\"add\",stroke:\"white\"})))}},QX5T:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),r=a(\"20a2\"),o=a(\"vOnD\"),i=a(\"VX74\"),c=a(\"RotF\"),s=a.n(c),u=a(\"7Cbv\"),d=a(\"8CDE\"),m=a(\"wZgm\"),E=a(\"auMy\"),b=a(\"QclZ\"),p=a(\"X+Rt\"),h=a(\"p9yE\"),f=a(\"RoTl\"),v=a(\"EYtC\"),C=a(\"coMr\"),S=a(\"586Q\"),_=a(\"/MKj\");const j=Object(o.d)(d.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(o.c)([\"margin:0;\"])));t.a=({title:e,store:t,query:a,handle:o,filters:c,options:d,scaffold:g,dashboard:y,variables:O={},limit:w=6,startOffset:T=6,initialize:A,children:M})=>{const k=Object(r.useRouter)(),D=Object(_.c)((e=>e.root.search)),N=y?h.a:p.a,[I,R]=Object(n.useState)(),[x,U]=Object(n.useState)(),[G,q]=Object(n.useState)(null),[V,H]=Object(n.useState)(!1),[Q,L]=Object(n.useState)(T+1),[X,F]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[P,Z]=Object(n.useState)(!1),K=Object(n.useMemo)((()=>{var e;return Number(null===(e=k.query)||void 0===e?void 0:e.page)||1}),[k]),[B,{data:W,loading:z,refetch:J}]=Object(i.useLazyQuery)(a),[Y,{data:$,loading:ee,refetch:te}]=Object(i.useLazyQuery)(a),ae=e=>{if(F([]),e)q(e),B({variables:{...O,search:e,offset:0,limit:T*K}});else{const e={...O,offset:0,limit:w};q(null),te?te(e):Y({variables:e})}L(0)};return Object(n.useEffect)((()=>{A&&Y({variables:{offset:Q,limit:w}})}),[A]),Object(n.useEffect)((()=>{D&&ae(D)}),[D]),Object(n.useEffect)((()=>{const e=!G&&!ee&&$||G&&!z&&W;if(e){const t=e[Object.keys(e)[0]];t.length>0&&F((e=>[...e,...t])),0===t.length&&Z(!0)}}),[G,ee,z,$,W,Z]),l.a.createElement(N,{title:e,scaffold:g},l.a.createElement(j,{clear:g||y},!g&&!y&&l.a.createElement(v.a,{defaultValue:D||G,onChangeFilter:()=>H(!V),onSubmit:ae}),y&&o&&l.a.createElement(C.b,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>H(!V),onChangeDisplayMethod:o.onChangeDisplayMethod}),(c||d)&&l.a.createElement(f.a,{isOpen:V,filters:c.map((e=>{switch(e.type){case\"DATEPICKER\":return l.a.createElement(m.a,{key:Object(u.a)(),value:I,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:R,withNavigate:!0});case\"SELECT\":return l.a.createElement(b.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:x,onChange:e=>U(e)});default:return null}})),options:d}),G?\"function\"===typeof M?l.a.createElement(M,{documents:X}):M:l.a.createElement(s.a,{pageStart:K||0,loadMore:async e=>{const t={...O,offset:Q,limit:w};G&&J?await J(O):te?(await te(t),L(w*e+T+1)):await Y({variables:t})},hasMore:!P,loader:l.a.createElement(S.d,{key:\"loader\"},l.a.createElement(E.a,null))},\"function\"===typeof M?l.a.createElement(M,{documents:X}):M)))}},ZtKI:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/creators\",function(){return a(\"Aoc7\")}])}},[[\"ZtKI\",0,2,1,3,4,5,6,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/creators-2f4bce7183682dc63c66.js"],"names":["_N_E","window","push","20ex","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__","_Styled__WEBPACK_IMPORTED_MODULE_5__","_LazyLoad__WEBPACK_IMPORTED_MODULE_6__","_UserCard__WEBPACK_IMPORTED_MODULE_7__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__","_store_helpers__WEBPACK_IMPORTED_MODULE_9__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__","_graphql_queries__WEBPACK_IMPORTED_MODULE_11__","variables","initialList","recall","Object","user","state","users","setUsers","data","loading","error","GET_USERS","getUsers","length","map","author","_author$company","owned","name","a","createElement","key","email","onChat","sender","recipient","queries","userChats","GET_USER_CHATS","chat","GET_CHAT","mutations","addUserChat","ADD_USER_CHAT","sendMessage","SEND_MESSAGE","onLink","id","auth","onAboutMore","onMembers","onCompanyLink","company","appearance","style","width","textAlign","Aoc7","r","d","__N_SSP","_layouts_content__WEBPACK_IMPORTED_MODULE_1__","_components_Styled__WEBPACK_IMPORTED_MODULE_2__","_components_UserList__WEBPACK_IMPORTED_MODULE_3__","_graphql_queries__WEBPACK_IMPORTED_MODULE_4__","store","title","filters","type","placeholder","options","companies","value","label","query","documents","EYtC","styled_components__WEBPACK_IMPORTED_MODULE_1__","_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__","_HandleBar__WEBPACK_IMPORTED_MODULE_6__","Wrap","withConfig","displayName","componentId","WrapSearchField","WrapButton","visibleFilter","buttonCreateText","defaultValue","onCreate","onChangeFilter","onSubmit","setVisibleFilter","kind","onClick","icon","stroke","QX5T","next_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default","uuid__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__","_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__","_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__","_layouts_default__WEBPACK_IMPORTED_MODULE_10__","_dashboard__WEBPACK_IMPORTED_MODULE_11__","_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__","_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__","_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__","_components_Styled__WEBPACK_IMPORTED_MODULE_15__","react_redux__WEBPACK_IMPORTED_MODULE_16__","clear","handle","scaffold","dashboard","limit","startOffset","initialize","children","router","research","root","search","Layout","date","onChangeDate","select","onChangeSelect","setSearch","offset","setOffset","setDocuments","isEnd","setIsEnd","pageStart","_router$query","Number","page","loadDocumentsBySearch","dataBySearch","loadingBySearch","refetch","refetchBySearch","loadDocuments","onSearch","result","resultList","list","keys","prev","onChangeVisibleFilter","onChangeDisplayMethod","isOpen","filter","onChange","withNavigate","selected","item","loadMore","async","hasMore","loader","ZtKI","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/creators-2f4bce7183682dc63c66.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[19],{\n\n/***/ \"20ex\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export UserList */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _Styled__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _LazyLoad__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _UserCard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"TsNn\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _store_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"+EEm\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst UserList = ({\n  variables,\n  initialList\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__[/* useHelper */ \"b\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useSelector */ \"c\"])(state => state.user);\n  const [users, setUsers] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(initialList || []);\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_1__[\"useQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USERS, {\n    variables\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && data) {\n      setUsers(data.getUsers);\n    }\n  }, [data, loading]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if ((initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setUsers(initialList);\n  }, [initialList]);\n  return !loading && data || users.length > 0 ? users.map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LazyLoad__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n      key: author.email\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_UserCard__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(_store_helpers__WEBPACK_IMPORTED_MODULE_9__[/* onChat */ \"a\"], {\n        sender: user === null || user === void 0 ? void 0 : user.email,\n        recipient: author.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserLink */ \"i\"], {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserAboutMore */ \"a\"], {\n        user: author\n      }),\n      onMembers: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserMembers */ \"j\"], {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_10__[/* onUserLink */ \"i\"], {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      })\n    }));\n  }) : error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Styled__WEBPACK_IMPORTED_MODULE_5__[/* Loader */ \"c\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\");\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (UserList);\n\n/***/ }),\n\n/***/ \"Aoc7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _components_UserList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20ex\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\nconst TITLE = 'Авторы';\n\nconst Creators = ({\n  store\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n  title: TITLE,\n  filters: [{\n    type: 'DATEPICKER',\n    placeholder: 'Дата регистарции'\n  }, {\n    type: 'SELECT',\n    placeholder: 'Компания',\n    options: store === null || store === void 0 ? void 0 : store.companies.map(company => ({\n      value: company.email,\n      label: company.name\n    }))\n  }],\n  options: [{\n    label: 'Компания',\n    value: 'company'\n  }, {\n    label: 'Участники',\n    value: 'members'\n  }, {\n    label: 'Дата регистарции',\n    value: 'createdAt'\n  }],\n  query: _graphql_queries__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].GET_USERS,\n  store: {\n    documents: store === null || store === void 0 ? void 0 : store.users\n  }\n}, ({\n  documents\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_2__[/* GridAside */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UserList__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n  initialList: documents\n})));\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Creators);\n\n/***/ }),\n\n/***/ \"EYtC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export WrapSearchField */\n/* unused harmony export WrapButton */\n/* unused harmony export Search */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"nShV\");\n/* harmony import */ var _atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZeZO\");\n/* harmony import */ var _atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"feIE\");\n/* harmony import */ var _atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"t7jn\");\n/* harmony import */ var _HandleBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"coMr\");\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"b\"]).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nconst WrapSearchField = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nconst WrapButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* css */ \"c\"])([\"background:var(--default-color-accent);\"]));\nconst Search = ({\n  appearance,\n  buttonCreateText,\n  defaultValue,\n  onCreate,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    defaultValue: defaultValue,\n    onSubmit: onSubmit\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HandleBar__WEBPACK_IMPORTED_MODULE_6__[/* CreateButton */ \"a\"], {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Search);\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"RotF\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"7Cbv\");\n/* harmony import */ var _atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"8CDE\");\n/* harmony import */ var _atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"wZgm\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"QclZ\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"p9yE\");\n/* harmony import */ var _components_FilterBar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"RoTl\");\n/* harmony import */ var _components_SearchBar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"EYtC\");\n/* harmony import */ var _components_HandleBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"586Q\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"/MKj\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const research = Object(react_redux__WEBPACK_IMPORTED_MODULE_16__[/* useSelector */ \"c\"])(state => state.root.search);\n  const Layout = dashboard ? _dashboard__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"] : _layouts_default__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"];\n  const [date, onChangeDate] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [select, onChangeSelect] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [search, setSearch] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const [offset, setOffset] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(startOffset + 1);\n  const [documents, setDocuments] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const pageStart = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n    defaultValue: research || search,\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"b\"], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), search ? typeof children === 'function' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(children, {\n    documents\n  }) : children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_15__[/* LowerLoader */ \"d\"], {\n      key: 'loader'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], null))\n  }, typeof children === 'function' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(children, {\n    documents\n  }) : children)));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"ZtKI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/creators\",\n        function () {\n          return __webpack_require__(\"Aoc7\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"ZtKI\",0,2,1,3,4,5,6,7,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\UserList\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\creators.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SearchBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcreators&absolutePagePath=private-next-pages%2Fcreators.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useSelector } from 'react-redux';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport { Loader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nimport UserCard from '../UserCard';\nimport { useHelper } from '../../hooks/useHelper';\nimport { onChat } from '../../store/helpers';\nimport { onUserAboutMore, onUserLink, onUserMembers } from '../../store/helpers/user';\nimport queries from '../../graphql/queries';\nexport const UserList = ({\n  variables,\n  initialList\n}) => {\n  const recall = useHelper();\n  const user = useSelector(state => state.user);\n  const [users, setUsers] = useState(initialList || []);\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : useQuery(queries.GET_USERS, {\n    variables\n  });\n  useEffect(() => {\n    if (!loading && data) {\n      setUsers(data.getUsers);\n    }\n  }, [data, loading]);\n  useEffect(() => {\n    if ((initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setUsers(initialList);\n  }, [initialList]);\n  return !loading && data || users.length > 0 ? users.map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/React.createElement(LazyLoad, {\n      key: author.email\n    }, /*#__PURE__*/React.createElement(UserCard, {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(onChat, {\n        sender: user === null || user === void 0 ? void 0 : user.email,\n        recipient: author.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onLink: recall(onUserLink, {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onAboutMore: recall(onUserAboutMore, {\n        user: author\n      }),\n      onMembers: recall(onUserMembers, {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      })\n    }));\n  }) : error ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\");\n};\nexport default UserList;","import React from 'react';\nimport ContentLayout from '../layouts/content';\nimport { GridAside as Container } from '../components/Styled';\nimport UserList from '../components/UserList';\nimport queries from '../graphql/queries';\nconst TITLE = 'Авторы';\n\nconst Creators = ({\n  store\n}) => /*#__PURE__*/React.createElement(ContentLayout, {\n  title: TITLE,\n  filters: [{\n    type: 'DATEPICKER',\n    placeholder: 'Дата регистарции'\n  }, {\n    type: 'SELECT',\n    placeholder: 'Компания',\n    options: store === null || store === void 0 ? void 0 : store.companies.map(company => ({\n      value: company.email,\n      label: company.name\n    }))\n  }],\n  options: [{\n    label: 'Компания',\n    value: 'company'\n  }, {\n    label: 'Участники',\n    value: 'members'\n  }, {\n    label: 'Дата регистарции',\n    value: 'createdAt'\n  }],\n  query: queries.GET_USERS,\n  store: {\n    documents: store === null || store === void 0 ? void 0 : store.users\n  }\n}, ({\n  documents\n}) => /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(UserList, {\n  initialList: documents\n})));\n\nexport var __N_SSP = true;\nexport default Creators;","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport SearchField from '../../atomic-ui/components/Search';\nimport { CreateButton } from '../HandleBar';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nexport const WrapSearchField = styled(SearchField).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nexport const WrapButton = styled(Button).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && css([\"background:var(--default-color-accent);\"]));\nexport const Search = ({\n  appearance,\n  buttonCreateText,\n  defaultValue,\n  onCreate,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = useState(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    defaultValue: defaultValue,\n    onSubmit: onSubmit\n  }), /*#__PURE__*/React.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/React.createElement(CreateButton, {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/React.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/React.createElement(Icon, {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\nexport default Search;","import React, { useState, useEffect, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nimport { useSelector } from 'react-redux';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = useRouter();\n  const research = useSelector(state => state.root.search);\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset + 1);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = useState(false);\n  const pageStart = useMemo(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = useLazyQuery(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    defaultValue: research || search,\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), search ? typeof children === 'function' ? React.createElement(children, {\n    documents\n  }) : children : /*#__PURE__*/React.createElement(InfiniteScroll, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/React.createElement(LowerLoader, {\n      key: 'loader'\n    }, /*#__PURE__*/React.createElement(Spinner, null))\n  }, typeof children === 'function' ? React.createElement(children, {\n    documents\n  }) : children)));\n};\n\nexport default ContentLayout;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/creators\",\n        function () {\n          return require(\"private-next-pages/creators.js\");\n        }\n      ]);\n    "]}}