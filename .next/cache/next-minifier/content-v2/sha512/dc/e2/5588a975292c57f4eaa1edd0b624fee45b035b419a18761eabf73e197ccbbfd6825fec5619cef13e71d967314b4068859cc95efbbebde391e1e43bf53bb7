{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{\"07fs\":function(e,t,o){\"use strict\";var n=o(\"q1tI\"),a=o.n(n),r=o(\"vOnD\");const s=r.d.div.withConfig({displayName:\"FadeLoad__Wrap\",componentId:\"sc-1rdnrub-0\"})([\"opacity:0;transition:opacity 100ms ease;\",\"\"],(({isVisible:e})=>e&&Object(r.c)([\"opacity:1;\"])));t.a=({children:e})=>{const[t,o]=Object(n.useState)(!0),r=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>o(e.isIntersecting)))}));return e.observe(r.current),()=>e.unobserve(r.current)}),[]),a.a.createElement(s,{isVisible:t,ref:r},e)}},\"0RHc\":function(e,t,o){\"use strict\";o.r(t),o.d(t,\"__N_SSP\",(function(){return g}));var n=o(\"q1tI\"),a=o.n(n),r=o(\"/MKj\"),s=o(\"7BXr\"),i=o(\"EJJs\"),l=o(\"e3uv\"),c=o(\"ApjV\"),u=o(\"lphG\"),d=o(\"QX5T\"),p=o(\"1zqG\"),h=o(\"VP1n\"),f=o(\"07fs\"),m=o(\"IxyI\"),v=o(\"j8/+\"),b=o(\"NWnW\"),E=o(\"8ihE\"),y=o(\"rP4V\"),O=o(\"u2Cb\");var g=!0;t.default=({store:e})=>{const t=Object(c.b)(),o=Object(u.a)(),{user:g,documents:S}=Object(r.c)((e=>({user:e.user,documents:e.documents}))),w=Object(r.b)(),[j,C]=Object(n.useState)(\"grid\"),L=Object(n.useMemo)((()=>g&&\"ADMIN\"===g.role.name),[g]);return Object(n.useEffect)((()=>{w(Object(v.a)(null))}),[]),a.a.createElement(d.a,{title:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",filters:[{type:\"DATEPICKER\"},{type:\"SELECT\",options:null===e||void 0===e?void 0:e.categories.map((e=>({value:e.id,label:Object(b.e)(e.name)})))}],options:[{label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",value:\"company\"},{label:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438\",value:\"members\"},{label:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",value:\"createdAt\"}],handle:{icon:\"work\",buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\",onCreate:t(m.b,{companies:e.companies,categories:e.categories,statuses:e.statuses,canEditStatus:L,mutation:O.a.CREATE_PROJECT,query:O.a.GET_USERS}),onChangeDisplayMethod:e=>C(e.value)},limit:12,startOffset:12,bottomScrollOffset:0,query:O.a.GET_PROJECTS,variables:{status:\"PUBLISHED\"},store:{documents:S||e.projects},dashboard:!0},(({documents:n})=>\"list\"===j?a.a.createElement(i.b,{data:n,template:l.a.project,onChecked:()=>{},onClick:e=>t(m.e,{id:e.id,auth:g})(),onDelete:e=>t(m.c,{id:e.id,project:e,auth:g,mutation:O.a.DELETE_PROJECT})(),onEdit:n=>t(m.d,{id:n.id,companies:e.companies,categories:e.categories,statuses:e.statuses,canEditStatus:L,mutation:O.a.UPDATE_PROJECT,query:O.a.GET_USERS,onCompanyInputChange:o(O.a.GET_USERS,{account:\"ENTITY\"})})(),style:{overflowX:\"auto\",width:\"calc(100vw - 290px)\"}}):a.a.createElement(s.a,null,n.map((n=>{var r;return a.a.createElement(f.a,{key:n.id},a.a.createElement(h.a,null,a.a.createElement(p.c,{project:n,onChecked:()=>{},onScreenshotClick:(e,o)=>t(m.g,{screenshots:[n.preview,...n.screenshots],key:o})(),onLink:t(m.e,{id:n.id,auth:null===g||void 0===g?void 0:g.email,added:!(null===g||void 0===g||null===(r=g.folders)||void 0===r||!r.find((e=>!(null===e||void 0===e||!e.projects.find((e=>e===n.id)))))),liked:!!(n.rating||[]).find((e=>e.email===(null===g||void 0===g?void 0:g.email))),onLike:g.email&&o(O.a.LIKE_PROJECT,{id:n.id},(e=>w(Object(E.e)(e.data.likeProject)))),onAdd:g.email&&t(m.a,{id:n.id,folders:null===g||void 0===g?void 0:g.folders,mutations:{addProject:O.a.ADD_USER_PROJECT,createFolder:O.a.ADD_USER_FOLDER},callback:e=>{const t={...e,projects:[...e.projects,n.id]};w(Object(E.c)(t))}})}),onAboutMore:t(y.a,{user:n}),onDelete:t(m.c,{id:n.id,project:n,auth:g,mutation:O.a.DELETE_PROJECT}),onEdit:t(m.d,{id:n.id,companies:e.companies,categories:e.categories,statuses:e.statuses,canEditStatus:L,mutation:O.a.UPDATE_PROJECT,query:O.a.GET_USERS,onCompanyInputChange:o(O.a.GET_USERS,{account:\"ENTITY\"})}),withSocials:!0,preview:!0})))})))))}},EYtC:function(e,t,o){\"use strict\";var n=o(\"q1tI\"),a=o.n(n),r=o(\"vOnD\"),s=o(\"nShV\"),i=o(\"ZeZO\"),l=o(\"feIE\"),c=o(\"t7jn\");const u=Object(r.d)(s.b).withConfig({displayName:\"SearchBar__Wrap\",componentId:\"sc-1ruwjhl-0\"})([\"width:100%;\"]),d=Object(r.d)(c.a).withConfig({displayName:\"SearchBar__WrapSearchField\",componentId:\"sc-1ruwjhl-1\"})([\"flex-grow:100;\"]),p=Object(r.d)(i.a).withConfig({displayName:\"SearchBar__WrapButton\",componentId:\"sc-1ruwjhl-2\"})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\",\"\"],(({visibleFilter:e})=>e&&Object(r.c)([\"background:var(--default-color-accent);\"])));t.a=({appearance:e,onChangeFilter:t,onSubmit:o})=>{const[r,s]=Object(n.useState)(!1);return a.a.createElement(u,null,a.a.createElement(d,{appearance:e,placeholder:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",onSubmit:o}),a.a.createElement(p,{type:\"button\",kind:\"icon\",onClick:()=>{s(!r),t&&t(!r)},visibleFilter:r},a.a.createElement(l.a,{icon:\"filter2\",stroke:r?\"white\":\"var(--default-color-accent)\"})))}},LSTS:function(e,t,o){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(\"q1tI\"),r=i(a),s=i(o(\"17x9\"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==typeof t&&\"function\"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.scrollListener=o.scrollListener.bind(o),o.eventListenerOptions=o.eventListenerOptions.bind(o),o.mousewheelListener=o.mousewheelListener.bind(o),o}return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:\"componentDidMount\",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:\"componentDidUpdate\",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:\"componentWillUnmount\",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:\"isPassiveSupported\",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener(\"test\",null,t),document.removeEventListener(\"test\",null,t)}catch(o){}return e}},{key:\"eventListenerOptions\",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:\"setDefaultLoader\",value:function(e){this.defaultLoader=e}},{key:\"detachMousewheelListener\",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener(\"mousewheel\",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:\"detachScrollListener\",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener(\"scroll\",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener(\"resize\",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:\"getParentElement\",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:\"filterProps\",value:function(e){return e}},{key:\"attachScrollListener\",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener(\"mousewheel\",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener(\"scroll\",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener(\"resize\",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:\"mousewheelListener\",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:\"scrollListener\",value:function(){var e=this.scrollComponent,t=window,o=this.getParentElement(e),n=void 0;if(this.props.useWindow){var a=document.documentElement||document.body.parentNode||document.body,r=void 0!==t.pageYOffset?t.pageYOffset:a.scrollTop;n=this.props.isReverse?r:this.calculateOffset(e,r)}else n=this.props.isReverse?o.scrollTop:e.scrollHeight-o.scrollTop-o.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=o.scrollHeight,this.beforeScrollTop=o.scrollTop,\"function\"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:\"calculateOffset\",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:\"calculateTopPosition\",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:\"render\",value:function(){var e=this,t=this.filterProps(this.props),o=t.children,n=t.element,a=t.hasMore,s=(t.initialLoad,t.isReverse),i=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(t,[\"children\",\"element\",\"hasMore\",\"initialLoad\",\"isReverse\",\"loader\",\"loadMore\",\"pageStart\",\"ref\",\"threshold\",\"useCapture\",\"useWindow\",\"getScrollParent\"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[o];return a&&(i?s?u.unshift(i):u.push(i):this.defaultLoader&&(s?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),r.default.createElement(n,c,u)}}]),t}(a.Component);l.propTypes={children:s.default.node.isRequired,element:s.default.node,hasMore:s.default.bool,initialLoad:s.default.bool,isReverse:s.default.bool,loader:s.default.node,loadMore:s.default.func.isRequired,pageStart:s.default.number,ref:s.default.func,getScrollParent:s.default.func,threshold:s.default.number,useCapture:s.default.bool,useWindow:s.default.bool},l.defaultProps={element:\"div\",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},QX5T:function(e,t,o){\"use strict\";var n=o(\"q1tI\"),a=o.n(n),r=o(\"20a2\"),s=o(\"vOnD\"),i=o(\"VX74\"),l=o(\"RotF\"),c=o.n(l),u=o(\"7Cbv\"),d=o(\"8CDE\"),p=o(\"wZgm\"),h=o(\"auMy\"),f=o(\"QclZ\"),m=o(\"X+Rt\"),v=o(\"p9yE\"),b=o(\"RoTl\"),E=o(\"EYtC\"),y=o(\"coMr\"),O=o(\"586Q\"),g=o(\"/MKj\");const S=Object(s.d)(d.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(s.c)([\"margin:0;\"])));t.a=({title:e,store:t,query:o,handle:s,filters:l,options:d,scaffold:w,dashboard:j,variables:C={},limit:L=6,startOffset:_=6,initialize:T,children:P})=>{const k=Object(r.useRouter)(),R=Object(g.c)((e=>e.root.search)),M=j?v.a:m.a,[D,I]=Object(n.useState)(),[N,W]=Object(n.useState)(),[x,q]=Object(n.useState)(null),[A,J]=Object(n.useState)(!1),[U,F]=Object(n.useState)(_+1),[H,G]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[V,X]=Object(n.useState)(!1),Y=Object(n.useMemo)((()=>{var e;return Number(null===(e=k.query)||void 0===e?void 0:e.page)||1}),[k]),[z,{data:B,loading:Q,refetch:K}]=Object(i.useLazyQuery)(o),[Z,{data:$,loading:ee,refetch:te}]=Object(i.useLazyQuery)(o),oe=e=>{if(G([]),e)q(e),z({variables:{...C,search:e,offset:0,limit:_*Y}});else{const e={...C,offset:0,limit:L};q(null),te?te(e):Z({variables:e})}F(0)};return Object(n.useEffect)((()=>{T&&Z({variables:{offset:U,limit:L}})}),[T]),Object(n.useEffect)((()=>{R&&oe(R)}),[R]),Object(n.useEffect)((()=>{const e=!x&&!ee&&$||x&&!Q&&B;if(e){const t=e[Object.keys(e)[0]];t.length>0&&G((e=>[...e,...t])),0===t.length&&X(!0)}}),[x,ee,Q,$,B,X]),a.a.createElement(M,{title:e,scaffold:w},a.a.createElement(S,{clear:w||j},!w&&!j&&a.a.createElement(E.a,{onChangeFilter:()=>J(!A),onSubmit:oe}),j&&s&&a.a.createElement(y.a,{title:e,icon:s.icon,buttonCreateText:s.buttonCreateText,onCreate:s.onCreate,onChangeVisibleFilter:()=>J(!A),onChangeDisplayMethod:s.onChangeDisplayMethod}),(l||d)&&a.a.createElement(b.a,{isOpen:A,filters:l.map((e=>{switch(e.type){case\"DATEPICKER\":return a.a.createElement(p.a,{key:Object(u.a)(),value:D,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:I,withNavigate:!0});case\"SELECT\":return a.a.createElement(f.a,{key:Object(u.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:N,onChange:e=>W(e)});default:return null}})),options:d}),a.a.createElement(c.a,{pageStart:Y||0,loadMore:async e=>{const t={...C,offset:U,limit:L};x&&K?await K(C):te?(await te(t),F(L*e+_+1)):await Z({variables:t})},hasMore:!V,loader:a.a.createElement(O.d,{key:\"loader\"},a.a.createElement(h.a,null))},\"function\"===typeof P?a.a.createElement(P,{documents:H}):P)))}},RotF:function(e,t,o){e.exports=o(\"LSTS\")},e0St:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/projects\",function(){return o(\"0RHc\")}])}},[[\"e0St\",0,2,1,3,4,5,6,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/projects-d9655089a74e98679c81.js"],"names":["_N_E","window","push","07fs","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","Wrap","div","withConfig","displayName","componentId","isVisible","Object","children","setVisible","domRef","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","current","unobserve","a","createElement","ref","0RHc","r","d","__N_SSP","react_redux__WEBPACK_IMPORTED_MODULE_1__","_atomic_ui_components_Grid__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Table__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_4__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__","_layouts_content__WEBPACK_IMPORTED_MODULE_7__","_components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__","_components_LazyLoad__WEBPACK_IMPORTED_MODULE_9__","_components_FadeLoad__WEBPACK_IMPORTED_MODULE_10__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__","_store_actions_documents__WEBPACK_IMPORTED_MODULE_12__","_atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_13__","_store_actions_user__WEBPACK_IMPORTED_MODULE_14__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__","_graphql_queries__WEBPACK_IMPORTED_MODULE_16__","store","recall","mutate","user","documents","state","dispatch","displayMethod","onChangeDisplayMethod","canEditStatus","role","name","title","filters","type","options","categories","map","category","value","id","label","handle","icon","buttonCreateText","onCreate","companies","statuses","mutation","CREATE_PROJECT","query","GET_USERS","item","limit","startOffset","bottomScrollOffset","GET_PROJECTS","variables","status","projects","dashboard","data","template","project","onChecked","onClick","auth","onDelete","DELETE_PROJECT","onEdit","UPDATE_PROJECT","onCompanyInputChange","account","style","overflowX","width","_user$folders","key","onScreenshotClick","_","screenshots","preview","onLink","email","added","folders","find","folder","liked","rating","onLike","LIKE_PROJECT","response","likeProject","onAdd","mutations","addProject","ADD_USER_PROJECT","createFolder","ADD_USER_FOLDER","callback","result","onAboutMore","withSocials","EYtC","_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__","WrapSearchField","WrapButton","visibleFilter","appearance","onChangeFilter","onSubmit","setVisibleFilter","placeholder","kind","stroke","LSTS","exports","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","pageLoaded","pageStart","attachScrollListener","isReverse","loadMore","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","useWindow","parentNode","el","scrollParent","getScrollParent","hasMore","initialLoad","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","element","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","Component","propTypes","isRequired","bool","func","number","defaultProps","QX5T","next_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default","uuid__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__","_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__","_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__","_layouts_default__WEBPACK_IMPORTED_MODULE_10__","_dashboard__WEBPACK_IMPORTED_MODULE_11__","_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__","_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__","_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__","_components_Styled__WEBPACK_IMPORTED_MODULE_15__","react_redux__WEBPACK_IMPORTED_MODULE_16__","clear","scaffold","initialize","router","research","root","search","Layout","date","onChangeDate","select","onChangeSelect","setSearch","setOffset","setDocuments","isEnd","setIsEnd","_router$query","page","loadDocumentsBySearch","dataBySearch","loading","loadingBySearch","refetch","refetchBySearch","loadDocuments","onSearch","resultList","list","prev","onChangeVisibleFilter","isOpen","filter","onChange","withNavigate","selected","async","RotF","e0St","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/dashboard/projects-d9655089a74e98679c81.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[24],{\n\n/***/ \"07fs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export FadeLoad */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n\n\nconst Wrap = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"].div.withConfig({\n  displayName: \"FadeLoad__Wrap\",\n  componentId: \"sc-1rdnrub-0\"\n})([\"opacity:0;transition:opacity 100ms ease;\", \"\"], ({\n  isVisible\n}) => isVisible && Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* css */ \"c\"])([\"opacity:1;\"]));\nconst FadeLoad = ({\n  children\n}) => {\n  const [isVisible, setVisible] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(true);\n  const domRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])();\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => setVisible(entry.isIntersecting));\n    });\n    observer.observe(domRef.current);\n    return () => observer.unobserve(domRef.current);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    isVisible: isVisible,\n    ref: domRef\n  }, children);\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (FadeLoad);\n\n/***/ }),\n\n/***/ \"0RHc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7BXr\");\n/* harmony import */ var _atomic_ui_components_Table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"EJJs\");\n/* harmony import */ var _atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"e3uv\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _components_LazyLoad__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _components_FadeLoad__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"07fs\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _store_actions_documents__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"j8/+\");\n/* harmony import */ var _atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"NWnW\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Проекты';\nconst START_OFFSET = 12;\nconst LIMIT = 12;\n\nconst Projects = ({\n  store\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__[/* useMutate */ \"a\"])();\n  const {\n    user,\n    documents\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    documents: state.documents\n  }));\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useDispatch */ \"b\"])();\n  const [displayMethod, onChangeDisplayMethod] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])('grid');\n  const canEditStatus = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => user && user.role.name === 'ADMIN', [user]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    dispatch(Object(_store_actions_documents__WEBPACK_IMPORTED_MODULE_12__[/* setDocuments */ \"a\"])(null));\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER'\n    }, {\n      type: 'SELECT',\n      options: store === null || store === void 0 ? void 0 : store.categories.map(category => ({\n        value: category.id,\n        label: Object(_atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_13__[/* getLabelCategory */ \"e\"])(category.name)\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата публикации',\n      value: 'createdAt'\n    }],\n    handle: {\n      icon: 'work',\n      buttonCreateText: 'Создать проект',\n      onCreate: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectCreate */ \"b\"], {\n        companies: store.companies,\n        categories: store.categories,\n        statuses: store.statuses,\n        canEditStatus,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].CREATE_PROJECT,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USERS\n      }),\n      onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n    },\n    limit: LIMIT,\n    startOffset: START_OFFSET,\n    bottomScrollOffset: 0,\n    query: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_PROJECTS,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: documents || store.projects\n    },\n    dashboard: true\n  }, ({\n    documents\n  }) => displayMethod === 'list' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Table__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"b\"], {\n    data: documents,\n    template: _atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].project,\n    onChecked: () => {},\n    onClick: project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectLink */ \"e\"], {\n      id: project.id,\n      auth: user\n    })(),\n    onDelete: project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectDelete */ \"c\"], {\n      id: project.id,\n      project,\n      auth: user,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].DELETE_PROJECT\n    })(),\n    onEdit: project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectEdit */ \"d\"], {\n      id: project.id,\n      companies: store.companies,\n      categories: store.categories,\n      statuses: store.statuses,\n      canEditStatus,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].UPDATE_PROJECT,\n      query: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USERS,\n      onCompanyInputChange: mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USERS, {\n        account: 'ENTITY'\n      })\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Grid__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], null, documents.map(project => {\n    var _user$folders;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FadeLoad__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      key: project.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyLoad__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"c\"], {\n      project: project,\n      onChecked: () => {},\n      onScreenshotClick: (_, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectScreenshot */ \"g\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })(),\n      onLink: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === (user === null || user === void 0 ? void 0 : user.email)),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_14__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_14__[/* setUserFolder */ \"c\"])(result));\n          }\n        })\n      }),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserAboutMore */ \"a\"], {\n        user: project\n      }),\n      onDelete: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectDelete */ \"c\"], {\n        id: project.id,\n        project,\n        auth: user,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].DELETE_PROJECT\n      }),\n      onEdit: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_11__[/* onProjectEdit */ \"d\"], {\n        id: project.id,\n        companies: store.companies,\n        categories: store.categories,\n        statuses: store.statuses,\n        canEditStatus,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].UPDATE_PROJECT,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USERS,\n        onCompanyInputChange: mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USERS, {\n          account: 'ENTITY'\n        })\n      }),\n      withSocials: true,\n      preview: true\n    })));\n  })));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Projects);\n\n/***/ }),\n\n/***/ \"EYtC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export WrapSearchField */\n/* unused harmony export WrapButton */\n/* unused harmony export Search */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"nShV\");\n/* harmony import */ var _atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZeZO\");\n/* harmony import */ var _atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"feIE\");\n/* harmony import */ var _atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"t7jn\");\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"b\"]).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nconst WrapSearchField = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nconst WrapButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* css */ \"c\"])([\"background:var(--default-color-accent);\"]));\nconst Search = ({\n  appearance,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    onSubmit: onSubmit\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Search);\n\n/***/ }),\n\n/***/ \"LSTS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(\"q1tI\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(\"17x9\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"RotF\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"7Cbv\");\n/* harmony import */ var _atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"8CDE\");\n/* harmony import */ var _atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"wZgm\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"QclZ\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"p9yE\");\n/* harmony import */ var _components_FilterBar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"RoTl\");\n/* harmony import */ var _components_SearchBar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"EYtC\");\n/* harmony import */ var _components_HandleBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"586Q\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"/MKj\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const research = Object(react_redux__WEBPACK_IMPORTED_MODULE_16__[/* useSelector */ \"c\"])(state => state.root.search);\n  const Layout = dashboard ? _dashboard__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"] : _layouts_default__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"];\n  const [date, onChangeDate] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [select, onChangeSelect] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [search, setSearch] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const [offset, setOffset] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(startOffset + 1);\n  const [documents, setDocuments] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const pageStart = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_15__[/* LowerLoader */ \"d\"], {\n      key: 'loader'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], null))\n  }, typeof children === 'function' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(children, {\n    documents\n  }) : children)));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"RotF\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"LSTS\")\n\n\n/***/ }),\n\n/***/ \"e0St\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/projects\",\n        function () {\n          return __webpack_require__(\"0RHc\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"e0St\",0,2,1,3,4,5,6,7,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\FadeLoad\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\projects.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SearchBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\react-infinite-scroller\\dist\\InfiniteScroll.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\react-infinite-scroller\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Fprojects&absolutePagePath=private-next-pages%2Fdashboard%2Fprojects.js!"],"names":[],"mappings":"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CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACrSA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4D;AACpB;AACQ;AACG;AACE;AAC3B;AAC0B;AACQ;AACN;AACF;AACL;AACL;AACM;AACA;AACA;AACG;AACT;AAC1C,aAAa,yEAAM,CAAC,4EAAM;AAC1B;AACA;AACA,CAAC,qBAAqB,mBAAmB,8CAA8C,cAAc;AACrG;AACA,CAAC,cAAc,qEAAG,YAAY;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,CAAC;AACD,iBAAiB,6DAAS;AAC1B,mBAAmB,wEAAW;AAC9B,6BAA6B,2DAAe,GAAG,iEAAa;AAC5D,+BAA+B,sDAAQ;AACvC,mCAAmC,sDAAQ;AAC3C,8BAA8B,sDAAQ;AACtC,4CAA4C,sDAAQ;AACpD,8BAA8B,sDAAQ;AACtC,oCAAoC,sDAAQ;AAC5C,4BAA4B,sDAAQ;AACpC,oBAAoB,qDAAO;AAC3B;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG,IAAI,wEAAY;AACnB;AACA;AACA;AACA;AACA,GAAG,IAAI,wEAAY;;AAEnB;AACA;AACA;AACA;AACA,8BAA8B,4CAAK,eAAe,gFAAU;AAC5D,iBAAiB,4DAAE;AACnB;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA,8BAA8B,4CAAK,eAAe,4EAAM;AACxD,iBAAiB,4DAAE;AACnB;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,sBAAsB;AACtB;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,EAAE,uDAAS;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,EAAE,uDAAS;AACX;AACA,GAAG;AACH,EAAE,uDAAS;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,4CAAK;AAC3B;AACA;AACA,GAAG,eAAe,4CAAK;AACvB;AACA,GAAG,0CAA0C,4CAAK,eAAe,sEAAS;AAC1E;AACA;AACA,GAAG,uCAAuC,4CAAK,eAAe,sEAAS;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,wCAAwC,4CAAK,eAAe,sEAAS;AACxE;AACA;AACA;AACA,GAAG,gBAAgB,4CAAK,eAAe,8DAAc;AACrD;AACA;AACA;AACA,yBAAyB,4CAAK,eAAe,uEAAW;AACxD;AACA,KAAK,eAAe,4CAAK,eAAe,6EAAO;AAC/C,GAAG,mCAAmC,4CAAK;AAC3C;AACA,GAAG;AACH;;AAEe,sEAAa,E;;;;;;;ACjM5B,iBAAiB,mBAAO,CAAC,MAAuB;;;;;;;;;ACChD;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA0C;AACnE;AACA","file":"x","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"FadeLoad__Wrap\",\n  componentId: \"sc-1rdnrub-0\"\n})([\"opacity:0;transition:opacity 100ms ease;\", \"\"], ({\n  isVisible\n}) => isVisible && css([\"opacity:1;\"]));\nexport const FadeLoad = ({\n  children\n}) => {\n  const [isVisible, setVisible] = useState(true);\n  const domRef = useRef();\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => setVisible(entry.isIntersecting));\n    });\n    observer.observe(domRef.current);\n    return () => observer.unobserve(domRef.current);\n  }, []);\n  return /*#__PURE__*/React.createElement(Wrap, {\n    isVisible: isVisible,\n    ref: domRef\n  }, children);\n};\nexport default FadeLoad;","import React, { useState, useEffect, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Grid from '../../atomic-ui/components/Grid';\nimport Table from '../../atomic-ui/components/Table';\nimport templates from '../../atomic-ui/components/Table/templates';\nimport { useHelper } from '../../hooks/useHelper';\nimport { useMutate } from '../../hooks/useMutate';\nimport ContentLayout from '../../layouts/content';\nimport ProjectCard from '../../components/ProjectCard';\nimport LazyLoad from '../../components/LazyLoad';\nimport FadeLoad from '../../components/FadeLoad';\nimport { onProjectCreate, onProjectEdit, onProjectDelete, onProjectLink, onProjectAdd, onProjectScreenshot } from '../../store/helpers/project';\nimport { setDocuments } from '../../store/actions/documents';\nimport { getLabelCategory } from '../../atomic-ui/utils/functions';\nimport { setUserFolder, updateUser } from '../../store/actions/user';\nimport { onUserAboutMore } from '../../store/helpers/user';\nimport queries from '../../graphql/queries';\nconst TITLE = 'Проекты';\nconst START_OFFSET = 12;\nconst LIMIT = 12;\n\nconst Projects = ({\n  store\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const {\n    user,\n    documents\n  } = useSelector(state => ({\n    user: state.user,\n    documents: state.documents\n  }));\n  const dispatch = useDispatch();\n  const [displayMethod, onChangeDisplayMethod] = useState('grid');\n  const canEditStatus = useMemo(() => user && user.role.name === 'ADMIN', [user]);\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER'\n    }, {\n      type: 'SELECT',\n      options: store === null || store === void 0 ? void 0 : store.categories.map(category => ({\n        value: category.id,\n        label: getLabelCategory(category.name)\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата публикации',\n      value: 'createdAt'\n    }],\n    handle: {\n      icon: 'work',\n      buttonCreateText: 'Создать проект',\n      onCreate: recall(onProjectCreate, {\n        companies: store.companies,\n        categories: store.categories,\n        statuses: store.statuses,\n        canEditStatus,\n        mutation: queries.CREATE_PROJECT,\n        query: queries.GET_USERS\n      }),\n      onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n    },\n    limit: LIMIT,\n    startOffset: START_OFFSET,\n    bottomScrollOffset: 0,\n    query: queries.GET_PROJECTS,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: documents || store.projects\n    },\n    dashboard: true\n  }, ({\n    documents\n  }) => displayMethod === 'list' ? /*#__PURE__*/React.createElement(Table, {\n    data: documents,\n    template: templates.project,\n    onChecked: () => {},\n    onClick: project => recall(onProjectLink, {\n      id: project.id,\n      auth: user\n    })(),\n    onDelete: project => recall(onProjectDelete, {\n      id: project.id,\n      project,\n      auth: user,\n      mutation: queries.DELETE_PROJECT\n    })(),\n    onEdit: project => recall(onProjectEdit, {\n      id: project.id,\n      companies: store.companies,\n      categories: store.categories,\n      statuses: store.statuses,\n      canEditStatus,\n      mutation: queries.UPDATE_PROJECT,\n      query: queries.GET_USERS,\n      onCompanyInputChange: mutate(queries.GET_USERS, {\n        account: 'ENTITY'\n      })\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }) : /*#__PURE__*/React.createElement(Grid, null, documents.map(project => {\n    var _user$folders;\n\n    return /*#__PURE__*/React.createElement(FadeLoad, {\n      key: project.id\n    }, /*#__PURE__*/React.createElement(LazyLoad, null, /*#__PURE__*/React.createElement(ProjectCard, {\n      project: project,\n      onChecked: () => {},\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })(),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === (user === null || user === void 0 ? void 0 : user.email)),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(setUserFolder(result));\n          }\n        })\n      }),\n      onAboutMore: recall(onUserAboutMore, {\n        user: project\n      }),\n      onDelete: recall(onProjectDelete, {\n        id: project.id,\n        project,\n        auth: user,\n        mutation: queries.DELETE_PROJECT\n      }),\n      onEdit: recall(onProjectEdit, {\n        id: project.id,\n        companies: store.companies,\n        categories: store.categories,\n        statuses: store.statuses,\n        canEditStatus,\n        mutation: queries.UPDATE_PROJECT,\n        query: queries.GET_USERS,\n        onCompanyInputChange: mutate(queries.GET_USERS, {\n          account: 'ENTITY'\n        })\n      }),\n      withSocials: true,\n      preview: true\n    })));\n  })));\n};\n\nexport var __N_SSP = true;\nexport default Projects;","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport SearchField from '../../atomic-ui/components/Search';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nexport const WrapSearchField = styled(SearchField).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nexport const WrapButton = styled(Button).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && css([\"background:var(--default-color-accent);\"]));\nexport const Search = ({\n  appearance,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = useState(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    onSubmit: onSubmit\n  }), /*#__PURE__*/React.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })));\n};\nexport default Search;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nimport { useSelector } from 'react-redux';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = useRouter();\n  const research = useSelector(state => state.root.search);\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset + 1);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = useState(false);\n  const pageStart = useMemo(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = useLazyQuery(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/React.createElement(LowerLoader, {\n      key: 'loader'\n    }, /*#__PURE__*/React.createElement(Spinner, null))\n  }, typeof children === 'function' ? React.createElement(children, {\n    documents\n  }) : children)));\n};\n\nexport default ContentLayout;","module.exports = require('./dist/InfiniteScroll')\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/projects\",\n        function () {\n          return require(\"private-next-pages/dashboard/projects.js\");\n        }\n      ]);\n    "]}}