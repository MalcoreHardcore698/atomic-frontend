{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{IUYj:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/tickets\",function(){return a(\"dsNT\")}])},dsNT:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return Ee}));var n=a(\"q1tI\"),i=a.n(n),r=a(\"/MKj\"),c=a(\"7BXr\"),o=a(\"ZwIX\"),l=a(\"wZgm\"),d=a(\"QclZ\"),u=a(\"EJJs\"),s=a(\"e3uv\"),b=a(\"ApjV\"),p=a(\"p9yE\"),m=a(\"coMr\"),v=a(\"RoTl\"),g=a(\"vOnD\"),h=a(\"nShV\"),f=a(\"8CDE\"),E=a(\"7sPp\"),k=a(\"QUga\"),j=a(\"feIE\"),w=a(\"aBfq\"),O=a(\"RKiZ\"),y=a(\"ZeZO\"),C=a(\"DTT8\"),T=a(\"79b8\"),x=a(\"VWQm\");const _=Object(g.c)(f.a).withConfig({displayName:\"TicketCard__Wrap\",componentId:\"sc-3sqqk7-0\"})([\"grid-gap:var(--default-gap);height:100%;\",\" \",\" \",\"\"],(({appearance:e})=>\"default\"===e&&Object(g.b)([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"])),(({appearance:e})=>\"ghost\"===e&&Object(g.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"])),(({appearance:e})=>\"clear\"===e&&Object(g.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]))),I=Object(g.c)(h.b).withConfig({displayName:\"TicketCard__Header\",componentId:\"sc-3sqqk7-1\"})([\"justify-content:space-between;align-items:center;\"]),N=Object(g.c)(h.b).withConfig({displayName:\"TicketCard__Actions\",componentId:\"sc-3sqqk7-2\"})([\"grid-gap:5px;\"]),S=Object(g.c)(E.a).withConfig({displayName:\"TicketCard__Name\",componentId:\"sc-3sqqk7-3\"})([\"transition:opacity 150ms ease;\",\"\"],(({onClick:e})=>e&&Object(g.b)([\"cursor:pointer;&:hover{opacity:0.45;}\"]))),A=Object(g.c)(k.b).withConfig({displayName:\"TicketCard__Status\",componentId:\"sc-3sqqk7-4\"})([\"color:\",\";\"],(({status:e})=>`var(--default-color-${\"OPENED\"===e?\"accent\":\"red\"})`)),q=Object(g.c)(h.b).withConfig({displayName:\"TicketCard__Footer\",componentId:\"sc-3sqqk7-5\"})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]),D=({ticket:e,appearance:t,className:a,style:n,onLink:r,onAuthorLink:c,onChecked:o,onEdit:l,onDelete:d})=>{var u,s,b,p,m;return i.a.createElement(_,{className:a,style:n,appearance:t},i.a.createElement(f.a,{style:{gridGap:0}},i.a.createElement(I,null,i.a.createElement(w.a,{date:e.createdAt,category:null===(u=e.category)||void 0===u?void 0:u.name}),o&&l&&d&&i.a.createElement(N,null,i.a.createElement(x.b,{text:\"\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"},i.a.createElement(y.a,{kind:\"icon\",size:\"xs\",appearance:\"red\",onClick:d},i.a.createElement(j.a,{icon:\"delete\",size:\"xs\",stroke:\"white\"}))),i.a.createElement(x.b,{text:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"},i.a.createElement(y.a,{kind:\"icon\",size:\"xs\",onClick:l},i.a.createElement(j.a,{icon:\"edit\",size:\"xs\",stroke:\"white\"}))),i.a.createElement(x.b,{text:\"\\u041e\\u0442\\u043c\\u0435\\u0442\\u0438\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",self:!0},i.a.createElement(T.a,null)))),i.a.createElement(S,{tag:\"h4\",onClick:r},e.title),i.a.createElement(h.b,{style:{gridGap:5}},i.a.createElement(A,{status:e.status},e.status))),i.a.createElement(O.a,{clear:!0}),i.a.createElement(q,null,i.a.createElement(C.b,{label:\"\\u0410\\u0432\\u0442\\u043e\\u0440\",img:null===(s=e.author)||void 0===s||null===(b=s.avatar)||void 0===b?void 0:b.path,text:null===(p=e.author)||void 0===p?void 0:p.name,onLink:c&&(()=>{var t;return c(null===(t=e.author)||void 0===t?void 0:t.email)})}),i.a.createElement(C.b,{icon:\"chat\",label:\"\\u0421\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0439\",text:null===(m=e.messages)||void 0===m?void 0:m.length})))};D.defaultProps={appearance:\"default\"};var L=D,M=a(\"VP1n\"),P=a(\"07fs\"),K=a(\"PYoj\"),V=a(\"xAqQ\"),X=a(\"VX74\"),G=a(\"otXJ\"),Q=a(\"t7jn\"),Z=a(\"auMy\"),z=a(\"+nv6\"),J=a(\"7ni8\"),R=a(\"Gliw\"),F=a(\"586Q\");const U=Object(g.c)(f.a).withConfig({displayName:\"TicketChat__Wrap\",componentId:\"sc-3e5jur-0\"})([\"width:100%;flex-grow:1;\"]),W=Object(g.c)(h.b).withConfig({displayName:\"TicketChat__Header\",componentId:\"sc-3e5jur-1\"})([\"justify-content:space-between;width:100%;\"]),Y=Object(g.c)(f.a).withConfig({displayName:\"TicketChat__Messages\",componentId:\"sc-3e5jur-2\"})([\"position:relative;background:#fbfbfb;border-radius:var(--surface-border-radius);padding:var(--default-gap);padding-top:55px;flex-grow:1;\"]),B=Object(g.c)(h.b).withConfig({displayName:\"TicketChat__Meta\",componentId:\"sc-3e5jur-3\"})([\"position:absolute;top:0;left:0;width:100%;justify-content:space-between;padding:8px var(--default-gap);border-radius:var(--surface-border-radius) var(--surface-border-radius) 0 0;background:var(--ghost-color-background);time{font-size:var(--font-size-m);font-weight:var(--font-weight-regular);color:var(--default-color-text);}\"]),H=Object(g.c)(o.a).withConfig({displayName:\"TicketChat__AuthAlert\",componentId:\"sc-3e5jur-4\"})([\"width:100%;text-align:center;\"]),$=Object(g.c)(k.b).withConfig({displayName:\"TicketChat__Empty\",componentId:\"sc-3e5jur-5\"})([\"display:flex;justify-content:center;align-items:center;width:100%;height:100%;flex-grow:1;\"]);var ee=({auth:e,ticket:t,loading:a,onLink:r,onFinish:c,onAttach:l,onSubmit:d,...u})=>{var s,b,p,m,v;const[g,f]=Object(n.useState)(\"\"),E=Object(n.useRef)(null),w=(null===t||void 0===t||null===(s=t.counsellor)||void 0===s?void 0:s.email)===e;return i.a.createElement(U,u,i.a.createElement(W,null,i.a.createElement(C.b,{label:\"\\u0410\\u0432\\u0442\\u043e\\u0440 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",text:null!==t&&void 0!==t&&null!==(b=t.author)&&void 0!==b&&b.name&&!a?t.author.name:\"-\"}),i.a.createElement(h.b,null,\"CLOSED\"!==(null===t||void 0===t?void 0:t.status)&&i.a.createElement(y.a,{onClick:c,disabled:!w||a||!t},\"\\u0417\\u0430\\u043a\\u0440\\u044b\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"))),i.a.createElement(Y,null,i.a.createElement(B,null,i.a.createElement(k.b,null,\"\\u0422\\u0435\\u043c\\u0430: \",null!==t&&void 0!==t&&t.title&&!a?t.title:\"-\"),null!==t&&void 0!==t&&t.createdAt&&!a?i.a.createElement(z.a,{text:t.createdAt,options:{day:\"2-digit\",month:\"2-digit\",year:\"numeric\"}}):i.a.createElement(k.b,null,\"-\")),!a&&(null===t||void 0===t||null===(p=t.messages)||void 0===p?void 0:p.length)>0?((null===t||void 0===t?void 0:t.messages)||[]).map((e=>{var a,n,c,o,l;return i.a.createElement(J.a,{key:e.id,avatar:null===(a=e.user)||void 0===a||null===(n=a.avatar)||void 0===n?void 0:n.path,side:(null===(c=e.user)||void 0===c?void 0:c.email)===(null===(o=t.counsellor)||void 0===o?void 0:o.email)?\"owner\":\"observer\",name:null===(l=e.user)||void 0===l?void 0:l.name,text:e.text,time:e.createdAt!==e.updatedAt?e.updatedAt:e.createdAt,tails:{default:\"/parts/tail.svg\",owner:\"/parts/tail-owner.svg\"},onLink:()=>r(e.user)})})):a?i.a.createElement(F.c,null,i.a.createElement(Z.a,null)):t?i.a.createElement($,null,\"\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"):i.a.createElement(o.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u0423\\u043f\\u0441! \\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0438\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044e \\u043e\\u0431 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0438\")),w?i.a.createElement(h.b,null,i.a.createElement(y.a,{kind:\"icon\",disabled:a||!t,onSubmit:l},i.a.createElement(j.a,{icon:\"attach\",stroke:\"white\"})),i.a.createElement(R.a,{ref:E,placeholder:\"\\u041e\\u0442\\u043f\\u0440\\u0430\\u0432\\u044c\\u0442\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0435\\u043d\\u0438\\u0435...\",disabled:a||!t,appearance:\"ghost\",onChange:e=>{var t;return f((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||\"\")},onKeyDown:e=>{13===e.keyCode&&(d(g),E.current.value=\"\")},tabIndex:-1}),i.a.createElement(y.a,{kind:\"icon\",disabled:a||!t,onClick:()=>{d(g),E.current.value=\"\"}},i.a.createElement(j.a,{icon:\"send\",stroke:\"white\"}))):a?i.a.createElement(F.c,null,i.a.createElement(Z.a,null)):i.a.createElement(H,null,\"\\u0414\\u043b\\u044f \\u043e\\u0442\\u0432\\u0435\\u0442\\u0430 \\u043d\\u0430 \\u044d\\u0442\\u043e \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435, \\u0430\\u0432\\u0442\\u043e\\u0440\\u0438\\u0437\\u0443\\u0439\\u0442\\u0435\\u0441\\u044c \\u043f\\u043e\\u0434 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0435\\u043c \",null===t||void 0===t||null===(m=t.counsellor)||void 0===m?void 0:m.name,\" (\",null===t||void 0===t||null===(v=t.counsellor)||void 0===v?void 0:v.email,\")\"))},te=a(\"j8/+\"),ae=a(\"u2Cb\");function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const ie=Object(g.c)(h.b).withConfig({displayName:\"TicketView__Wrap\",componentId:\"sc-1wxiq0b-0\"})([\"height:100%;flex-grow:1;@media only screen and (max-width:568px){flex-direction:column;}\",\" \",\" \",\"\"],(({appearance:e})=>\"default\"===e&&Object(g.b)([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"])),(({appearance:e})=>\"ghost\"===e&&Object(g.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"])),(({appearance:e})=>\"clear\"===e&&Object(g.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]))),re=Object(g.c)(f.a).withConfig({displayName:\"TicketView__Tickets\",componentId:\"sc-1wxiq0b-1\"})([\"grid-gap:0;width:320px;@media only screen and (max-width:568px){width:100%;}\"]),ce=Object(g.c)(G.a).withConfig({displayName:\"TicketView__Ticket\",componentId:\"sc-1wxiq0b-2\"})([\"margin:10px 0 0 0;padding:10px;border-radius:var(--surface-border-radius);\",\"\"],(({active:e})=>e&&Object(g.b)([\"background:var(--input-background);\"]))),oe=({auth:e,ticket:t,appearance:a,onMemberLink:c,onReport:l,onAttach:d,...u})=>{const[s,b]=Object(n.useState)(null),[p,m]=Object(n.useState)(0),[v,g]=Object(n.useState)(!1),[h,f]=Object(n.useState)([]),E=Object(r.c)((e=>e.documents)),k=Object(r.b)(),j=Object(n.useMemo)((()=>({offset:p,limit:36})),[p]),{data:w,loading:O,refetch:y}=Object(X.useQuery)(ae.a.GET_TICKET,{variables:{id:t}}),[C,{data:T,loading:x,error:_}]=Object(X.useMutation)(ae.a.CLOSE_TICKET),[I,{data:N,loading:S}]=Object(X.useMutation)(ae.a.SEND_TICKET_MESSAGE),{data:A,loading:q,error:D}=Object(X.useQuery)(ae.a.GET_TICKETS,{variables:j});return Object(n.useEffect)((()=>{if(!O&&null!==w&&void 0!==w&&w.getTicket&&b(w.getTicket),!x&&null!==T&&void 0!==T&&T.closeTicket){const e=T.closeTicket;b(e),k(Object(te.a)((E||[]).map((t=>t.id===e.id?e:t))))}}),[w,T,O,x]),Object(n.useEffect)((()=>{!q&&A&&f(A.getTickets)}),[A,q]),Object(n.useEffect)((()=>{!S&&N&&b((e=>({...e,messages:N.sendTicketMessage})))}),[N,S]),i.a.createElement(ie,ne({},u,{appearance:a}),i.a.createElement(re,null,i.a.createElement(Q.a,{appearance:\"ghost\",onSubmit:()=>{}}),q?D?i.a.createElement(o.a,{appearance:\"error\",style:{marginTop:15,width:\"100%\",textAlign:\"center\"}},\"\\u0423\\u043f\\u0441! \\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0438\\u043d\\u0444\\u043e\\u0440\\u043c\\u0430\\u0446\\u0438\\u044e \\u043e\\u0431 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0438\"):i.a.createElement(F.c,null,i.a.createElement(Z.a,null)):h.map((e=>{var t;return i.a.createElement(ce,{key:e.id,name:e.title,position:null===(t=e.author)||void 0===t?void 0:t.name,active:s&&s.id===e.id,onClick:async()=>{g(!0),await y({id:e.id}),b(e),g(!1)}})}))),i.a.createElement(ee,{auth:e,ticket:s,loading:O||S||v||q||_,onLink:c,onFinish:()=>C({variables:{id:t}}),onReport:l,onAttach:d,onSubmit:e=>{var t;return I({variables:{ticket:s.id,recipient:null===(t=s.author)||void 0===t?void 0:t.email,text:e}})}}))};oe.defaultProps={appearance:\"default\"};var le=oe,de=a(\"Ztxg\"),ue=a(\"9Xo6\"),se=a(\"rP4V\"),be=a(\"+EEm\");function pe(e,t){const{id:a,auth:n}=t;e(Object(de.a)({icon:\"ticket\",title:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",content:i.a.createElement(le,{auth:n,ticket:a,appearance:\"clear\",onAttach:()=>Object(be.b)(e),onMemberLink:t=>Object(se.i)(e,{id:t.email,auth:n})})}))}function me(e,t){const{mutation:a}=t;e(Object(de.a)({icon:\"ticket\",title:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",content:i.a.createElement(K.a,{mutation:a,appearance:\"clear\",onSubmit:async(t,a)=>{try{var n,i,r,c,o;const l=await a({variables:{input:{title:t.title,message:t.message,author:null===(n=t.author)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.email,counsellor:null===(r=t.counsellor)||void 0===r||null===(c=r.value)||void 0===c?void 0:c.email,category:null===(o=t.category)||void 0===o?void 0:o.value}}});e(Object(te.a)(l.data.createTicket)),e(Object(de.a)(null)),e(Object(ue.c)({type:\"success\",message:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u043e\"}))}catch(l){e(Object(de.a)(null)),e(Object(ue.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0441\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"}))}}})}))}function ve(e,t){const{id:a,mutation:n}=t;e(Object(de.a)({icon:\"ticket\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",content:i.a.createElement(K.a,{ticket:a,mutation:n,appearance:\"clear\",onSubmit:async(t,n)=>{try{var i,r,c,o,l;const d=await n({variables:{id:a,input:{title:t.title,message:t.message,messages:t.messages.map((e=>({id:e.id,text:e.text}))),author:null===(i=t.author)||void 0===i||null===(r=i.value)||void 0===r?void 0:r.email,counsellor:null===(c=t.counsellor)||void 0===c||null===(o=c.value)||void 0===o?void 0:o.email,category:null===(l=t.category)||void 0===l?void 0:l.value}}});e(Object(te.a)(d.data.updateTicket)),e(Object(de.a)(null)),e(Object(ue.c)({type:\"success\",message:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u043e\\u0442\\u0440\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u043e\"}))}catch(d){e(Object(de.a)(null)),e(Object(ue.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u043e\\u0442\\u0440\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"}))}}})}))}function ge(e,t){const{ticket:a,mutation:n}=t;e(Object(de.a)({icon:\"delete\",color:\"red\",title:\"\\u0423\\u0434\\u0430\\u043b\\u0435\\u043d\\u0438\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",content:i.a.createElement(V.a,{mutation:n,appearance:\"clear\",onCancel:()=>e(Object(de.a)(null)),onSubmit:async(t,n)=>{try{const t=await n({variables:{id:a.id}});e(Object(te.a)(t.data.deleteTicket)),e(Object(ue.c)({type:\"success\",message:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0443\\u0434\\u0430\\u043b\\u0435\\u043d\\u043e\"}))}catch(i){e(Object(ue.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0443\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"}))}finally{e(Object(de.a)(null))}}},i.a.createElement(L,{ticket:a,appearance:\"clear\"}))}))}var he=a(\"wha1\");const fe=\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\";var Ee=!0;t.default=({store:e})=>{const t=Object(b.b)(),{user:a,documents:g}=Object(r.c)((e=>({user:e.user,documents:e.documents}))),h=Object(r.b)(),[f,E]=Object(n.useState)(),[k,j]=Object(n.useState)(),[w,O]=Object(n.useState)(!1),[y,C]=Object(n.useState)(\"grid\"),T=Object(n.useMemo)((()=>g||e.tickets),[g,e]);return Object(n.useEffect)((()=>{h(Object(te.a)(null))}),[]),i.a.createElement(p.a,{title:fe},i.a.createElement(m.a,{icon:\"ticket\",title:fe,buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",onCreate:t(me,{mutation:ae.a.CREATE_TICKET}),onChangeVisibleFilter:()=>O(!w),onChangeDisplayMethod:e=>C(e.value)}),i.a.createElement(v.a,{isOpen:w,filters:[i.a.createElement(l.a,{key:0,value:f,placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:E,withNavigate:!0}),i.a.createElement(d.a,{key:1,options:he.a,placeholder:\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:k,onChange:e=>j(e)})],options:\"list\"===y?[]:s.a.ticket.map(((e,t)=>({label:e.header,value:t})))}),0===T.length&&i.a.createElement(o.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0439 \\u043d\\u0435\\u0442\"),\"list\"===y&&i.a.createElement(u.b,{data:T,template:s.a.ticket,onChecked:()=>{},onClick:e=>t(pe,{id:e.id,auth:null===a||void 0===a?void 0:a.email})(),onDelete:e=>t(ge,{ticket:e,mutation:ae.a.DELETE_TICKET})(),onEdit:e=>t(ve,{id:e.id,mutation:ae.a.UPDATE_TICKET})(),style:{overflowX:\"auto\",width:\"calc(100vw - 290px)\"}}),\"grid\"===y&&i.a.createElement(c.a,null,T.map((e=>i.a.createElement(P.a,{key:e.id},i.a.createElement(M.a,null,i.a.createElement(L,{ticket:e,onChecked:()=>{},onLink:t(pe,{id:e.id,auth:null===a||void 0===a?void 0:a.email}),onAuthorLink:e=>t(se.i,{id:e,auth:null===a||void 0===a?void 0:a.email,owned:e===a.name})(),onDelete:t(ge,{ticket:e,mutation:ae.a.DELETE_TICKET}),onEdit:t(ve,{id:e.id,mutation:ae.a.UPDATE_TICKET})})))))))}},vJvq:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return g}));var n=a(\"wx14\"),i=a(\"Ff2n\"),r=a(\"h4VS\"),c=a(\"q1tI\"),o=a.n(c),l=a(\"vOnD\"),d=a(\"cpGi\"),u=a(\"7Cbv\"),s=o.a.createElement;function b(){var e=Object(r.a)([\"\\n      width: \",\" !important;\\n    \"]);return b=function(){return e},e}function p(){var e=Object(r.a)([\"\\n      padding: 0 !important;\\n      border: none !important;\\n      box-shadow: var(--default-shadow) !important;\\n    \"]);return p=function(){return e},e}function m(){var e=Object(r.a)([\"\\n  padding: var(--default-gap) !important;\\n  border: 1px solid var(--surface-border) !important;\\n  background: var(--surface-background) !important;\\n  box-shadow: var(--default-shadow) !important;\\n  border-radius: var(--surface-border-radius) !important;\\n  border: none !important;\\n  pointer-events: initial !important;\\n\\n  \",\"\\n\\n  &.show {\\n    opacity: 1 !important;\\n  }\\n\\n  &::after {\\n    display: none !important;\\n  }\\n\\n  \",\"\\n\"]);return m=function(){return e},e}function v(){var e=Object(r.a)([\"\\n  position: relative;\\n  display: inline-flex;\\n\"]);return v=function(){return e},e}var g=l.c.div(v()),h=Object(l.c)(d.a)(m(),(function(e){return\"clear\"===e.appearance&&Object(l.b)(p())}),(function(e){var t=e.width;return t&&Object(l.b)(b(),t||\"auto\")})),f=function(e){var t=e.body,a=e.appearance,r=e.children,c=e.width,o=Object(i.a)(e,[\"body\",\"appearance\",\"children\",\"width\"]),l=\"popper-\".concat(Object(u.a)());return s(g,null,s(\"div\",{\"data-event\":\"click focus\",\"data-for\":l,\"data-tip\":!0},r),s(h,Object(n.a)({},o,{id:l,width:c,globalEventOff:\"click\",appearance:a}),t))};f.defaultProps={place:\"top\",effect:\"solid\",appearance:\"default\"},t.b=f},wha1:function(e,t,a){\"use strict\";a.d(t,\"e\",(function(){return n})),a.d(t,\"d\",(function(){return i})),a.d(t,\"b\",(function(){return r})),a.d(t,\"c\",(function(){return c})),a.d(t,\"a\",(function(){return o}));const n=[{label:\"\\u041e \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0435\",path:\"/about\"},{label:\"\\u041b\\u044e\\u0434\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0430\",path:\"/creators\"},{label:\"\\u041f\\u043e\\u0434\\u0434\\u0435\\u0440\\u0436\\u043a\\u0430\",path:\"/support\"},{label:\"\\u0421\\u043f\\u0440\\u0430\\u0432\\u043e\\u0447\\u043d\\u0438\\u043a\",path:\"/guide\"}],i=[\"/images/socials/gmail.png\",\"/images/socials/vk.png\",\"/images/socials/facebook.png\"],r=[{label:\"\\u0433. \\u0415\\u043a\\u0430\\u0442\\u0435\\u0440\\u0438\\u043d\\u0431\\u0443\\u0440\\u0433, \\u0443\\u043b. \\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u0438\\u0441\\u0442\\u043e\\u0432 20\\u0430, \\u043e\\u0444. 302\",icon:\"location\"},{label:\"+7 (499) 222-54-86\",icon:\"call\"},{label:\"info@mail.ru\",icon:\"message\"}],c=[{label:\"\\u041c\\u043e\\u0438 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",value:\"/projects\"},{label:\"\\u041d\\u0440\\u0430\\u0432\\u0438\\u0442\\u0441\\u044f\",value:\"/liked\"},{label:\"\\u0412 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0435\",value:\"/feed\"}],o=[{value:0,label:\"\\u0421\\u0442\\u0440\\u043e\\u0438\\u0442\\u0435\\u043b\\u044c\\u0441\\u0442\\u0432\\u043e\"},{value:1,label:\"\\u0420\\u0435\\u043a\\u043e\\u043d\\u0441\\u0442\\u0440\\u0443\\u043a\\u0446\\u0438\\u044f\"},{value:2,label:\"\\u041a\\u0430\\u043f\\u0438\\u0442\\u0430\\u043b\\u044c\\u043d\\u044b\\u0439 \\u0440\\u0435\\u043c\\u043e\\u043d\\u0442\"},{value:3,label:\"\\u0426\\u0438\\u0444\\u0440\\u043e\\u0432\\u0430\\u044f \\u0441\\u0440\\u0435\\u0434\\u0430\"}]}},[[\"IUYj\",0,2,1,3,4,5,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/tickets-2ae1f07cceee1985fc8f.js"],"names":["_N_E","window","push","IUYj","module","exports","__webpack_require__","__NEXT_P","dsNT","__webpack_exports__","r","d","__N_SSP","react","react_default","n","es","Grid","Alert","DatePicker","Select","Table","templates","useHelper","dashboard","HandleBar","FilterBar","styled_components_browser_esm","Row","Column","Title","Text","Icon","Meta","Divider","Button","Difinition","Checkbox","Tooltip","Wrap","Object","withConfig","displayName","componentId","appearance","Header","Actions","Name","onClick","Status","status","Footer","Card","ticket","className","style","onLink","onAuthorLink","onChecked","onEdit","onDelete","_ticket$category","_ticket$author","_ticket$author$avatar","_ticket$author2","_ticket$messages","a","createElement","gridGap","date","createdAt","category","name","text","kind","size","icon","stroke","self","tag","title","clear","label","img","author","avatar","path","_ticket$author3","email","messages","length","defaultProps","TicketCard","LazyLoad","FadeLoad","FormTicket","FormDelete","client","Member","Search","Spinner","DateText","Message","Input","Styled","TicketChat_Wrap","TicketChat_Header","Messages","TicketChat_Meta","AuthAlert","Empty","components_TicketChat","auth","loading","onFinish","onAttach","onSubmit","props","_ticket$counsellor","_ticket$counsellor3","_ticket$counsellor4","message","setMessage","messageRef","isAccess","counsellor","disabled","options","day","month","year","map","_message$user","_message$user$avatar","_message$user2","_ticket$counsellor2","_message$user3","key","id","user","side","time","updatedAt","tails","default","owner","width","textAlign","ref","placeholder","onChange","e","_e$target","target","value","onKeyDown","keyCode","current","tabIndex","actions_documents","queries","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","TicketView_Wrap","Tickets","Ticket","active","View","onMemberLink","onReport","currentTicket","setCurrentTicket","offsetTickets","setOffsetTickets","loadingTicket","setLoadingTicket","tickets","setTickets","documents","state","dispatch","variablesTickets","offset","limit","data","refetch","GET_TICKET","variables","closeTicket","dataCloseTicket","loadingCloseTicket","error","errorCloseTicket","CLOSE_TICKET","sendTicketMessage","dataSendMessage","loadingSendMessage","SEND_TICKET_MESSAGE","dataTickets","loadingTickets","errorTickets","GET_TICKETS","getTicket","candidate","document","getTickets","prev","marginTop","item","_item$author","position","async","_currentTicket$author","recipient","TicketView","drawer","snacks","helpers_user","helpers","onTicketLink","content","member","onTicketCreate","mutation","form","action","_form$author","_form$author$value","_form$counsellor","_form$counsellor$valu","_form$category","input","createTicket","type","err","onTicketEdit","_form$author2","_form$author2$value","_form$counsellor2","_form$counsellor2$val","_form$category2","updateTicket","_unused","onTicketDelete","color","onCancel","_","deleteTicket","_unused2","_mock_","TITLE","store","recall","onChangeDate","select","onChangeSelect","visibleFilter","setVisibleFilter","displayMethod","onChangeDisplayMethod","buttonCreateText","onCreate","CREATE_TICKET","onChangeVisibleFilter","isOpen","filters","withNavigate","selected","index","header","template","DELETE_TICKET","UPDATE_TICKET","overflowX","owned","vJvq","C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","styled_components__WEBPACK_IMPORTED_MODULE_4__","react_tooltip__WEBPACK_IMPORTED_MODULE_5__","uuid__WEBPACK_IMPORTED_MODULE_6__","__jsx","_templateObject4","_templateObject3","_templateObject2","_templateObject","div","Content","_ref","_ref2","Popper","_ref3","body","children","concat","data-event","data-for","data-tip","globalEventOff","place","effect","wha1","supportLinks","socials","contacts","profilePages","categories"],"mappings":"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"},"name":"static/chunks/pages/dashboard/tickets-2ae1f07cceee1985fc8f.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[27],{\n\n/***/ \"IUYj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/tickets\",\n        function () {\n          return __webpack_require__(\"dsNT\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"dsNT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Grid/index.js\nvar Grid = __webpack_require__(\"7BXr\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/index.js\nvar Table = __webpack_require__(\"EJJs\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/templates/index.js + 6 modules\nvar templates = __webpack_require__(\"e3uv\");\n\n// EXTERNAL MODULE: ./hooks/useHelper.js\nvar useHelper = __webpack_require__(\"ApjV\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 2 modules\nvar dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Title/index.js\nvar Title = __webpack_require__(\"7sPp\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Text/index.js\nvar Text = __webpack_require__(\"QUga\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Icon/index.js + 107 modules\nvar Icon = __webpack_require__(\"feIE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Meta/index.js\nvar Meta = __webpack_require__(\"aBfq\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Difinition/index.js\nvar Difinition = __webpack_require__(\"DTT8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Checkbox/index.js\nvar Checkbox = __webpack_require__(\"79b8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Tooltip/index.js\nvar Tooltip = __webpack_require__(\"VWQm\");\n\n// CONCATENATED MODULE: ./components/TicketCard/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"TicketCard__Wrap\",\n  componentId: \"sc-3sqqk7-0\"\n})([\"grid-gap:var(--default-gap);height:100%;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nconst Header = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Header\",\n  componentId: \"sc-3sqqk7-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\nconst Actions = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Actions\",\n  componentId: \"sc-3sqqk7-2\"\n})([\"grid-gap:5px;\"]);\nconst Name = Object(styled_components_browser_esm[\"c\" /* default */])(Title[\"a\" /* default */]).withConfig({\n  displayName: \"TicketCard__Name\",\n  componentId: \"sc-3sqqk7-3\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && Object(styled_components_browser_esm[\"b\" /* css */])([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nconst Status = Object(styled_components_browser_esm[\"c\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Status\",\n  componentId: \"sc-3sqqk7-4\"\n})([\"color:\", \";\"], ({\n  status\n}) => `var(--default-color-${status === 'OPENED' ? 'accent' : 'red'})`);\nconst Footer = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Footer\",\n  componentId: \"sc-3sqqk7-5\"\n})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]);\nconst Card = ({\n  ticket,\n  appearance,\n  className,\n  style,\n  onLink,\n  onAuthorLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  var _ticket$category, _ticket$author, _ticket$author$avatar, _ticket$author2, _ticket$messages;\n\n  return /*#__PURE__*/react_default.a.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], {\n    style: {\n      gridGap: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Header, null, /*#__PURE__*/react_default.a.createElement(Meta[\"a\" /* default */], {\n    date: ticket.createdAt,\n    category: (_ticket$category = ticket.category) === null || _ticket$category === void 0 ? void 0 : _ticket$category.name\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/react_default.a.createElement(Actions, null, /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Удалить обращение'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Редактировать обращение'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Отметить обращение',\n    self: true\n  }, /*#__PURE__*/react_default.a.createElement(Checkbox[\"a\" /* default */], null)))), /*#__PURE__*/react_default.a.createElement(Name, {\n    tag: 'h4',\n    onClick: onLink\n  }, ticket.title), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Status, {\n    status: ticket.status\n  }, ticket.status))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n    clear: true\n  }), /*#__PURE__*/react_default.a.createElement(Footer, null, /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    label: 'Автор',\n    img: (_ticket$author = ticket.author) === null || _ticket$author === void 0 ? void 0 : (_ticket$author$avatar = _ticket$author.avatar) === null || _ticket$author$avatar === void 0 ? void 0 : _ticket$author$avatar.path,\n    text: (_ticket$author2 = ticket.author) === null || _ticket$author2 === void 0 ? void 0 : _ticket$author2.name,\n    onLink: onAuthorLink && (() => {\n      var _ticket$author3;\n\n      return onAuthorLink((_ticket$author3 = ticket.author) === null || _ticket$author3 === void 0 ? void 0 : _ticket$author3.email);\n    })\n  }), /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    icon: 'chat',\n    label: 'Сообщений',\n    text: (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length\n  })));\n};\nCard.defaultProps = {\n  appearance: 'default'\n};\n/* harmony default export */ var TicketCard = (Card);\n// EXTERNAL MODULE: ./components/LazyLoad/index.js\nvar LazyLoad = __webpack_require__(\"VP1n\");\n\n// EXTERNAL MODULE: ./components/FadeLoad/index.js\nvar FadeLoad = __webpack_require__(\"07fs\");\n\n// EXTERNAL MODULE: ./components/FormTicket/index.js\nvar FormTicket = __webpack_require__(\"PYoj\");\n\n// EXTERNAL MODULE: ./components/FormDelete/index.js\nvar FormDelete = __webpack_require__(\"xAqQ\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Member/index.js\nvar Member = __webpack_require__(\"otXJ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Search/index.js\nvar Search = __webpack_require__(\"t7jn\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DateText/index.js\nvar DateText = __webpack_require__(\"+nv6\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Message/index.js\nvar Message = __webpack_require__(\"7ni8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Input/index.js\nvar Input = __webpack_require__(\"Gliw\");\n\n// EXTERNAL MODULE: ./components/Styled/index.js\nvar Styled = __webpack_require__(\"586Q\");\n\n// CONCATENATED MODULE: ./components/TicketChat/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TicketChat_Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"TicketChat__Wrap\",\n  componentId: \"sc-3e5jur-0\"\n})([\"width:100%;flex-grow:1;\"]);\nconst TicketChat_Header = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketChat__Header\",\n  componentId: \"sc-3e5jur-1\"\n})([\"justify-content:space-between;width:100%;\"]);\nconst Messages = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"TicketChat__Messages\",\n  componentId: \"sc-3e5jur-2\"\n})([\"position:relative;background:#fbfbfb;border-radius:var(--surface-border-radius);padding:var(--default-gap);padding-top:55px;flex-grow:1;\"]);\nconst TicketChat_Meta = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketChat__Meta\",\n  componentId: \"sc-3e5jur-3\"\n})([\"position:absolute;top:0;left:0;width:100%;justify-content:space-between;padding:8px var(--default-gap);border-radius:var(--surface-border-radius) var(--surface-border-radius) 0 0;background:var(--ghost-color-background);time{font-size:var(--font-size-m);font-weight:var(--font-weight-regular);color:var(--default-color-text);}\"]);\nconst AuthAlert = Object(styled_components_browser_esm[\"c\" /* default */])(Alert[\"a\" /* default */]).withConfig({\n  displayName: \"TicketChat__AuthAlert\",\n  componentId: \"sc-3e5jur-4\"\n})([\"width:100%;text-align:center;\"]);\nconst Empty = Object(styled_components_browser_esm[\"c\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"TicketChat__Empty\",\n  componentId: \"sc-3e5jur-5\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;height:100%;flex-grow:1;\"]);\nconst TicketChat = ({\n  auth,\n  ticket,\n  loading,\n  onLink,\n  onFinish,\n  // onReport,\n  onAttach,\n  onSubmit,\n  ...props\n}) => {\n  var _ticket$counsellor, _ticket$author, _ticket$messages, _ticket$counsellor3, _ticket$counsellor4;\n\n  const [message, setMessage] = Object(react[\"useState\"])('');\n  const messageRef = Object(react[\"useRef\"])(null);\n  const isAccess = (ticket === null || ticket === void 0 ? void 0 : (_ticket$counsellor = ticket.counsellor) === null || _ticket$counsellor === void 0 ? void 0 : _ticket$counsellor.email) === auth;\n  return /*#__PURE__*/react_default.a.createElement(TicketChat_Wrap, props, /*#__PURE__*/react_default.a.createElement(TicketChat_Header, null, /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    label: 'Автор обращения',\n    text: ticket !== null && ticket !== void 0 && (_ticket$author = ticket.author) !== null && _ticket$author !== void 0 && _ticket$author.name && !loading ? ticket.author.name : '-'\n  }), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], null, (ticket === null || ticket === void 0 ? void 0 : ticket.status) !== 'CLOSED' && /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    onClick: onFinish,\n    disabled: !isAccess || loading || !ticket\n  }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\"))), /*#__PURE__*/react_default.a.createElement(Messages, null, /*#__PURE__*/react_default.a.createElement(TicketChat_Meta, null, /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, \"\\u0422\\u0435\\u043C\\u0430: \", ticket !== null && ticket !== void 0 && ticket.title && !loading ? ticket.title : '-'), ticket !== null && ticket !== void 0 && ticket.createdAt && !loading ? /*#__PURE__*/react_default.a.createElement(DateText[\"a\" /* default */], {\n    text: ticket.createdAt,\n    options: {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    }\n  }) : /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, \"-\")), !loading && (ticket === null || ticket === void 0 ? void 0 : (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length) > 0 ? ((ticket === null || ticket === void 0 ? void 0 : ticket.messages) || []).map(message => {\n    var _message$user, _message$user$avatar, _message$user2, _ticket$counsellor2, _message$user3;\n\n    return /*#__PURE__*/react_default.a.createElement(Message[\"a\" /* default */], {\n      key: message.id,\n      avatar: (_message$user = message.user) === null || _message$user === void 0 ? void 0 : (_message$user$avatar = _message$user.avatar) === null || _message$user$avatar === void 0 ? void 0 : _message$user$avatar.path,\n      side: ((_message$user2 = message.user) === null || _message$user2 === void 0 ? void 0 : _message$user2.email) === ((_ticket$counsellor2 = ticket.counsellor) === null || _ticket$counsellor2 === void 0 ? void 0 : _ticket$counsellor2.email) ? 'owner' : 'observer',\n      name: (_message$user3 = message.user) === null || _message$user3 === void 0 ? void 0 : _message$user3.name,\n      text: message.text,\n      time: message.createdAt !== message.updatedAt ? message.updatedAt : message.createdAt,\n      tails: {\n        default: '/parts/tail.svg',\n        owner: '/parts/tail-owner.svg'\n      },\n      onLink: () => onLink(message.user)\n    });\n  }) : loading ? /*#__PURE__*/react_default.a.createElement(Styled[\"c\" /* Loader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null)) : !ticket ? /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0423\\u043F\\u0441! \\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E\\u0431 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0438\") : /*#__PURE__*/react_default.a.createElement(Empty, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\")), isAccess ? /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    disabled: loading || !ticket,\n    onSubmit: onAttach\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'attach',\n    stroke: 'white'\n  })), /*#__PURE__*/react_default.a.createElement(Input[\"a\" /* default */], {\n    ref: messageRef,\n    placeholder: 'Отправьте сообщенение...',\n    disabled: loading || !ticket,\n    appearance: 'ghost',\n    onChange: e => {\n      var _e$target;\n\n      return setMessage((e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || '');\n    },\n    onKeyDown: e => {\n      // Pressed ENTER\n      if (e.keyCode === 13) {\n        onSubmit(message);\n        messageRef.current.value = '';\n      }\n    },\n    tabIndex: -1\n  }), /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    disabled: loading || !ticket,\n    onClick: () => {\n      onSubmit(message);\n      messageRef.current.value = '';\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'send',\n    stroke: 'white'\n  }))) : loading ? /*#__PURE__*/react_default.a.createElement(Styled[\"c\" /* Loader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null)) : /*#__PURE__*/react_default.a.createElement(AuthAlert, null, \"\\u0414\\u043B\\u044F \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430 \\u043D\\u0430 \\u044D\\u0442\\u043E \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435, \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0443\\u0439\\u0442\\u0435\\u0441\\u044C \\u043F\\u043E\\u0434 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u043C \", ticket === null || ticket === void 0 ? void 0 : (_ticket$counsellor3 = ticket.counsellor) === null || _ticket$counsellor3 === void 0 ? void 0 : _ticket$counsellor3.name, \" (\", ticket === null || ticket === void 0 ? void 0 : (_ticket$counsellor4 = ticket.counsellor) === null || _ticket$counsellor4 === void 0 ? void 0 : _ticket$counsellor4.email, \")\"));\n};\n/* harmony default export */ var components_TicketChat = (TicketChat);\n// EXTERNAL MODULE: ./store/actions/documents.js\nvar actions_documents = __webpack_require__(\"j8/+\");\n\n// EXTERNAL MODULE: ./graphql/queries/index.js + 15 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// CONCATENATED MODULE: ./components/TicketView/index.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TicketView_Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketView__Wrap\",\n  componentId: \"sc-1wxiq0b-0\"\n})([\"height:100%;flex-grow:1;@media only screen and (max-width:568px){flex-direction:column;}\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nconst Tickets = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"TicketView__Tickets\",\n  componentId: \"sc-1wxiq0b-1\"\n})([\"grid-gap:0;width:320px;@media only screen and (max-width:568px){width:100%;}\"]);\nconst Ticket = Object(styled_components_browser_esm[\"c\" /* default */])(Member[\"a\" /* default */]).withConfig({\n  displayName: \"TicketView__Ticket\",\n  componentId: \"sc-1wxiq0b-2\"\n})([\"margin:10px 0 0 0;padding:10px;border-radius:var(--surface-border-radius);\", \"\"], ({\n  active\n}) => active && Object(styled_components_browser_esm[\"b\" /* css */])([\"background:var(--input-background);\"]));\nconst LIMIT_TICKETS = 36;\nconst View = ({\n  auth,\n  ticket,\n  appearance,\n  onMemberLink,\n  onReport,\n  onAttach,\n  ...props\n}) => {\n  const [currentTicket, setCurrentTicket] = Object(react[\"useState\"])(null); // TODO: Fetch more tickets by scrolling\n  // eslint-disable-next-line no-unused-vars\n\n  const [offsetTickets, setOffsetTickets] = Object(react[\"useState\"])(0);\n  const [loadingTicket, setLoadingTicket] = Object(react[\"useState\"])(false);\n  const [tickets, setTickets] = Object(react[\"useState\"])([]);\n  const documents = Object(es[\"c\" /* useSelector */])(state => state.documents);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const variablesTickets = Object(react[\"useMemo\"])(() => ({\n    offset: offsetTickets,\n    limit: LIMIT_TICKETS\n  }), [offsetTickets]);\n  const {\n    data,\n    loading,\n    refetch\n  } = Object(client[\"useQuery\"])(queries[\"a\" /* default */].GET_TICKET, {\n    variables: {\n      id: ticket\n    }\n  });\n  const [closeTicket, {\n    data: dataCloseTicket,\n    loading: loadingCloseTicket,\n    error: errorCloseTicket\n  }] = Object(client[\"useMutation\"])(queries[\"a\" /* default */].CLOSE_TICKET);\n  const [sendTicketMessage, {\n    data: dataSendMessage,\n    loading: loadingSendMessage\n  }] = Object(client[\"useMutation\"])(queries[\"a\" /* default */].SEND_TICKET_MESSAGE);\n  const {\n    data: dataTickets,\n    loading: loadingTickets,\n    error: errorTickets // fetchMore: updateTickets\n\n  } = Object(client[\"useQuery\"])(queries[\"a\" /* default */].GET_TICKETS, {\n    variables: variablesTickets\n  });\n  Object(react[\"useEffect\"])(() => {\n    if (!loading && data !== null && data !== void 0 && data.getTicket) {\n      setCurrentTicket(data.getTicket);\n    }\n\n    if (!loadingCloseTicket && dataCloseTicket !== null && dataCloseTicket !== void 0 && dataCloseTicket.closeTicket) {\n      const candidate = dataCloseTicket.closeTicket;\n      setCurrentTicket(candidate);\n      dispatch(Object(actions_documents[\"a\" /* setDocuments */])((documents || []).map(document => document.id === candidate.id ? candidate : document)));\n    }\n  }, [data, dataCloseTicket, loading, loadingCloseTicket]);\n  Object(react[\"useEffect\"])(() => {\n    if (!loadingTickets && dataTickets) {\n      setTickets(dataTickets.getTickets);\n    }\n  }, [dataTickets, loadingTickets]);\n  Object(react[\"useEffect\"])(() => {\n    if (!loadingSendMessage && dataSendMessage) {\n      setCurrentTicket(prev => ({ ...prev,\n        messages: dataSendMessage.sendTicketMessage\n      }));\n    }\n  }, [dataSendMessage, loadingSendMessage]);\n  return /*#__PURE__*/react_default.a.createElement(TicketView_Wrap, _extends({}, props, {\n    appearance: appearance\n  }), /*#__PURE__*/react_default.a.createElement(Tickets, null, /*#__PURE__*/react_default.a.createElement(Search[\"a\" /* default */], {\n    appearance: 'ghost',\n    onSubmit: () => {}\n  }), !loadingTickets ? tickets.map(item => {\n    var _item$author;\n\n    return /*#__PURE__*/react_default.a.createElement(Ticket, {\n      key: item.id,\n      name: item.title,\n      position: (_item$author = item.author) === null || _item$author === void 0 ? void 0 : _item$author.name,\n      active: currentTicket && currentTicket.id === item.id,\n      onClick: async () => {\n        setLoadingTicket(true);\n        await refetch({\n          id: item.id\n        });\n        setCurrentTicket(item);\n        setLoadingTicket(false);\n      }\n    });\n  }) : errorTickets ? /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    appearance: 'error',\n    style: {\n      marginTop: 15,\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0423\\u043F\\u0441! \\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E\\u0431 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0438\") : /*#__PURE__*/react_default.a.createElement(Styled[\"c\" /* Loader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null))), /*#__PURE__*/react_default.a.createElement(components_TicketChat, {\n    auth: auth,\n    ticket: currentTicket,\n    loading: loading || loadingSendMessage || loadingTicket || loadingTickets || errorCloseTicket,\n    onLink: onMemberLink,\n    onFinish: () => closeTicket({\n      variables: {\n        id: ticket\n      }\n    }),\n    onReport: onReport,\n    onAttach: onAttach,\n    onSubmit: value => {\n      var _currentTicket$author;\n\n      return sendTicketMessage({\n        variables: {\n          ticket: currentTicket.id,\n          recipient: (_currentTicket$author = currentTicket.author) === null || _currentTicket$author === void 0 ? void 0 : _currentTicket$author.email,\n          text: value\n        }\n      });\n    }\n  }));\n};\nView.defaultProps = {\n  appearance: 'default'\n};\n/* harmony default export */ var TicketView = (View);\n// EXTERNAL MODULE: ./store/actions/drawer.js\nvar drawer = __webpack_require__(\"Ztxg\");\n\n// EXTERNAL MODULE: ./store/actions/snacks.js\nvar snacks = __webpack_require__(\"9Xo6\");\n\n// EXTERNAL MODULE: ./store/helpers/user.js + 11 modules\nvar helpers_user = __webpack_require__(\"rP4V\");\n\n// EXTERNAL MODULE: ./store/helpers/index.js + 5 modules\nvar helpers = __webpack_require__(\"+EEm\");\n\n// CONCATENATED MODULE: ./store/helpers/ticket.js\n\n\n\n\n\n\n\n\n\n\nfunction onTicketLink(dispatch, props) {\n  const {\n    id,\n    auth\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'ticket',\n    title: 'Обращение',\n    content: /*#__PURE__*/react_default.a.createElement(TicketView, {\n      auth: auth,\n      ticket: id,\n      appearance: 'clear',\n      onAttach: () => Object(helpers[\"b\" /* onFileLink */])(dispatch),\n      onMemberLink: member => Object(helpers_user[\"i\" /* onUserLink */])(dispatch, {\n        id: member.email,\n        auth\n      })\n    })\n  }));\n}\nfunction onTicketCreate(dispatch, props) {\n  const {\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'ticket',\n    title: 'Создание обращения',\n    content: /*#__PURE__*/react_default.a.createElement(FormTicket[\"a\" /* default */], {\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          var _form$author, _form$author$value, _form$counsellor, _form$counsellor$valu, _form$category;\n\n          const tickets = await action({\n            variables: {\n              input: {\n                title: form.title,\n                message: form.message,\n                author: (_form$author = form.author) === null || _form$author === void 0 ? void 0 : (_form$author$value = _form$author.value) === null || _form$author$value === void 0 ? void 0 : _form$author$value.email,\n                counsellor: (_form$counsellor = form.counsellor) === null || _form$counsellor === void 0 ? void 0 : (_form$counsellor$valu = _form$counsellor.value) === null || _form$counsellor$valu === void 0 ? void 0 : _form$counsellor$valu.email,\n                category: (_form$category = form.category) === null || _form$category === void 0 ? void 0 : _form$category.value\n              }\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(tickets.data.createTicket));\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Обращение успешно создано'\n          }));\n        } catch (err) {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось создать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nfunction onTicketEdit(dispatch, props) {\n  const {\n    id,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'ticket',\n    title: 'Редактирование обращения',\n    content: /*#__PURE__*/react_default.a.createElement(FormTicket[\"a\" /* default */], {\n      ticket: id,\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          var _form$author2, _form$author2$value, _form$counsellor2, _form$counsellor2$val, _form$category2;\n\n          const tickets = await action({\n            variables: {\n              id,\n              input: {\n                title: form.title,\n                message: form.message,\n                messages: form.messages.map(message => ({\n                  id: message.id,\n                  text: message.text\n                })),\n                author: (_form$author2 = form.author) === null || _form$author2 === void 0 ? void 0 : (_form$author2$value = _form$author2.value) === null || _form$author2$value === void 0 ? void 0 : _form$author2$value.email,\n                counsellor: (_form$counsellor2 = form.counsellor) === null || _form$counsellor2 === void 0 ? void 0 : (_form$counsellor2$val = _form$counsellor2.value) === null || _form$counsellor2$val === void 0 ? void 0 : _form$counsellor2$val.email,\n                category: (_form$category2 = form.category) === null || _form$category2 === void 0 ? void 0 : _form$category2.value\n              }\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(tickets.data.updateTicket));\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Обращение успешно отредактировано'\n          }));\n        } catch (_unused) {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось отредактировать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nfunction onTicketDelete(dispatch, props) {\n  const {\n    ticket,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление обращения',\n    content: /*#__PURE__*/react_default.a.createElement(FormDelete[\"a\" /* default */], {\n      mutation: mutation,\n      appearance: 'clear',\n      onCancel: () => dispatch(Object(drawer[\"a\" /* setDrawer */])(null)),\n      onSubmit: async (_, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              id: ticket.id\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(tickets.data.deleteTicket));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Обращение успешно удалено'\n          }));\n        } catch (_unused2) {\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось удалить обращение'\n          }));\n        } finally {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n        }\n      }\n    }, /*#__PURE__*/react_default.a.createElement(TicketCard, {\n      ticket: ticket,\n      appearance: 'clear'\n    }))\n  }));\n}\n// EXTERNAL MODULE: ./__mock__/index.js\nvar _mock_ = __webpack_require__(\"wha1\");\n\n// CONCATENATED MODULE: ./pages/dashboard/tickets.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Обращения';\n\nconst tickets_Tickets = ({\n  store\n}) => {\n  const recall = Object(useHelper[\"b\" /* useHelper */])();\n  const {\n    user,\n    documents\n  } = Object(es[\"c\" /* useSelector */])(state => ({\n    user: state.user,\n    documents: state.documents\n  }));\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const [displayMethod, onChangeDisplayMethod] = Object(react[\"useState\"])('grid');\n  const tickets = Object(react[\"useMemo\"])(() => documents || store.tickets, [documents, store]);\n  Object(react[\"useEffect\"])(() => {\n    dispatch(Object(actions_documents[\"a\" /* setDocuments */])(null));\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(dashboard[\"a\" /* default */], {\n    title: TITLE\n  }, /*#__PURE__*/react_default.a.createElement(HandleBar[\"a\" /* default */], {\n    icon: 'ticket',\n    title: TITLE,\n    buttonCreateText: 'Создать обращение',\n    onCreate: recall(onTicketCreate, {\n      mutation: queries[\"a\" /* default */].CREATE_TICKET\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n      key: 1,\n      options: _mock_[\"a\" /* categories */],\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates[\"a\" /* default */].ticket.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), tickets.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/react_default.a.createElement(Table[\"b\" /* default */], {\n    data: tickets,\n    template: templates[\"a\" /* default */].ticket,\n    onChecked: () => {},\n    onClick: ticket => recall(onTicketLink, {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    })(),\n    onDelete: ticket => recall(onTicketDelete, {\n      ticket,\n      mutation: queries[\"a\" /* default */].DELETE_TICKET\n    })(),\n    onEdit: ticket => recall(onTicketEdit, {\n      id: ticket.id,\n      mutation: queries[\"a\" /* default */].UPDATE_TICKET\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/react_default.a.createElement(Grid[\"a\" /* default */], null, tickets.map(ticket => /*#__PURE__*/react_default.a.createElement(FadeLoad[\"a\" /* default */], {\n    key: ticket.id\n  }, /*#__PURE__*/react_default.a.createElement(LazyLoad[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(TicketCard, {\n    ticket: ticket,\n    onChecked: () => {},\n    onLink: recall(onTicketLink, {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    }),\n    onAuthorLink: author => recall(helpers_user[\"i\" /* onUserLink */], {\n      id: author,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      owned: author === user.name\n    })(),\n    onDelete: recall(onTicketDelete, {\n      ticket,\n      mutation: queries[\"a\" /* default */].DELETE_TICKET\n    }),\n    onEdit: recall(onTicketEdit, {\n      id: ticket.id,\n      mutation: queries[\"a\" /* default */].UPDATE_TICKET\n    })\n  }))))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ var dashboard_tickets = __webpack_exports__[\"default\"] = (tickets_Tickets);\n\n/***/ }),\n\n/***/ \"vJvq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Wrap; });\n/* unused harmony export Content */\n/* unused harmony export Popper */\n/* harmony import */ var C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wx14\");\n/* harmony import */ var C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"Ff2n\");\n/* harmony import */ var C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"h4VS\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"cpGi\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"7Cbv\");\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement;\n\nfunction _templateObject4() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n      width: \", \" !important;\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n      padding: 0 !important;\\n      border: none !important;\\n      box-shadow: var(--default-shadow) !important;\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n  padding: var(--default-gap) !important;\\n  border: 1px solid var(--surface-border) !important;\\n  background: var(--surface-background) !important;\\n  box-shadow: var(--default-shadow) !important;\\n  border-radius: var(--surface-border-radius) !important;\\n  border: none !important;\\n  pointer-events: initial !important;\\n\\n  \", \"\\n\\n  &.show {\\n    opacity: 1 !important;\\n  }\\n\\n  &::after {\\n    display: none !important;\\n  }\\n\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n  position: relative;\\n  display: inline-flex;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\nvar Wrap = styled_components__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"c\"].div(_templateObject());\nvar Content = Object(styled_components__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"c\"])(react_tooltip__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_templateObject2(), function (_ref) {\n  var appearance = _ref.appearance;\n  return appearance === 'clear' && Object(styled_components__WEBPACK_IMPORTED_MODULE_4__[/* css */ \"b\"])(_templateObject3());\n}, function (_ref2) {\n  var width = _ref2.width;\n  return width && Object(styled_components__WEBPACK_IMPORTED_MODULE_4__[/* css */ \"b\"])(_templateObject4(), width || 'auto');\n});\nvar Popper = function Popper(_ref3) {\n  var body = _ref3.body,\n      appearance = _ref3.appearance,\n      children = _ref3.children,\n      width = _ref3.width,\n      props = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref3, [\"body\", \"appearance\", \"children\", \"width\"]);\n\n  var id = \"popper-\".concat(Object(uuid__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])());\n  return __jsx(Wrap, null, __jsx(\"div\", {\n    \"data-event\": 'click focus',\n    \"data-for\": id,\n    \"data-tip\": true\n  }, children), __jsx(Content, Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, props, {\n    id: id,\n    width: width,\n    globalEventOff: 'click',\n    appearance: appearance\n  }), body));\n};\nPopper.defaultProps = {\n  place: 'top',\n  effect: 'solid',\n  appearance: 'default'\n};\n/* harmony default export */ __webpack_exports__[\"b\"] = (Popper);\n\n/***/ }),\n\n/***/ \"wha1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return supportLinks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return socials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return contacts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return profilePages; });\n/* unused harmony export notifications */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return categories; });\n/* unused harmony export filters */\nconst supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nconst socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nconst contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nconst profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nconst notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nconst categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nconst filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];\n\n/***/ })\n\n},[[\"IUYj\",0,2,1,3,4,5,7,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Ftickets&absolutePagePath=private-next-pages%2Fdashboard%2Ftickets.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\TicketCard\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\TicketChat\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\TicketView\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\store\\helpers\\ticket.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\tickets.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\components\\Popper\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\__mock__\\index.js"],"names":[],"mappings":"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wBAAwB,eAAK;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL,GAAG,gCAAgC,eAAK,eAAe,wBAAK;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,wRAAwR,eAAK,eAAe,wBAAM,qBAAqB,eAAK,eAAe,0BAAO,wBAAwB,eAAK,eAAe,qBAAU;AAC3Z;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACe,mDAAI,E;;;;;;;;;;;;;;ACpKO;AAC2B;AACA;AACA;AACA;AACD;AACN;AACF;AACR;AACL;AACxB;AACP;AACA;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA,0BAA0B,eAAK,eAAe,UAAU;AACxD;AACA;AACA;AACA,sBAAsB,qCAAU;AAChC,8BAA8B,0CAAU;AACxC;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACO;AACP;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA,0BAA0B,eAAK,eAAe,6BAAU;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mBAAmB,iDAAY;AAC/B,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL,GAAG;AACH;AACO;AACP;AACA;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA,0BAA0B,eAAK,eAAe,6BAAU;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mBAAmB,iDAAY;AAC/B,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL,GAAG;AACH;AACO;AACP;AACA;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA;AACA,0BAA0B,eAAK,eAAe,6BAAU;AACxD;AACA;AACA,+BAA+B,mCAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mBAAmB,iDAAY;AAC/B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,mCAAS;AAC5B;AACA;AACA,KAAK,eAAe,eAAK,eAAe,UAAU;AAClD;AACA;AACA,KAAK;AACL,GAAG;AACH,C;;;;;AChK4D;AACL;AACJ;AACE;AACU;AACR;AACF;AACc;AACjB;AACI;AACH;AACA;AACE;AACJ;AACA;AACuD;AAC3C;AACP;AACV;AACA;AAC5C;;AAEA,MAAM,eAAO;AACb;AACA,CAAC;AACD,iBAAiB,sCAAS;AAC1B;AACA;AACA;AACA,GAAG,GAAG,iCAAW;AACjB;AACA;AACA,GAAG;AACH,mBAAmB,iCAAW;AAC9B,+BAA+B,yBAAQ;AACvC,mCAAmC,yBAAQ;AAC3C,4CAA4C,yBAAQ;AACpD,iDAAiD,yBAAQ;AACzD,kBAAkB,wBAAO;AACzB,EAAE,0BAAS;AACX,aAAa,iDAAY;AACzB,GAAG;AACH,sBAAsB,eAAK,eAAe,4BAAe;AACzD;AACA,GAAG,eAAe,eAAK,eAAe,4BAAS;AAC/C;AACA;AACA;AACA,qBAAqB,cAAc;AACnC,gBAAgB,0BAAO;AACvB,KAAK;AACL;AACA;AACA,GAAG,gBAAgB,eAAK,eAAe,4BAAS;AAChD;AACA,2BAA2B,eAAK,eAAe,6BAAU;AACzD;AACA;AACA;AACA;AACA;AACA,KAAK,gBAAgB,eAAK,eAAe,yBAAM;AAC/C;AACA,eAAe,4BAAU;AACzB;AACA;AACA;AACA,KAAK;AACL,6CAA6C,4BAAS;AACtD;AACA;AACA,KAAK;AACL,GAAG,wCAAwC,eAAK,eAAe,wBAAK;AACpE;AACA;AACA;AACA;AACA,GAAG,yHAAyH,eAAK,eAAe,wBAAK;AACrJ;AACA,cAAc,4BAAS;AACvB,uBAAuB;AACvB,8BAA8B,YAAY;AAC1C;AACA;AACA,KAAK;AACL,+BAA+B,cAAc;AAC7C;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,6BAA6B,YAAY;AACzC;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG,4CAA4C,eAAK,eAAe,uBAAI,2CAA2C,eAAK,eAAe,2BAAQ;AAC9I;AACA,GAAG,eAAe,eAAK,eAAe,2BAAQ,qBAAqB,eAAK,eAAe,UAAU;AACjG;AACA,uBAAuB;AACvB,mBAAmB,YAAY;AAC/B;AACA;AACA,KAAK;AACL,mCAAmC,kCAAU;AAC7C;AACA;AACA;AACA,KAAK;AACL,qBAAqB,cAAc;AACnC;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,mBAAmB,YAAY;AAC/B;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,sGAAO,E;;;;;;;;AC3HtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2I;AACgC;AACJ;AACvK,YAAY,4CAAK;;AAEjB;AACA,aAAa,uLAAsB,kCAAkC;;AAErE;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,uLAAsB,iCAAiC,gCAAgC,qDAAqD;;AAEzJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,uLAAsB,8CAA8C,uDAAuD,qDAAqD,iDAAiD,2DAA2D,4BAA4B,uCAAuC,wBAAwB,4BAA4B,KAAK,gBAAgB,+BAA+B,KAAK;;AAEzd;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,uLAAsB,0BAA0B,yBAAyB;;AAEtF;AACA;AACA;;AAEA;AACA;;AAE0B;AACsB;AACP;AACf;AACnB,WAAW,iEAAM;AACjB,cAAc,yEAAM,CAAC,6DAAY;AACxC;AACA,mCAAmC,qEAAG;AACtC,CAAC;AACD;AACA,kBAAkB,qEAAG;AACrB,CAAC;AACM;AACP;AACA;AACA;AACA;AACA,cAAc,yLAAwB;;AAEtC,4BAA4B,4DAAE;AAC9B;AACA;AACA;AACA;AACA,GAAG,4BAA4B,yKAAQ,GAAG;AAC1C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACe,+DAAM,E;;;;;;;;ACjFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACA;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC,E","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/tickets\",\n        function () {\n          return require(\"private-next-pages/dashboard/tickets.js\");\n        }\n      ]);\n    ","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Button from '../../atomic-ui/components/Button';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport Checkbox from '../../atomic-ui/components/Checkbox';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"TicketCard__Wrap\",\n  componentId: \"sc-3sqqk7-0\"\n})([\"grid-gap:var(--default-gap);height:100%;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nexport const Header = styled(Row).withConfig({\n  displayName: \"TicketCard__Header\",\n  componentId: \"sc-3sqqk7-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\nexport const Actions = styled(Row).withConfig({\n  displayName: \"TicketCard__Actions\",\n  componentId: \"sc-3sqqk7-2\"\n})([\"grid-gap:5px;\"]);\nexport const Name = styled(Title).withConfig({\n  displayName: \"TicketCard__Name\",\n  componentId: \"sc-3sqqk7-3\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && css([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nexport const Status = styled(Text).withConfig({\n  displayName: \"TicketCard__Status\",\n  componentId: \"sc-3sqqk7-4\"\n})([\"color:\", \";\"], ({\n  status\n}) => `var(--default-color-${status === 'OPENED' ? 'accent' : 'red'})`);\nexport const Footer = styled(Row).withConfig({\n  displayName: \"TicketCard__Footer\",\n  componentId: \"sc-3sqqk7-5\"\n})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]);\nexport const Card = ({\n  ticket,\n  appearance,\n  className,\n  style,\n  onLink,\n  onAuthorLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  var _ticket$category, _ticket$author, _ticket$author$avatar, _ticket$author2, _ticket$messages;\n\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      gridGap: 0\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Meta, {\n    date: ticket.createdAt,\n    category: (_ticket$category = ticket.category) === null || _ticket$category === void 0 ? void 0 : _ticket$category.name\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/React.createElement(Actions, null, /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Удалить обращение'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Редактировать обращение'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Отметить обращение',\n    self: true\n  }, /*#__PURE__*/React.createElement(Checkbox, null)))), /*#__PURE__*/React.createElement(Name, {\n    tag: 'h4',\n    onClick: onLink\n  }, ticket.title), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/React.createElement(Status, {\n    status: ticket.status\n  }, ticket.status))), /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Difinition, {\n    label: 'Автор',\n    img: (_ticket$author = ticket.author) === null || _ticket$author === void 0 ? void 0 : (_ticket$author$avatar = _ticket$author.avatar) === null || _ticket$author$avatar === void 0 ? void 0 : _ticket$author$avatar.path,\n    text: (_ticket$author2 = ticket.author) === null || _ticket$author2 === void 0 ? void 0 : _ticket$author2.name,\n    onLink: onAuthorLink && (() => {\n      var _ticket$author3;\n\n      return onAuthorLink((_ticket$author3 = ticket.author) === null || _ticket$author3 === void 0 ? void 0 : _ticket$author3.email);\n    })\n  }), /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'chat',\n    label: 'Сообщений',\n    text: (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length\n  })));\n};\nCard.defaultProps = {\n  appearance: 'default'\n};\nexport default Card;","import React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Text from '../../atomic-ui/components/Text';\nimport DateText from '../../atomic-ui/components/DateText';\nimport Message from '../../atomic-ui/components/Message';\nimport Input from '../../atomic-ui/components/Input';\nimport Column from '../../atomic-ui/components/Column';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport Alert from '../../atomic-ui/components/Alert';\nimport { Loader } from '../Styled';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"TicketChat__Wrap\",\n  componentId: \"sc-3e5jur-0\"\n})([\"width:100%;flex-grow:1;\"]);\nexport const Header = styled(Row).withConfig({\n  displayName: \"TicketChat__Header\",\n  componentId: \"sc-3e5jur-1\"\n})([\"justify-content:space-between;width:100%;\"]);\nexport const Messages = styled(Column).withConfig({\n  displayName: \"TicketChat__Messages\",\n  componentId: \"sc-3e5jur-2\"\n})([\"position:relative;background:#fbfbfb;border-radius:var(--surface-border-radius);padding:var(--default-gap);padding-top:55px;flex-grow:1;\"]);\nexport const Meta = styled(Row).withConfig({\n  displayName: \"TicketChat__Meta\",\n  componentId: \"sc-3e5jur-3\"\n})([\"position:absolute;top:0;left:0;width:100%;justify-content:space-between;padding:8px var(--default-gap);border-radius:var(--surface-border-radius) var(--surface-border-radius) 0 0;background:var(--ghost-color-background);time{font-size:var(--font-size-m);font-weight:var(--font-weight-regular);color:var(--default-color-text);}\"]);\nexport const AuthAlert = styled(Alert).withConfig({\n  displayName: \"TicketChat__AuthAlert\",\n  componentId: \"sc-3e5jur-4\"\n})([\"width:100%;text-align:center;\"]);\nexport const Empty = styled(Text).withConfig({\n  displayName: \"TicketChat__Empty\",\n  componentId: \"sc-3e5jur-5\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;height:100%;flex-grow:1;\"]);\nexport const TicketChat = ({\n  auth,\n  ticket,\n  loading,\n  onLink,\n  onFinish,\n  // onReport,\n  onAttach,\n  onSubmit,\n  ...props\n}) => {\n  var _ticket$counsellor, _ticket$author, _ticket$messages, _ticket$counsellor3, _ticket$counsellor4;\n\n  const [message, setMessage] = useState('');\n  const messageRef = useRef(null);\n  const isAccess = (ticket === null || ticket === void 0 ? void 0 : (_ticket$counsellor = ticket.counsellor) === null || _ticket$counsellor === void 0 ? void 0 : _ticket$counsellor.email) === auth;\n  return /*#__PURE__*/React.createElement(Wrap, props, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Difinition, {\n    label: 'Автор обращения',\n    text: ticket !== null && ticket !== void 0 && (_ticket$author = ticket.author) !== null && _ticket$author !== void 0 && _ticket$author.name && !loading ? ticket.author.name : '-'\n  }), /*#__PURE__*/React.createElement(Row, null, (ticket === null || ticket === void 0 ? void 0 : ticket.status) !== 'CLOSED' && /*#__PURE__*/React.createElement(Button, {\n    onClick: onFinish,\n    disabled: !isAccess || loading || !ticket\n  }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\"))), /*#__PURE__*/React.createElement(Messages, null, /*#__PURE__*/React.createElement(Meta, null, /*#__PURE__*/React.createElement(Text, null, \"\\u0422\\u0435\\u043C\\u0430: \", ticket !== null && ticket !== void 0 && ticket.title && !loading ? ticket.title : '-'), ticket !== null && ticket !== void 0 && ticket.createdAt && !loading ? /*#__PURE__*/React.createElement(DateText, {\n    text: ticket.createdAt,\n    options: {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    }\n  }) : /*#__PURE__*/React.createElement(Text, null, \"-\")), !loading && (ticket === null || ticket === void 0 ? void 0 : (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length) > 0 ? ((ticket === null || ticket === void 0 ? void 0 : ticket.messages) || []).map(message => {\n    var _message$user, _message$user$avatar, _message$user2, _ticket$counsellor2, _message$user3;\n\n    return /*#__PURE__*/React.createElement(Message, {\n      key: message.id,\n      avatar: (_message$user = message.user) === null || _message$user === void 0 ? void 0 : (_message$user$avatar = _message$user.avatar) === null || _message$user$avatar === void 0 ? void 0 : _message$user$avatar.path,\n      side: ((_message$user2 = message.user) === null || _message$user2 === void 0 ? void 0 : _message$user2.email) === ((_ticket$counsellor2 = ticket.counsellor) === null || _ticket$counsellor2 === void 0 ? void 0 : _ticket$counsellor2.email) ? 'owner' : 'observer',\n      name: (_message$user3 = message.user) === null || _message$user3 === void 0 ? void 0 : _message$user3.name,\n      text: message.text,\n      time: message.createdAt !== message.updatedAt ? message.updatedAt : message.createdAt,\n      tails: {\n        default: '/parts/tail.svg',\n        owner: '/parts/tail-owner.svg'\n      },\n      onLink: () => onLink(message.user)\n    });\n  }) : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : !ticket ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0423\\u043F\\u0441! \\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E\\u0431 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0438\") : /*#__PURE__*/React.createElement(Empty, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\")), isAccess ? /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    disabled: loading || !ticket,\n    onSubmit: onAttach\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'attach',\n    stroke: 'white'\n  })), /*#__PURE__*/React.createElement(Input, {\n    ref: messageRef,\n    placeholder: 'Отправьте сообщенение...',\n    disabled: loading || !ticket,\n    appearance: 'ghost',\n    onChange: e => {\n      var _e$target;\n\n      return setMessage((e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || '');\n    },\n    onKeyDown: e => {\n      // Pressed ENTER\n      if (e.keyCode === 13) {\n        onSubmit(message);\n        messageRef.current.value = '';\n      }\n    },\n    tabIndex: -1\n  }), /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    disabled: loading || !ticket,\n    onClick: () => {\n      onSubmit(message);\n      messageRef.current.value = '';\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'send',\n    stroke: 'white'\n  }))) : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(AuthAlert, null, \"\\u0414\\u043B\\u044F \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430 \\u043D\\u0430 \\u044D\\u0442\\u043E \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435, \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0443\\u0439\\u0442\\u0435\\u0441\\u044C \\u043F\\u043E\\u0434 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u043C \", ticket === null || ticket === void 0 ? void 0 : (_ticket$counsellor3 = ticket.counsellor) === null || _ticket$counsellor3 === void 0 ? void 0 : _ticket$counsellor3.name, \" (\", ticket === null || ticket === void 0 ? void 0 : (_ticket$counsellor4 = ticket.counsellor) === null || _ticket$counsellor4 === void 0 ? void 0 : _ticket$counsellor4.email, \")\"));\n};\nexport default TicketChat;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useEffect, useMemo } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Member from '../../atomic-ui/components/Member';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Search from '../../atomic-ui/components/Search';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport TicketChat from '../TicketChat';\nimport { setDocuments } from '../../store/actions/documents';\nimport queries from '../../graphql/queries';\nimport { Loader } from '../Styled';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"TicketView__Wrap\",\n  componentId: \"sc-1wxiq0b-0\"\n})([\"height:100%;flex-grow:1;@media only screen and (max-width:568px){flex-direction:column;}\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nexport const Tickets = styled(Column).withConfig({\n  displayName: \"TicketView__Tickets\",\n  componentId: \"sc-1wxiq0b-1\"\n})([\"grid-gap:0;width:320px;@media only screen and (max-width:568px){width:100%;}\"]);\nexport const Ticket = styled(Member).withConfig({\n  displayName: \"TicketView__Ticket\",\n  componentId: \"sc-1wxiq0b-2\"\n})([\"margin:10px 0 0 0;padding:10px;border-radius:var(--surface-border-radius);\", \"\"], ({\n  active\n}) => active && css([\"background:var(--input-background);\"]));\nexport const LIMIT_TICKETS = 36;\nexport const View = ({\n  auth,\n  ticket,\n  appearance,\n  onMemberLink,\n  onReport,\n  onAttach,\n  ...props\n}) => {\n  const [currentTicket, setCurrentTicket] = useState(null); // TODO: Fetch more tickets by scrolling\n  // eslint-disable-next-line no-unused-vars\n\n  const [offsetTickets, setOffsetTickets] = useState(0);\n  const [loadingTicket, setLoadingTicket] = useState(false);\n  const [tickets, setTickets] = useState([]);\n  const documents = useSelector(state => state.documents);\n  const dispatch = useDispatch();\n  const variablesTickets = useMemo(() => ({\n    offset: offsetTickets,\n    limit: LIMIT_TICKETS\n  }), [offsetTickets]);\n  const {\n    data,\n    loading,\n    refetch\n  } = useQuery(queries.GET_TICKET, {\n    variables: {\n      id: ticket\n    }\n  });\n  const [closeTicket, {\n    data: dataCloseTicket,\n    loading: loadingCloseTicket,\n    error: errorCloseTicket\n  }] = useMutation(queries.CLOSE_TICKET);\n  const [sendTicketMessage, {\n    data: dataSendMessage,\n    loading: loadingSendMessage\n  }] = useMutation(queries.SEND_TICKET_MESSAGE);\n  const {\n    data: dataTickets,\n    loading: loadingTickets,\n    error: errorTickets // fetchMore: updateTickets\n\n  } = useQuery(queries.GET_TICKETS, {\n    variables: variablesTickets\n  });\n  useEffect(() => {\n    if (!loading && data !== null && data !== void 0 && data.getTicket) {\n      setCurrentTicket(data.getTicket);\n    }\n\n    if (!loadingCloseTicket && dataCloseTicket !== null && dataCloseTicket !== void 0 && dataCloseTicket.closeTicket) {\n      const candidate = dataCloseTicket.closeTicket;\n      setCurrentTicket(candidate);\n      dispatch(setDocuments((documents || []).map(document => document.id === candidate.id ? candidate : document)));\n    }\n  }, [data, dataCloseTicket, loading, loadingCloseTicket]);\n  useEffect(() => {\n    if (!loadingTickets && dataTickets) {\n      setTickets(dataTickets.getTickets);\n    }\n  }, [dataTickets, loadingTickets]);\n  useEffect(() => {\n    if (!loadingSendMessage && dataSendMessage) {\n      setCurrentTicket(prev => ({ ...prev,\n        messages: dataSendMessage.sendTicketMessage\n      }));\n    }\n  }, [dataSendMessage, loadingSendMessage]);\n  return /*#__PURE__*/React.createElement(Wrap, _extends({}, props, {\n    appearance: appearance\n  }), /*#__PURE__*/React.createElement(Tickets, null, /*#__PURE__*/React.createElement(Search, {\n    appearance: 'ghost',\n    onSubmit: () => {}\n  }), !loadingTickets ? tickets.map(item => {\n    var _item$author;\n\n    return /*#__PURE__*/React.createElement(Ticket, {\n      key: item.id,\n      name: item.title,\n      position: (_item$author = item.author) === null || _item$author === void 0 ? void 0 : _item$author.name,\n      active: currentTicket && currentTicket.id === item.id,\n      onClick: async () => {\n        setLoadingTicket(true);\n        await refetch({\n          id: item.id\n        });\n        setCurrentTicket(item);\n        setLoadingTicket(false);\n      }\n    });\n  }) : errorTickets ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      marginTop: 15,\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0423\\u043F\\u0441! \\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E \\u043E\\u0431 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0438\") : /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null))), /*#__PURE__*/React.createElement(TicketChat, {\n    auth: auth,\n    ticket: currentTicket,\n    loading: loading || loadingSendMessage || loadingTicket || loadingTickets || errorCloseTicket,\n    onLink: onMemberLink,\n    onFinish: () => closeTicket({\n      variables: {\n        id: ticket\n      }\n    }),\n    onReport: onReport,\n    onAttach: onAttach,\n    onSubmit: value => {\n      var _currentTicket$author;\n\n      return sendTicketMessage({\n        variables: {\n          ticket: currentTicket.id,\n          recipient: (_currentTicket$author = currentTicket.author) === null || _currentTicket$author === void 0 ? void 0 : _currentTicket$author.email,\n          text: value\n        }\n      });\n    }\n  }));\n};\nView.defaultProps = {\n  appearance: 'default'\n};\nexport default View;","import React from 'react';\nimport TicketForm from '../../components/FormTicket';\nimport DeleteForm from '../../components/FormDelete';\nimport TicketCard from '../../components/TicketCard';\nimport TicketView from '../../components/TicketView';\nimport { setDocuments } from '../actions/documents';\nimport { setDrawer } from '../actions/drawer';\nimport { setItem } from '../actions/snacks';\nimport { onUserLink } from './user';\nimport { onFileLink } from '.';\nexport function onTicketLink(dispatch, props) {\n  const {\n    id,\n    auth\n  } = props;\n  dispatch(setDrawer({\n    icon: 'ticket',\n    title: 'Обращение',\n    content: /*#__PURE__*/React.createElement(TicketView, {\n      auth: auth,\n      ticket: id,\n      appearance: 'clear',\n      onAttach: () => onFileLink(dispatch),\n      onMemberLink: member => onUserLink(dispatch, {\n        id: member.email,\n        auth\n      })\n    })\n  }));\n}\nexport function onTicketCreate(dispatch, props) {\n  const {\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'ticket',\n    title: 'Создание обращения',\n    content: /*#__PURE__*/React.createElement(TicketForm, {\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          var _form$author, _form$author$value, _form$counsellor, _form$counsellor$valu, _form$category;\n\n          const tickets = await action({\n            variables: {\n              input: {\n                title: form.title,\n                message: form.message,\n                author: (_form$author = form.author) === null || _form$author === void 0 ? void 0 : (_form$author$value = _form$author.value) === null || _form$author$value === void 0 ? void 0 : _form$author$value.email,\n                counsellor: (_form$counsellor = form.counsellor) === null || _form$counsellor === void 0 ? void 0 : (_form$counsellor$valu = _form$counsellor.value) === null || _form$counsellor$valu === void 0 ? void 0 : _form$counsellor$valu.email,\n                category: (_form$category = form.category) === null || _form$category === void 0 ? void 0 : _form$category.value\n              }\n            }\n          });\n          dispatch(setDocuments(tickets.data.createTicket));\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Обращение успешно создано'\n          }));\n        } catch (err) {\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось создать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nexport function onTicketEdit(dispatch, props) {\n  const {\n    id,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'ticket',\n    title: 'Редактирование обращения',\n    content: /*#__PURE__*/React.createElement(TicketForm, {\n      ticket: id,\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          var _form$author2, _form$author2$value, _form$counsellor2, _form$counsellor2$val, _form$category2;\n\n          const tickets = await action({\n            variables: {\n              id,\n              input: {\n                title: form.title,\n                message: form.message,\n                messages: form.messages.map(message => ({\n                  id: message.id,\n                  text: message.text\n                })),\n                author: (_form$author2 = form.author) === null || _form$author2 === void 0 ? void 0 : (_form$author2$value = _form$author2.value) === null || _form$author2$value === void 0 ? void 0 : _form$author2$value.email,\n                counsellor: (_form$counsellor2 = form.counsellor) === null || _form$counsellor2 === void 0 ? void 0 : (_form$counsellor2$val = _form$counsellor2.value) === null || _form$counsellor2$val === void 0 ? void 0 : _form$counsellor2$val.email,\n                category: (_form$category2 = form.category) === null || _form$category2 === void 0 ? void 0 : _form$category2.value\n              }\n            }\n          });\n          dispatch(setDocuments(tickets.data.updateTicket));\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Обращение успешно отредактировано'\n          }));\n        } catch (_unused) {\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось отредактировать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nexport function onTicketDelete(dispatch, props) {\n  const {\n    ticket,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление обращения',\n    content: /*#__PURE__*/React.createElement(DeleteForm, {\n      mutation: mutation,\n      appearance: 'clear',\n      onCancel: () => dispatch(setDrawer(null)),\n      onSubmit: async (_, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              id: ticket.id\n            }\n          });\n          dispatch(setDocuments(tickets.data.deleteTicket));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Обращение успешно удалено'\n          }));\n        } catch (_unused2) {\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось удалить обращение'\n          }));\n        } finally {\n          dispatch(setDrawer(null));\n        }\n      }\n    }, /*#__PURE__*/React.createElement(TicketCard, {\n      ticket: ticket,\n      appearance: 'clear'\n    }))\n  }));\n}","import React, { useState, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Grid from '../../atomic-ui/components/Grid';\nimport Alert from '../../atomic-ui/components/Alert';\nimport DatePicker from '../../atomic-ui/components/DatePicker';\nimport Select from '../../atomic-ui/components/Select';\nimport Table from '../../atomic-ui/components/Table';\nimport templates from '../../atomic-ui/components/Table/templates';\nimport { useHelper } from '../../hooks/useHelper';\nimport DashboardLayout from '../../layouts/dashboard';\nimport HandleBar from '../../components/HandleBar';\nimport FilterBar from '../../components/FilterBar';\nimport TicketCard from '../../components/TicketCard';\nimport LazyLoad from '../../components/LazyLoad';\nimport FadeLoad from '../../components/FadeLoad';\nimport { onTicketCreate, onTicketEdit, onTicketDelete, onTicketLink } from '../../store/helpers/ticket';\nimport { setDocuments } from '../../store/actions/documents';\nimport { onUserLink } from '../../store/helpers/user';\nimport queries from '../../graphql/queries';\nimport { categories } from '../../__mock__';\nconst TITLE = 'Обращения';\n\nconst Tickets = ({\n  store\n}) => {\n  const recall = useHelper();\n  const {\n    user,\n    documents\n  } = useSelector(state => ({\n    user: state.user,\n    documents: state.documents\n  }));\n  const dispatch = useDispatch();\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [displayMethod, onChangeDisplayMethod] = useState('grid');\n  const tickets = useMemo(() => documents || store.tickets, [documents, store]);\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    title: TITLE\n  }, /*#__PURE__*/React.createElement(HandleBar, {\n    icon: 'ticket',\n    title: TITLE,\n    buttonCreateText: 'Создать обращение',\n    onCreate: recall(onTicketCreate, {\n      mutation: queries.CREATE_TICKET\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/React.createElement(DatePicker, {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/React.createElement(Select, {\n      key: 1,\n      options: categories,\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates.ticket.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), tickets.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/React.createElement(Table, {\n    data: tickets,\n    template: templates.ticket,\n    onChecked: () => {},\n    onClick: ticket => recall(onTicketLink, {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    })(),\n    onDelete: ticket => recall(onTicketDelete, {\n      ticket,\n      mutation: queries.DELETE_TICKET\n    })(),\n    onEdit: ticket => recall(onTicketEdit, {\n      id: ticket.id,\n      mutation: queries.UPDATE_TICKET\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/React.createElement(Grid, null, tickets.map(ticket => /*#__PURE__*/React.createElement(FadeLoad, {\n    key: ticket.id\n  }, /*#__PURE__*/React.createElement(LazyLoad, null, /*#__PURE__*/React.createElement(TicketCard, {\n    ticket: ticket,\n    onChecked: () => {},\n    onLink: recall(onTicketLink, {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    }),\n    onAuthorLink: author => recall(onUserLink, {\n      id: author,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      owned: author === user.name\n    })(),\n    onDelete: recall(onTicketDelete, {\n      ticket,\n      mutation: queries.DELETE_TICKET\n    }),\n    onEdit: recall(onTicketEdit, {\n      id: ticket.id,\n      mutation: queries.UPDATE_TICKET\n    })\n  }))))));\n};\n\nexport var __N_SSP = true;\nexport default Tickets;","import _extends from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      width: \", \" !important;\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      padding: 0 !important;\\n      border: none !important;\\n      box-shadow: var(--default-shadow) !important;\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: var(--default-gap) !important;\\n  border: 1px solid var(--surface-border) !important;\\n  background: var(--surface-background) !important;\\n  box-shadow: var(--default-shadow) !important;\\n  border-radius: var(--surface-border-radius) !important;\\n  border: none !important;\\n  pointer-events: initial !important;\\n\\n  \", \"\\n\\n  &.show {\\n    opacity: 1 !important;\\n  }\\n\\n  &::after {\\n    display: none !important;\\n  }\\n\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: inline-flex;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport ReactTooltip from 'react-tooltip';\nimport { v4 } from 'uuid';\nexport var Wrap = styled.div(_templateObject());\nexport var Content = styled(ReactTooltip)(_templateObject2(), function (_ref) {\n  var appearance = _ref.appearance;\n  return appearance === 'clear' && css(_templateObject3());\n}, function (_ref2) {\n  var width = _ref2.width;\n  return width && css(_templateObject4(), width || 'auto');\n});\nexport var Popper = function Popper(_ref3) {\n  var body = _ref3.body,\n      appearance = _ref3.appearance,\n      children = _ref3.children,\n      width = _ref3.width,\n      props = _objectWithoutProperties(_ref3, [\"body\", \"appearance\", \"children\", \"width\"]);\n\n  var id = \"popper-\".concat(v4());\n  return __jsx(Wrap, null, __jsx(\"div\", {\n    \"data-event\": 'click focus',\n    \"data-for\": id,\n    \"data-tip\": true\n  }, children), __jsx(Content, _extends({}, props, {\n    id: id,\n    width: width,\n    globalEventOff: 'click',\n    appearance: appearance\n  }), body));\n};\nPopper.defaultProps = {\n  place: 'top',\n  effect: 'solid',\n  appearance: 'default'\n};\nexport default Popper;","export const supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nexport const socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nexport const contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nexport const profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nexport const notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nexport const categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nexport const filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];"]}}