{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{Aoc7:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return b}));var n=a(\"q1tI\"),l=a.n(n),o=a(\"/MKj\"),i=a(\"ZMKu\"),r=a(\"ApjV\"),c=a(\"QX5T\"),s=a(\"TsNn\"),u=a(\"586Q\"),d=a(\"rP4V\"),m=a(\"+EEm\"),p=a(\"u2Cb\");var b=!0;t.default=({store:e})=>{const t=Object(r.b)(),a=Object(o.c)((e=>e.user));return l.a.createElement(c.a,{title:\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u044b\",filters:[{type:\"DATEPICKER\",placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0430\\u0440\\u0446\\u0438\\u0438\"},{type:\"SELECT\",placeholder:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",options:null===e||void 0===e?void 0:e.companies.map((e=>({value:e.email,label:e.name})))}],options:[{label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",value:\"company\"},{label:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438\",value:\"members\"},{label:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0430\\u0440\\u0446\\u0438\\u0438\",value:\"createdAt\"}],query:p.a.GET_USERS,store:{documents:null===e||void 0===e?void 0:e.users}},(({documents:e})=>l.a.createElement(u.b,null,e.map((e=>{var n;const o=e.name===a.name;return l.a.createElement(i.a.div,{key:e.email,initial:\"pageInitial\",animate:\"pageAnimate\",variants:{pageInitial:{opacity:0},pageAnimate:{opacity:1}}},l.a.createElement(s.a,{user:e,owned:o,onChat:a.email&&t(m.a,{sender:a,recipient:e}),onAboutMore:t(d.a,{user:e}),onMembers:t(d.j,{id:null===e||void 0===e?void 0:e.email,auth:null===a||void 0===a?void 0:a.email}),onLink:t(d.i,{id:e.email,auth:null===a||void 0===a?void 0:a.email,owned:o}),onCompanyLink:t(d.i,{id:null===(n=e.company)||void 0===n?void 0:n.email,auth:null===a||void 0===a?void 0:a.email})}))})))))}},QX5T:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),o=a(\"vOnD\"),i=a(\"VX74\"),r=a(\"7Cbv\"),c=a(\"8CDE\"),s=a(\"ZwIX\"),u=a(\"wZgm\"),d=a(\"auMy\"),m=a(\"QclZ\");const p=(e,t=0)=>{const[a,l]=Object(n.useState)(!1),o=()=>{const e=document.documentElement.scrollHeight-t,n=window.innerHeight,o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;a||n+o>=e||l(!0)};return Object(n.useEffect)((()=>{a&&e()}),[a]),Object(n.useEffect)((()=>(window.addEventListener(\"scroll\",o),()=>window.removeEventListener(\"scroll\",o))),[]),[a,l]};var b=a(\"X+Rt\"),E=a(\"p9yE\"),f=a(\"RoTl\"),h=a(\"EYtC\"),v=a(\"coMr\"),w=a(\"586Q\");const y=Object(o.c)(c.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(o.b)([\"margin:0;\"])));t.a=({title:e,store:t,query:a,handle:o,filters:c,options:g,research:O,scaffold:j,dashboard:C,variables:_={},limit:S=6,startOffset:T=6,bottomScrollOffset:A=450,children:I})=>{const x=C?E.a:b.a,[N,k]=Object(n.useState)(),[L,M]=Object(n.useState)(),[Q,X]=Object(n.useState)(null),[D,K]=Object(n.useState)(!1),[P,Z]=Object(n.useState)(T),[R,q]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[V,{data:z,loading:F,error:H,refetch:J}]=Object(i.useLazyQuery)(a),[Y,{data:G,loading:U,error:W,refetch:B}]=Object(i.useLazyQuery)(a),[$,ee]=p((async()=>{const e={..._,offset:P,limit:S};Q?await J(_):B?await B(e):await Y({variables:e}),Z((e=>e+S)),ee(!1)}),A),te=e=>{if(q([]),e)X(e),Z(T),V({variables:{..._,search:e,offset:0,limit:T}});else{const e={..._,offset:0,limit:S};X(null),Z(0),B?B(e):Y({variables:e})}};return Object(n.useEffect)((()=>{O&&te(O)}),[O]),Object(n.useEffect)((()=>{const e=!Q&&!U&&G||Q&&!F&&z;e&&q((t=>[...t,...e[Object.keys(e)[0]]]))}),[Q,U,F,G,z]),l.a.createElement(x,{title:e,scaffold:j},l.a.createElement(y,{clear:j||C},!j&&!C&&l.a.createElement(h.a,{onChangeFilter:()=>K(!D),onSubmit:te}),C&&o&&l.a.createElement(v.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>K(!D),onChangeDisplayMethod:o.onChangeDisplayMethod}),(c||g)&&l.a.createElement(f.a,{isOpen:D,filters:c.map((e=>{switch(e.type){case\"DATEPICKER\":return l.a.createElement(u.a,{key:Object(r.a)(),value:N,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:k,withNavigate:!0});case\"SELECT\":return l.a.createElement(m.a,{key:Object(r.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:L,onChange:e=>M(e)});default:return null}})),options:g}),l.a.createElement(I,{documents:R}),Q&&!F&&0===R.length&&l.a.createElement(s.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041f\\u043e \\u0432\\u0430\\u0448\\u0435\\u043c\\u0443 \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441\\u0443 \\u043d\\u0438\\u0447\\u0435\\u0433\\u043e \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d\\u043e\"),(Q&&H||!Q&&W)&&l.a.createElement(s.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"),(!W&&U||Q&&!H&&F||$)&&l.a.createElement(w.d,null,l.a.createElement(d.a,null)),!Q&&!U&&!F&&!H&&0===R.length&&l.a.createElement(s.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0414\\u0430\\u043d\\u043d\\u044b\\u0445 \\u043d\\u0435\\u0442\")))}},ZtKI:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/creators\",function(){return a(\"Aoc7\")}])}},[[\"ZtKI\",0,2,10,1,3,4,5,6,7,11]]]);","map":{"version":3,"sources":["static/chunks/pages/creators-8528a84f70018b528c36.js"],"names":["_N_E","window","push","Aoc7","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","framer_motion__WEBPACK_IMPORTED_MODULE_2__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_3__","_layouts_content__WEBPACK_IMPORTED_MODULE_4__","_components_UserCard__WEBPACK_IMPORTED_MODULE_5__","_components_Styled__WEBPACK_IMPORTED_MODULE_6__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__","_store_helpers__WEBPACK_IMPORTED_MODULE_8__","_graphql_queries__WEBPACK_IMPORTED_MODULE_9__","store","recall","Object","user","state","a","createElement","title","filters","type","placeholder","options","companies","map","company","value","email","label","name","query","GET_USERS","documents","users","author","_author$company","owned","div","key","initial","animate","variants","pageInitial","opacity","pageAnimate","onChat","sender","recipient","onAboutMore","onMembers","id","auth","onLink","onCompanyLink","QX5T","react","react_default","styled_components_browser_esm","client","v4","Column","Alert","DatePicker","Spinner","Select","useInfiniteScroll","fetchCallback","offsetBottom","isFetching","setIsFetching","onScroll","offsetHeight","document","documentElement","scrollHeight","innerHeight","scrollTop","pageYOffset","body","addEventListener","removeEventListener","layouts_default","layouts_dashboard","FilterBar","SearchBar","HandleBar","Styled","Wrap","withConfig","displayName","componentId","clear","handle","research","scaffold","dashboard","variables","limit","startOffset","bottomScrollOffset","children","Layout","date","onChangeDate","select","onChangeSelect","search","setSearch","visibleFilter","setVisibleFilter","offset","setOffset","setDocuments","loadDocumentsBySearch","data","dataBySearch","loading","loadingBySearch","error","errorBySearch","refetch","refetchBySearch","loadDocuments","async","result","prev","onSearch","keys","onChangeFilter","onSubmit","icon","buttonCreateText","onCreate","onChangeVisibleFilter","onChangeDisplayMethod","isOpen","filter","onChange","withNavigate","selected","item","length","style","width","textAlign","appearance","ZtKI","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/creators-8528a84f70018b528c36.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[21],{\n\n/***/ \"Aoc7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"ZMKu\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_UserCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"TsNn\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _store_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"+EEm\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Авторы';\n\nconst Creators = ({\n  store\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_3__[/* useHelper */ \"b\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.user);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER',\n      placeholder: 'Дата регистарции'\n    }, {\n      type: 'SELECT',\n      placeholder: 'Компания',\n      options: store === null || store === void 0 ? void 0 : store.companies.map(company => ({\n        value: company.email,\n        label: company.name\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата регистарции',\n      value: 'createdAt'\n    }],\n    query: _graphql_queries__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].GET_USERS,\n    store: {\n      documents: store === null || store === void 0 ? void 0 : store.users\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_6__[/* GridAside */ \"b\"], null, documents.map(author => {\n    var _author$company;\n\n    const owned = author.name === user.name;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_2__[/* motion */ \"a\"].div, {\n      key: author.email,\n      initial: 'pageInitial',\n      animate: 'pageAnimate',\n      variants: {\n        pageInitial: {\n          opacity: 0\n        },\n        pageAnimate: {\n          opacity: 1\n        }\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UserCard__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(_store_helpers__WEBPACK_IMPORTED_MODULE_8__[/* onChat */ \"a\"], {\n        sender: user,\n        recipient: author\n      }),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__[/* onUserAboutMore */ \"a\"], {\n        user: author\n      }),\n      onMembers: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__[/* onUserMembers */ \"j\"], {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__[/* onUserLink */ \"i\"], {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_7__[/* onUserLink */ \"i\"], {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    }));\n  })));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Creators);\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(\"7Cbv\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// CONCATENATED MODULE: ./hooks/useInfiniteScroll.js\n\nconst useInfiniteScroll = (fetchCallback, offsetBottom = 0) => {\n  const [isFetching, setIsFetching] = Object(react[\"useState\"])(false);\n\n  const onScroll = () => {\n    const offsetHeight = document.documentElement.scrollHeight - offsetBottom;\n    const innerHeight = window.innerHeight;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    if (isFetching || innerHeight + scrollTop >= offsetHeight) return;\n    setIsFetching(true);\n  };\n\n  Object(react[\"useEffect\"])(() => {\n    if (!isFetching) return;\n    fetchCallback();\n  }, [isFetching]);\n  Object(react[\"useEffect\"])(() => {\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n  return [isFetching, setIsFetching];\n};\n/* harmony default export */ var hooks_useInfiniteScroll = (useInfiniteScroll);\n// EXTERNAL MODULE: ./layouts/default.js + 3 modules\nvar layouts_default = __webpack_require__(\"X+Rt\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 2 modules\nvar layouts_dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./components/SearchBar/index.js\nvar SearchBar = __webpack_require__(\"EYtC\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/Styled/index.js\nvar Styled = __webpack_require__(\"586Q\");\n\n// CONCATENATED MODULE: ./layouts/content.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components_browser_esm[\"b\" /* css */])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  research,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  bottomScrollOffset = 450,\n  children\n}) => {\n  const Layout = dashboard ? layouts_dashboard[\"a\" /* default */] : layouts_default[\"a\" /* default */];\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [search, setSearch] = Object(react[\"useState\"])(null);\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const [offset, setOffset] = Object(react[\"useState\"])(startOffset);\n  const [documents, setDocuments] = Object(react[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    error: errorBySearch,\n    refetch: refetchBySearch\n  }] = Object(client[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = Object(client[\"useLazyQuery\"])(query);\n  const [isFetching, setIsFetching] = useInfiniteScroll(async () => {\n    const result = { ...variables,\n      offset,\n      limit\n    };\n    if (search) await refetchBySearch(variables);else {\n      if (refetch) await refetch(result);else await loadDocuments({\n        variables: result\n      });\n    }\n    setOffset(prev => prev + limit);\n    setIsFetching(false);\n  }, bottomScrollOffset);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n            key: Object(v4[\"a\" /* default */])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n            key: Object(v4[\"a\" /* default */])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      setOffset(startOffset);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      setOffset(0);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n  };\n\n  Object(react[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react[\"useEffect\"])(() => {\n    const isCommon = !search && !loading && data;\n    const isSearch = search && !loadingBySearch && dataBySearch;\n    const result = isCommon || isSearch;\n    if (result) setDocuments(prev => [...prev, ...result[Object.keys(result)[0]]]);\n  }, [search, loading, loadingBySearch, data, dataBySearch]);\n  return /*#__PURE__*/react_default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react_default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react_default.a.createElement(SearchBar[\"a\" /* default */], {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react_default.a.createElement(HandleBar[\"a\" /* default */], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), react_default.a.createElement(children, {\n    documents\n  }), search && !loadingBySearch && documents.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"), (search && errorBySearch || !search && error) && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), (!error && loading || search && !errorBySearch && loadingBySearch || isFetching) && /*#__PURE__*/react_default.a.createElement(Styled[\"d\" /* LowerLoader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null)), !search && !loading && !loadingBySearch && !errorBySearch && documents.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\")));\n};\n\n/* harmony default export */ var content = __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"ZtKI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/creators\",\n        function () {\n          return __webpack_require__(\"Aoc7\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"ZtKI\",0,2,10,1,3,4,5,6,7,11]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\creators.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\hooks\\useInfiniteScroll.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcreators&absolutePagePath=private-next-pages%2Fcreators.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B;AACgB;AACH;AACQ;AACA;AACD;AACgB;AACqB;AACzC;AACD;AACzC;;AAEA;AACA;AACA,CAAC;AACD,iBAAiB,0EAAS;AAC1B,eAAe,uEAAW;AAC1B,sBAAsB,4CAAK,eAAe,gEAAa;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,WAAW,gEAAO;AAClB;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG,kBAAkB,4CAAK,eAAe,oEAAS;AAClD;;AAEA;AACA,wBAAwB,4CAAK,eAAe,4DAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK,eAAe,4CAAK,eAAe,oEAAQ;AAChD;AACA;AACA,mCAAmC,6DAAM;AACzC;AACA;AACA,OAAO;AACP,0BAA0B,2EAAe;AACzC;AACA,OAAO;AACP,wBAAwB,yEAAa;AACrC;AACA;AACA,OAAO;AACP,qBAAqB,sEAAU;AAC/B;AACA;AACA;AACA,OAAO;AACP,4BAA4B,sEAAU;AACtC;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,uEAAQ,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1FqB;AACrC;AACP,sCAAsC,yBAAQ;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE,0BAAS;AACX;AACA;AACA,GAAG;AACH,EAAE,0BAAS;AACX;AACA;AACA,GAAG;AACH;AACA;AACe,6EAAiB,E;;;;;;;;;;;;;;;;;;;;ACtBmB;AACH;AACG;AACzB;AAC0B;AACF;AACU;AACN;AACF;AACW;AAChB;AACL;AACM;AACA;AACA;AACG;AACnD,aAAa,wDAAM,CAAC,yBAAM;AAC1B;AACA;AACA,CAAC,qBAAqB,mBAAmB,8CAA8C,cAAc;AACrG;AACA,CAAC,cAAc,oDAAG,YAAY;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,CAAC;AACD,6BAA6B,oCAAe,GAAG,kCAAa;AAC5D,+BAA+B,yBAAQ;AACvC,mCAAmC,yBAAQ;AAC3C,8BAA8B,yBAAQ;AACtC,4CAA4C,yBAAQ;AACpD,8BAA8B,yBAAQ;AACtC,oCAAoC,yBAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI,8BAAY;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG,IAAI,8BAAY;AACnB,sCAAsC,iBAAiB;AACvD,oBAAoB;AACpB;AACA;AACA;AACA,iDAAiD;AACjD,yCAAyC;AACzC;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,8BAA8B,eAAK,eAAe,6BAAU;AAC5D,iBAAiB,6BAAE;AACnB;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA,8BAA8B,eAAK,eAAe,yBAAM;AACxD,iBAAiB,6BAAE;AACnB;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,OAAO;AACP;AACA;;AAEA,EAAE,0BAAS;AACX;AACA,GAAG;AACH,EAAE,0BAAS;AACX;AACA;AACA;AACA;AACA,GAAG;AACH,sBAAsB,eAAK;AAC3B;AACA;AACA,GAAG,eAAe,eAAK;AACvB;AACA,GAAG,0CAA0C,eAAK,eAAe,4BAAS;AAC1E;AACA;AACA,GAAG,uCAAuC,eAAK,eAAe,4BAAS;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,wCAAwC,eAAK,eAAe,4BAAS;AACxE;AACA;AACA;AACA,GAAG,GAAG,eAAK;AACX;AACA,GAAG,wEAAwE,eAAK,eAAe,wBAAK;AACpG;AACA;AACA;AACA;AACA,GAAG,8PAA8P,eAAK,eAAe,wBAAK;AAC1R;AACA;AACA;AACA;AACA;AACA,GAAG,2PAA2P,eAAK,eAAe,6BAAW,qBAAqB,eAAK,eAAe,0BAAO,8GAA8G,eAAK,eAAe,wBAAK;AACpd;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEe,oFAAa,E;;;;;;;;AC7K5B;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAgC;AACzD;AACA","file":"x","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { motion } from 'framer-motion';\nimport { useHelper } from '../hooks/useHelper';\nimport ContentLayout from '../layouts/content';\nimport UserCard from '../components/UserCard';\nimport { GridAside as Container } from '../components/Styled';\nimport { onUserAboutMore, onUserLink, onUserMembers } from '../store/helpers/user';\nimport { onChat } from '../store/helpers';\nimport queries from '../graphql/queries';\nconst TITLE = 'Авторы';\n\nconst Creators = ({\n  store\n}) => {\n  const recall = useHelper();\n  const user = useSelector(state => state.user);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER',\n      placeholder: 'Дата регистарции'\n    }, {\n      type: 'SELECT',\n      placeholder: 'Компания',\n      options: store === null || store === void 0 ? void 0 : store.companies.map(company => ({\n        value: company.email,\n        label: company.name\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата регистарции',\n      value: 'createdAt'\n    }],\n    query: queries.GET_USERS,\n    store: {\n      documents: store === null || store === void 0 ? void 0 : store.users\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/React.createElement(Container, null, documents.map(author => {\n    var _author$company;\n\n    const owned = author.name === user.name;\n    return /*#__PURE__*/React.createElement(motion.div, {\n      key: author.email,\n      initial: 'pageInitial',\n      animate: 'pageAnimate',\n      variants: {\n        pageInitial: {\n          opacity: 0\n        },\n        pageAnimate: {\n          opacity: 1\n        }\n      }\n    }, /*#__PURE__*/React.createElement(UserCard, {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(onChat, {\n        sender: user,\n        recipient: author\n      }),\n      onAboutMore: recall(onUserAboutMore, {\n        user: author\n      }),\n      onMembers: recall(onUserMembers, {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onLink: recall(onUserLink, {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    }));\n  })));\n};\n\nexport var __N_SSP = true;\nexport default Creators;","import { useState, useEffect } from 'react';\nexport const useInfiniteScroll = (fetchCallback, offsetBottom = 0) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  const onScroll = () => {\n    const offsetHeight = document.documentElement.scrollHeight - offsetBottom;\n    const innerHeight = window.innerHeight;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    if (isFetching || innerHeight + scrollTop >= offsetHeight) return;\n    setIsFetching(true);\n  };\n\n  useEffect(() => {\n    if (!isFetching) return;\n    fetchCallback();\n  }, [isFetching]);\n  useEffect(() => {\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n  return [isFetching, setIsFetching];\n};\nexport default useInfiniteScroll;","import React, { useState, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport Alert from '../atomic-ui/components/Alert';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport { useInfiniteScroll } from '../hooks/useInfiniteScroll';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  research,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  bottomScrollOffset = 450,\n  children\n}) => {\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    error: errorBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = useLazyQuery(query);\n  const [isFetching, setIsFetching] = useInfiniteScroll(async () => {\n    const result = { ...variables,\n      offset,\n      limit\n    };\n    if (search) await refetchBySearch(variables);else {\n      if (refetch) await refetch(result);else await loadDocuments({\n        variables: result\n      });\n    }\n    setOffset(prev => prev + limit);\n    setIsFetching(false);\n  }, bottomScrollOffset);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      setOffset(startOffset);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      setOffset(0);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const isCommon = !search && !loading && data;\n    const isSearch = search && !loadingBySearch && dataBySearch;\n    const result = isCommon || isSearch;\n    if (result) setDocuments(prev => [...prev, ...result[Object.keys(result)[0]]]);\n  }, [search, loading, loadingBySearch, data, dataBySearch]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), React.createElement(children, {\n    documents\n  }), search && !loadingBySearch && documents.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"), (search && errorBySearch || !search && error) && /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), (!error && loading || search && !errorBySearch && loadingBySearch || isFetching) && /*#__PURE__*/React.createElement(LowerLoader, null, /*#__PURE__*/React.createElement(Spinner, null)), !search && !loading && !loadingBySearch && !errorBySearch && documents.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\")));\n};\n\nexport default ContentLayout;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/creators\",\n        function () {\n          return require(\"private-next-pages/creators.js\");\n        }\n      ]);\n    "]}}