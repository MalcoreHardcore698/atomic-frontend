{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{IUYj:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/tickets\",function(){return a(\"dsNT\")}])},dsNT:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return ue}));var n=a(\"q1tI\"),c=a.n(n),i=a(\"/MKj\"),r=a(\"7BXr\"),o=a(\"ZwIX\"),l=a(\"wZgm\"),s=a(\"QclZ\"),d=a(\"EJJs\"),u=a(\"e3uv\"),b=a(\"ApjV\"),p=a(\"p9yE\"),m=a(\"coMr\"),g=a(\"RoTl\"),k=a(\"vOnD\"),h=a(\"nShV\"),E=a(\"8CDE\"),f=a(\"7sPp\"),w=a(\"QUga\"),v=a(\"feIE\"),j=a(\"aBfq\"),y=a(\"RKiZ\"),O=a(\"ZeZO\"),_=a(\"DTT8\"),C=a(\"79b8\"),T=a(\"VWQm\");const x=Object(k.c)(E.a).withConfig({displayName:\"TicketCard__Wrap\",componentId:\"sc-3sqqk7-0\"})([\"grid-gap:var(--default-gap);height:max-content;\",\" \",\" \",\"\"],(({appearance:e})=>\"default\"===e&&Object(k.b)([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"])),(({appearance:e})=>\"ghost\"===e&&Object(k.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"])),(({appearance:e})=>\"clear\"===e&&Object(k.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]))),N=Object(k.c)(h.b).withConfig({displayName:\"TicketCard__Header\",componentId:\"sc-3sqqk7-1\"})([\"justify-content:space-between;align-items:center;\"]),I=Object(k.c)(h.b).withConfig({displayName:\"TicketCard__Actions\",componentId:\"sc-3sqqk7-2\"})([\"grid-gap:5px;\"]),q=Object(k.c)(f.a).withConfig({displayName:\"TicketCard__Name\",componentId:\"sc-3sqqk7-3\"})([\"transition:opacity 150ms ease;\",\"\"],(({onClick:e})=>e&&Object(k.b)([\"cursor:pointer;&:hover{opacity:0.45;}\"]))),S=Object(k.c)(w.b).withConfig({displayName:\"TicketCard__Status\",componentId:\"sc-3sqqk7-4\"})([\"color:var(--default-color-accent);\"]),A=Object(k.c)(h.b).withConfig({displayName:\"TicketCard__Footer\",componentId:\"sc-3sqqk7-5\"})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]),L=({ticket:e,appearance:t,className:a,style:n,onLink:i,onAuthorLink:r,onChecked:o,onEdit:l,onDelete:s})=>{var d,u,b;return c.a.createElement(x,{className:a,style:n,appearance:t},c.a.createElement(E.a,{style:{gridGap:0}},c.a.createElement(N,null,c.a.createElement(j.a,{date:e.createdAt,category:e.category}),o&&l&&s&&c.a.createElement(I,null,c.a.createElement(T.b,{text:\"\\u0423\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"},c.a.createElement(O.a,{kind:\"icon\",size:\"xs\",appearance:\"red\",onClick:s},c.a.createElement(v.a,{icon:\"delete\",size:\"xs\",stroke:\"white\"}))),c.a.createElement(T.b,{text:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"},c.a.createElement(O.a,{kind:\"icon\",size:\"xs\",onClick:l},c.a.createElement(v.a,{icon:\"edit\",size:\"xs\",stroke:\"white\"}))),c.a.createElement(T.b,{text:\"\\u041e\\u0442\\u043c\\u0435\\u0442\\u0438\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",self:!0},c.a.createElement(C.a,null)))),c.a.createElement(q,{tag:\"h4\",onClick:i},e.title),c.a.createElement(h.b,{style:{gridGap:5}},c.a.createElement(w.b,null,e.token),c.a.createElement(S,null,e.status))),c.a.createElement(y.a,{clear:!0}),c.a.createElement(A,null,c.a.createElement(_.b,{img:null===(d=e.author)||void 0===d?void 0:d.avatar,label:\"\\u0410\\u0432\\u0442\\u043e\\u0440\",text:null===(u=e.author)||void 0===u?void 0:u.name,onLink:r}),c.a.createElement(_.b,{icon:\"chat\",label:\"\\u0421\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0439\",text:null===(b=e.messages)||void 0===b?void 0:b.length})))};L.defaultProps={appearance:\"default\"};var D=L,F=a(\"7ni8\"),P=a(\"Gliw\");const M=Object(k.c)(E.a).withConfig({displayName:\"FormTicket__Wrap\",componentId:\"n5aw2g-0\"})([\"width:100%;\"]),V=Object(k.c)(h.b).withConfig({displayName:\"FormTicket__Header\",componentId:\"n5aw2g-1\"})([\"justify-content:space-between;width:100%;\"]),K=Object(k.c)(E.a).withConfig({displayName:\"FormTicket__Messages\",componentId:\"n5aw2g-2\"})([\"position:relative;background:#fbfbfb;border-radius:var(--surface-border-radius);padding:var(--default-gap);padding-top:55px;flex-grow:1;\"]),X=Object(k.c)(h.b).withConfig({displayName:\"FormTicket__Meta\",componentId:\"n5aw2g-3\"})([\"position:absolute;top:0;left:0;width:100%;justify-content:space-between;padding:8px var(--default-gap);border-radius:var(--surface-border-radius) var(--surface-border-radius) 0 0;background:var(--ghost-color-background);\"]),Z=Object(k.c)(w.b).withConfig({displayName:\"FormTicket__Empty\",componentId:\"n5aw2g-4\"})([\"display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);var R=({ticket:e,appearance:t,onFinish:a,onReport:n,onLink:i,onAttach:r,onSubmit:o,...l})=>c.a.createElement(M,l,e&&c.a.createElement(V,null,c.a.createElement(_.b,{label:\"\\u041d\\u043e\\u043c\\u0435\\u0440 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",text:(null===e||void 0===e?void 0:e.token)||\"-\"}),c.a.createElement(h.b,null,c.a.createElement(O.a,{onClick:a,disabled:!e},\"\\u0417\\u0430\\u043a\\u0440\\u044b\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"),c.a.createElement(O.a,{onClick:n,kind:\"icon\",appearance:\"red\",disabled:!e},c.a.createElement(v.a,{icon:\"flag\",stroke:\"white\"})))),c.a.createElement(K,null,e&&c.a.createElement(X,null,c.a.createElement(w.b,null,\"\\u0422\\u0435\\u043c\\u0430: \",e.title),c.a.createElement(w.b,null,e.createdAt)),e&&e.messages&&e.messages.length>0?e.messages.map((e=>c.a.createElement(F.a,{key:e.id,avatar:e.avatar,side:e.side,name:e.name,text:e.text,time:e.time,onLink:i}))):c.a.createElement(Z,null,\"\\u0412\\u044b\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\")),c.a.createElement(h.b,null,c.a.createElement(O.a,{kind:\"icon\",onSubmit:r},c.a.createElement(v.a,{icon:\"attach\",stroke:\"white\"})),c.a.createElement(P.a,{placeholder:\"\\u041e\\u0442\\u043f\\u0440\\u0430\\u0432\\u044c\\u0442\\u0435 \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0435\\u043d\\u0438\\u0435...\",appearance:t}),c.a.createElement(O.a,{kind:\"icon\",onSubmit:o},c.a.createElement(v.a,{icon:\"send\",stroke:\"white\"})))),J=a(\"xAqQ\"),U=a(\"otXJ\"),z=a(\"EYtC\");function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const W=Object(k.c)(h.b).withConfig({displayName:\"TicketView__Wrap\",componentId:\"sc-1wxiq0b-0\"})([\"height:100%;flex-grow:1;@media only screen and (max-width:568px){flex-direction:column;}\",\" \",\" \",\"\"],(({appearance:e})=>\"default\"===e&&Object(k.b)([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"])),(({appearance:e})=>\"ghost\"===e&&Object(k.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"])),(({appearance:e})=>\"clear\"===e&&Object(k.b)([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]))),G=Object(k.c)(E.a).withConfig({displayName:\"TicketView__Tickets\",componentId:\"sc-1wxiq0b-1\"})([\"grid-gap:0;width:320px;@media only screen and (max-width:568px){width:100%;}\"]),Y=Object(k.c)(U.a).withConfig({displayName:\"TicketView__Ticket\",componentId:\"sc-1wxiq0b-2\"})([\"margin:10px 0 0 0;padding:10px;border-radius:var(--surface-border-radius);\",\"\"],(({active:e})=>e&&Object(k.b)([\"background:var(--input-background);\"]))),B=({tickets:e,appearance:t,onMemberLink:a,onFinish:i,onReport:r,onAttach:l,onSubmit:s,...d})=>{const[u,b]=Object(n.useState)(null);return c.a.createElement(W,Q({},d,{appearance:t}),c.a.createElement(G,null,c.a.createElement(z.a,{appearance:\"ghost\"}),(null===e||void 0===e?void 0:e.length)>0?e.map((e=>c.a.createElement(Y,{key:e.id,name:e.title,budge:e.messages.reduce(((e,t)=>e+(t.unreaded?1:0)),0),position:e.token,onClick:()=>b(e),active:u&&u.id===e.id}))):c.a.createElement(o.a,{style:{marginTop:15},appearance:\"warning\"},\"\\u0410\\u043a\\u0442\\u0438\\u0432\\u043d\\u044b\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f \\u043e\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044e\\u0442\")),c.a.createElement(R,{ticket:u,appearance:\"ghost\",onFinish:i,onReport:r,onLink:a,onAttach:l,onSubmit:s}))};B.defaultProps={appearance:\"default\"};var H=B,$=a(\"j8/+\"),ee=a(\"Ztxg\"),te=a(\"9Xo6\"),ae=a(\"rP4V\"),ne=a(\"+EEm\");function ce(e,t){const{ticket:a}=t;e(Object(ee.a)({icon:\"ticket\",title:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",content:c.a.createElement(H,{ticket:a,appearance:\"clear\",onFileLink:()=>Object(ne.b)(e),onMemberLink:()=>Object(ae.i)(e)})}))}function ie(e,t){const{mutation:a}=t;e(Object(ee.a)({icon:\"ticket\",title:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",content:c.a.createElement(R,{mutation:a,appearance:\"clear\",onSubmit:async(t,a)=>{try{const n=await a({variables:{input:{title:t.title,body:t.body||\"\\u0421\\u043e\\u0434\\u0435\\u0440\\u0436\\u0438\\u043c\\u043e\\u0435 \\u043e\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\",status:t.status.value}}});e(Object($.a)(n.data.createTicket)),e(Object(ee.a)(null)),e(Object(te.c)({type:\"success\",message:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u043e\"}))}catch(n){e(Object(ee.a)(null)),e(Object(te.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0441\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"}))}}})}))}function re(e,t){const{ticket:a,mutation:n}=t;e(Object(ee.a)({icon:\"ticket\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u0432\\u043e\\u0430\\u043d\\u0438\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",content:c.a.createElement(R,{ticket:a,mutation:n,appearance:\"clear\",onSubmit:async(t,n)=>{try{const c=await n({variables:{id:a.id,input:{title:t.title,body:t.body||\"\\u0421\\u043e\\u0434\\u0435\\u0440\\u0436\\u0438\\u043c\\u043e\\u0435 \\u043e\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\",status:t.status.value}}});e(Object($.a)(c.data.updateTicket)),e(Object(ee.a)(null)),e(Object(te.c)({type:\"success\",message:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u043e\\u0442\\u0440\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u043e\"}))}catch(c){e(Object(ee.a)(null)),e(Object(te.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u043e\\u0442\\u0440\\u0435\\u0434\\u0430\\u043a\\u0442\\u0438\\u0440\\u043e\\u0432\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"}))}}})}))}function oe(e,t){const{ticket:a,mutation:n}=t;e(Object(ee.a)({icon:\"delete\",color:\"red\",title:\"\\u0423\\u0434\\u0430\\u043b\\u0435\\u043d\\u0438\\u0435 \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\",content:c.a.createElement(J.a,{mutation:n,appearance:\"clear\",onCancel:()=>e(Object(ee.a)(null)),onSubmit:async(t,n)=>{try{const t=await n({variables:{id:a.id}});e(Object($.a)(t.data.deleteTicket)),e(Object(te.c)({type:\"success\",message:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435 \\u0443\\u0441\\u043f\\u0435\\u0448\\u043d\\u043e \\u0443\\u0434\\u0430\\u043b\\u0435\\u043d\\u043e\"}))}catch(c){e(Object(te.c)({type:\"error\",message:\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0443\\u0434\\u0430\\u043b\\u0438\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\"}))}finally{e(Object(ee.a)(null))}}},c.a.createElement(D,{ticket:a,appearance:\"clear\"}))}))}var le=a(\"u2Cb\"),se=a(\"wha1\");const de=\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\";var ue=!0;t.default=({store:e})=>{const t=Object(b.b)(),a=Object(i.c)((e=>e.documents)),k=Object(i.b)(),[h,E]=Object(n.useState)(),[f,w]=Object(n.useState)(),[v,j]=Object(n.useState)(!1),[y,O]=Object(n.useState)(\"grid\"),_=Object(n.useMemo)((()=>a||e.tickets),[a,e]);return Object(n.useEffect)((()=>{k(Object($.a)(null))}),[]),c.a.createElement(p.a,{title:de},c.a.createElement(m.a,{icon:\"ticket\",title:de,buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",onCreate:t(ie,{mutation:le.a.CREATE_TICKET}),onChangeVisibleFilter:()=>j(!v),onChangeDisplayMethod:e=>O(e.value)}),c.a.createElement(g.a,{isOpen:v,filters:[c.a.createElement(l.a,{key:0,value:h,placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:E,withNavigate:!0}),c.a.createElement(s.a,{key:1,options:se.a,placeholder:\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:f,onChange:e=>w(e)})],options:\"list\"===y?[]:u.a.ticket.map(((e,t)=>({label:e.header,value:t})))}),0===_.length&&c.a.createElement(o.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0439 \\u043d\\u0435\\u0442\"),\"list\"===y&&c.a.createElement(d.b,{data:_,template:u.a.ticket,onChecked:()=>{},onClick:e=>t(ce,{id:e.id,ticket:e})(),onDelete:e=>t(oe,{id:e.id,ticket:e,mutation:le.a.DELETE_TICKET})(),onEdit:e=>t(re,{id:e.id,ticket:e,mutation:le.a.UPDATE_TICKET})(),style:{overflowX:\"auto\",width:\"calc(100vw - 290px)\"}}),\"grid\"===y&&c.a.createElement(r.a,null,_.map((e=>c.a.createElement(D,{key:e.id,ticket:e,onChecked:()=>{},onLink:t(ce,{id:e.id,ticket:e}),onDelete:t(oe,{id:e.id,ticket:e,mutation:le.a.DELETE_TICKET}),onEdit:t(re,{id:e.id,ticket:e,mutation:le.a.UPDATE_TICKET})})))))}},wha1:function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return n})),a.d(t,\"e\",(function(){return c})),a.d(t,\"b\",(function(){return i})),a.d(t,\"d\",(function(){return r})),a.d(t,\"a\",(function(){return o})),a.d(t,\"c\",(function(){return l}));const n=[{label:\"\\u041e \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0435\",path:\"/about\"},{label:\"\\u041b\\u044e\\u0434\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0430\",path:\"/creators\"},{label:\"\\u041f\\u043e\\u0434\\u0434\\u0435\\u0440\\u0436\\u043a\\u0430\",path:\"/support\"},{label:\"\\u0421\\u043f\\u0440\\u0430\\u0432\\u043e\\u0447\\u043d\\u0438\\u043a\",path:\"/guide\"}],c=[\"/images/socials/gmail.png\",\"/images/socials/vk.png\",\"/images/socials/facebook.png\"],i=[{label:\"\\u0433. \\u0415\\u043a\\u0430\\u0442\\u0435\\u0440\\u0438\\u043d\\u0431\\u0443\\u0440\\u0433, \\u0443\\u043b. \\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u0438\\u0441\\u0442\\u043e\\u0432 20\\u0430, \\u043e\\u0444. 302\",icon:\"location\"},{label:\"+7 (499) 222-54-86\",icon:\"call\"},{label:\"info@mail.ru\",icon:\"message\"}],r=[{label:\"\\u041c\\u043e\\u0438 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",value:\"/projects\"},{label:\"\\u041d\\u0440\\u0430\\u0432\\u0438\\u0442\\u0441\\u044f\",value:\"/liked\"},{label:\"\\u0412 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0435\",value:\"/feed\"}],o=[{value:0,label:\"\\u0421\\u0442\\u0440\\u043e\\u0438\\u0442\\u0435\\u043b\\u044c\\u0441\\u0442\\u0432\\u043e\"},{value:1,label:\"\\u0420\\u0435\\u043a\\u043e\\u043d\\u0441\\u0442\\u0440\\u0443\\u043a\\u0446\\u0438\\u044f\"},{value:2,label:\"\\u041a\\u0430\\u043f\\u0438\\u0442\\u0430\\u043b\\u044c\\u043d\\u044b\\u0439 \\u0440\\u0435\\u043c\\u043e\\u043d\\u0442\"},{value:3,label:\"\\u0426\\u0438\\u0444\\u0440\\u043e\\u0432\\u0430\\u044f \\u0441\\u0440\\u0435\\u0434\\u0430\"}],l=[{label:\"\\u0420\\u0435\\u0439\\u0442\\u0438\\u043d\\u0433\",value:\"rating\"},{label:\"\\u041f\\u043e\\u0434\\u043f\\u0438\\u0441\\u0447\\u0438\\u043a\\u0438\",value:\"followers\"},{label:\"\\u0414\\u0430\\u0442\\u0430\",value:\"date\"}]}},[[\"IUYj\",0,2,1,3,4,5,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/tickets-1022e5f4aa5af6ba1caf.js"],"names":["_N_E","window","push","IUYj","module","exports","__webpack_require__","__NEXT_P","dsNT","__webpack_exports__","r","d","__N_SSP","react","react_default","n","es","Grid","Alert","DatePicker","Select","Table","templates","useHelper","dashboard","HandleBar","FilterBar","styled_components_browser_esm","Row","Column","Title","Text","Icon","Meta","Divider","Button","Difinition","Checkbox","Tooltip","Wrap","Object","withConfig","displayName","componentId","appearance","Header","Actions","Name","onClick","Status","Footer","Card","ticket","className","style","onLink","onAuthorLink","onChecked","onEdit","onDelete","_ticket$author","_ticket$author2","_ticket$messages","a","createElement","gridGap","date","createdAt","category","text","kind","size","icon","stroke","self","tag","title","token","status","clear","img","author","avatar","label","name","messages","length","defaultProps","TicketCard","Message","Input","FormTicket_Wrap","FormTicket_Header","Messages","FormTicket_Meta","Empty","FormTicket","onFinish","onReport","onAttach","onSubmit","props","disabled","map","message","key","id","side","time","placeholder","FormDelete","Member","SearchBar","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","apply","this","TicketView_Wrap","Tickets","TicketView_Ticket","active","View","tickets","onMemberLink","currentTicket","setCurrentTicket","budge","reduce","acc","item","unreaded","position","marginTop","TicketView","actions_documents","drawer","snacks","user","helpers","onTicketLink","dispatch","content","onFileLink","onTicketCreate","mutation","async","form","action","variables","input","body","value","data","createTicket","type","err","onTicketEdit","updateTicket","_unused","onTicketDelete","color","onCancel","_","deleteTicket","_unused2","queries","_mock_","TITLE","store","recall","documents","state","onChangeDate","select","onChangeSelect","visibleFilter","setVisibleFilter","displayMethod","onChangeDisplayMethod","buttonCreateText","onCreate","CREATE_TICKET","onChangeVisibleFilter","isOpen","filters","onChange","withNavigate","options","selected","index","header","width","textAlign","template","DELETE_TICKET","UPDATE_TICKET","overflowX","wha1","supportLinks","socials","contacts","profilePages","categories","path"],"mappings":"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"},"name":"static/chunks/pages/dashboard/tickets-1022e5f4aa5af6ba1caf.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[27],{\n\n/***/ \"IUYj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/tickets\",\n        function () {\n          return __webpack_require__(\"dsNT\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"dsNT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return /* binding */ __N_SSP; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Grid/index.js\nvar Grid = __webpack_require__(\"7BXr\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/index.js\nvar Table = __webpack_require__(\"EJJs\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/templates/index.js + 6 modules\nvar templates = __webpack_require__(\"e3uv\");\n\n// EXTERNAL MODULE: ./hooks/useHelper.js\nvar useHelper = __webpack_require__(\"ApjV\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 3 modules\nvar dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Title/index.js\nvar Title = __webpack_require__(\"7sPp\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Text/index.js\nvar Text = __webpack_require__(\"QUga\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Icon/index.js + 107 modules\nvar Icon = __webpack_require__(\"feIE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Meta/index.js\nvar Meta = __webpack_require__(\"aBfq\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Difinition/index.js\nvar Difinition = __webpack_require__(\"DTT8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Checkbox/index.js\nvar Checkbox = __webpack_require__(\"79b8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Tooltip/index.js\nvar Tooltip = __webpack_require__(\"VWQm\");\n\n// CONCATENATED MODULE: ./components/TicketCard/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"TicketCard__Wrap\",\n  componentId: \"sc-3sqqk7-0\"\n})([\"grid-gap:var(--default-gap);height:max-content;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nconst Header = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Header\",\n  componentId: \"sc-3sqqk7-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\nconst Actions = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Actions\",\n  componentId: \"sc-3sqqk7-2\"\n})([\"grid-gap:5px;\"]);\nconst Name = Object(styled_components_browser_esm[\"c\" /* default */])(Title[\"a\" /* default */]).withConfig({\n  displayName: \"TicketCard__Name\",\n  componentId: \"sc-3sqqk7-3\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && Object(styled_components_browser_esm[\"b\" /* css */])([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nconst Status = Object(styled_components_browser_esm[\"c\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Status\",\n  componentId: \"sc-3sqqk7-4\"\n})([\"color:var(--default-color-accent);\"]);\nconst Footer = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketCard__Footer\",\n  componentId: \"sc-3sqqk7-5\"\n})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]);\nconst Card = ({\n  ticket,\n  appearance,\n  className,\n  style,\n  onLink,\n  onAuthorLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  var _ticket$author, _ticket$author2, _ticket$messages;\n\n  return /*#__PURE__*/react_default.a.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], {\n    style: {\n      gridGap: 0\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Header, null, /*#__PURE__*/react_default.a.createElement(Meta[\"a\" /* default */], {\n    date: ticket.createdAt,\n    category: ticket.category\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/react_default.a.createElement(Actions, null, /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Удалить обращение'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Редактировать обращение'\n  }, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Отметить обращение',\n    self: true\n  }, /*#__PURE__*/react_default.a.createElement(Checkbox[\"a\" /* default */], null)))), /*#__PURE__*/react_default.a.createElement(Name, {\n    tag: 'h4',\n    onClick: onLink\n  }, ticket.title), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, ticket.token), /*#__PURE__*/react_default.a.createElement(Status, null, ticket.status))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n    clear: true\n  }), /*#__PURE__*/react_default.a.createElement(Footer, null, /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    img: (_ticket$author = ticket.author) === null || _ticket$author === void 0 ? void 0 : _ticket$author.avatar,\n    label: 'Автор',\n    text: (_ticket$author2 = ticket.author) === null || _ticket$author2 === void 0 ? void 0 : _ticket$author2.name,\n    onLink: onAuthorLink\n  }), /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    icon: 'chat',\n    label: 'Сообщений',\n    text: (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length\n  })));\n};\nCard.defaultProps = {\n  appearance: 'default'\n};\n/* harmony default export */ var TicketCard = (Card);\n// EXTERNAL MODULE: ./atomic-ui/components/Message/index.js\nvar Message = __webpack_require__(\"7ni8\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Input/index.js\nvar Input = __webpack_require__(\"Gliw\");\n\n// CONCATENATED MODULE: ./components/FormTicket/index.js\n\n\n\n\n\n\n\n\n\n\nconst FormTicket_Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"FormTicket__Wrap\",\n  componentId: \"n5aw2g-0\"\n})([\"width:100%;\"]);\nconst FormTicket_Header = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"FormTicket__Header\",\n  componentId: \"n5aw2g-1\"\n})([\"justify-content:space-between;width:100%;\"]);\nconst Messages = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"FormTicket__Messages\",\n  componentId: \"n5aw2g-2\"\n})([\"position:relative;background:#fbfbfb;border-radius:var(--surface-border-radius);padding:var(--default-gap);padding-top:55px;flex-grow:1;\"]);\nconst FormTicket_Meta = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"FormTicket__Meta\",\n  componentId: \"n5aw2g-3\"\n})([\"position:absolute;top:0;left:0;width:100%;justify-content:space-between;padding:8px var(--default-gap);border-radius:var(--surface-border-radius) var(--surface-border-radius) 0 0;background:var(--ghost-color-background);\"]);\nconst Empty = Object(styled_components_browser_esm[\"c\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"FormTicket__Empty\",\n  componentId: \"n5aw2g-4\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);\nconst Ticket = ({\n  ticket,\n  appearance,\n  onFinish,\n  onReport,\n  onLink,\n  onAttach,\n  onSubmit,\n  ...props\n}) => {\n  return /*#__PURE__*/react_default.a.createElement(FormTicket_Wrap, props, ticket && /*#__PURE__*/react_default.a.createElement(FormTicket_Header, null, /*#__PURE__*/react_default.a.createElement(Difinition[\"b\" /* default */], {\n    label: 'Номер обращения',\n    text: (ticket === null || ticket === void 0 ? void 0 : ticket.token) || '-'\n  }), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    onClick: onFinish,\n    disabled: !ticket\n  }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    onClick: onReport,\n    kind: 'icon',\n    appearance: 'red',\n    disabled: !ticket\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'flag',\n    stroke: 'white'\n  })))), /*#__PURE__*/react_default.a.createElement(Messages, null, ticket && /*#__PURE__*/react_default.a.createElement(FormTicket_Meta, null, /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, \"\\u0422\\u0435\\u043C\\u0430: \", ticket.title), /*#__PURE__*/react_default.a.createElement(Text[\"b\" /* default */], null, ticket.createdAt)), ticket && ticket.messages && ticket.messages.length > 0 ? ticket.messages.map(message => /*#__PURE__*/react_default.a.createElement(Message[\"a\" /* default */], {\n    key: message.id,\n    avatar: message.avatar,\n    side: message.side,\n    name: message.name,\n    text: message.text,\n    time: message.time,\n    onLink: onLink\n  })) : /*#__PURE__*/react_default.a.createElement(Empty, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\")), /*#__PURE__*/react_default.a.createElement(Row[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    onSubmit: onAttach\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'attach',\n    stroke: 'white'\n  })), /*#__PURE__*/react_default.a.createElement(Input[\"a\" /* default */], {\n    placeholder: 'Отправьте сообщенение...',\n    appearance: appearance\n  }), /*#__PURE__*/react_default.a.createElement(Button[\"a\" /* default */], {\n    kind: 'icon',\n    onSubmit: onSubmit\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'send',\n    stroke: 'white'\n  }))));\n};\n/* harmony default export */ var FormTicket = (Ticket);\n// EXTERNAL MODULE: ./components/FormDelete/index.js\nvar FormDelete = __webpack_require__(\"xAqQ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Member/index.js\nvar Member = __webpack_require__(\"otXJ\");\n\n// EXTERNAL MODULE: ./components/SearchBar/index.js\nvar SearchBar = __webpack_require__(\"EYtC\");\n\n// CONCATENATED MODULE: ./components/TicketView/index.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\nconst TicketView_Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"TicketView__Wrap\",\n  componentId: \"sc-1wxiq0b-0\"\n})([\"height:100%;flex-grow:1;@media only screen and (max-width:568px){flex-direction:column;}\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && Object(styled_components_browser_esm[\"b\" /* css */])([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nconst Tickets = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"TicketView__Tickets\",\n  componentId: \"sc-1wxiq0b-1\"\n})([\"grid-gap:0;width:320px;@media only screen and (max-width:568px){width:100%;}\"]);\nconst TicketView_Ticket = Object(styled_components_browser_esm[\"c\" /* default */])(Member[\"a\" /* default */]).withConfig({\n  displayName: \"TicketView__Ticket\",\n  componentId: \"sc-1wxiq0b-2\"\n})([\"margin:10px 0 0 0;padding:10px;border-radius:var(--surface-border-radius);\", \"\"], ({\n  active\n}) => active && Object(styled_components_browser_esm[\"b\" /* css */])([\"background:var(--input-background);\"]));\nconst View = ({\n  tickets,\n  appearance,\n  onMemberLink,\n  onFinish,\n  onReport,\n  onAttach,\n  onSubmit,\n  ...props\n}) => {\n  const [currentTicket, setCurrentTicket] = Object(react[\"useState\"])(null);\n  return /*#__PURE__*/react_default.a.createElement(TicketView_Wrap, _extends({}, props, {\n    appearance: appearance\n  }), /*#__PURE__*/react_default.a.createElement(Tickets, null, /*#__PURE__*/react_default.a.createElement(SearchBar[\"a\" /* default */], {\n    appearance: 'ghost'\n  }), (tickets === null || tickets === void 0 ? void 0 : tickets.length) > 0 ? tickets.map(ticket => /*#__PURE__*/react_default.a.createElement(TicketView_Ticket, {\n    key: ticket.id,\n    name: ticket.title,\n    budge: ticket.messages.reduce((acc, item) => acc + (item.unreaded ? 1 : 0), 0),\n    position: ticket.token,\n    onClick: () => setCurrentTicket(ticket),\n    active: currentTicket && currentTicket.id === ticket.id\n  })) : /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      marginTop: 15\n    },\n    appearance: 'warning'\n  }, \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0435 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0442\")), /*#__PURE__*/react_default.a.createElement(FormTicket, {\n    ticket: currentTicket,\n    appearance: 'ghost',\n    onFinish: onFinish,\n    onReport: onReport,\n    onLink: onMemberLink,\n    onAttach: onAttach,\n    onSubmit: onSubmit\n  }));\n};\nView.defaultProps = {\n  appearance: 'default'\n};\n/* harmony default export */ var TicketView = (View);\n// EXTERNAL MODULE: ./store/actions/documents.js\nvar actions_documents = __webpack_require__(\"j8/+\");\n\n// EXTERNAL MODULE: ./store/actions/drawer.js\nvar drawer = __webpack_require__(\"Ztxg\");\n\n// EXTERNAL MODULE: ./store/actions/snacks.js\nvar snacks = __webpack_require__(\"9Xo6\");\n\n// EXTERNAL MODULE: ./store/helpers/user.js + 11 modules\nvar user = __webpack_require__(\"rP4V\");\n\n// EXTERNAL MODULE: ./store/helpers/index.js + 5 modules\nvar helpers = __webpack_require__(\"+EEm\");\n\n// CONCATENATED MODULE: ./store/helpers/ticket.js\n\n\n\n\n\n\n\n\n\n\nfunction onTicketLink(dispatch, props) {\n  const {\n    ticket\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'ticket',\n    title: 'Обращение',\n    content: /*#__PURE__*/react_default.a.createElement(TicketView, {\n      ticket: ticket,\n      appearance: 'clear',\n      onFileLink: () => Object(helpers[\"b\" /* onFileLink */])(dispatch),\n      onMemberLink: () => Object(user[\"i\" /* onUserLink */])(dispatch)\n    })\n  }));\n}\nfunction onTicketCreate(dispatch, props) {\n  const {\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'ticket',\n    title: 'Создание обращения',\n    content: /*#__PURE__*/react_default.a.createElement(FormTicket, {\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              input: {\n                title: form.title,\n                body: form.body || 'Содержимое отсутствует',\n                status: form.status.value\n              }\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(tickets.data.createTicket));\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Обращение успешно создано'\n          }));\n        } catch (err) {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось создать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nfunction onTicketEdit(dispatch, props) {\n  const {\n    ticket,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'ticket',\n    title: 'Редактирвоание обращения',\n    content: /*#__PURE__*/react_default.a.createElement(FormTicket, {\n      ticket: ticket,\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              id: ticket.id,\n              input: {\n                title: form.title,\n                body: form.body || 'Содержимое отсутствует',\n                status: form.status.value\n              }\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(tickets.data.updateTicket));\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Обращение успешно отредактировано'\n          }));\n        } catch (_unused) {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось отредактировать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nfunction onTicketDelete(dispatch, props) {\n  const {\n    ticket,\n    mutation\n  } = props;\n  dispatch(Object(drawer[\"a\" /* setDrawer */])({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление обращения',\n    content: /*#__PURE__*/react_default.a.createElement(FormDelete[\"a\" /* default */], {\n      mutation: mutation,\n      appearance: 'clear',\n      onCancel: () => dispatch(Object(drawer[\"a\" /* setDrawer */])(null)),\n      onSubmit: async (_, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              id: ticket.id\n            }\n          });\n          dispatch(Object(actions_documents[\"a\" /* setDocuments */])(tickets.data.deleteTicket));\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'success',\n            message: 'Обращение успешно удалено'\n          }));\n        } catch (_unused2) {\n          dispatch(Object(snacks[\"c\" /* setItem */])({\n            type: 'error',\n            message: 'Не удалось удалить обращение'\n          }));\n        } finally {\n          dispatch(Object(drawer[\"a\" /* setDrawer */])(null));\n        }\n      }\n    }, /*#__PURE__*/react_default.a.createElement(TicketCard, {\n      ticket: ticket,\n      appearance: 'clear'\n    }))\n  }));\n}\n// EXTERNAL MODULE: ./graphql/queries/index.js + 14 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// EXTERNAL MODULE: ./__mock__/index.js\nvar _mock_ = __webpack_require__(\"wha1\");\n\n// CONCATENATED MODULE: ./pages/dashboard/tickets.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Обращения';\n\nconst tickets_Tickets = ({\n  store\n}) => {\n  const recall = Object(useHelper[\"b\" /* useHelper */])();\n  const documents = Object(es[\"c\" /* useSelector */])(state => state.documents);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const [displayMethod, onChangeDisplayMethod] = Object(react[\"useState\"])('grid');\n  const tickets = Object(react[\"useMemo\"])(() => documents || store.tickets, [documents, store]);\n  Object(react[\"useEffect\"])(() => {\n    dispatch(Object(actions_documents[\"a\" /* setDocuments */])(null));\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(dashboard[\"a\" /* default */], {\n    title: TITLE\n  }, /*#__PURE__*/react_default.a.createElement(HandleBar[\"a\" /* default */], {\n    icon: 'ticket',\n    title: TITLE,\n    buttonCreateText: 'Создать обращение',\n    onCreate: recall(onTicketCreate, {\n      mutation: queries[\"a\" /* default */].CREATE_TICKET\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n      key: 1,\n      options: _mock_[\"a\" /* categories */],\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates[\"a\" /* default */].ticket.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), tickets.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/react_default.a.createElement(Table[\"b\" /* default */], {\n    data: tickets,\n    template: templates[\"a\" /* default */].ticket,\n    onChecked: () => {},\n    onClick: ticket => recall(onTicketLink, {\n      id: ticket.id,\n      ticket\n    })(),\n    onDelete: ticket => recall(onTicketDelete, {\n      id: ticket.id,\n      ticket,\n      mutation: queries[\"a\" /* default */].DELETE_TICKET\n    })(),\n    onEdit: ticket => recall(onTicketEdit, {\n      id: ticket.id,\n      ticket,\n      mutation: queries[\"a\" /* default */].UPDATE_TICKET\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/react_default.a.createElement(Grid[\"a\" /* default */], null, tickets.map(ticket => /*#__PURE__*/react_default.a.createElement(TicketCard, {\n    key: ticket.id,\n    ticket: ticket,\n    onChecked: () => {},\n    onLink: recall(onTicketLink, {\n      id: ticket.id,\n      ticket\n    }),\n    onDelete: recall(onTicketDelete, {\n      id: ticket.id,\n      ticket,\n      mutation: queries[\"a\" /* default */].DELETE_TICKET\n    }),\n    onEdit: recall(onTicketEdit, {\n      id: ticket.id,\n      ticket,\n      mutation: queries[\"a\" /* default */].UPDATE_TICKET\n    })\n  }))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ var dashboard_tickets = __webpack_exports__[\"default\"] = (tickets_Tickets);\n\n/***/ }),\n\n/***/ \"wha1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return supportLinks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return socials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return contacts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return profilePages; });\n/* unused harmony export notifications */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return categories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return filters; });\nconst supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nconst socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nconst contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nconst profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nconst notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nconst categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nconst filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];\n\n/***/ })\n\n},[[\"IUYj\",0,2,1,3,4,5,7,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Ftickets&absolutePagePath=private-next-pages%2Fdashboard%2Ftickets.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\TicketCard\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\FormTicket\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\TicketView\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\store\\helpers\\ticket.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\tickets.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\__mock__\\index.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAyC;AAClE;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN0B;AACsB;AACC;AACM;AACF;AACF;AACA;AACA;AACM;AACF;AACQ;AACJ;AACF;AAClD,aAAa,wDAAM,CAAC,yBAAM;AACjC;AACA;AACA,CAAC,gCAAgC,mBAAmB;AACpD;AACA,CAAC,iCAAiC,oDAAG,8BAA8B,qCAAqC,6BAA6B,2CAA2C,iCAAiC;AACjN;AACA,CAAC,+BAA+B,oDAAG,aAAa,YAAY,gBAAgB,gBAAgB,gBAAgB;AAC5G;AACA,CAAC,+BAA+B,oDAAG,aAAa,YAAY,gBAAgB,gBAAgB,gBAAgB;AACrG,eAAe,wDAAM,CAAC,sBAAG;AAChC;AACA;AACA,CAAC,kCAAkC,mBAAmB;AAC/C,gBAAgB,wDAAM,CAAC,sBAAG;AACjC;AACA;AACA,CAAC,iBAAiB;AACX,aAAa,wDAAM,CAAC,wBAAK;AAChC;AACA;AACA,CAAC,kCAAkC;AACnC;AACA,CAAC,gBAAgB,oDAAG,kBAAkB,QAAQ,cAAc;AACrD,eAAe,wDAAM,CAAC,uBAAI;AACjC;AACA;AACA,CAAC,sCAAsC;AAChC,eAAe,wDAAM,CAAC,sBAAG;AAChC;AACA;AACA,CAAC,kCAAkC,mBAAmB,YAAY;AAC3D;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA,sBAAsB,eAAK;AAC3B;AACA;AACA;AACA,GAAG,eAAe,eAAK,eAAe,yBAAM;AAC5C;AACA;AACA;AACA,GAAG,eAAe,eAAK,0CAA0C,eAAK,eAAe,uBAAI;AACzF;AACA;AACA,GAAG,mDAAmD,eAAK,2CAA2C,eAAK,eAAe,0BAAO;AACjI;AACA,GAAG,eAAe,eAAK,eAAe,yBAAM;AAC5C;AACA;AACA;AACA;AACA,GAAG,eAAe,eAAK,eAAe,uBAAI;AAC1C;AACA;AACA;AACA,GAAG,kBAAkB,eAAK,eAAe,0BAAO;AAChD;AACA,GAAG,eAAe,eAAK,eAAe,yBAAM;AAC5C;AACA;AACA;AACA,GAAG,eAAe,eAAK,eAAe,uBAAI;AAC1C;AACA;AACA;AACA,GAAG,kBAAkB,eAAK,eAAe,0BAAO;AAChD;AACA;AACA,GAAG,eAAe,eAAK,eAAe,2BAAQ,yBAAyB,eAAK;AAC5E;AACA;AACA,GAAG,8BAA8B,eAAK,eAAe,sBAAG;AACxD;AACA;AACA;AACA,GAAG,eAAe,eAAK,eAAe,uBAAI,oCAAoC,eAAK,4DAA4D,eAAK,eAAe,0BAAO;AAC1K;AACA,GAAG,gBAAgB,eAAK,0CAA0C,eAAK,eAAe,6BAAU;AAChG;AACA;AACA;AACA;AACA,GAAG,gBAAgB,eAAK,eAAe,6BAAU;AACjD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACe,mDAAI,E;;;;;;;;ACpHO;AACa;AACU;AACM;AACE;AACJ;AACE;AACJ;AACA;AACY;AACxD,MAAM,eAAI,GAAG,wDAAM,CAAC,yBAAM;AACjC;AACA;AACA,CAAC,eAAe;AACT,MAAM,iBAAM,GAAG,wDAAM,CAAC,sBAAG;AAChC;AACA;AACA,CAAC,kCAAkC,WAAW;AACvC,iBAAiB,wDAAM,CAAC,yBAAM;AACrC;AACA;AACA,CAAC,sBAAsB,mBAAmB,2CAA2C,2BAA2B,iBAAiB,YAAY;AACtI,MAAM,eAAI,GAAG,wDAAM,CAAC,sBAAG;AAC9B;AACA;AACA,CAAC,sBAAsB,MAAM,OAAO,WAAW,8BAA8B,+BAA+B,4EAA4E,yCAAyC;AAC1N,cAAc,wDAAM,CAAC,uBAAI;AAChC;AACA;AACA,CAAC,iBAAiB,uBAAuB,mBAAmB,WAAW,YAAY;AAC5E;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB,eAAK,eAAe,eAAI,gCAAgC,eAAK,eAAe,iBAAM,qBAAqB,eAAK,eAAe,6BAAU;AAC3J;AACA;AACA,GAAG,gBAAgB,eAAK,eAAe,sBAAG,qBAAqB,eAAK,eAAe,yBAAM;AACzF;AACA;AACA,GAAG,qHAAqH,eAAK,eAAe,yBAAM;AAClJ;AACA;AACA;AACA;AACA,GAAG,eAAe,eAAK,eAAe,uBAAI;AAC1C;AACA;AACA,GAAG,mBAAmB,eAAK,sDAAsD,eAAK,eAAe,eAAI,qBAAqB,eAAK,eAAe,uBAAI,kEAAkE,eAAK,eAAe,uBAAI,kIAAkI,eAAK,eAAe,0BAAO;AAC7Y;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,kBAAkB,eAAK,sJAAsJ,eAAK,eAAe,sBAAG,qBAAqB,eAAK,eAAe,yBAAM;AACtP;AACA;AACA,GAAG,eAAe,eAAK,eAAe,uBAAI;AAC1C;AACA;AACA,GAAG,iBAAiB,eAAK,eAAe,wBAAK;AAC7C;AACA;AACA,GAAG,gBAAgB,eAAK,eAAe,yBAAM;AAC7C;AACA;AACA,GAAG,eAAe,eAAK,eAAe,uBAAI;AAC1C;AACA;AACA,GAAG;AACH;AACe,qDAAM,E;;;;;;;;;;;AC/ErB,qBAAqB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe,GAAG,wCAAwC;;AAEnR;AACQ;AACC;AACM;AACA;AACF;AACd;AACL;AAC3B,MAAM,eAAI,GAAG,wDAAM,CAAC,sBAAG;AAC9B;AACA;AACA,CAAC,gBAAgB,YAAY,yCAAyC,uBAAuB;AAC7F;AACA,CAAC,iCAAiC,oDAAG,8BAA8B,qCAAqC,6BAA6B,2CAA2C,iCAAiC;AACjN;AACA,CAAC,+BAA+B,oDAAG,aAAa,YAAY,gBAAgB,gBAAgB,gBAAgB;AAC5G;AACA,CAAC,+BAA+B,oDAAG,aAAa,YAAY,gBAAgB,gBAAgB,gBAAgB;AACrG,gBAAgB,wDAAM,CAAC,yBAAM;AACpC;AACA;AACA,CAAC,eAAe,YAAY,yCAAyC,YAAY;AAC1E,MAAM,iBAAM,GAAG,wDAAM,CAAC,yBAAM;AACnC;AACA;AACA,CAAC,sBAAsB,aAAa,2CAA2C;AAC/E;AACA,CAAC,eAAe,oDAAG,sCAAsC;AAClD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4CAA4C,yBAAQ;AACpD,sBAAsB,eAAK,eAAe,eAAI,aAAa;AAC3D;AACA,GAAG,gBAAgB,eAAK,2CAA2C,eAAK,eAAe,4BAAM;AAC7F;AACA,GAAG,+GAA+G,eAAK,eAAe,iBAAM;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,kBAAkB,eAAK,eAAe,wBAAK;AAC9C;AACA;AACA,KAAK;AACL;AACA,GAAG,+LAA+L,eAAK,eAAe,UAAU;AAChO;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACe,mDAAI,E;;;;;;;;;;;;;;;;;ACtEO;AAC2B;AACA;AACA;AACA;AACD;AACN;AACF;AACR;AACL;AACxB;AACP;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA,0BAA0B,eAAK,eAAe,UAAU;AACxD;AACA;AACA,wBAAwB,qCAAU;AAClC,0BAA0B,kCAAU;AACpC,KAAK;AACL,GAAG;AACH;AACO;AACP;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA,0BAA0B,eAAK,eAAe,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mBAAmB,iDAAY;AAC/B,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL,GAAG;AACH;AACO;AACP;AACA;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA,0BAA0B,eAAK,eAAe,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mBAAmB,iDAAY;AAC/B,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,mCAAS;AAC5B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL,GAAG;AACH;AACO;AACP;AACA;AACA;AACA,GAAG;AACH,WAAW,mCAAS;AACpB;AACA;AACA;AACA,0BAA0B,eAAK,eAAe,6BAAU;AACxD;AACA;AACA,+BAA+B,mCAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,mBAAmB,iDAAY;AAC/B,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,iCAAO;AAC1B;AACA;AACA,WAAW;AACX,SAAS;AACT,mBAAmB,mCAAS;AAC5B;AACA;AACA,KAAK,eAAe,eAAK,eAAe,UAAU;AAClD;AACA;AACA,KAAK;AACL,GAAG;AACH,C;;;;;;;;AC/I4D;AACL;AACJ;AACE;AACU;AACR;AACF;AACc;AACjB;AACI;AACH;AACA;AACE;AACmD;AAC3C;AACjB;AACA;AAC5C;;AAEA,MAAM,eAAO;AACb;AACA,CAAC;AACD,iBAAiB,sCAAS;AAC1B,oBAAoB,iCAAW;AAC/B,mBAAmB,iCAAW;AAC9B,+BAA+B,yBAAQ;AACvC,mCAAmC,yBAAQ;AAC3C,4CAA4C,yBAAQ;AACpD,iDAAiD,yBAAQ;AACzD,kBAAkB,wBAAO;AACzB,EAAE,0BAAS;AACX,aAAa,iDAAY;AACzB,GAAG;AACH,sBAAsB,eAAK,eAAe,4BAAe;AACzD;AACA,GAAG,eAAe,eAAK,eAAe,4BAAS;AAC/C;AACA;AACA;AACA,qBAAqB,cAAc;AACnC,gBAAgB,0BAAO;AACvB,KAAK;AACL;AACA;AACA,GAAG,gBAAgB,eAAK,eAAe,4BAAS;AAChD;AACA,2BAA2B,eAAK,eAAe,6BAAU;AACzD;AACA;AACA;AACA;AACA;AACA,KAAK,gBAAgB,eAAK,eAAe,yBAAM;AAC/C;AACA,eAAe,4BAAU;AACzB;AACA;AACA;AACA,KAAK;AACL,6CAA6C,4BAAS;AACtD;AACA;AACA,KAAK;AACL,GAAG,wCAAwC,eAAK,eAAe,wBAAK;AACpE;AACA;AACA;AACA;AACA,GAAG,yHAAyH,eAAK,eAAe,wBAAK;AACrJ;AACA,cAAc,4BAAS;AACvB,uBAAuB;AACvB,8BAA8B,YAAY;AAC1C;AACA;AACA,KAAK;AACL,+BAA+B,cAAc;AAC7C;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,6BAA6B,YAAY;AACzC;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG,4CAA4C,eAAK,eAAe,uBAAI,2CAA2C,eAAK,eAAe,UAAU;AAChJ;AACA;AACA,uBAAuB;AACvB,mBAAmB,YAAY;AAC/B;AACA;AACA,KAAK;AACL,qBAAqB,cAAc;AACnC;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,mBAAmB,YAAY;AAC/B;AACA;AACA,gBAAgB,0BAAO;AACvB,KAAK;AACL,GAAG;AACH;;AAEO;AACQ,sGAAO,E;;;;;;;;AChHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACA;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC,E","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/tickets\",\n        function () {\n          return require(\"private-next-pages/dashboard/tickets.js\");\n        }\n      ]);\n    ","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Meta from '../../atomic-ui/components/Meta';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Button from '../../atomic-ui/components/Button';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport Checkbox from '../../atomic-ui/components/Checkbox';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"TicketCard__Wrap\",\n  componentId: \"sc-3sqqk7-0\"\n})([\"grid-gap:var(--default-gap);height:max-content;\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nexport const Header = styled(Row).withConfig({\n  displayName: \"TicketCard__Header\",\n  componentId: \"sc-3sqqk7-1\"\n})([\"justify-content:space-between;align-items:center;\"]);\nexport const Actions = styled(Row).withConfig({\n  displayName: \"TicketCard__Actions\",\n  componentId: \"sc-3sqqk7-2\"\n})([\"grid-gap:5px;\"]);\nexport const Name = styled(Title).withConfig({\n  displayName: \"TicketCard__Name\",\n  componentId: \"sc-3sqqk7-3\"\n})([\"transition:opacity 150ms ease;\", \"\"], ({\n  onClick\n}) => onClick && css([\"cursor:pointer;&:hover{opacity:0.45;}\"]));\nexport const Status = styled(Text).withConfig({\n  displayName: \"TicketCard__Status\",\n  componentId: \"sc-3sqqk7-4\"\n})([\"color:var(--default-color-accent);\"]);\nexport const Footer = styled(Row).withConfig({\n  displayName: \"TicketCard__Footer\",\n  componentId: \"sc-3sqqk7-5\"\n})([\"justify-content:space-between;align-items:center;flex-grow:1;\"]);\nexport const Card = ({\n  ticket,\n  appearance,\n  className,\n  style,\n  onLink,\n  onAuthorLink,\n  onChecked,\n  onEdit,\n  onDelete\n}) => {\n  var _ticket$author, _ticket$author2, _ticket$messages;\n\n  return /*#__PURE__*/React.createElement(Wrap, {\n    className: className,\n    style: style,\n    appearance: appearance\n  }, /*#__PURE__*/React.createElement(Column, {\n    style: {\n      gridGap: 0\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Meta, {\n    date: ticket.createdAt,\n    category: ticket.category\n  }), onChecked && onEdit && onDelete && /*#__PURE__*/React.createElement(Actions, null, /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Удалить обращение'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    appearance: 'red',\n    onClick: onDelete\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'delete',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Редактировать обращение'\n  }, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    size: 'xs',\n    onClick: onEdit\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'edit',\n    size: 'xs',\n    stroke: 'white'\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Отметить обращение',\n    self: true\n  }, /*#__PURE__*/React.createElement(Checkbox, null)))), /*#__PURE__*/React.createElement(Name, {\n    tag: 'h4',\n    onClick: onLink\n  }, ticket.title), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      gridGap: 5\n    }\n  }, /*#__PURE__*/React.createElement(Text, null, ticket.token), /*#__PURE__*/React.createElement(Status, null, ticket.status))), /*#__PURE__*/React.createElement(Divider, {\n    clear: true\n  }), /*#__PURE__*/React.createElement(Footer, null, /*#__PURE__*/React.createElement(Difinition, {\n    img: (_ticket$author = ticket.author) === null || _ticket$author === void 0 ? void 0 : _ticket$author.avatar,\n    label: 'Автор',\n    text: (_ticket$author2 = ticket.author) === null || _ticket$author2 === void 0 ? void 0 : _ticket$author2.name,\n    onLink: onAuthorLink\n  }), /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'chat',\n    label: 'Сообщений',\n    text: (_ticket$messages = ticket.messages) === null || _ticket$messages === void 0 ? void 0 : _ticket$messages.length\n  })));\n};\nCard.defaultProps = {\n  appearance: 'default'\n};\nexport default Card;","import React from 'react';\nimport styled from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Message from '../../atomic-ui/components/Message';\nimport Input from '../../atomic-ui/components/Input';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Text from '../../atomic-ui/components/Text';\nimport Difinition from '../../atomic-ui/components/Difinition';\nexport const Wrap = styled(Column).withConfig({\n  displayName: \"FormTicket__Wrap\",\n  componentId: \"n5aw2g-0\"\n})([\"width:100%;\"]);\nexport const Header = styled(Row).withConfig({\n  displayName: \"FormTicket__Header\",\n  componentId: \"n5aw2g-1\"\n})([\"justify-content:space-between;width:100%;\"]);\nexport const Messages = styled(Column).withConfig({\n  displayName: \"FormTicket__Messages\",\n  componentId: \"n5aw2g-2\"\n})([\"position:relative;background:#fbfbfb;border-radius:var(--surface-border-radius);padding:var(--default-gap);padding-top:55px;flex-grow:1;\"]);\nexport const Meta = styled(Row).withConfig({\n  displayName: \"FormTicket__Meta\",\n  componentId: \"n5aw2g-3\"\n})([\"position:absolute;top:0;left:0;width:100%;justify-content:space-between;padding:8px var(--default-gap);border-radius:var(--surface-border-radius) var(--surface-border-radius) 0 0;background:var(--ghost-color-background);\"]);\nexport const Empty = styled(Text).withConfig({\n  displayName: \"FormTicket__Empty\",\n  componentId: \"n5aw2g-4\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);\nexport const Ticket = ({\n  ticket,\n  appearance,\n  onFinish,\n  onReport,\n  onLink,\n  onAttach,\n  onSubmit,\n  ...props\n}) => {\n  return /*#__PURE__*/React.createElement(Wrap, props, ticket && /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Difinition, {\n    label: 'Номер обращения',\n    text: (ticket === null || ticket === void 0 ? void 0 : ticket.token) || '-'\n  }), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: onFinish,\n    disabled: !ticket\n  }, \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onReport,\n    kind: 'icon',\n    appearance: 'red',\n    disabled: !ticket\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'flag',\n    stroke: 'white'\n  })))), /*#__PURE__*/React.createElement(Messages, null, ticket && /*#__PURE__*/React.createElement(Meta, null, /*#__PURE__*/React.createElement(Text, null, \"\\u0422\\u0435\\u043C\\u0430: \", ticket.title), /*#__PURE__*/React.createElement(Text, null, ticket.createdAt)), ticket && ticket.messages && ticket.messages.length > 0 ? ticket.messages.map(message => /*#__PURE__*/React.createElement(Message, {\n    key: message.id,\n    avatar: message.avatar,\n    side: message.side,\n    name: message.name,\n    text: message.text,\n    time: message.time,\n    onLink: onLink\n  })) : /*#__PURE__*/React.createElement(Empty, null, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\")), /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    onSubmit: onAttach\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'attach',\n    stroke: 'white'\n  })), /*#__PURE__*/React.createElement(Input, {\n    placeholder: 'Отправьте сообщенение...',\n    appearance: appearance\n  }), /*#__PURE__*/React.createElement(Button, {\n    kind: 'icon',\n    onSubmit: onSubmit\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'send',\n    stroke: 'white'\n  }))));\n};\nexport default Ticket;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Column from '../../atomic-ui/components/Column';\nimport Member from '../../atomic-ui/components/Member';\nimport Alert from '../../atomic-ui/components/Alert';\nimport TicketForm from '../FormTicket';\nimport Search from '../SearchBar';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"TicketView__Wrap\",\n  componentId: \"sc-1wxiq0b-0\"\n})([\"height:100%;flex-grow:1;@media only screen and (max-width:568px){flex-direction:column;}\", \" \", \" \", \"\"], ({\n  appearance\n}) => appearance === 'default' && css([\"padding:var(--default-gap);background:var(--surface-background);border:var(--surface-border);border-radius:var(--surface-border-radius);box-shadow:var(--surface-shadow);\"]), ({\n  appearance\n}) => appearance === 'ghost' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]), ({\n  appearance\n}) => appearance === 'clear' && css([\"padding:0;border:none;background:none;border-radius:0;box-shadow:none;\"]));\nexport const Tickets = styled(Column).withConfig({\n  displayName: \"TicketView__Tickets\",\n  componentId: \"sc-1wxiq0b-1\"\n})([\"grid-gap:0;width:320px;@media only screen and (max-width:568px){width:100%;}\"]);\nexport const Ticket = styled(Member).withConfig({\n  displayName: \"TicketView__Ticket\",\n  componentId: \"sc-1wxiq0b-2\"\n})([\"margin:10px 0 0 0;padding:10px;border-radius:var(--surface-border-radius);\", \"\"], ({\n  active\n}) => active && css([\"background:var(--input-background);\"]));\nexport const View = ({\n  tickets,\n  appearance,\n  onMemberLink,\n  onFinish,\n  onReport,\n  onAttach,\n  onSubmit,\n  ...props\n}) => {\n  const [currentTicket, setCurrentTicket] = useState(null);\n  return /*#__PURE__*/React.createElement(Wrap, _extends({}, props, {\n    appearance: appearance\n  }), /*#__PURE__*/React.createElement(Tickets, null, /*#__PURE__*/React.createElement(Search, {\n    appearance: 'ghost'\n  }), (tickets === null || tickets === void 0 ? void 0 : tickets.length) > 0 ? tickets.map(ticket => /*#__PURE__*/React.createElement(Ticket, {\n    key: ticket.id,\n    name: ticket.title,\n    budge: ticket.messages.reduce((acc, item) => acc + (item.unreaded ? 1 : 0), 0),\n    position: ticket.token,\n    onClick: () => setCurrentTicket(ticket),\n    active: currentTicket && currentTicket.id === ticket.id\n  })) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      marginTop: 15\n    },\n    appearance: 'warning'\n  }, \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0435 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u044E\\u0442\")), /*#__PURE__*/React.createElement(TicketForm, {\n    ticket: currentTicket,\n    appearance: 'ghost',\n    onFinish: onFinish,\n    onReport: onReport,\n    onLink: onMemberLink,\n    onAttach: onAttach,\n    onSubmit: onSubmit\n  }));\n};\nView.defaultProps = {\n  appearance: 'default'\n};\nexport default View;","import React from 'react';\nimport TicketForm from '../../components/FormTicket';\nimport DeleteForm from '../../components/FormDelete';\nimport TicketCard from '../../components/TicketCard';\nimport TicketView from '../../components/TicketView';\nimport { setDocuments } from '../actions/documents';\nimport { setDrawer } from '../actions/drawer';\nimport { setItem } from '../actions/snacks';\nimport { onUserLink } from './user';\nimport { onFileLink } from '.';\nexport function onTicketLink(dispatch, props) {\n  const {\n    ticket\n  } = props;\n  dispatch(setDrawer({\n    icon: 'ticket',\n    title: 'Обращение',\n    content: /*#__PURE__*/React.createElement(TicketView, {\n      ticket: ticket,\n      appearance: 'clear',\n      onFileLink: () => onFileLink(dispatch),\n      onMemberLink: () => onUserLink(dispatch)\n    })\n  }));\n}\nexport function onTicketCreate(dispatch, props) {\n  const {\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'ticket',\n    title: 'Создание обращения',\n    content: /*#__PURE__*/React.createElement(TicketForm, {\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              input: {\n                title: form.title,\n                body: form.body || 'Содержимое отсутствует',\n                status: form.status.value\n              }\n            }\n          });\n          dispatch(setDocuments(tickets.data.createTicket));\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Обращение успешно создано'\n          }));\n        } catch (err) {\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось создать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nexport function onTicketEdit(dispatch, props) {\n  const {\n    ticket,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'ticket',\n    title: 'Редактирвоание обращения',\n    content: /*#__PURE__*/React.createElement(TicketForm, {\n      ticket: ticket,\n      mutation: mutation,\n      appearance: 'clear',\n      onSubmit: async (form, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              id: ticket.id,\n              input: {\n                title: form.title,\n                body: form.body || 'Содержимое отсутствует',\n                status: form.status.value\n              }\n            }\n          });\n          dispatch(setDocuments(tickets.data.updateTicket));\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Обращение успешно отредактировано'\n          }));\n        } catch (_unused) {\n          dispatch(setDrawer(null));\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось отредактировать обращение'\n          }));\n        }\n      }\n    })\n  }));\n}\nexport function onTicketDelete(dispatch, props) {\n  const {\n    ticket,\n    mutation\n  } = props;\n  dispatch(setDrawer({\n    icon: 'delete',\n    color: 'red',\n    title: 'Удаление обращения',\n    content: /*#__PURE__*/React.createElement(DeleteForm, {\n      mutation: mutation,\n      appearance: 'clear',\n      onCancel: () => dispatch(setDrawer(null)),\n      onSubmit: async (_, action) => {\n        try {\n          const tickets = await action({\n            variables: {\n              id: ticket.id\n            }\n          });\n          dispatch(setDocuments(tickets.data.deleteTicket));\n          dispatch(setItem({\n            type: 'success',\n            message: 'Обращение успешно удалено'\n          }));\n        } catch (_unused2) {\n          dispatch(setItem({\n            type: 'error',\n            message: 'Не удалось удалить обращение'\n          }));\n        } finally {\n          dispatch(setDrawer(null));\n        }\n      }\n    }, /*#__PURE__*/React.createElement(TicketCard, {\n      ticket: ticket,\n      appearance: 'clear'\n    }))\n  }));\n}","import React, { useState, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Grid from '../../atomic-ui/components/Grid';\nimport Alert from '../../atomic-ui/components/Alert';\nimport DatePicker from '../../atomic-ui/components/DatePicker';\nimport Select from '../../atomic-ui/components/Select';\nimport Table from '../../atomic-ui/components/Table';\nimport templates from '../../atomic-ui/components/Table/templates';\nimport { useHelper } from '../../hooks/useHelper';\nimport DashboardLayout from '../../layouts/dashboard';\nimport HandleBar from '../../components/HandleBar';\nimport FilterBar from '../../components/FilterBar';\nimport TicketCard from '../../components/TicketCard';\nimport { onTicketCreate, onTicketEdit, onTicketDelete, onTicketLink } from '../../store/helpers/ticket';\nimport { setDocuments } from '../../store/actions/documents';\nimport queries from '../../graphql/queries';\nimport { categories } from '../../__mock__';\nconst TITLE = 'Обращения';\n\nconst Tickets = ({\n  store\n}) => {\n  const recall = useHelper();\n  const documents = useSelector(state => state.documents);\n  const dispatch = useDispatch();\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [displayMethod, onChangeDisplayMethod] = useState('grid');\n  const tickets = useMemo(() => documents || store.tickets, [documents, store]);\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    title: TITLE\n  }, /*#__PURE__*/React.createElement(HandleBar, {\n    icon: 'ticket',\n    title: TITLE,\n    buttonCreateText: 'Создать обращение',\n    onCreate: recall(onTicketCreate, {\n      mutation: queries.CREATE_TICKET\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/React.createElement(DatePicker, {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/React.createElement(Select, {\n      key: 1,\n      options: categories,\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates.ticket.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), tickets.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/React.createElement(Table, {\n    data: tickets,\n    template: templates.ticket,\n    onChecked: () => {},\n    onClick: ticket => recall(onTicketLink, {\n      id: ticket.id,\n      ticket\n    })(),\n    onDelete: ticket => recall(onTicketDelete, {\n      id: ticket.id,\n      ticket,\n      mutation: queries.DELETE_TICKET\n    })(),\n    onEdit: ticket => recall(onTicketEdit, {\n      id: ticket.id,\n      ticket,\n      mutation: queries.UPDATE_TICKET\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/React.createElement(Grid, null, tickets.map(ticket => /*#__PURE__*/React.createElement(TicketCard, {\n    key: ticket.id,\n    ticket: ticket,\n    onChecked: () => {},\n    onLink: recall(onTicketLink, {\n      id: ticket.id,\n      ticket\n    }),\n    onDelete: recall(onTicketDelete, {\n      id: ticket.id,\n      ticket,\n      mutation: queries.DELETE_TICKET\n    }),\n    onEdit: recall(onTicketEdit, {\n      id: ticket.id,\n      ticket,\n      mutation: queries.UPDATE_TICKET\n    })\n  }))));\n};\n\nexport var __N_SSP = true;\nexport default Tickets;","export const supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nexport const socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nexport const contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nexport const profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nexport const notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nexport const categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nexport const filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];"]}}