{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{QX5T:function(e,t,a){\"use strict\";var i=a(\"q1tI\"),n=a.n(i),o=a(\"vOnD\"),l=a(\"VX74\"),r=a(\"7Cbv\"),d=a(\"8CDE\"),c=a(\"ZwIX\"),s=a(\"wZgm\"),u=a(\"auMy\"),m=a(\"QclZ\");const E=({callbackOnTop:e,callbackOnBottom:t,offset:a=50})=>{const[n,o]=Object(i.useState)(0);Object(i.useEffect)((()=>{const i=document.documentElement,l=()=>{if(!i)return;const l=i.scrollTop-n;t&&l>0&&i.scrollTop+i.clientHeight>=i.scrollHeight-a&&t(i.scrollTop,i.scrollHeight),e&&l<0&&i.scrollTop<=a&&e(i.scrollTop,i.scrollHeight),o(i.scrollTop)};return i&&window.addEventListener(\"scroll\",l),()=>{i&&window.removeEventListener(\"scroll\",l)}}),[e,t,a])};var p=a(\"X+Rt\"),v=a(\"p9yE\"),h=a(\"RoTl\"),f=a(\"EYtC\"),_=a(\"coMr\"),g=a(\"586Q\");const j=Object(o.c)(d.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(o.b)([\"margin:0;\"])));t.a=({title:e,store:t,query:a,handle:o,filters:d,options:b,research:C,scaffold:O,dashboard:S,variables:w={},limit:y=6,startOffset:T=6,children:k})=>{const A=S?v.a:p.a,[D,R]=Object(i.useState)(),[P,x]=Object(i.useState)(),[L,U]=Object(i.useState)(null),[N,M]=Object(i.useState)(!1),[I,H]=Object(i.useState)(T),[G,J]=Object(i.useState)((null===t||void 0===t?void 0:t.documents)||[]),[q,{data:F,loading:X,error:Q,refetch:K}]=Object(l.useLazyQuery)(a),[V,{data:Z,loading:z,error:B,refetch:W}]=Object(l.useLazyQuery)(a),Y=e=>{if(J([]),e)U(e),q({variables:{...w,search:e,offset:0,limit:T}});else{const e={...w,offset:0,limit:y};U(null),W?W(e):V({variables:e})}H(0)};return E({callbackOnBottom:()=>{const e=()=>H((e=>e+y));if(!z){const t={...w,offset:I,limit:y};L?K(w).then(e):W?W(t).then(e):V({variables:t})}},offset:850}),Object(i.useEffect)((()=>{C&&Y(C)}),[C]),Object(i.useEffect)((()=>{const e=!L&&!z&&Z||L&&!X&&F;e&&J((t=>[...t,...e[Object.keys(e)[0]]]))}),[L,z,X,Z,F]),n.a.createElement(A,{title:e,scaffold:O},n.a.createElement(j,{clear:O||S},!O&&!S&&n.a.createElement(f.a,{onChangeFilter:()=>M(!N),onSubmit:Y}),S&&o&&n.a.createElement(_.a,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>M(!N),onChangeDisplayMethod:o.onChangeDisplayMethod}),(d||b)&&n.a.createElement(h.a,{isOpen:N,filters:d.map((e=>{switch(e.type){case\"DATEPICKER\":return n.a.createElement(s.a,{key:Object(r.a)(),value:D,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:R,withNavigate:!0});case\"SELECT\":return n.a.createElement(m.a,{key:Object(r.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:P,onChange:e=>x(e)});default:return null}})),options:b}),n.a.createElement(k,{documents:G}),L&&!X&&0===G.length&&n.a.createElement(c.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041f\\u043e \\u0432\\u0430\\u0448\\u0435\\u043c\\u0443 \\u0437\\u0430\\u043f\\u0440\\u043e\\u0441\\u0443 \\u043d\\u0438\\u0447\\u0435\\u0433\\u043e \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d\\u043e\"),(L&&Q||!L&&B)&&n.a.createElement(c.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"),(!B&&z||L&&!Q&&X)&&n.a.createElement(g.d,null,n.a.createElement(u.a,null)),!L&&!z&&!X&&!Q&&0===G.length&&n.a.createElement(c.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0414\\u0430\\u043d\\u043d\\u044b\\u0445 \\u043d\\u0435\\u0442\")))}},RNiq:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return y}));var i=a(\"q1tI\"),n=a.n(i),o=a(\"vOnD\"),l=a(\"/MKj\"),r=a(\"ZwIX\"),d=a(\"7sPp\"),c=a(\"ApjV\"),s=a(\"lphG\"),u=a(\"QX5T\"),m=a(\"1zqG\"),E=a(\"UwjQ\"),p=a(\"TsNn\"),v=a(\"VP1n\"),h=a(\"07fs\"),f=a(\"8ihE\"),_=a(\"IxyI\"),g=a(\"rP4V\"),j=a(\"owvJ\"),b=a(\"+EEm\"),C=a(\"u2Cb\");const O=o.c.div.withConfig({displayName:\"pages__Container\",componentId:\"sc-1kp8388-0\"})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}\"]),S=o.c.aside.withConfig({displayName:\"pages__Projects\",componentId:\"sc-1kp8388-1\"})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]),w=o.c.aside.withConfig({displayName:\"pages__Aside\",componentId:\"sc-1kp8388-2\"})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);var y=!0;t.default=({store:e})=>{const t=Object(c.b)(),a=Object(s.a)(),o=Object(l.c)((e=>e.user)),y=Object(l.b)(),[T,k]=Object(i.useState)(null),{articles:A,users:D}=e,R=Object(i.useMemo)((()=>({title:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0432\\u0430\\u0439 \\u0448\\u043a\\u043e\\u043b\\u0443 \\u0431\\u0443\\u0434\\u0443\\u0449\\u0435\\u0433\\u043e \\u0441 \\u043d\\u0430\\u043c\\u0438\",background:\"/images/main-background.png\",primary:e.projects.length>0&&e.projects[0],residue:e.projects.length>4&&e.projects.slice(1,3),onLink:(e,i)=>t(_.e,{id:e.id,auth:null===o||void 0===o?void 0:o.email,project:e,liked:!!((null===o||void 0===o?void 0:o.likedProjects)||[]).find((t=>t.id===e.id)),onLike:o.email&&a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:o.email&&t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}}),owned:i})(),onLike:o.email&&(e=>a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject))))()),onAdd:o.email&&(e=>t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}})()),onSearch:e=>k(e),onAboutMore:e=>t(g.a,{user:e}),onCompanyLink:e=>{var a;return t(g.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:o})()},onScreenshotClick:(e,a)=>t(_.f,{screenshots:[e.preview,...e.screenshots],key:a})()})),[e]);return n.a.createElement(u.a,{title:\"\\u0410\\u0442\\u043e\\u043c\\u0438\\u043a\",limit:5,research:T,scaffold:R,startOffset:13,query:C.a.GET_PROJECTS,variables:{status:\"PUBLISHED\"},store:{documents:null===e||void 0===e?void 0:e.projects}},(({documents:e})=>n.a.createElement(O,null,n.a.createElement(S,null,e.map((e=>{var i,l,r;const d=null===o||void 0===o||null===(i=o.projects)||void 0===i?void 0:i.find((t=>t.id===e.id));return n.a.createElement(h.a,{key:e.id},n.a.createElement(v.a,null,n.a.createElement(m.c,{project:e,owned:d,added:!(null===o||void 0===o||null===(l=o.folders)||void 0===l||!l.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t.id===e.id)))))),liked:!!((null===o||void 0===o?void 0:o.likedProjects)||[]).find((t=>t.id===e.id)),onLink:t(_.e,{id:e.id,auth:null===o||void 0===o?void 0:o.email,liked:!!((null===o||void 0===o?void 0:o.likedProjects)||[]).find((t=>t.id===e.id)),onLike:o.email&&a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:o.email&&t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}}),owned:d}),onLike:o.email&&a(C.a.LIKE_PROJECT,{id:e.id},(e=>y(Object(f.e)(e.data.likeProject)))),onAdd:o.email&&t(_.a,{id:e.id,project:e,folders:null===o||void 0===o?void 0:o.folders,mutations:{addProject:C.a.ADD_USER_PROJECT,createFolder:C.a.ADD_USER_FOLDER}}),onAboutMore:t(g.a,{user:e}),onCompanyLink:t(g.i,{id:null===(r=e.company)||void 0===r?void 0:r.email,auth:null===o||void 0===o?void 0:o.email,recipient:e.author,query:C.a.GET_USER_CHATS,mutation:C.a.SEND_MESSAGE}),onScreenshotClick:(a,i)=>t(_.f,{screenshots:[e.preview,...e.screenshots],key:i})()})))}))),n.a.createElement(w,null,n.a.createElement(d.a,{tag:\"h4\"},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u044b\"),D.length>0?D.slice(0,3).map((e=>{var a;const i=e.name===(null===o||void 0===o?void 0:o.name);return n.a.createElement(h.a,{key:e.email},n.a.createElement(v.a,null,n.a.createElement(p.a,{user:e,owned:i,onChat:o.email&&t(b.a,{email:e.email,auth:null===o||void 0===o?void 0:o.email,queries:{userChats:C.a.GET_USER_CHATS,chat:C.a.GET_CHAT},mutations:{addUserChat:C.a.ADD_USER_CHAT,sendMessage:C.a.SEND_MESSAGE}}),onLink:t(g.i,{id:e.email,auth:null===o||void 0===o?void 0:o.email,owned:i,queries:{userChats:C.a.GET_USER_CHATS,chat:C.a.GET_CHAT},mutations:{addUserChat:C.a.ADD_USER_CHAT,sendMessage:C.a.SEND_MESSAGE}}),onAboutMore:t(g.a,{user:e}),onMembers:t(g.j,{id:null===e||void 0===e?void 0:e.email,auth:null===o||void 0===o?void 0:o.email}),onCompanyLink:t(g.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:null===o||void 0===o?void 0:o.email,queries:{userChats:C.a.GET_USER_CHATS,chat:C.a.GET_CHAT},mutations:{addUserChat:C.a.ADD_USER_CHAT,sendMessage:C.a.SEND_MESSAGE}})})))})):n.a.createElement(r.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u043e\\u0432 \\u043d\\u0435\\u0442\"),n.a.createElement(d.a,{tag:\"h4\"},\"\\u041d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0438\"),A.length>0?A.slice(0,2).map((e=>{var a;return n.a.createElement(h.a,{key:e.id},n.a.createElement(v.a,null,n.a.createElement(E.a,{layout:\"column\",article:e,owned:null===o||void 0===o||null===(a=o.articles)||void 0===a?void 0:a.find((t=>t.id===e.id)),onLink:t(j.d,{id:e.id,auth:null===o||void 0===o?void 0:o.email})})))})):n.a.createElement(r.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0435\\u0439 \\u043d\\u0435\\u0442\")))))}},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return a(\"RNiq\")}])}},[[\"vlRD\",0,2,1,3,4,5,6,7,9]]]);","map":{"version":3,"sources":["static/chunks/pages/index-f73e1d9ccaf47c2878d4.js"],"names":["_N_E","window","push","QX5T","module","__webpack_exports__","__webpack_require__","react","react_default","n","styled_components_browser_esm","client","v4","Column","Alert","DatePicker","Spinner","Select","useInfiniteScroll","callbackOnTop","callbackOnBottom","offset","lastScrollTop","setLastScrollTop","Object","scrollElement","document","documentElement","onScroll","dir","scrollTop","clientHeight","scrollHeight","addEventListener","removeEventListener","layouts_default","layouts_dashboard","FilterBar","SearchBar","HandleBar","Styled","Wrap","withConfig","displayName","componentId","clear","title","store","query","handle","filters","options","research","scaffold","dashboard","variables","limit","startOffset","children","Layout","date","onChangeDate","select","onChangeSelect","search","setSearch","visibleFilter","setVisibleFilter","setOffset","documents","setDocuments","loadDocumentsBySearch","data","dataBySearch","loading","loadingBySearch","error","errorBySearch","refetch","refetchBySearch","loadDocuments","onSearch","value","result","updateOffset","prev","then","keys","a","createElement","onChangeFilter","onSubmit","icon","buttonCreateText","onCreate","onChangeVisibleFilter","onChangeDisplayMethod","isOpen","map","filter","type","key","placeholder","onChange","withNavigate","selected","item","length","style","width","textAlign","appearance","RNiq","r","d","__N_SSP","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","styled_components__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__","_layouts_content__WEBPACK_IMPORTED_MODULE_7__","_components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__","_components_ArticleCard__WEBPACK_IMPORTED_MODULE_9__","_components_UserCard__WEBPACK_IMPORTED_MODULE_10__","_components_LazyLoad__WEBPACK_IMPORTED_MODULE_11__","_components_FadeLoad__WEBPACK_IMPORTED_MODULE_12__","_store_actions_user__WEBPACK_IMPORTED_MODULE_13__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__","_store_helpers_article__WEBPACK_IMPORTED_MODULE_16__","_store_helpers__WEBPACK_IMPORTED_MODULE_17__","_graphql_queries__WEBPACK_IMPORTED_MODULE_18__","Container","div","Projects","aside","Aside","recall","mutate","user","state","dispatch","articles","users","background","primary","projects","residue","slice","onLink","project","owned","id","auth","email","liked","likedProjects","find","onLike","LIKE_PROJECT","response","likeProject","onAdd","folders","mutations","addProject","ADD_USER_PROJECT","createFolder","ADD_USER_FOLDER","onAboutMore","onCompanyLink","_project$company","company","onScreenshotClick","screenshots","preview","GET_PROJECTS","status","_user$projects","_user$folders","_project$company2","candidate","added","folder","recipient","author","GET_USER_CHATS","mutation","SEND_MESSAGE","_","tag","_author$company","name","onChat","queries","userChats","chat","GET_CHAT","addUserChat","ADD_USER_CHAT","sendMessage","onMembers","article","_user$articles","layout","vlRD","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/index-f73e1d9ccaf47c2878d4.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[30],{\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(\"7Cbv\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Alert/index.js\nvar Alert = __webpack_require__(\"ZwIX\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DatePicker/index.js + 5 modules\nvar DatePicker = __webpack_require__(\"wZgm\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Select/index.js + 22 modules\nvar Select = __webpack_require__(\"QclZ\");\n\n// CONCATENATED MODULE: ./hooks/useInfiniteScroll.js\n\nconst useInfiniteScroll = ({\n  callbackOnTop,\n  callbackOnBottom,\n  offset = 50\n}) => {\n  const [lastScrollTop, setLastScrollTop] = Object(react[\"useState\"])(0);\n  Object(react[\"useEffect\"])(() => {\n    const scrollElement = document.documentElement;\n\n    const onScroll = () => {\n      if (!scrollElement) return;\n      const dir = scrollElement.scrollTop - lastScrollTop;\n\n      if (callbackOnBottom && dir > 0 && scrollElement.scrollTop + scrollElement.clientHeight >= scrollElement.scrollHeight - offset) {\n        callbackOnBottom(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      if (callbackOnTop && dir < 0 && scrollElement.scrollTop <= offset) {\n        callbackOnTop(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      setLastScrollTop(scrollElement.scrollTop);\n    };\n\n    if (scrollElement) {\n      window.addEventListener('scroll', onScroll);\n    }\n\n    return () => {\n      if (scrollElement) {\n        window.removeEventListener('scroll', onScroll);\n      }\n    };\n  }, [callbackOnTop, callbackOnBottom, offset]);\n};\n/* harmony default export */ var hooks_useInfiniteScroll = (useInfiniteScroll);\n// EXTERNAL MODULE: ./layouts/default.js + 3 modules\nvar layouts_default = __webpack_require__(\"X+Rt\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/index.js + 2 modules\nvar layouts_dashboard = __webpack_require__(\"p9yE\");\n\n// EXTERNAL MODULE: ./components/FilterBar/index.js\nvar FilterBar = __webpack_require__(\"RoTl\");\n\n// EXTERNAL MODULE: ./components/SearchBar/index.js\nvar SearchBar = __webpack_require__(\"EYtC\");\n\n// EXTERNAL MODULE: ./components/HandleBar/index.js\nvar HandleBar = __webpack_require__(\"coMr\");\n\n// EXTERNAL MODULE: ./components/Styled/index.js\nvar Styled = __webpack_require__(\"586Q\");\n\n// CONCATENATED MODULE: ./layouts/content.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components_browser_esm[\"b\" /* css */])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  research,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  children\n}) => {\n  const Layout = dashboard ? layouts_dashboard[\"a\" /* default */] : layouts_default[\"a\" /* default */];\n  const [date, onChangeDate] = Object(react[\"useState\"])();\n  const [select, onChangeSelect] = Object(react[\"useState\"])();\n  const [search, setSearch] = Object(react[\"useState\"])(null);\n  const [visibleFilter, setVisibleFilter] = Object(react[\"useState\"])(false);\n  const [offset, setOffset] = Object(react[\"useState\"])(startOffset);\n  const [documents, setDocuments] = Object(react[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    error: errorBySearch,\n    refetch: refetchBySearch\n  }] = Object(client[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = Object(client[\"useLazyQuery\"])(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react_default.a.createElement(DatePicker[\"a\" /* default */], {\n            key: Object(v4[\"a\" /* default */])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react_default.a.createElement(Select[\"a\" /* default */], {\n            key: Object(v4[\"a\" /* default */])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  useInfiniteScroll({\n    callbackOnBottom: () => {\n      const updateOffset = () => setOffset(prev => prev + limit);\n\n      if (!loading) {\n        const result = { ...variables,\n          offset,\n          limit\n        };\n        if (search) refetchBySearch(variables).then(updateOffset);else {\n          if (refetch) refetch(result).then(updateOffset);else loadDocuments({\n            variables: result\n          });\n        }\n      }\n    },\n    offset: 850\n  });\n  Object(react[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react[\"useEffect\"])(() => {\n    const isCommon = !search && !loading && data;\n    const isSearch = search && !loadingBySearch && dataBySearch;\n    const result = isCommon || isSearch;\n    if (result) setDocuments(prev => [...prev, ...result[Object.keys(result)[0]]]);\n  }, [search, loading, loadingBySearch, data, dataBySearch]);\n  return /*#__PURE__*/react_default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react_default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react_default.a.createElement(SearchBar[\"a\" /* default */], {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react_default.a.createElement(HandleBar[\"a\" /* default */], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react_default.a.createElement(FilterBar[\"a\" /* default */], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), react_default.a.createElement(children, {\n    documents\n  }), search && !loadingBySearch && documents.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"), (search && errorBySearch || !search && error) && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), (!error && loading || search && !errorBySearch && loadingBySearch) && /*#__PURE__*/react_default.a.createElement(Styled[\"d\" /* LowerLoader */], null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null)), !search && !loading && !loadingBySearch && !errorBySearch && documents.length === 0 && /*#__PURE__*/react_default.a.createElement(Alert[\"a\" /* default */], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\")));\n};\n\n/* harmony default export */ var content = __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"RNiq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"7sPp\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _components_ArticleCard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"UwjQ\");\n/* harmony import */ var _components_UserCard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"TsNn\");\n/* harmony import */ var _components_LazyLoad__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _components_FadeLoad__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"07fs\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _store_helpers_article__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"owvJ\");\n/* harmony import */ var _store_helpers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"+EEm\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Атомик';\nconst START_OFFSET = 13;\nconst LIMIT = 5;\nconst Container = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].div.withConfig({\n  displayName: \"pages__Container\",\n  componentId: \"sc-1kp8388-0\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}\"]);\nconst Projects = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].aside.withConfig({\n  displayName: \"pages__Projects\",\n  componentId: \"sc-1kp8388-1\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst Aside = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].aside.withConfig({\n  displayName: \"pages__Aside\",\n  componentId: \"sc-1kp8388-2\"\n})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);\n\nconst Home = ({\n  store\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__[/* useMutate */ \"a\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useSelector */ \"c\"])(state => state.user);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useDispatch */ \"b\"])();\n  const [search, setSearch] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n  const {\n    articles,\n    users\n  } = store;\n  const scaffold = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => ({\n    title: 'Создавай школу будущего с нами',\n    background: '/images/main-background.png',\n    primary: store.projects.length > 0 && store.projects[0],\n    residue: store.projects.length > 4 && store.projects.slice(1, 3),\n    onLink: (project, owned) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectLink */ \"e\"], {\n      id: project.id,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      project,\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_13__[/* updateUser */ \"e\"])(response.data.likeProject))),\n      onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectAdd */ \"a\"], {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_PROJECT,\n          createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_FOLDER\n        }\n      }),\n      owned\n    })(),\n    onLike: user.email && (project => mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].LIKE_PROJECT, {\n      id: project.id\n    }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_13__[/* updateUser */ \"e\"])(response.data.likeProject)))()),\n    onAdd: user.email && (project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectAdd */ \"a\"], {\n      id: project.id,\n      project,\n      folders: user === null || user === void 0 ? void 0 : user.folders,\n      mutations: {\n        addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_PROJECT,\n        createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_FOLDER\n      }\n    })()),\n    onSearch: value => setSearch(value),\n    onAboutMore: project => recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserAboutMore */ \"a\"], {\n      user: project\n    }),\n    onCompanyLink: project => {\n      var _project$company;\n\n      return recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserLink */ \"i\"], {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user\n      })();\n    },\n    onScreenshotClick: (project, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectScreenshot */ \"f\"], {\n      screenshots: [project.preview, ...project.screenshots],\n      key\n    })()\n  }), [store]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n    title: TITLE,\n    limit: LIMIT,\n    research: search,\n    scaffold: scaffold,\n    startOffset: START_OFFSET,\n    query: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_PROJECTS,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: store === null || store === void 0 ? void 0 : store.projects\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Projects, null, documents.map(project => {\n    var _user$projects, _user$folders, _project$company2;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FadeLoad__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n      key: project.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyLoad__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"c\"], {\n      project: project,\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item.id === project.id)))),\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLink: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_13__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          project,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_FOLDER\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_13__[/* updateUser */ \"e\"])(response.data.likeProject))),\n      onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectAdd */ \"a\"], {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_PROJECT,\n          createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_FOLDER\n        }\n      }),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserAboutMore */ \"a\"], {\n        user: project\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserLink */ \"i\"], {\n        id: (_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_USER_CHATS,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_14__[/* onProjectScreenshot */ \"f\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    })));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Aside, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    tag: 'h4'\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"), users.length > 0 ? users.slice(0, 3).map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FadeLoad__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n      key: author.email\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyLoad__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UserCard__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(_store_helpers__WEBPACK_IMPORTED_MODULE_17__[/* onChat */ \"a\"], {\n        email: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserLink */ \"i\"], {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserAboutMore */ \"a\"], {\n        user: author\n      }),\n      onMembers: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserMembers */ \"j\"], {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_15__[/* onUserLink */ \"i\"], {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      })\n    })));\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    tag: 'h4'\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), articles.length > 0 ? articles.slice(0, 2).map(article => {\n    var _user$articles;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FadeLoad__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n      key: article.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyLoad__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArticleCard__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n      layout: 'column',\n      article: article,\n      owned: user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(candidate => candidate.id === article.id),\n      onLink: recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_16__[/* onArticleLink */ \"d\"], {\n        id: article.id,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    })));\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439 \\u043D\\u0435\\u0442\"))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\n\n/***/ }),\n\n/***/ \"vlRD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/\",\n        function () {\n          return __webpack_require__(\"RNiq\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"vlRD\",0,2,1,3,4,5,6,7,9]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\hooks\\useInfiniteScroll.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2F&absolutePagePath=private-next-pages%2Findex.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { useState, useEffect } from 'react';\nexport const useInfiniteScroll = ({\n  callbackOnTop,\n  callbackOnBottom,\n  offset = 50\n}) => {\n  const [lastScrollTop, setLastScrollTop] = useState(0);\n  useEffect(() => {\n    const scrollElement = document.documentElement;\n\n    const onScroll = () => {\n      if (!scrollElement) return;\n      const dir = scrollElement.scrollTop - lastScrollTop;\n\n      if (callbackOnBottom && dir > 0 && scrollElement.scrollTop + scrollElement.clientHeight >= scrollElement.scrollHeight - offset) {\n        callbackOnBottom(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      if (callbackOnTop && dir < 0 && scrollElement.scrollTop <= offset) {\n        callbackOnTop(scrollElement.scrollTop, scrollElement.scrollHeight);\n      }\n\n      setLastScrollTop(scrollElement.scrollTop);\n    };\n\n    if (scrollElement) {\n      window.addEventListener('scroll', onScroll);\n    }\n\n    return () => {\n      if (scrollElement) {\n        window.removeEventListener('scroll', onScroll);\n      }\n    };\n  }, [callbackOnTop, callbackOnBottom, offset]);\n};\nexport default useInfiniteScroll;","import React, { useState, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport Alert from '../atomic-ui/components/Alert';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport { useInfiniteScroll } from '../hooks/useInfiniteScroll';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  research,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  children\n}) => {\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    error: errorBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = useLazyQuery(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  useInfiniteScroll({\n    callbackOnBottom: () => {\n      const updateOffset = () => setOffset(prev => prev + limit);\n\n      if (!loading) {\n        const result = { ...variables,\n          offset,\n          limit\n        };\n        if (search) refetchBySearch(variables).then(updateOffset);else {\n          if (refetch) refetch(result).then(updateOffset);else loadDocuments({\n            variables: result\n          });\n        }\n      }\n    },\n    offset: 850\n  });\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const isCommon = !search && !loading && data;\n    const isSearch = search && !loadingBySearch && dataBySearch;\n    const result = isCommon || isSearch;\n    if (result) setDocuments(prev => [...prev, ...result[Object.keys(result)[0]]]);\n  }, [search, loading, loadingBySearch, data, dataBySearch]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), React.createElement(children, {\n    documents\n  }), search && !loadingBySearch && documents.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"), (search && errorBySearch || !search && error) && /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"), (!error && loading || search && !errorBySearch && loadingBySearch) && /*#__PURE__*/React.createElement(LowerLoader, null, /*#__PURE__*/React.createElement(Spinner, null)), !search && !loading && !loadingBySearch && !errorBySearch && documents.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\")));\n};\n\nexport default ContentLayout;","import React, { useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Alert from '../atomic-ui/components/Alert';\nimport Title from '../atomic-ui/components/Title';\nimport { useHelper } from '../hooks/useHelper';\nimport { useMutate } from '../hooks/useMutate';\nimport ContentLayout from '../layouts/content';\nimport ProjectCard from '../components/ProjectCard';\nimport ArticleCard from '../components/ArticleCard';\nimport UserCard from '../components/UserCard';\nimport LazyLoad from '../components/LazyLoad';\nimport FadeLoad from '../components/FadeLoad';\nimport { updateUser } from '../store/actions/user';\nimport { onProjectLink, onProjectAdd, onProjectScreenshot } from '../store/helpers/project';\nimport { onUserAboutMore, onUserLink, onUserMembers } from '../store/helpers/user';\nimport { onArticleLink } from '../store/helpers/article';\nimport { onChat } from '../store/helpers';\nimport queries from '../graphql/queries';\nconst TITLE = 'Атомик';\nconst START_OFFSET = 13;\nconst LIMIT = 5;\nconst Container = styled.div.withConfig({\n  displayName: \"pages__Container\",\n  componentId: \"sc-1kp8388-0\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}\"]);\nconst Projects = styled.aside.withConfig({\n  displayName: \"pages__Projects\",\n  componentId: \"sc-1kp8388-1\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst Aside = styled.aside.withConfig({\n  displayName: \"pages__Aside\",\n  componentId: \"sc-1kp8388-2\"\n})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);\n\nconst Home = ({\n  store\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const [search, setSearch] = useState(null);\n  const {\n    articles,\n    users\n  } = store;\n  const scaffold = useMemo(() => ({\n    title: 'Создавай школу будущего с нами',\n    background: '/images/main-background.png',\n    primary: store.projects.length > 0 && store.projects[0],\n    residue: store.projects.length > 4 && store.projects.slice(1, 3),\n    onLink: (project, owned) => recall(onProjectLink, {\n      id: project.id,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      project,\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLike: user.email && mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onAdd: user.email && recall(onProjectAdd, {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: queries.ADD_USER_PROJECT,\n          createFolder: queries.ADD_USER_FOLDER\n        }\n      }),\n      owned\n    })(),\n    onLike: user.email && (project => mutate(queries.LIKE_PROJECT, {\n      id: project.id\n    }, response => dispatch(updateUser(response.data.likeProject)))()),\n    onAdd: user.email && (project => recall(onProjectAdd, {\n      id: project.id,\n      project,\n      folders: user === null || user === void 0 ? void 0 : user.folders,\n      mutations: {\n        addProject: queries.ADD_USER_PROJECT,\n        createFolder: queries.ADD_USER_FOLDER\n      }\n    })()),\n    onSearch: value => setSearch(value),\n    onAboutMore: project => recall(onUserAboutMore, {\n      user: project\n    }),\n    onCompanyLink: project => {\n      var _project$company;\n\n      return recall(onUserLink, {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user\n      })();\n    },\n    onScreenshotClick: (project, key) => recall(onProjectScreenshot, {\n      screenshots: [project.preview, ...project.screenshots],\n      key\n    })()\n  }), [store]);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    limit: LIMIT,\n    research: search,\n    scaffold: scaffold,\n    startOffset: START_OFFSET,\n    query: queries.GET_PROJECTS,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: store === null || store === void 0 ? void 0 : store.projects\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(Projects, null, documents.map(project => {\n    var _user$projects, _user$folders, _project$company2;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/React.createElement(FadeLoad, {\n      key: project.id\n    }, /*#__PURE__*/React.createElement(LazyLoad, null, /*#__PURE__*/React.createElement(ProjectCard, {\n      project: project,\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item.id === project.id)))),\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          project,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onAdd: user.email && recall(onProjectAdd, {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: queries.ADD_USER_PROJECT,\n          createFolder: queries.ADD_USER_FOLDER\n        }\n      }),\n      onAboutMore: recall(onUserAboutMore, {\n        user: project\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: queries.GET_USER_CHATS,\n        mutation: queries.SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    })));\n  })), /*#__PURE__*/React.createElement(Aside, null, /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"), users.length > 0 ? users.slice(0, 3).map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/React.createElement(FadeLoad, {\n      key: author.email\n    }, /*#__PURE__*/React.createElement(LazyLoad, null, /*#__PURE__*/React.createElement(UserCard, {\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(onChat, {\n        email: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onLink: recall(onUserLink, {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onAboutMore: recall(onUserAboutMore, {\n        user: author\n      }),\n      onMembers: recall(onUserMembers, {\n        id: author === null || author === void 0 ? void 0 : author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      })\n    })));\n  }) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\"), /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), articles.length > 0 ? articles.slice(0, 2).map(article => {\n    var _user$articles;\n\n    return /*#__PURE__*/React.createElement(FadeLoad, {\n      key: article.id\n    }, /*#__PURE__*/React.createElement(LazyLoad, null, /*#__PURE__*/React.createElement(ArticleCard, {\n      layout: 'column',\n      article: article,\n      owned: user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(candidate => candidate.id === article.id),\n      onLink: recall(onArticleLink, {\n        id: article.id,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    })));\n  }) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439 \\u043D\\u0435\\u0442\"))));\n};\n\nexport var __N_SSP = true;\nexport default Home;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/\",\n        function () {\n          return require(\"private-next-pages/index.js\");\n        }\n      ]);\n    "]}}