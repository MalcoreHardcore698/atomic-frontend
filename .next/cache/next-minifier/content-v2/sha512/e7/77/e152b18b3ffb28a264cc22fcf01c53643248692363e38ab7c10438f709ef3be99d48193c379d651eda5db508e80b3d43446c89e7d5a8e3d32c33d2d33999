{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{EYtC:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),r=a.n(n),c=a(\"/MKj\"),o=a(\"vOnD\"),i=a(\"nShV\"),l=a(\"feIE\"),s=a(\"ZeZO\"),d=a(\"t7jn\"),u=a(\"coMr\"),p=a(\"IZrO\");const m=Object(o.d)(i.b).withConfig({displayName:\"SearchBar__Wrap\",componentId:\"sc-1ruwjhl-0\"})([\"width:100%;\"]),f=Object(o.d)(d.a).withConfig({displayName:\"SearchBar__WrapSearchField\",componentId:\"sc-1ruwjhl-1\"})([\"flex-grow:100;\"]),h=Object(o.d)(s.a).withConfig({displayName:\"SearchBar__WrapButton\",componentId:\"sc-1ruwjhl-2\"})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\",\"\"],(({visibleFilter:e})=>e&&Object(o.c)([\"background:var(--default-color-accent);\"])));t.a=({appearance:e,buttonCreateText:t,onChangeFilter:a,onCreate:o})=>{const[i]=Object(p.a)(),s=Object(c.c)((e=>e.root.search)),[d,b]=Object(n.useState)(!1);return r.a.createElement(m,null,r.a.createElement(f,{placeholder:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",appearance:e,defaultValue:s,onSubmit:i}),a&&r.a.createElement(h,{type:\"button\",kind:\"icon\",onClick:()=>{b(!d),a&&a(!d)},visibleFilter:d},r.a.createElement(l.a,{icon:\"filter2\",stroke:d?\"white\":\"var(--default-color-accent)\"})),o&&r.a.createElement(u.a,{type:\"button\",onClick:o},r.a.createElement(\"span\",null,t),r.a.createElement(l.a,{type:\"button\",icon:\"add\",stroke:\"white\"})))}},Ht1R:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),r=a.n(n),c=a(\"UwjQ\");const o=({layout:e,article:t,preview:a,checked:n,appearance:o,withSocials:i,hasOwned:l,onLink:s,onChecked:d,onDelete:u,onEdit:p})=>r.a.createElement(c.a,{layout:e,article:t,preview:a,checked:n,appearance:o,withSocials:i,owned:l&&l(t),onLink:s&&(()=>s(t)),onChecked:d,onDelete:u,onEdit:p});o.defaultProps={withSocials:!0},t.a=o},QX5T:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return E}));var n=a(\"q1tI\"),r=a.n(n),c=a(\"/MKj\"),o=a(\"vOnD\"),i=a(\"7Cbv\"),l=a(\"8CDE\"),s=a(\"wZgm\"),d=a(\"QclZ\"),u=a(\"p9yE\"),p=a(\"X+Rt\"),m=a(\"RoTl\"),f=a(\"EYtC\"),h=(a(\"coMr\"),a(\"OqOz\")),b=a(\"/y2W\");const E=\"grid\",v=Object(o.d)(l.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(o.c)([\"margin:0;\"]))),w=o.d.div.withConfig({displayName:\"content__Container\",componentId:\"sc-1afm75p-1\"})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;\",\" @media only screen and (max-width:1196px){grid-template-columns:1fr;}\"],(({stretch:e})=>e&&Object(o.c)([\"grid-template-columns:1fr;\"])));t.b=({limit:e,title:t,aside:a,store:o,handle:l,render:g,filters:O,getType:y,getQuery:j,dashboard:C,variables:k,emptyMessage:_,startOffset:I,onLink:S})=>{const T=Object(c.c)((e=>e.root.search)),R=C?u.a:p.a,[D,M]=Object(n.useState)(!1),[N,A]=Object(n.useState)(),[L,x]=Object(n.useState)();return r.a.createElement(R,{title:t,scaffold:null===o||void 0===o?void 0:o.scaffold},r.a.createElement(v,{clear:(null===o||void 0===o?void 0:o.scaffold)||C},!(null!==o&&void 0!==o&&o.scaffold)&&!C&&r.a.createElement(f.a,{onChangeFilter:!1}),!1,r.a.createElement(m.a,{isOpen:D,filters:(O||[]).map((e=>{switch(e.type){case\"DATEPICKER\":return r.a.createElement(s.a,{key:Object(i.a)(),value:L,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:x,withNavigate:!0});case\"SELECT\":return r.a.createElement(d.a,{key:Object(i.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:N,onChange:e=>A(e)});default:return null}})),options:[]}),r.a.createElement(w,{stretch:T&&!a||!a},r.a.createElement(b.a,{limit:e,type:y,query:j,variables:k,startOffset:I,emptyMessage:_,component:e=>(e=>r.a.createElement(h.a,{item:e,component:g(e),onLink:S&&(e=>S(e)),withoutChecked:!0}))(e),initialDisplayMethod:E,onClick:S&&(e=>S(e))}),a)))}},RkzV:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return l}));var n=a(\"q1tI\"),r=a(\"/MKj\"),c=a(\"owvJ\"),o=a(\"ApjV\"),i=a(\"u2Cb\");const l=({isManage:e}={})=>{const t=Object(o.b)(),a=Object(r.c)((e=>e.user)),l=Object(n.useMemo)((()=>{var e;return a&&\"ADMIN\"===(null===a||void 0===a||null===(e=a.role)||void 0===e?void 0:e.name)}),[a]),s=Object(n.useCallback)((e=>{var t;return null===a||void 0===a||null===(t=a.articles)||void 0===t?void 0:t.find((t=>t.id===e.id))}),[a]),d=Object(n.useCallback)((e=>{t(c.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email})}),[a,t]);return{user:a,hasOwned:s,onLink:d,onEdit:e&&((e,a)=>t(c.c,{id:e.id,canEditStatus:l,mutation:i.a.UPDATE_ARTICLE,onAfter:a})()),onCreate:e&&(e=>t(c.a,{canEditStatus:l,mutation:i.a.CREATE_ARTICLE,onAfter:e})())}}},hDBf:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/articles\",function(){return a(\"yRol\")}])},v0uu:function(e,t,a){\"use strict\";a.d(t,\"b\",(function(){return n})),a.d(t,\"a\",(function(){return r})),a.d(t,\"c\",(function(){return c}));const n=0,r=4,c=12},yRol:function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),r=a.n(n),c=a(\"QX5T\"),o=a(\"Ht1R\"),i=a(\"RkzV\"),l=a(\"v0uu\"),s=a(\"u2Cb\");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.default=()=>{const e=Object(i.a)();return r.a.createElement(c.b,{title:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u0438\",getType:\"getArticles\",limit:l.a,emptyMessage:\"\\u0421\\u0442\\u0430\\u0442\\u0435\\u0439 \\u043d\\u0435\\u0442\",getQuery:s.a.GET_ARTICLES,startOffsett:l.b,variables:{status:\"PUBLISHED\"},render:t=>r.a.createElement(o.a,d({},e,{article:t,layout:\"row\"}))})}}},[[\"hDBf\",0,2,6,7,1,3,4,5,8,9]]]);","map":{"version":3,"sources":["static/chunks/pages/articles-71c4702959cff819c27c.js"],"names":["_N_E","window","push","EYtC","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_6__","_HandleBar__WEBPACK_IMPORTED_MODULE_7__","_hooks_useSearch__WEBPACK_IMPORTED_MODULE_8__","Wrap","Object","withConfig","displayName","componentId","WrapSearchField","WrapButton","visibleFilter","appearance","buttonCreateText","onChangeFilter","onCreate","onSubmit","search","state","root","setVisibleFilter","a","createElement","placeholder","defaultValue","type","kind","onClick","icon","stroke","Ht1R","_ArticleCard__WEBPACK_IMPORTED_MODULE_1__","ArticleSuit","layout","article","preview","checked","withSocials","hasOwned","onLink","onChecked","onDelete","onEdit","owned","defaultProps","QX5T","d","INITIAL_DISPLAY_METHOD","uuid__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_6__","_dashboard__WEBPACK_IMPORTED_MODULE_7__","_layouts_default__WEBPACK_IMPORTED_MODULE_8__","_components_FilterBar__WEBPACK_IMPORTED_MODULE_9__","_components_SearchBar__WEBPACK_IMPORTED_MODULE_10__","_dashboard_content__WEBPACK_IMPORTED_MODULE_12__","_components_List__WEBPACK_IMPORTED_MODULE_13__","clear","Container","div","stretch","limit","title","aside","store","handle","render","filters","getType","getQuery","dashboard","variables","emptyMessage","startOffset","Layout","select","onChangeSelect","date","onChangeDate","scaffold","isOpen","map","filter","key","value","onChange","withNavigate","options","selected","item","query","component","withoutChecked","renderCard","initialDisplayMethod","RkzV","useArticle","_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__","_useHelper__WEBPACK_IMPORTED_MODULE_3__","_graphql_queries__WEBPACK_IMPORTED_MODULE_4__","isManage","recall","user","canEditStatus","_user$role","role","name","_user$articles","articles","find","id","auth","email","onAfter","mutation","UPDATE_ARTICLE","CREATE_ARTICLE","hDBf","exports","__NEXT_P","v0uu","COMMON_START_OFFSET","COMMON_LOAD_LIMIT","DASHBOARD_LOAD_LIMIT","yRol","r","_layouts_content__WEBPACK_IMPORTED_MODULE_1__","_components_ArticleSuit__WEBPACK_IMPORTED_MODULE_2__","_hooks_useArticle__WEBPACK_IMPORTED_MODULE_3__","_constants__WEBPACK_IMPORTED_MODULE_4__","_graphql_queries__WEBPACK_IMPORTED_MODULE_5__","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","methods","GET_ARTICLES","startOffsett","status","document"],"mappings":"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"},"name":"static/chunks/pages/articles-71c4702959cff819c27c.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[18],{\n\n/***/ \"EYtC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export WrapSearchField */\n/* unused harmony export WrapButton */\n/* unused harmony export Search */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"nShV\");\n/* harmony import */ var _atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"feIE\");\n/* harmony import */ var _atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"ZeZO\");\n/* harmony import */ var _atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"t7jn\");\n/* harmony import */ var _HandleBar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _hooks_useSearch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"IZrO\");\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"b\"]).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nconst WrapSearchField = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nconst WrapButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"background:var(--default-color-accent);\"]));\nconst Search = ({\n  appearance,\n  buttonCreateText,\n  onChangeFilter,\n  onCreate\n}) => {\n  const [onSubmit] = Object(_hooks_useSearch__WEBPACK_IMPORTED_MODULE_8__[/* useSearch */ \"a\"])();\n  const search = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.root.search);\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapSearchField, {\n    placeholder: 'Поиск',\n    appearance: appearance,\n    defaultValue: search,\n    onSubmit: onSubmit\n  }), onChangeFilter && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HandleBar__WEBPACK_IMPORTED_MODULE_7__[/* CreateButton */ \"a\"], {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Search);\n\n/***/ }),\n\n/***/ \"Ht1R\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ArticleSuit */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ArticleCard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"UwjQ\");\n\n\nconst ArticleSuit = ({\n  layout,\n  article,\n  preview,\n  checked,\n  appearance,\n  withSocials,\n  hasOwned,\n  onLink,\n  onChecked,\n  onDelete,\n  onEdit\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ArticleCard__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n  layout: layout,\n  article: article,\n  preview: preview,\n  checked: checked,\n  appearance: appearance,\n  withSocials: withSocials,\n  owned: hasOwned && hasOwned(article),\n  onLink: onLink && (() => onLink(article)),\n  onChecked: onChecked,\n  onDelete: onDelete,\n  onEdit: onEdit\n});\nArticleSuit.defaultProps = {\n  withSocials: true\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (ArticleSuit);\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return INITIAL_DISPLAY_METHOD; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"7Cbv\");\n/* harmony import */ var _atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"8CDE\");\n/* harmony import */ var _atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"wZgm\");\n/* harmony import */ var _atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"QclZ\");\n/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"p9yE\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _components_FilterBar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"RoTl\");\n/* harmony import */ var _components_SearchBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"EYtC\");\n/* harmony import */ var _components_HandleBar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _dashboard_content__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"OqOz\");\n/* harmony import */ var _components_List__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"/y2W\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst INITIAL_DISPLAY_METHOD = 'grid';\nconst DISABLED_FILTERS = true;\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"margin:0;\"]));\nconst Container = styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"].div.withConfig({\n  displayName: \"content__Container\",\n  componentId: \"sc-1afm75p-1\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;\", \" @media only screen and (max-width:1196px){grid-template-columns:1fr;}\"], ({\n  stretch\n}) => stretch && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"grid-template-columns:1fr;\"]));\n\nconst ContentLayout = ({\n  limit,\n  title,\n  aside,\n  store,\n  handle,\n  render,\n  filters,\n  getType,\n  getQuery,\n  dashboard,\n  variables,\n  emptyMessage,\n  startOffset,\n  onLink\n}) => {\n  const search = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.root.search);\n  const Layout = dashboard ? _dashboard__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"] : _layouts_default__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"];\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const [select, onChangeSelect] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [date, onChangeDate] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n\n  const getFilters = () => {\n    return (filters || []).map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const getOptions = () => [];\n\n  const renderCard = item => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dashboard_content__WEBPACK_IMPORTED_MODULE_12__[/* Card */ \"a\"], {\n    item: item,\n    component: render(item),\n    onLink: onLink && (item => onLink(item)),\n    withoutChecked: true\n  });\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Layout, {\n    title: title,\n    scaffold: store === null || store === void 0 ? void 0 : store.scaffold\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    clear: (store === null || store === void 0 ? void 0 : store.scaffold) || dashboard\n  }, !(store !== null && store !== void 0 && store.scaffold) && !dashboard && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SearchBar__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    onChangeFilter: !DISABLED_FILTERS && (() => setVisibleFilter(!visibleFilter))\n  }), !DISABLED_FILTERS && dashboard && handle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HandleBar__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"b\"], {\n    title: title,\n    icon: handle.icon,\n    onCreate: handle.onCreate,\n    buttonCreateText: handle.buttonCreateText,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterBar__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: getOptions()\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, {\n    stretch: search && !aside || !aside\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_List__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n    limit: limit,\n    type: getType,\n    query: getQuery,\n    variables: variables,\n    startOffset: startOffset,\n    emptyMessage: emptyMessage,\n    component: item => renderCard(item),\n    initialDisplayMethod: INITIAL_DISPLAY_METHOD,\n    onClick: onLink && (item => onLink(item))\n  }), aside)));\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"RkzV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useArticle; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _store_helpers_article__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"owvJ\");\n/* harmony import */ var _useHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\nconst useArticle = ({\n  isManage\n} = {}) => {\n  const recall = Object(_useHelper__WEBPACK_IMPORTED_MODULE_3__[/* useHelper */ \"b\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.user);\n  const canEditStatus = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n  const hasOwned = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(article => {\n    var _user$articles;\n\n    return user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(item => item.id === article.id);\n  }, [user]);\n  const onLink = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(article => {\n    recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__[/* onArticleLink */ \"d\"], {\n      id: article.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    });\n  }, [user, recall]);\n\n  const onEdit = (article, onAfter) => recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__[/* onArticleEdit */ \"c\"], {\n    id: article.id,\n    canEditStatus,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].UPDATE_ARTICLE,\n    onAfter\n  })();\n\n  const onCreate = onAfter => recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__[/* onArticleCreate */ \"a\"], {\n    canEditStatus,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].CREATE_ARTICLE,\n    onAfter\n  })();\n\n  return {\n    user,\n    hasOwned,\n    onLink,\n    onEdit: isManage && onEdit,\n    onCreate: isManage && onCreate\n  };\n};\n\n/***/ }),\n\n/***/ \"hDBf\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/articles\",\n      function () {\n        return __webpack_require__(\"yRol\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"v0uu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return COMMON_START_OFFSET; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return COMMON_LOAD_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DASHBOARD_LOAD_LIMIT; });\nconst COMMON_START_OFFSET = 0;\nconst COMMON_LOAD_LIMIT = 4;\nconst DASHBOARD_LOAD_LIMIT = 12;\n\n/***/ }),\n\n/***/ \"yRol\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_ArticleSuit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"Ht1R\");\n/* harmony import */ var _hooks_useArticle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"RkzV\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"v0uu\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"u2Cb\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\nconst TITLE = 'Статьи';\n\nconst Articles = () => {\n  const methods = Object(_hooks_useArticle__WEBPACK_IMPORTED_MODULE_3__[/* useArticle */ \"a\"])();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"b\"], {\n    title: TITLE,\n    getType: 'getArticles',\n    limit: _constants__WEBPACK_IMPORTED_MODULE_4__[/* COMMON_LOAD_LIMIT */ \"a\"],\n    emptyMessage: 'Статей нет',\n    getQuery: _graphql_queries__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].GET_ARTICLES,\n    startOffsett: _constants__WEBPACK_IMPORTED_MODULE_4__[/* COMMON_START_OFFSET */ \"b\"],\n    variables: {\n      status: 'PUBLISHED'\n    },\n    render: document => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArticleSuit__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], _extends({}, methods, {\n      article: document,\n      layout: 'row'\n    }))\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Articles);\n\n/***/ })\n\n},[[\"hDBf\",0,2,6,7,1,3,4,5,8,9]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SearchBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ArticleSuit\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\hooks\\useArticle.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Farticles&absolutePagePath=private-next-pages%2Farticles.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\constants\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\articles.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Button from '../../atomic-ui/components/Button';\nimport SearchField from '../../atomic-ui/components/Search';\nimport { CreateButton } from '../HandleBar';\nimport { useSearch } from '../../hooks/useSearch';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nexport const WrapSearchField = styled(SearchField).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nexport const WrapButton = styled(Button).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && css([\"background:var(--default-color-accent);\"]));\nexport const Search = ({\n  appearance,\n  buttonCreateText,\n  onChangeFilter,\n  onCreate\n}) => {\n  const [onSubmit] = useSearch();\n  const search = useSelector(state => state.root.search);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(WrapSearchField, {\n    placeholder: 'Поиск',\n    appearance: appearance,\n    defaultValue: search,\n    onSubmit: onSubmit\n  }), onChangeFilter && /*#__PURE__*/React.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/React.createElement(CreateButton, {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/React.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/React.createElement(Icon, {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\nexport default Search;","import React from 'react';\nimport ArticleCard from '../ArticleCard';\nexport const ArticleSuit = ({\n  layout,\n  article,\n  preview,\n  checked,\n  appearance,\n  withSocials,\n  hasOwned,\n  onLink,\n  onChecked,\n  onDelete,\n  onEdit\n}) => /*#__PURE__*/React.createElement(ArticleCard, {\n  layout: layout,\n  article: article,\n  preview: preview,\n  checked: checked,\n  appearance: appearance,\n  withSocials: withSocials,\n  owned: hasOwned && hasOwned(article),\n  onLink: onLink && (() => onLink(article)),\n  onChecked: onChecked,\n  onDelete: onDelete,\n  onEdit: onEdit\n});\nArticleSuit.defaultProps = {\n  withSocials: true\n};\nexport default ArticleSuit;","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Select from '../atomic-ui/components/Select';\nimport DashboardLayout from './dashboard';\nimport DefaultLayout from '../layouts/default';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { Card } from './dashboard/content';\nimport List from '../components/List';\nexport const INITIAL_DISPLAY_METHOD = 'grid';\nconst DISABLED_FILTERS = true;\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\nconst Container = styled.div.withConfig({\n  displayName: \"content__Container\",\n  componentId: \"sc-1afm75p-1\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;\", \" @media only screen and (max-width:1196px){grid-template-columns:1fr;}\"], ({\n  stretch\n}) => stretch && css([\"grid-template-columns:1fr;\"]));\n\nconst ContentLayout = ({\n  limit,\n  title,\n  aside,\n  store,\n  handle,\n  render,\n  filters,\n  getType,\n  getQuery,\n  dashboard,\n  variables,\n  emptyMessage,\n  startOffset,\n  onLink\n}) => {\n  const search = useSelector(state => state.root.search);\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [select, onChangeSelect] = useState();\n  const [date, onChangeDate] = useState();\n\n  const getFilters = () => {\n    return (filters || []).map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const getOptions = () => [];\n\n  const renderCard = item => /*#__PURE__*/React.createElement(Card, {\n    item: item,\n    component: render(item),\n    onLink: onLink && (item => onLink(item)),\n    withoutChecked: true\n  });\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: store === null || store === void 0 ? void 0 : store.scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: (store === null || store === void 0 ? void 0 : store.scaffold) || dashboard\n  }, !(store !== null && store !== void 0 && store.scaffold) && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: !DISABLED_FILTERS && (() => setVisibleFilter(!visibleFilter))\n  }), !DISABLED_FILTERS && dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    onCreate: handle.onCreate,\n    buttonCreateText: handle.buttonCreateText,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: getOptions()\n  }), /*#__PURE__*/React.createElement(Container, {\n    stretch: search && !aside || !aside\n  }, /*#__PURE__*/React.createElement(List, {\n    limit: limit,\n    type: getType,\n    query: getQuery,\n    variables: variables,\n    startOffset: startOffset,\n    emptyMessage: emptyMessage,\n    component: item => renderCard(item),\n    initialDisplayMethod: INITIAL_DISPLAY_METHOD,\n    onClick: onLink && (item => onLink(item))\n  }), aside)));\n};\n\nexport default ContentLayout;","import { useCallback, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { onArticleCreate, onArticleEdit, onArticleLink } from '../store/helpers/article';\nimport { useHelper } from './useHelper';\nimport queries from '../graphql/queries';\nexport const useArticle = ({\n  isManage\n} = {}) => {\n  const recall = useHelper();\n  const user = useSelector(state => state.user);\n  const canEditStatus = useMemo(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n  const hasOwned = useCallback(article => {\n    var _user$articles;\n\n    return user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(item => item.id === article.id);\n  }, [user]);\n  const onLink = useCallback(article => {\n    recall(onArticleLink, {\n      id: article.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    });\n  }, [user, recall]);\n\n  const onEdit = (article, onAfter) => recall(onArticleEdit, {\n    id: article.id,\n    canEditStatus,\n    mutation: queries.UPDATE_ARTICLE,\n    onAfter\n  })();\n\n  const onCreate = onAfter => recall(onArticleCreate, {\n    canEditStatus,\n    mutation: queries.CREATE_ARTICLE,\n    onAfter\n  })();\n\n  return {\n    user,\n    hasOwned,\n    onLink,\n    onEdit: isManage && onEdit,\n    onCreate: isManage && onCreate\n  };\n};","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/articles\",\n      function () {\n        return require(\"private-next-pages/articles.js\");\n      }\n    ]);\n  ","export const COMMON_START_OFFSET = 0;\nexport const COMMON_LOAD_LIMIT = 4;\nexport const DASHBOARD_LOAD_LIMIT = 12;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport ContentLayout from '../layouts/content';\nimport ArticleSuit from '../components/ArticleSuit';\nimport { useArticle } from '../hooks/useArticle';\nimport { COMMON_START_OFFSET, COMMON_LOAD_LIMIT } from '../constants';\nimport queries from '../graphql/queries';\nconst TITLE = 'Статьи';\n\nconst Articles = () => {\n  const methods = useArticle();\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    getType: 'getArticles',\n    limit: COMMON_LOAD_LIMIT,\n    emptyMessage: 'Статей нет',\n    getQuery: queries.GET_ARTICLES,\n    startOffsett: COMMON_START_OFFSET,\n    variables: {\n      status: 'PUBLISHED'\n    },\n    render: document => /*#__PURE__*/React.createElement(ArticleSuit, _extends({}, methods, {\n      article: document,\n      layout: 'row'\n    }))\n  });\n};\n\nexport default Articles;"]}}