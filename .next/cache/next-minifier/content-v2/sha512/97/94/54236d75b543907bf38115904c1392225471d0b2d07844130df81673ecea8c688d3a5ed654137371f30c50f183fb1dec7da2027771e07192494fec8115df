{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{H19k:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),r=n.n(a),i=n(\"/MKj\"),o=n(\"+nv6\"),c=n(\"EJJs\");var u=[{header:\"\\u041d\\u0430\\u0438\\u043c\\u0435\\u043d\\u043e\\u0432\\u0430\\u043d\\u0438\\u0435\",content:e=>{var t;return r.a.createElement(c.a,{img:null===(t=e.preview)||void 0===t?void 0:t.path,text:e.title||\"-\"})}},{header:\"\\u041e\\u043f\\u0438\\u0441\\u0430\\u043d\\u0438\\u0435\",content:e=>r.a.createElement(c.a,{text:e.body||\"-\"})},{header:\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",content:e=>{var t;return r.a.createElement(c.a,{text:(null===(t=e.category)||void 0===t?void 0:t.name)||\"-\"})}},{header:\"\\u0410\\u0432\\u0442\\u043e\\u0440\",content:e=>{var t,n,a;return r.a.createElement(c.a,{img:null===(t=e.author)||void 0===t||null===(n=t.avatar)||void 0===n?void 0:n.path,text:(null===(a=e.author)||void 0===a?void 0:a.name)||\"-\"})}},{header:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",content:e=>r.a.createElement(c.a,{text:e.publishedAt||\"-\"})},{header:\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u043e\\u0437\\u0434\\u0430\\u043d\\u0438\\u044f\",content:e=>r.a.createElement(c.a,{text:r.a.createElement(o.a,{text:e.createdAt,options:{year:\"numeric\",month:\"2-digit\",day:\"2-digit\"}})||\"-\"}),hidden:!0}],d=n(\"Ht1R\"),l=n(\"OqOz\"),s=n(\"j8/+\"),v=n(\"RkzV\"),E=n(\"v0uu\"),h=n(\"u2Cb\");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.default=()=>{const{onCreate:e,onEdit:t,...n}=Object(v.a)({isManage:!0}),o=Object(i.b)();return Object(a.useEffect)((()=>{o(Object(s.a)(null))}),[]),r.a.createElement(l.b,{title:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u0438\",icon:\"document\",template:u,entityType:\"article\",getType:\"getArticles\",emptyMessage:\"\\u0421\\u0442\\u0430\\u0442\\u0435\\u0439 \\u043d\\u0435\\u0442\",limit:E.c,getQuery:h.a.GET_ARTICLES,deleteEntityMultiText:\"\\u0441\\u0442\\u0430\\u0442\\u044c\\u0438\",deleteEntitySingleText:\"\\u0441\\u0442\\u0430\\u0442\\u044c\\u044f\",startOffset:E.b,buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u0441\\u0442\\u0430\\u0442\\u044c\\u044e\",deleteQuery:h.a.DELETE_ARTICLE,render:e=>r.a.createElement(d.a,p({},n,{article:e,withSocials:!1})),onCreate:e,onEdit:t})}},Ht1R:function(e,t,n){\"use strict\";var a=n(\"q1tI\"),r=n.n(a),i=n(\"UwjQ\");const o=({layout:e,article:t,preview:n,checked:a,appearance:o,withSocials:c,hasOwned:u,onLink:d,onChecked:l,onDelete:s,onEdit:v})=>r.a.createElement(i.a,{layout:e,article:t,preview:n,checked:a,appearance:o,withSocials:c,owned:u&&u(t),onLink:d&&(()=>d(t)),onChecked:l,onDelete:s,onEdit:v});o.defaultProps={withSocials:!0},t.a=o},RkzV:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var a=n(\"q1tI\"),r=n(\"/MKj\"),i=n(\"owvJ\"),o=n(\"ApjV\"),c=n(\"u2Cb\");const u=({isManage:e}={})=>{const t=Object(o.b)(),n=Object(r.c)((e=>e.user)),u=Object(a.useMemo)((()=>{var e;return n&&\"ADMIN\"===(null===n||void 0===n||null===(e=n.role)||void 0===e?void 0:e.name)}),[n]),d=Object(a.useCallback)((e=>{var t;return null===n||void 0===n||null===(t=n.articles)||void 0===t?void 0:t.find((t=>t.id===e.id))}),[n]),l=Object(a.useCallback)((e=>{t(i.d,{id:e.id,auth:null===n||void 0===n?void 0:n.email})}),[n,t]);return{user:n,hasOwned:d,onLink:l,onEdit:e&&((e,n)=>t(i.c,{id:e.id,canEditStatus:u,mutation:c.a.UPDATE_ARTICLE,onAfter:n})()),onCreate:e&&(e=>t(i.a,{canEditStatus:u,mutation:c.a.CREATE_ARTICLE,onAfter:e})())}}},rJwf:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/articles\",function(){return n(\"H19k\")}])},v0uu:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a})),n.d(t,\"a\",(function(){return r})),n.d(t,\"c\",(function(){return i}));const a=0,r=4,i=12}},[[\"rJwf\",0,2,6,7,1,3,4,5,8]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/articles-b69a2e6813a1cdff4a5d.js"],"names":["_N_E","window","push","H19k","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","es","DateText","Table","templates_article","header","content","item","_item$preview","a","createElement","img","preview","path","text","title","body","_item$category","category","name","_item$author","_item$author$avatar","_item$author2","author","avatar","publishedAt","createdAt","options","year","month","day","hidden","ArticleSuit","documents","useArticle","constants","queries","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","onCreate","onEdit","methods","isManage","dispatch","icon","template","entityType","getType","emptyMessage","limit","getQuery","GET_ARTICLES","deleteEntityMultiText","deleteEntitySingleText","startOffset","buttonCreateText","deleteQuery","DELETE_ARTICLE","render","document","article","withSocials","Ht1R","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_ArticleCard__WEBPACK_IMPORTED_MODULE_1__","layout","checked","appearance","hasOwned","onLink","onChecked","onDelete","owned","defaultProps","RkzV","d","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__","_useHelper__WEBPACK_IMPORTED_MODULE_3__","_graphql_queries__WEBPACK_IMPORTED_MODULE_4__","recall","user","state","canEditStatus","_user$role","role","_user$articles","articles","find","id","auth","email","onAfter","mutation","UPDATE_ARTICLE","CREATE_ARTICLE","rJwf","exports","__NEXT_P","v0uu","COMMON_START_OFFSET","COMMON_LOAD_LIMIT","DASHBOARD_LOAD_LIMIT"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAQF,EAAoB,QAC5BG,EAA6BH,EAAoBI,EAAEF,GAGnDG,EAAKL,EAAoB,QAGzBM,EAAWN,EAAoB,QAG/BO,EAAQP,EAAoB,QA2DH,IAAIQ,EArDjB,CAAC,CACfC,OAAQ,2EACRC,QAASC,IACP,IAAIC,EAEJ,OAAoBT,EAAcU,EAAEC,cAAcP,EAAoB,EAAG,CACvEQ,IAAwC,QAAlCH,EAAgBD,EAAKK,eAAuC,IAAlBJ,OAA2B,EAASA,EAAcK,KAClGC,KAAMP,EAAKQ,OAAS,QAGvB,CACDV,OAAQ,mDACRC,QAASC,GAAqBR,EAAcU,EAAEC,cAAcP,EAAoB,EAAG,CACjFW,KAAMP,EAAKS,MAAQ,OAEpB,CACDX,OAAQ,uCACRC,QAASC,IACP,IAAIU,EAEJ,OAAoBlB,EAAcU,EAAEC,cAAcP,EAAoB,EAAG,CACvEW,MAA4C,QAApCG,EAAiBV,EAAKW,gBAAyC,IAAnBD,OAA4B,EAASA,EAAeE,OAAS,QAGpH,CACDd,OAAQ,iCACRC,QAASC,IACP,IAAIa,EAAcC,EAAqBC,EAEvC,OAAoBvB,EAAcU,EAAEC,cAAcP,EAAoB,EAAG,CACvEQ,IAAsC,QAAhCS,EAAeb,EAAKgB,cAAqC,IAAjBH,GAAmF,QAA/CC,EAAsBD,EAAaI,cAA4C,IAAxBH,OAAjE,EAA2GA,EAAoBR,KACvMC,MAAyC,QAAjCQ,EAAgBf,EAAKgB,cAAsC,IAAlBD,OAA2B,EAASA,EAAcH,OAAS,QAG/G,CACDd,OAAQ,wFACRC,QAASC,GAAqBR,EAAcU,EAAEC,cAAcP,EAAoB,EAAG,CACjFW,KAAMP,EAAKkB,aAAe,OAE3B,CACDpB,OAAQ,4EACRC,QAASC,GAAqBR,EAAcU,EAAEC,cAAcP,EAAoB,EAAG,CACjFW,KAAmBf,EAAcU,EAAEC,cAAcR,EAA0B,EAAG,CAC5EY,KAAMP,EAAKmB,UACXC,QAAS,CACPC,KAAM,UACNC,MAAO,UACPC,IAAK,cAEH,MAERC,QAAQ,IAINC,EAAcpC,EAAoB,QAGlCU,EAAUV,EAAoB,QAG9BqC,EAAYrC,EAAoB,QAGhCsC,EAAatC,EAAoB,QAGjCuC,EAAYvC,EAAoB,QAGhCwC,EAAUxC,EAAoB,QAGlC,SAASyC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAgDpQ/C,EAA6B,QAnCxD,KACf,MAAMwD,SACJA,EAAQC,OACRA,KACGC,GACDf,OAAOJ,EAA+B,EAAtCI,CAAyC,CAC3CgB,UAAU,IAENC,EAAWjB,OAAOrC,EAAwB,EAA/BqC,GAIjB,OAHAA,OAAOxC,EAAiB,UAAxBwC,EAA2B,KACzBiB,EAASjB,OAAOL,EAAgC,EAAvCK,CAA0C,SAClD,IACiBvC,EAAcU,EAAEC,cAAcJ,EAAyB,EAAG,CAC5ES,MAfU,uCAgBVyC,KAAM,WACNC,SAAUrD,EACVsD,WAAY,UACZC,QAAS,cACTC,aAAc,0DACdC,MAAO1B,EAAwC,EAC/C2B,SAAU1B,EAAyB,EAAE2B,aACrCC,sBAAuB,uCACvBC,uBAAwB,uCACxBC,YAAa/B,EAAuC,EACpDgC,iBAAkB,kFAClBC,YAAahC,EAAyB,EAAEiC,eACxCC,OAAQC,GAAyBxE,EAAcU,EAAEC,cAAcsB,EAA6B,EAAGK,EAAS,GAAIgB,EAAS,CACnHmB,QAASD,EACTE,aAAa,KAEftB,SAAUA,EACVC,OAAQA,MAQNsB,KACA,SAAUhF,EAAQC,EAAqBC,GAE7C,aAEqB,IAAI+E,EAAqC/E,EAAoB,QACzDgF,EAA0DhF,EAAoBI,EAAE2E,GAChFE,EAA4CjF,EAAoB,QAGzF,MAAMoC,EAAc,EAClB8C,OAAAA,EACAN,QAAAA,EACA5D,QAAAA,EACAmE,QAAAA,EACAC,WAAAA,EACAP,YAAAA,EACAQ,SAAAA,EACAC,OAAAA,EACAC,UAAAA,EACAC,SAAAA,EACAhC,OAAAA,KACiBwB,EAA2CnE,EAAEC,cAAcmE,EAA2D,EAAG,CAC1IC,OAAQA,EACRN,QAASA,EACT5D,QAASA,EACTmE,QAASA,EACTC,WAAYA,EACZP,YAAaA,EACbY,MAAOJ,GAAYA,EAAST,GAC5BU,OAAQA,GAAU,KAAOA,EAAOV,IAChCW,UAAWA,EACXC,SAAUA,EACVhC,OAAQA,IAEVpB,EAAYsD,aAAe,CACzBb,aAAa,GAEc9E,EAAuB,EAAI,GAIlD4F,KACA,SAAU7F,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoB4F,EAAE7F,EAAqB,KAAK,WAAa,OAAOuC,KAC9E,IAAIyC,EAAqC/E,EAAoB,QAEzD6F,EAA2C7F,EAAoB,QAC/D8F,EAAsD9F,EAAoB,QAC1E+F,EAA0C/F,EAAoB,QAC9DgG,EAAgDhG,EAAoB,QAM7F,MAAMsC,EAAa,EACjBoB,SAAAA,GACE,MACF,MAAMuC,EAASvD,OAAOqD,EAA2D,EAAlErD,GACTwD,EAAOxD,OAAOmD,EAA8D,EAArEnD,EAAwEyD,GAASA,EAAMD,OAC9FE,EAAgB1D,OAAOqC,EAA4C,QAAnDrC,EAAsD,KAC1E,IAAI2D,EAEJ,OAAOH,GAAgJ,WAA9H,OAATA,QAA0B,IAATA,GAAwD,QAA5BG,EAAaH,EAAKI,YAAiC,IAAfD,OAA9C,EAA+EA,EAAW9E,QAC5I,CAAC2E,IACEb,EAAW3C,OAAOqC,EAAgD,YAAvDrC,EAA0DkC,IACzE,IAAI2B,EAEJ,OAAgB,OAATL,QAA0B,IAATA,GAAgE,QAApCK,EAAiBL,EAAKM,gBAAyC,IAAnBD,OAAtD,EAA2FA,EAAeE,MAAK9F,GAAQA,EAAK+F,KAAO9B,EAAQ8B,OACpL,CAACR,IACEZ,EAAS5C,OAAOqC,EAAgD,YAAvDrC,EAA0DkC,IACvEqB,EAAOH,EAA2E,EAAG,CACnFY,GAAI9B,EAAQ8B,GACZC,KAAe,OAATT,QAA0B,IAATA,OAAkB,EAASA,EAAKU,UAExD,CAACV,EAAMD,IAeV,MAAO,CACLC,KAAAA,EACAb,SAAAA,EACAC,OAAAA,EACA9B,OAAQE,GAjBK,EAACkB,EAASiC,IAAYZ,EAAOH,EAA2E,EAAG,CACxHY,GAAI9B,EAAQ8B,GACZN,cAAAA,EACAU,SAAUd,EAA+D,EAAEe,eAC3EF,QAAAA,GAJmCZ,IAkBnC1C,SAAUG,GAXKmD,CAAAA,GAAWZ,EAAOH,EAA6E,EAAG,CACjHM,cAAAA,EACAU,SAAUd,EAA+D,EAAEgB,eAC3EH,QAAAA,GAH0BZ,OAiBxBgB,KACA,SAAUnH,EAAQoH,EAASlH,IAG5BL,OAAOwH,SAAWxH,OAAOwH,UAAY,IAAIvH,KAAK,CAC7C,sBACA,WACE,OAAOI,EAAoB,YAO7BoH,KACA,SAAUtH,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoB4F,EAAE7F,EAAqB,KAAK,WAAa,OAAOsH,KACpErH,EAAoB4F,EAAE7F,EAAqB,KAAK,WAAa,OAAOuH,KACpEtH,EAAoB4F,EAAE7F,EAAqB,KAAK,WAAa,OAAOwH,KACnG,MAAMF,EAAsB,EACtBC,EAAoB,EACpBC,EAAuB,KAI3B,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/dashboard/articles-b69a2e6813a1cdff4a5d.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[23],{\n\n/***/ \"H19k\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/DateText/index.js\nvar DateText = __webpack_require__(\"+nv6\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Table/index.js\nvar Table = __webpack_require__(\"EJJs\");\n\n// CONCATENATED MODULE: ./atomic-ui/components/Table/templates/article.js\n\n\n\nconst article = [{\n  header: 'Наименование',\n  content: item => {\n    var _item$preview;\n\n    return /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n      img: (_item$preview = item.preview) === null || _item$preview === void 0 ? void 0 : _item$preview.path,\n      text: item.title || '-'\n    });\n  }\n}, {\n  header: 'Описание',\n  content: item => /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n    text: item.body || '-'\n  })\n}, {\n  header: 'Раздел',\n  content: item => {\n    var _item$category;\n\n    return /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n      text: ((_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category.name) || '-'\n    });\n  }\n}, {\n  header: 'Автор',\n  content: item => {\n    var _item$author, _item$author$avatar, _item$author2;\n\n    return /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n      img: (_item$author = item.author) === null || _item$author === void 0 ? void 0 : (_item$author$avatar = _item$author.avatar) === null || _item$author$avatar === void 0 ? void 0 : _item$author$avatar.path,\n      text: ((_item$author2 = item.author) === null || _item$author2 === void 0 ? void 0 : _item$author2.name) || '-'\n    });\n  }\n}, {\n  header: 'Дата публикации',\n  content: item => /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n    text: item.publishedAt || '-'\n  })\n}, {\n  header: 'Дата создания',\n  content: item => /*#__PURE__*/react_default.a.createElement(Table[\"a\" /* Cell */], {\n    text: /*#__PURE__*/react_default.a.createElement(DateText[\"a\" /* default */], {\n      text: item.createdAt,\n      options: {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      }\n    }) || '-'\n  }),\n  hidden: true\n}];\n/* harmony default export */ var templates_article = (article);\n// EXTERNAL MODULE: ./components/ArticleSuit/index.js\nvar ArticleSuit = __webpack_require__(\"Ht1R\");\n\n// EXTERNAL MODULE: ./layouts/dashboard/content.js + 1 modules\nvar content = __webpack_require__(\"OqOz\");\n\n// EXTERNAL MODULE: ./store/actions/documents.js\nvar documents = __webpack_require__(\"j8/+\");\n\n// EXTERNAL MODULE: ./hooks/useArticle.js\nvar useArticle = __webpack_require__(\"RkzV\");\n\n// EXTERNAL MODULE: ./constants/index.js\nvar constants = __webpack_require__(\"v0uu\");\n\n// EXTERNAL MODULE: ./graphql/queries/index.js + 16 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// CONCATENATED MODULE: ./pages/dashboard/articles.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Статьи';\n\nconst Articles = () => {\n  const {\n    onCreate,\n    onEdit,\n    ...methods\n  } = Object(useArticle[\"a\" /* useArticle */])({\n    isManage: true\n  });\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  Object(react[\"useEffect\"])(() => {\n    dispatch(Object(documents[\"a\" /* setDocuments */])(null));\n  }, []);\n  return /*#__PURE__*/react_default.a.createElement(content[\"b\" /* default */], {\n    title: TITLE,\n    icon: 'document',\n    template: templates_article,\n    entityType: 'article',\n    getType: 'getArticles',\n    emptyMessage: 'Статей нет',\n    limit: constants[\"c\" /* DASHBOARD_LOAD_LIMIT */],\n    getQuery: queries[\"a\" /* default */].GET_ARTICLES,\n    deleteEntityMultiText: 'статьи',\n    deleteEntitySingleText: 'статья',\n    startOffset: constants[\"b\" /* COMMON_START_OFFSET */],\n    buttonCreateText: 'Создать статью',\n    deleteQuery: queries[\"a\" /* default */].DELETE_ARTICLE,\n    render: document => /*#__PURE__*/react_default.a.createElement(ArticleSuit[\"a\" /* default */], _extends({}, methods, {\n      article: document,\n      withSocials: false\n    })),\n    onCreate: onCreate,\n    onEdit: onEdit\n  });\n};\n\n/* harmony default export */ var articles = __webpack_exports__[\"default\"] = (Articles);\n\n/***/ }),\n\n/***/ \"Ht1R\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ArticleSuit */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ArticleCard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"UwjQ\");\n\n\nconst ArticleSuit = ({\n  layout,\n  article,\n  preview,\n  checked,\n  appearance,\n  withSocials,\n  hasOwned,\n  onLink,\n  onChecked,\n  onDelete,\n  onEdit\n}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ArticleCard__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n  layout: layout,\n  article: article,\n  preview: preview,\n  checked: checked,\n  appearance: appearance,\n  withSocials: withSocials,\n  owned: hasOwned && hasOwned(article),\n  onLink: onLink && (() => onLink(article)),\n  onChecked: onChecked,\n  onDelete: onDelete,\n  onEdit: onEdit\n});\nArticleSuit.defaultProps = {\n  withSocials: true\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (ArticleSuit);\n\n/***/ }),\n\n/***/ \"RkzV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useArticle; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _store_helpers_article__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"owvJ\");\n/* harmony import */ var _useHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\nconst useArticle = ({\n  isManage\n} = {}) => {\n  const recall = Object(_useHelper__WEBPACK_IMPORTED_MODULE_3__[/* useHelper */ \"b\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => state.user);\n  const canEditStatus = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n  const hasOwned = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(article => {\n    var _user$articles;\n\n    return user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(item => item.id === article.id);\n  }, [user]);\n  const onLink = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(article => {\n    recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__[/* onArticleLink */ \"d\"], {\n      id: article.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    });\n  }, [user, recall]);\n\n  const onEdit = (article, onAfter) => recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__[/* onArticleEdit */ \"c\"], {\n    id: article.id,\n    canEditStatus,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].UPDATE_ARTICLE,\n    onAfter\n  })();\n\n  const onCreate = onAfter => recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_2__[/* onArticleCreate */ \"a\"], {\n    canEditStatus,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].CREATE_ARTICLE,\n    onAfter\n  })();\n\n  return {\n    user,\n    hasOwned,\n    onLink,\n    onEdit: isManage && onEdit,\n    onCreate: isManage && onCreate\n  };\n};\n\n/***/ }),\n\n/***/ \"rJwf\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/articles\",\n      function () {\n        return __webpack_require__(\"H19k\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"v0uu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return COMMON_START_OFFSET; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return COMMON_LOAD_LIMIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DASHBOARD_LOAD_LIMIT; });\nconst COMMON_START_OFFSET = 0;\nconst COMMON_LOAD_LIMIT = 4;\nconst DASHBOARD_LOAD_LIMIT = 12;\n\n/***/ })\n\n},[[\"rJwf\",0,2,6,7,1,3,4,5,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\components\\Table\\templates\\article.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\articles.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ArticleSuit\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\hooks\\useArticle.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Farticles&absolutePagePath=private-next-pages%2Fdashboard%2Farticles.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\constants\\index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAA0B;AACY;AACZ;AACnB;AACP;AACA;AACA;;AAEA,wBAAwB,eAAK,eAAe,qBAAI;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA,gCAAgC,eAAK,eAAe,qBAAI;AACxD;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;;AAEA,wBAAwB,eAAK,eAAe,qBAAI;AAChD;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;;AAEA,wBAAwB,eAAK,eAAe,qBAAI;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA,gCAAgC,eAAK,eAAe,qBAAI;AACxD;AACA,GAAG;AACH,CAAC;AACD;AACA,gCAAgC,eAAK,eAAe,qBAAI;AACxD,uBAAuB,eAAK,eAAe,2BAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,CAAC;AACc,6DAAO,E;;;;;;;;;;;;;;;;;;;;ACxDtB,qBAAqB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe,GAAG,wCAAwC;;AAElR;AACC;AACgC;AACnB;AACK;AACC;AACT;AACwB;AAChC;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG,wCAAU;AAChB;AACA,GAAG;AACH,mBAAmB,iCAAW;AAC9B,EAAE,0BAAS;AACX,aAAa,yCAAY;AACzB,GAAG;AACH,sBAAsB,eAAK,eAAe,0BAAa;AACvD;AACA;AACA,cAAc,iBAAQ;AACtB;AACA;AACA;AACA,WAAW,yCAAoB;AAC/B,cAAc,0BAAO;AACrB;AACA;AACA,iBAAiB,wCAAmB;AACpC;AACA,iBAAiB,0BAAO;AACxB,qCAAqC,eAAK,eAAe,8BAAW,aAAa;AACjF;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEe,sFAAQ,E;;;;;;;;AChDvB;AAAA;AAAA;AAAA;AAA0B;AACe;AAClC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kBAAkB,4CAAK,eAAe,4DAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACe,oEAAW,E;;;;;;;;AC9B1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACH;AAC+C;AACjD;AACC;AAClC;AACP;AACA,CAAC,KAAK;AACN,iBAAiB,oEAAS;AAC1B,eAAe,uEAAW;AAC1B,wBAAwB,qDAAO;AAC/B;;AAEA;AACA,GAAG;AACH,mBAAmB,yDAAW;AAC9B;;AAEA;AACA,GAAG;AACH,iBAAiB,yDAAW;AAC5B,WAAW,4EAAa;AACxB;AACA;AACA,KAAK;AACL,GAAG;;AAEH,8CAA8C,4EAAa;AAC3D;AACA;AACA,cAAc,gEAAO;AACrB;AACA,GAAG;;AAEH,qCAAqC,8EAAe;AACpD;AACA,cAAc,gEAAO;AACrB;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;AC9CA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA0C;AACjE;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAO;AACA;AACA,gC","file":"x","sourcesContent":["import React from 'react';\nimport DateText from '../../DateText';\nimport { Cell } from '..';\nexport const article = [{\n  header: 'Наименование',\n  content: item => {\n    var _item$preview;\n\n    return /*#__PURE__*/React.createElement(Cell, {\n      img: (_item$preview = item.preview) === null || _item$preview === void 0 ? void 0 : _item$preview.path,\n      text: item.title || '-'\n    });\n  }\n}, {\n  header: 'Описание',\n  content: item => /*#__PURE__*/React.createElement(Cell, {\n    text: item.body || '-'\n  })\n}, {\n  header: 'Раздел',\n  content: item => {\n    var _item$category;\n\n    return /*#__PURE__*/React.createElement(Cell, {\n      text: ((_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category.name) || '-'\n    });\n  }\n}, {\n  header: 'Автор',\n  content: item => {\n    var _item$author, _item$author$avatar, _item$author2;\n\n    return /*#__PURE__*/React.createElement(Cell, {\n      img: (_item$author = item.author) === null || _item$author === void 0 ? void 0 : (_item$author$avatar = _item$author.avatar) === null || _item$author$avatar === void 0 ? void 0 : _item$author$avatar.path,\n      text: ((_item$author2 = item.author) === null || _item$author2 === void 0 ? void 0 : _item$author2.name) || '-'\n    });\n  }\n}, {\n  header: 'Дата публикации',\n  content: item => /*#__PURE__*/React.createElement(Cell, {\n    text: item.publishedAt || '-'\n  })\n}, {\n  header: 'Дата создания',\n  content: item => /*#__PURE__*/React.createElement(Cell, {\n    text: /*#__PURE__*/React.createElement(DateText, {\n      text: item.createdAt,\n      options: {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      }\n    }) || '-'\n  }),\n  hidden: true\n}];\nexport default article;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport template from '../../atomic-ui/components/Table/templates/article';\nimport ArticleSuit from '../../components/ArticleSuit';\nimport ContentLayout from '../../layouts/dashboard/content';\nimport { setDocuments } from '../../store/actions/documents';\nimport { useArticle } from '../../hooks/useArticle';\nimport { COMMON_START_OFFSET, DASHBOARD_LOAD_LIMIT } from '../../constants';\nimport queries from '../../graphql/queries';\nconst TITLE = 'Статьи';\n\nconst Articles = () => {\n  const {\n    onCreate,\n    onEdit,\n    ...methods\n  } = useArticle({\n    isManage: true\n  });\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    icon: 'document',\n    template: template,\n    entityType: 'article',\n    getType: 'getArticles',\n    emptyMessage: 'Статей нет',\n    limit: DASHBOARD_LOAD_LIMIT,\n    getQuery: queries.GET_ARTICLES,\n    deleteEntityMultiText: 'статьи',\n    deleteEntitySingleText: 'статья',\n    startOffset: COMMON_START_OFFSET,\n    buttonCreateText: 'Создать статью',\n    deleteQuery: queries.DELETE_ARTICLE,\n    render: document => /*#__PURE__*/React.createElement(ArticleSuit, _extends({}, methods, {\n      article: document,\n      withSocials: false\n    })),\n    onCreate: onCreate,\n    onEdit: onEdit\n  });\n};\n\nexport default Articles;","import React from 'react';\nimport ArticleCard from '../ArticleCard';\nexport const ArticleSuit = ({\n  layout,\n  article,\n  preview,\n  checked,\n  appearance,\n  withSocials,\n  hasOwned,\n  onLink,\n  onChecked,\n  onDelete,\n  onEdit\n}) => /*#__PURE__*/React.createElement(ArticleCard, {\n  layout: layout,\n  article: article,\n  preview: preview,\n  checked: checked,\n  appearance: appearance,\n  withSocials: withSocials,\n  owned: hasOwned && hasOwned(article),\n  onLink: onLink && (() => onLink(article)),\n  onChecked: onChecked,\n  onDelete: onDelete,\n  onEdit: onEdit\n});\nArticleSuit.defaultProps = {\n  withSocials: true\n};\nexport default ArticleSuit;","import { useCallback, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { onArticleCreate, onArticleEdit, onArticleLink } from '../store/helpers/article';\nimport { useHelper } from './useHelper';\nimport queries from '../graphql/queries';\nexport const useArticle = ({\n  isManage\n} = {}) => {\n  const recall = useHelper();\n  const user = useSelector(state => state.user);\n  const canEditStatus = useMemo(() => {\n    var _user$role;\n\n    return user && (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.name) === 'ADMIN';\n  }, [user]);\n  const hasOwned = useCallback(article => {\n    var _user$articles;\n\n    return user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(item => item.id === article.id);\n  }, [user]);\n  const onLink = useCallback(article => {\n    recall(onArticleLink, {\n      id: article.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    });\n  }, [user, recall]);\n\n  const onEdit = (article, onAfter) => recall(onArticleEdit, {\n    id: article.id,\n    canEditStatus,\n    mutation: queries.UPDATE_ARTICLE,\n    onAfter\n  })();\n\n  const onCreate = onAfter => recall(onArticleCreate, {\n    canEditStatus,\n    mutation: queries.CREATE_ARTICLE,\n    onAfter\n  })();\n\n  return {\n    user,\n    hasOwned,\n    onLink,\n    onEdit: isManage && onEdit,\n    onCreate: isManage && onCreate\n  };\n};","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/dashboard/articles\",\n      function () {\n        return require(\"private-next-pages/dashboard/articles.js\");\n      }\n    ]);\n  ","export const COMMON_START_OFFSET = 0;\nexport const COMMON_LOAD_LIMIT = 4;\nexport const DASHBOARD_LOAD_LIMIT = 12;"]}}