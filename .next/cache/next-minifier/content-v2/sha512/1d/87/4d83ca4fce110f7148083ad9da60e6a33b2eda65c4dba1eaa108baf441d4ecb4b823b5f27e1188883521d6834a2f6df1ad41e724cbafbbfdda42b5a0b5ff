{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{\"5Uns\":function(e,a,t){\"use strict\";t.r(a);var n=t(\"q1tI\"),i=t.n(n),c=t(\"DTT8\"),r=t(\"p9yE\");const o=\"\\u041f\\u0430\\u043d\\u0435\\u043b\\u044c \\u0430\\u0434\\u043c\\u0438\\u043d\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043e\\u0440\\u0430\";a.default=()=>i.a.createElement(r.a,{title:o},i.a.createElement(c.b,{icon:\"activity\",text:o}))},TUfB:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard\",function(){return t(\"5Uns\")}])},p9yE:function(e,a,t){\"use strict\";var n=t(\"q1tI\"),i=t.n(n),c=t(\"g4pe\"),r=t.n(c),o=t(\"YFqc\"),d=t.n(o),l=t(\"20a2\"),s=t(\"vOnD\"),p=t(\"VX74\"),m=t(\"/MKj\"),h=t(\"nShV\"),u=t(\"N0uN\"),g=t(\"auMy\"),f=t(\"8CDE\"),E=t(\"ZeZO\"),x=t(\"V0nP\"),v=t(\"feIE\"),b=t(\"VWQm\"),w=t(\"ApjV\"),y=t(\"wOhW\"),_=t(\"ThpJ\"),I=t(\"RKiZ\"),j=t(\"7sPp\"),O=t(\"QUga\"),C=t(\"hfch\");const k=\"rgba(255, 255, 255, 25%)\",N=Object(s.c)(h.b).withConfig({displayName:\"SideBar__Wrap\",componentId:\"sc-158a552-0\"})([\"--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}\"]),S=Object(s.c)(h.b).withConfig({displayName:\"SideBar__Profile\",componentId:\"sc-158a552-1\"})([\"padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);\",\"{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}\"],_.a),T=Object(s.c)(f.a).withConfig({displayName:\"SideBar__Info\",componentId:\"sc-158a552-2\"})([\"grid-gap:0;\"]),B=Object(s.c)(j.a).withConfig({displayName:\"SideBar__Name\",componentId:\"sc-158a552-3\"})([\"font-size:var(--font-h4);font-weight:var(--font-weight-medium);\"]),R=Object(s.c)(O.b).withConfig({displayName:\"SideBar__Role\",componentId:\"sc-158a552-4\"})([\"color:\",\";\"],k),U=s.c.div.withConfig({displayName:\"SideBar__Strip\",componentId:\"sc-158a552-5\"})([\"display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}\"]),V=Object(s.c)(h.b).withConfig({displayName:\"SideBar__Label\",componentId:\"sc-158a552-6\"})([\"align-items:center;\"]),L=Object(s.c)(v.a).withConfig({displayName:\"SideBar__LabelIcon\",componentId:\"sc-158a552-7\"})([\"width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);\",\"\"],(({active:e})=>e&&Object(s.b)([\"background:white;\"]))),A=Object(s.c)(O.b).withConfig({displayName:\"SideBar__LabelText\",componentId:\"sc-158a552-8\"})([\"color:\",\";font-weight:var(--font-weight-medium);\",\"\"],k,(({active:e})=>e&&Object(s.b)([\"color:white;\"]))),W=({active:e,icon:a,text:t,count:n})=>i.a.createElement(U,null,i.a.createElement(V,null,i.a.createElement(L,{icon:a,size:\"xs\",stroke:e?\"var(--default-color-accent)\":k,active:e}),i.a.createElement(A,{active:e},t)),n&&i.a.createElement(C.a,{count:n,size:\"xs\",style:e?{}:{background:k,borderColor:\"transparent\",color:\"var(--admin-color-accent)\"}})),z=({user:e,link:a,links:t,...n})=>i.a.createElement(N,n,i.a.createElement(S,null,i.a.createElement(_.b,{src:e.avatar,alt:\"Avatar\",size:\"m\"}),i.a.createElement(T,null,i.a.createElement(B,null,e.name),i.a.createElement(R,null,(e=>{switch(e){case\"ADMIN\":return\"\\u0410\\u0434\\u043c\\u0438\\u043d\";case\"USER\":return\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c\";case\"MODERATOR\":return\"\\u041c\\u043e\\u0434\\u0435\\u0440\\u0430\\u0442\\u043e\\u0440\";case\"OFICIAL\":return\"\\u041e\\u0444. \\u043b\\u0438\\u0446\\u043e\";case\"ENTITY\":return\"\\u042e\\u0440. \\u043b\\u0438\\u0446\\u043e\";case\"INDIVIDUAL\":return\"\\u0424\\u0438\\u0437. \\u043b\\u0438\\u0446\\u043e\";default:return e}})(e.role)))),i.a.createElement(I.a,{style:{background:\"var(--admin-color-accent-dim)\",margin:\"10px 0\"}}),t&&t.length>0&&t.map(((e,t)=>i.a.createElement(i.a.Fragment,{key:t},e.divide&&i.a.createElement(I.a,{style:{background:\"var(--admin-color-accent-dim)\",margin:\"10px 0\"}}),i.a.createElement(a,{href:e.path},e.component)))));z.defaultProps={link:({children:e,...a})=>i.a.createElement(\"a\",a,e)};var D=z,P=t(\"EYtC\"),M=t(\"+EEm\"),Y=t(\"8ihE\");var J=e=>{const a=a=>e.find((e=>e===a)),t=[{path:\"/\",component:i.a.createElement(W,{icon:\"activity\",text:\"\\u0413\\u043b\\u0430\\u0432\\u043d\\u0430\\u044f\"})}],n=a(\"VIEW_USER\"),c=a(\"VIEW_CATEGORY\"),r=a(\"VIEW_ARTICLE\"),o=a(\"VIEW_PROJECT\"),d=a(\"VIEW_TICKET\"),l=a(\"VIEW_ROLE\"),s=a(\"VIEW_USER\");return n&&t.push({path:\"/users\",component:i.a.createElement(W,{icon:\"user2\",text:\"\\u041f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u0438\"})}),c&&t.push({path:\"/categories\",component:i.a.createElement(W,{icon:\"folder\",text:\"\\u041a\\u0430\\u0442\\u0435\\u0433\\u043e\\u0440\\u0438\\u0438\"})}),r&&t.push({path:\"/articles\",component:i.a.createElement(W,{icon:\"document\",text:\"\\u0421\\u0442\\u0430\\u0442\\u044c\\u0438\"})}),o&&t.push({path:\"/projects\",component:i.a.createElement(W,{icon:\"work\",text:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\"})}),d&&t.push({path:\"/tickets\",component:i.a.createElement(W,{icon:\"ticket\",text:\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\"})}),l&&t.push({divide:!0,path:\"/roles\",component:i.a.createElement(W,{icon:\"lock\",text:\"\\u0420\\u043e\\u043b\\u0438\"})}),s&&t.push({path:\"/settings\",component:i.a.createElement(W,{icon:\"setting\",text:\"\\u041d\\u0430\\u0441\\u0442\\u0440\\u043e\\u0439\\u043a\\u0438\"})}),t},Z=t(\"u2Cb\"),q=t(\"rOcY\");const F=s.c.main.withConfig({displayName:\"dashboard__Main\",componentId:\"sc-9r28sr-0\"})([\"display:flex;grid-gap:var(--default-gap);width:100%;\"]),K=s.c.header.withConfig({displayName:\"dashboard__Header\",componentId:\"sc-9r28sr-1\"})([\"position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;\"]),Q=Object(s.c)(D).withConfig({displayName:\"dashboard__SideBar\",componentId:\"sc-9r28sr-2\"})([\"position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}\"]),X=Object(s.c)(E.a).withConfig({displayName:\"dashboard__MenuButton\",componentId:\"sc-9r28sr-3\"})([\"display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}\"]),G=Object(s.c)(h.b).withConfig({displayName:\"dashboard__LogoZone\",componentId:\"sc-9r28sr-4\"})([\"justify-content:space-between;@media only screen and (max-width:996px){width:auto;}\"]),H=s.c.div.withConfig({displayName:\"dashboard__Logotype\",componentId:\"sc-9r28sr-5\"})([\"display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}\"]),$=Object(s.c)(u.a).withConfig({displayName:\"dashboard__Content\",componentId:\"sc-9r28sr-6\"})([\"padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}\"]),ee=s.c.div.withConfig({displayName:\"dashboard__Loader\",componentId:\"sc-9r28sr-7\"})([\"position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);a.a=({children:e,title:a=\"\\u041f\\u0430\\u043d\\u0435\\u043b\\u044c \\u0430\\u0434\\u043c\\u0438\\u043d\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f\"})=>{var t;const c=Object(w.a)(),o=Object(l.useRouter)(),s=Object(m.c)((e=>e.user)),[h,{data:u,loading:E}]=Object(p.useLazyQuery)(Z.a.GET_USER),_=Object(m.b)();return Object(n.useEffect)((()=>{localStorage.getItem(q.a.get(\"secret\"))?h():o.push(\"/\")}),[]),Object(n.useEffect)((()=>{if(u&&u.getUser){var e;(null===(e=u.getUser.role)||void 0===e?void 0:e.permissions.find((e=>\"ACCESS_DASHBOARD\"===e)))?_(Object(Y.d)(u.getUser)):o.push(\"/\")}}),[u,_]),E||!s.authenticated?i.a.createElement(ee,null,i.a.createElement(g.a,null)):i.a.createElement(y.a,null,i.a.createElement(r.a,null,i.a.createElement(\"meta\",{name:\"keywords\",content:\"next,javascript,nextjs,react\"}),i.a.createElement(\"meta\",{name:\"description\",content:\"primar project description\"}),i.a.createElement(\"title\",null,a)),i.a.createElement(K,null,i.a.createElement(X,{appearance:\"clear\",kind:\"icon\",onClick:c(M.c,{links:J((null===s||void 0===s?void 0:s.role.permissions)||[]).map(((e,a)=>({id:a,text:e.component,onClick:()=>o.push(e.path)})))})},i.a.createElement(v.a,{icon:\"menu\"})),i.a.createElement(G,null,i.a.createElement(H,null,i.a.createElement(d.a,{href:\"/\"},i.a.createElement(\"a\",null,i.a.createElement(b.b,{text:\"\\u0410\\u0442\\u043e\\u043c\\u0438\\u043a \\u2013 \\u043f\\u043e\\u0440\\u0442\\u0430\\u043b \\u0434\\u043b\\u044f \\u0444\\u043e\\u0440\\u043c\\u0438\\u0440\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f \\u043d\\u043e\\u0432\\u043e\\u0439 \\u0441\\u0444\\u0435\\u0440\\u044b \\u043e\\u0431\\u0440\\u0430\\u0437\\u043e\\u0432\\u0430\\u043d\\u0438\\u044f\",offset:{bottom:5},place:\"bottom\",maxWidth:256,multiline:!0},i.a.createElement(x.a,{src:\"/images/logo.png\",alt:\"Logotype\"})))))),i.a.createElement(P.a,{appearance:\"ghost\"})),i.a.createElement(F,null,i.a.createElement(Q,{user:{name:s.name,role:s.role.name,avatar:(null===s||void 0===s||null===(t=s.avatar)||void 0===t?void 0:t.path)||\"/images/avatar-default.png\"},link:d.a,links:J((null===s||void 0===s?void 0:s.role.permissions)||[]).map(((e,a)=>{const t=`/dashboard${e.path.length>1?e.path:\"\"}`;return{...e,path:t,component:i.a.createElement(\"a\",{key:a,className:o.pathname===t?\"active\":\"\"},i.a.cloneElement(e.component,{active:o.pathname===t}))}}))}),i.a.createElement($,null,i.a.createElement(f.a,null,e))))}}},[[\"TUfB\",0,2,1,3,4,5]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard-8df112a633a18665350b.js"],"names":["_N_E","window","push","5Uns","module","__webpack_exports__","__webpack_require__","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_atomic_ui_components_Difinition__WEBPACK_IMPORTED_MODULE_1__","_layouts_dashboard__WEBPACK_IMPORTED_MODULE_2__","TITLE","a","createElement","title","icon","text","TUfB","exports","__NEXT_P","p9yE","react","react_default","head","head_default","next_link","link_default","next_router","styled_components_browser_esm","client","es","Row","Container","Spinner","Column","Button","Image","Icon","Tooltip","useHelper","main","Avatar","Divider","Title","Text","Badge","defaultColor","Wrap","Object","withConfig","displayName","componentId","Profile","Info","Name","Role","Strip","div","Label","LabelIcon","active","LabelText","LinkStrip","count","size","stroke","style","background","borderColor","color","Side","user","link","Link","links","props","src","avatar","alt","name","role","getLabelRole","margin","length","map","index","Fragment","key","divide","href","path","component","defaultProps","children","SideBar","SearchBar","helpers","actions_user","dashboard_links","permissions","getAccess","value","find","permission","result","isHasAccessToUsers","isHasAccessToCategories","isHasAccessToArticles","isHasAccessToProjects","isHasAccessToTickets","isHasAccessToRoles","isHasAccessToSettings","queries","config","Main","Header","header","dashboard_SideBar","MenuButton","LogoZone","Logotype","Content","Loader","_user$avatar","recall","router","state","getUser","data","loading","GET_USER","dispatch","localStorage","getItem","get","_data$getUser$role","authenticated","content","appearance","kind","onClick","id","offset","bottom","place","maxWidth","multiline","className","pathname","cloneElement"],"mappings":"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"},"name":"static/chunks/pages/dashboard-8df112a633a18665350b.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[20],{\n\n/***/ \"5Uns\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _atomic_ui_components_Difinition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"DTT8\");\n/* harmony import */ var _layouts_dashboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"p9yE\");\n\n\n\nconst TITLE = 'Панель администратора';\n\nconst Dashboard = () => {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_dashboard__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n    title: TITLE\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Difinition__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"b\"], {\n    icon: 'activity',\n    text: TITLE\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dashboard);\n\n/***/ }),\n\n/***/ \"TUfB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard\",\n        function () {\n          return __webpack_require__(\"5Uns\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"p9yE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// UNUSED EXPORTS: DashboardLayout\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/next/head.js\nvar head = __webpack_require__(\"g4pe\");\nvar head_default = /*#__PURE__*/__webpack_require__.n(head);\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Row/index.js\nvar Row = __webpack_require__(\"nShV\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Container/index.js\nvar Container = __webpack_require__(\"N0uN\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Spinner/index.js\nvar Spinner = __webpack_require__(\"auMy\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Column/index.js\nvar Column = __webpack_require__(\"8CDE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Button/index.js\nvar Button = __webpack_require__(\"ZeZO\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Image/index.js\nvar Image = __webpack_require__(\"V0nP\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Icon/index.js + 107 modules\nvar Icon = __webpack_require__(\"feIE\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Tooltip/index.js\nvar Tooltip = __webpack_require__(\"VWQm\");\n\n// EXTERNAL MODULE: ./hooks/useHelper.js\nvar useHelper = __webpack_require__(\"ApjV\");\n\n// EXTERNAL MODULE: ./layouts/main.js + 4 modules\nvar main = __webpack_require__(\"wOhW\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Avatar/index.js\nvar Avatar = __webpack_require__(\"ThpJ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Divider/index.js\nvar Divider = __webpack_require__(\"RKiZ\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Title/index.js\nvar Title = __webpack_require__(\"7sPp\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Text/index.js\nvar Text = __webpack_require__(\"QUga\");\n\n// EXTERNAL MODULE: ./atomic-ui/components/Badge/index.js\nvar Badge = __webpack_require__(\"hfch\");\n\n// CONCATENATED MODULE: ./atomic-ui/utils/functions.js\nfunction createSelectOption(option) {\n  return {\n    value: option,\n    label: option\n  };\n}\nfunction createSelectOptions(options) {\n  return options.map(option => createSelectOption(option));\n}\nconst getLabelStatus = status => {\n  switch (status) {\n    case 'PUBLISHED':\n      return 'Опубликовано';\n\n    case 'MODERATION':\n      return 'На модерации';\n\n    default:\n      return status;\n  }\n};\nconst getLabelRole = role => {\n  switch (role) {\n    case 'ADMIN':\n      return 'Админ';\n\n    case 'USER':\n      return 'Пользователь';\n\n    case 'MODERATOR':\n      return 'Модератор';\n\n    case 'OFICIAL':\n      return 'Оф. лицо';\n\n    case 'ENTITY':\n      return 'Юр. лицо';\n\n    case 'INDIVIDUAL':\n      return 'Физ. лицо';\n\n    default:\n      return role;\n  }\n};\nconst getLabelCategory = category => {\n  switch (category) {\n    case 'TICKET':\n      return 'Тема обращения';\n\n    case 'DIVISION':\n      return 'Раздел проектов/статей';\n\n    default:\n      return category;\n  }\n};\nconst getLabelPermission = permission => {\n  switch (permission) {\n    case 'ACCESS_CLIENT':\n      return 'Доступ к сайту';\n\n    case 'ACCESS_DASHBOARD':\n      return 'Доступ к административной панели';\n\n    case 'VIEW_USER':\n      return 'Просмотр пользователя';\n\n    case 'VIEW_CATEGORY':\n      return 'Просмотр категории';\n\n    case 'VIEW_ARTICLE':\n      return 'Просмотр статьи';\n\n    case 'VIEW_PROJECT':\n      return 'Просмотр проекта';\n\n    case 'VIEW_TICKET':\n      return 'Просмотр обращения';\n\n    case 'VIEW_ROLE':\n      return 'Просмотр роли';\n\n    case 'ADD_USER':\n      return 'Создание пользователя';\n\n    case 'ADD_CATEGORY':\n      return 'Создание категории';\n\n    case 'ADD_ARTICLE':\n      return 'Создание статьи';\n\n    case 'ADD_PROJECT':\n      return 'Создание проекта';\n\n    case 'EDIT_USER':\n      return 'Редактирвоание пользователя';\n\n    case 'EDIT_CATEGORY':\n      return 'Редактирование категории';\n\n    case 'EDIT_ARTICLE':\n      return 'Редактирвоание статьи';\n\n    case 'EDIT_PROJECT':\n      return 'Редактирвоание проекта';\n\n    case 'DELETE_USER':\n      return 'Удаление пользователя';\n\n    case 'DELETE_CATEGORY':\n      return 'Удаление категории';\n\n    case 'DELETE_ARTICLE':\n      return 'Удаление статьи';\n\n    case 'DELETE_PROJECT':\n      return 'Удаление проекта';\n\n    case 'COMMENT_ARTICLE':\n      return 'Комментирование статьи';\n\n    case 'COMMENT_PROJECT':\n      return 'Комментирование проекта';\n\n    case 'CHATTING':\n      return 'Общение';\n\n    default:\n      return 'Не определено';\n  }\n};\nconst getFileSize = size => {\n  if (!size) return 'Неизвестно';\n  const limit = 1024;\n  const bytes = Number(size);\n  const kilobytes = bytes / limit;\n  const megabytes = kilobytes / limit;\n  const gigabytes = megabytes / limit;\n  if (Math.trunc(gigabytes) > 0) return `${Math.round(gigabytes)} ГБ`;\n  if (Math.trunc(megabytes) > 0) return `${Math.round(megabytes)} МБ`;\n  if (Math.trunc(kilobytes) > 0) return `${Math.round(kilobytes)} КБ`;\n  return `${bytes} байт`;\n};\n// CONCATENATED MODULE: ./components/SideBar/index.js\n\n\n\n\n\n\n\n\n\n\n\nconst defaultColor = 'rgba(255, 255, 255, 25%)';\nconst activeColor = 'var(--default-color-accent)';\nconst Wrap = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Wrap\",\n  componentId: \"sc-158a552-0\"\n})([\"--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}\"]);\nconst Profile = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Profile\",\n  componentId: \"sc-158a552-1\"\n})([\"padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);\", \"{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}\"], Avatar[\"a\" /* Wrap */]);\nconst Info = Object(styled_components_browser_esm[\"c\" /* default */])(Column[\"a\" /* default */]).withConfig({\n  displayName: \"SideBar__Info\",\n  componentId: \"sc-158a552-2\"\n})([\"grid-gap:0;\"]);\nconst Name = Object(styled_components_browser_esm[\"c\" /* default */])(Title[\"a\" /* default */]).withConfig({\n  displayName: \"SideBar__Name\",\n  componentId: \"sc-158a552-3\"\n})([\"font-size:var(--font-h4);font-weight:var(--font-weight-medium);\"]);\nconst Role = Object(styled_components_browser_esm[\"c\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Role\",\n  componentId: \"sc-158a552-4\"\n})([\"color:\", \";\"], defaultColor);\nconst Strip = styled_components_browser_esm[\"c\" /* default */].div.withConfig({\n  displayName: \"SideBar__Strip\",\n  componentId: \"sc-158a552-5\"\n})([\"display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}\"]);\nconst Label = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__Label\",\n  componentId: \"sc-158a552-6\"\n})([\"align-items:center;\"]);\nconst LabelIcon = Object(styled_components_browser_esm[\"c\" /* default */])(Icon[\"a\" /* default */]).withConfig({\n  displayName: \"SideBar__LabelIcon\",\n  componentId: \"sc-158a552-7\"\n})([\"width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);\", \"\"], ({\n  active\n}) => active && Object(styled_components_browser_esm[\"b\" /* css */])([\"background:white;\"]));\nconst LabelText = Object(styled_components_browser_esm[\"c\" /* default */])(Text[\"b\" /* default */]).withConfig({\n  displayName: \"SideBar__LabelText\",\n  componentId: \"sc-158a552-8\"\n})([\"color:\", \";font-weight:var(--font-weight-medium);\", \"\"], defaultColor, ({\n  active\n}) => active && Object(styled_components_browser_esm[\"b\" /* css */])([\"color:white;\"]));\nconst LinkStrip = ({\n  active,\n  icon,\n  text,\n  count\n}) => /*#__PURE__*/react_default.a.createElement(Strip, null, /*#__PURE__*/react_default.a.createElement(Label, null, /*#__PURE__*/react_default.a.createElement(LabelIcon, {\n  icon: icon,\n  size: 'xs',\n  stroke: active ? activeColor : defaultColor,\n  active: active\n}), /*#__PURE__*/react_default.a.createElement(LabelText, {\n  active: active\n}, text)), count && /*#__PURE__*/react_default.a.createElement(Badge[\"a\" /* default */], {\n  count: count,\n  size: 'xs',\n  style: !active ? {\n    background: defaultColor,\n    borderColor: 'transparent',\n    color: 'var(--admin-color-accent)'\n  } : {}\n}));\nconst Side = ({\n  user,\n  link: Link,\n  links,\n  ...props\n}) => /*#__PURE__*/react_default.a.createElement(Wrap, props, /*#__PURE__*/react_default.a.createElement(Profile, null, /*#__PURE__*/react_default.a.createElement(Avatar[\"b\" /* default */], {\n  src: user.avatar,\n  alt: 'Avatar',\n  size: 'm'\n}), /*#__PURE__*/react_default.a.createElement(Info, null, /*#__PURE__*/react_default.a.createElement(Name, null, user.name), /*#__PURE__*/react_default.a.createElement(Role, null, getLabelRole(user.role)))), /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), links && links.length > 0 && links.map((link, index) => /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, {\n  key: index\n}, link.divide && /*#__PURE__*/react_default.a.createElement(Divider[\"a\" /* default */], {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), /*#__PURE__*/react_default.a.createElement(Link, {\n  href: link.path\n}, link.component))));\nSide.defaultProps = {\n  link: ({\n    children,\n    ...props\n  }) => /*#__PURE__*/react_default.a.createElement(\"a\", props, children)\n};\n/* harmony default export */ var SideBar = (Side);\n// EXTERNAL MODULE: ./components/SearchBar/index.js + 1 modules\nvar SearchBar = __webpack_require__(\"EYtC\");\n\n// EXTERNAL MODULE: ./store/helpers/index.js + 5 modules\nvar helpers = __webpack_require__(\"+EEm\");\n\n// EXTERNAL MODULE: ./store/actions/user.js\nvar actions_user = __webpack_require__(\"8ihE\");\n\n// CONCATENATED MODULE: ./layouts/dashboard/links.js\n\n\nconst getLinks = permissions => {\n  const getAccess = value => permissions.find(permission => permission === value);\n\n  const result = [{\n    path: '/',\n    component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n      icon: 'activity',\n      text: 'Главная'\n    })\n  }];\n  const isHasAccessToUsers = getAccess('VIEW_USER');\n  const isHasAccessToCategories = getAccess('VIEW_CATEGORY');\n  const isHasAccessToArticles = getAccess('VIEW_ARTICLE');\n  const isHasAccessToProjects = getAccess('VIEW_PROJECT');\n  const isHasAccessToTickets = getAccess('VIEW_TICKET');\n  const isHasAccessToRoles = getAccess('VIEW_ROLE');\n  const isHasAccessToSettings = getAccess('VIEW_USER');\n\n  if (isHasAccessToUsers) {\n    result.push({\n      path: '/users',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'user2',\n        text: 'Пользователи'\n      })\n    });\n  }\n\n  if (isHasAccessToCategories) {\n    result.push({\n      path: '/categories',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'folder',\n        text: 'Категории'\n      })\n    });\n  }\n\n  if (isHasAccessToArticles) {\n    result.push({\n      path: '/articles',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'document',\n        text: 'Статьи'\n      })\n    });\n  }\n\n  if (isHasAccessToProjects) {\n    result.push({\n      path: '/projects',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'work',\n        text: 'Проекты'\n      })\n    });\n  }\n\n  if (isHasAccessToTickets) {\n    result.push({\n      path: '/tickets',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'ticket',\n        text: 'Обращения'\n      })\n    });\n  }\n\n  if (isHasAccessToRoles) {\n    result.push({\n      divide: true,\n      path: '/roles',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'lock',\n        text: 'Роли'\n      })\n    });\n  }\n\n  if (isHasAccessToSettings) {\n    result.push({\n      path: '/settings',\n      component: /*#__PURE__*/react_default.a.createElement(LinkStrip, {\n        icon: 'setting',\n        text: 'Настройки'\n      })\n    });\n  }\n\n  return result;\n};\n/* harmony default export */ var dashboard_links = (getLinks);\n// EXTERNAL MODULE: ./graphql/queries/index.js + 14 modules\nvar queries = __webpack_require__(\"u2Cb\");\n\n// EXTERNAL MODULE: ./config/index.js\nvar config = __webpack_require__(\"rOcY\");\n\n// CONCATENATED MODULE: ./layouts/dashboard/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Main = styled_components_browser_esm[\"c\" /* default */].main.withConfig({\n  displayName: \"dashboard__Main\",\n  componentId: \"sc-9r28sr-0\"\n})([\"display:flex;grid-gap:var(--default-gap);width:100%;\"]);\nconst Header = styled_components_browser_esm[\"c\" /* default */].header.withConfig({\n  displayName: \"dashboard__Header\",\n  componentId: \"sc-9r28sr-1\"\n})([\"position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;\"]);\nconst dashboard_SideBar = Object(styled_components_browser_esm[\"c\" /* default */])(SideBar).withConfig({\n  displayName: \"dashboard__SideBar\",\n  componentId: \"sc-9r28sr-2\"\n})([\"position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}\"]);\nconst MenuButton = Object(styled_components_browser_esm[\"c\" /* default */])(Button[\"a\" /* default */]).withConfig({\n  displayName: \"dashboard__MenuButton\",\n  componentId: \"sc-9r28sr-3\"\n})([\"display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}\"]);\nconst LogoZone = Object(styled_components_browser_esm[\"c\" /* default */])(Row[\"b\" /* default */]).withConfig({\n  displayName: \"dashboard__LogoZone\",\n  componentId: \"sc-9r28sr-4\"\n})([\"justify-content:space-between;@media only screen and (max-width:996px){width:auto;}\"]);\nconst Logotype = styled_components_browser_esm[\"c\" /* default */].div.withConfig({\n  displayName: \"dashboard__Logotype\",\n  componentId: \"sc-9r28sr-5\"\n})([\"display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}\"]);\nconst Content = Object(styled_components_browser_esm[\"c\" /* default */])(Container[\"a\" /* default */]).withConfig({\n  displayName: \"dashboard__Content\",\n  componentId: \"sc-9r28sr-6\"\n})([\"padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}\"]);\nconst Loader = styled_components_browser_esm[\"c\" /* default */].div.withConfig({\n  displayName: \"dashboard__Loader\",\n  componentId: \"sc-9r28sr-7\"\n})([\"position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);\nconst DashboardLayout = ({\n  children,\n  title = 'Панель администрирования'\n}) => {\n  var _user$avatar;\n\n  const recall = Object(useHelper[\"a\" /* useHelper */])();\n  const router = Object(next_router[\"useRouter\"])();\n  const user = Object(es[\"c\" /* useSelector */])(state => state.user);\n  const [getUser, {\n    data,\n    loading\n  }] = Object(client[\"useLazyQuery\"])(queries[\"a\" /* default */].GET_USER);\n  const dispatch = Object(es[\"b\" /* useDispatch */])();\n  Object(react[\"useEffect\"])(() => {\n    if (true) {\n      const token = localStorage.getItem(config[\"a\" /* default */].get('secret'));\n      if (token) getUser();else router.push('/');\n    }\n  }, []);\n  Object(react[\"useEffect\"])(() => {\n    if (data && data.getUser) {\n      var _data$getUser$role;\n\n      const isAccept = (_data$getUser$role = data.getUser.role) === null || _data$getUser$role === void 0 ? void 0 : _data$getUser$role.permissions.find(permission => permission === 'ACCESS_DASHBOARD');\n\n      if (isAccept) {\n        dispatch(Object(actions_user[\"d\" /* setUser */])(data.getUser));\n      } else {\n        router.push('/');\n      }\n    }\n  }, [data, dispatch]);\n\n  if (loading || !user.authenticated) {\n    return /*#__PURE__*/react_default.a.createElement(Loader, null, /*#__PURE__*/react_default.a.createElement(Spinner[\"a\" /* default */], null));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(main[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(head_default.a, null, /*#__PURE__*/react_default.a.createElement(\"meta\", {\n    name: \"keywords\",\n    content: \"next,javascript,nextjs,react\"\n  }), /*#__PURE__*/react_default.a.createElement(\"meta\", {\n    name: \"description\",\n    content: \"primar project description\"\n  }), /*#__PURE__*/react_default.a.createElement(\"title\", null, title)), /*#__PURE__*/react_default.a.createElement(Header, null, /*#__PURE__*/react_default.a.createElement(MenuButton, {\n    appearance: 'clear',\n    kind: 'icon',\n    onClick: recall(helpers[\"c\" /* onMenu */], {\n      links: dashboard_links((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => ({\n        id: index,\n        text: link.component,\n        onClick: () => router.push(link.path)\n      }))\n    })\n  }, /*#__PURE__*/react_default.a.createElement(Icon[\"a\" /* default */], {\n    icon: 'menu'\n  })), /*#__PURE__*/react_default.a.createElement(LogoZone, null, /*#__PURE__*/react_default.a.createElement(Logotype, null, /*#__PURE__*/react_default.a.createElement(link_default.a, {\n    href: '/'\n  }, /*#__PURE__*/react_default.a.createElement(\"a\", null, /*#__PURE__*/react_default.a.createElement(Tooltip[\"b\" /* default */], {\n    text: 'Атомик – портал для формирования новой сферы образования',\n    offset: {\n      bottom: 5\n    },\n    place: 'bottom',\n    maxWidth: 256,\n    multiline: true\n  }, /*#__PURE__*/react_default.a.createElement(Image[\"a\" /* default */], {\n    src: '/images/logo.png',\n    alt: 'Logotype'\n  })))))), /*#__PURE__*/react_default.a.createElement(SearchBar[\"a\" /* default */], {\n    appearance: 'ghost'\n  })), /*#__PURE__*/react_default.a.createElement(Main, null, /*#__PURE__*/react_default.a.createElement(dashboard_SideBar, {\n    user: {\n      name: user.name,\n      role: user.role.name,\n      avatar: (user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.path) || '/images/avatar-default.png'\n    },\n    link: link_default.a,\n    links: dashboard_links((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => {\n      const path = `/dashboard${link.path.length > 1 ? link.path : ''}`;\n      return { ...link,\n        path,\n        component: /*#__PURE__*/react_default.a.createElement(\"a\", {\n          key: index,\n          className: router.pathname === path ? 'active' : ''\n        }, react_default.a.cloneElement(link.component, {\n          active: router.pathname === path\n        }))\n      };\n    })\n  }), /*#__PURE__*/react_default.a.createElement(Content, null, /*#__PURE__*/react_default.a.createElement(Column[\"a\" /* default */], null, children))));\n};\n/* harmony default export */ var dashboard = __webpack_exports__[\"a\"] = (DashboardLayout);\n\n/***/ })\n\n},[[\"TUfB\",0,2,1,3,4,5]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard&absolutePagePath=private-next-pages%2Fdashboard%2Findex.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\utils\\functions.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SideBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\dashboard\\links.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\dashboard\\index.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport Difinition from '../../atomic-ui/components/Difinition';\nimport DashboardLayout from '../../layouts/dashboard';\nconst TITLE = 'Панель администратора';\n\nconst Dashboard = () => {\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    title: TITLE\n  }, /*#__PURE__*/React.createElement(Difinition, {\n    icon: 'activity',\n    text: TITLE\n  }));\n};\n\nexport default Dashboard;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard\",\n        function () {\n          return require(\"private-next-pages/dashboard/index.js\");\n        }\n      ]);\n    ","export function createSelectOption(option) {\n  return {\n    value: option,\n    label: option\n  };\n}\nexport function createSelectOptions(options) {\n  return options.map(option => createSelectOption(option));\n}\nexport const getLabelStatus = status => {\n  switch (status) {\n    case 'PUBLISHED':\n      return 'Опубликовано';\n\n    case 'MODERATION':\n      return 'На модерации';\n\n    default:\n      return status;\n  }\n};\nexport const getLabelRole = role => {\n  switch (role) {\n    case 'ADMIN':\n      return 'Админ';\n\n    case 'USER':\n      return 'Пользователь';\n\n    case 'MODERATOR':\n      return 'Модератор';\n\n    case 'OFICIAL':\n      return 'Оф. лицо';\n\n    case 'ENTITY':\n      return 'Юр. лицо';\n\n    case 'INDIVIDUAL':\n      return 'Физ. лицо';\n\n    default:\n      return role;\n  }\n};\nexport const getLabelCategory = category => {\n  switch (category) {\n    case 'TICKET':\n      return 'Тема обращения';\n\n    case 'DIVISION':\n      return 'Раздел проектов/статей';\n\n    default:\n      return category;\n  }\n};\nexport const getLabelPermission = permission => {\n  switch (permission) {\n    case 'ACCESS_CLIENT':\n      return 'Доступ к сайту';\n\n    case 'ACCESS_DASHBOARD':\n      return 'Доступ к административной панели';\n\n    case 'VIEW_USER':\n      return 'Просмотр пользователя';\n\n    case 'VIEW_CATEGORY':\n      return 'Просмотр категории';\n\n    case 'VIEW_ARTICLE':\n      return 'Просмотр статьи';\n\n    case 'VIEW_PROJECT':\n      return 'Просмотр проекта';\n\n    case 'VIEW_TICKET':\n      return 'Просмотр обращения';\n\n    case 'VIEW_ROLE':\n      return 'Просмотр роли';\n\n    case 'ADD_USER':\n      return 'Создание пользователя';\n\n    case 'ADD_CATEGORY':\n      return 'Создание категории';\n\n    case 'ADD_ARTICLE':\n      return 'Создание статьи';\n\n    case 'ADD_PROJECT':\n      return 'Создание проекта';\n\n    case 'EDIT_USER':\n      return 'Редактирвоание пользователя';\n\n    case 'EDIT_CATEGORY':\n      return 'Редактирование категории';\n\n    case 'EDIT_ARTICLE':\n      return 'Редактирвоание статьи';\n\n    case 'EDIT_PROJECT':\n      return 'Редактирвоание проекта';\n\n    case 'DELETE_USER':\n      return 'Удаление пользователя';\n\n    case 'DELETE_CATEGORY':\n      return 'Удаление категории';\n\n    case 'DELETE_ARTICLE':\n      return 'Удаление статьи';\n\n    case 'DELETE_PROJECT':\n      return 'Удаление проекта';\n\n    case 'COMMENT_ARTICLE':\n      return 'Комментирование статьи';\n\n    case 'COMMENT_PROJECT':\n      return 'Комментирование проекта';\n\n    case 'CHATTING':\n      return 'Общение';\n\n    default:\n      return 'Не определено';\n  }\n};\nexport const getFileSize = size => {\n  if (!size) return 'Неизвестно';\n  const limit = 1024;\n  const bytes = Number(size);\n  const kilobytes = bytes / limit;\n  const megabytes = kilobytes / limit;\n  const gigabytes = megabytes / limit;\n  if (Math.trunc(gigabytes) > 0) return `${Math.round(gigabytes)} ГБ`;\n  if (Math.trunc(megabytes) > 0) return `${Math.round(megabytes)} МБ`;\n  if (Math.trunc(kilobytes) > 0) return `${Math.round(kilobytes)} КБ`;\n  return `${bytes} байт`;\n};","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Column from '../../atomic-ui/components/Column';\nimport Row from '../../atomic-ui/components/Row';\nimport Avatar, { Wrap as WrapAvatar } from '../../atomic-ui/components/Avatar';\nimport Divider from '../../atomic-ui/components/Divider';\nimport Title from '../../atomic-ui/components/Title';\nimport Text from '../../atomic-ui/components/Text';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Badge from '../../atomic-ui/components/Badge';\nimport { getLabelRole } from '../../atomic-ui/utils/functions';\nconst defaultColor = 'rgba(255, 255, 255, 25%)';\nconst activeColor = 'var(--default-color-accent)';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SideBar__Wrap\",\n  componentId: \"sc-158a552-0\"\n})([\"--padding-offset:15px;display:flex;flex-direction:column;width:240px;height:100vh;background:var(--admin-color-accent);color:white;overflow:hidden;overflow-y:auto;@media only screen and (max-width:996px){width:62px;}\"]);\nexport const Profile = styled(Row).withConfig({\n  displayName: \"SideBar__Profile\",\n  componentId: \"sc-158a552-1\"\n})([\"padding:var(--default-gap) var(--default-gap) 5px var(--default-gap);@media only screen and (max-width:996px){padding:var(--default-gap) var(--default-gap) 0 var(--default-gap);\", \"{max-width:var(--input-height-s);max-height:var(--input-height-s);min-width:var(--input-height-s);min-height:var(--input-height-s);width:var(--input-height-s);height:var(--input-height-s);}}\"], WrapAvatar);\nexport const Info = styled(Column).withConfig({\n  displayName: \"SideBar__Info\",\n  componentId: \"sc-158a552-2\"\n})([\"grid-gap:0;\"]);\nexport const Name = styled(Title).withConfig({\n  displayName: \"SideBar__Name\",\n  componentId: \"sc-158a552-3\"\n})([\"font-size:var(--font-h4);font-weight:var(--font-weight-medium);\"]);\nexport const Role = styled(Text).withConfig({\n  displayName: \"SideBar__Role\",\n  componentId: \"sc-158a552-4\"\n})([\"color:\", \";\"], defaultColor);\nexport const Strip = styled.div.withConfig({\n  displayName: \"SideBar__Strip\",\n  componentId: \"sc-158a552-5\"\n})([\"display:flex;justify-content:space-between;align-items:center;padding:5px var(--default-gap);a{position:relative;padding:0 15px;transition:background 150ms ease;&.active,&:hover{background:#10151c;}}@media only screen and (max-width:480px){padding:5px 0;}\"]);\nexport const Label = styled(Row).withConfig({\n  displayName: \"SideBar__Label\",\n  componentId: \"sc-158a552-6\"\n})([\"align-items:center;\"]);\nexport const LabelIcon = styled(Icon).withConfig({\n  displayName: \"SideBar__LabelIcon\",\n  componentId: \"sc-158a552-7\"\n})([\"width:var(--input-height-s);height:var(--input-height-s);background:var(--admin-color-accent-dim);border-radius:var(--surface-border-radius);\", \"\"], ({\n  active\n}) => active && css([\"background:white;\"]));\nexport const LabelText = styled(Text).withConfig({\n  displayName: \"SideBar__LabelText\",\n  componentId: \"sc-158a552-8\"\n})([\"color:\", \";font-weight:var(--font-weight-medium);\", \"\"], defaultColor, ({\n  active\n}) => active && css([\"color:white;\"]));\nexport const LinkStrip = ({\n  active,\n  icon,\n  text,\n  count\n}) => /*#__PURE__*/React.createElement(Strip, null, /*#__PURE__*/React.createElement(Label, null, /*#__PURE__*/React.createElement(LabelIcon, {\n  icon: icon,\n  size: 'xs',\n  stroke: active ? activeColor : defaultColor,\n  active: active\n}), /*#__PURE__*/React.createElement(LabelText, {\n  active: active\n}, text)), count && /*#__PURE__*/React.createElement(Badge, {\n  count: count,\n  size: 'xs',\n  style: !active ? {\n    background: defaultColor,\n    borderColor: 'transparent',\n    color: 'var(--admin-color-accent)'\n  } : {}\n}));\nexport const Side = ({\n  user,\n  link: Link,\n  links,\n  ...props\n}) => /*#__PURE__*/React.createElement(Wrap, props, /*#__PURE__*/React.createElement(Profile, null, /*#__PURE__*/React.createElement(Avatar, {\n  src: user.avatar,\n  alt: 'Avatar',\n  size: 'm'\n}), /*#__PURE__*/React.createElement(Info, null, /*#__PURE__*/React.createElement(Name, null, user.name), /*#__PURE__*/React.createElement(Role, null, getLabelRole(user.role)))), /*#__PURE__*/React.createElement(Divider, {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), links && links.length > 0 && links.map((link, index) => /*#__PURE__*/React.createElement(React.Fragment, {\n  key: index\n}, link.divide && /*#__PURE__*/React.createElement(Divider, {\n  style: {\n    background: 'var(--admin-color-accent-dim)',\n    margin: '10px 0'\n  }\n}), /*#__PURE__*/React.createElement(Link, {\n  href: link.path\n}, link.component))));\nSide.defaultProps = {\n  link: ({\n    children,\n    ...props\n  }) => /*#__PURE__*/React.createElement(\"a\", props, children)\n};\nexport default Side;","import React from 'react';\nimport { LinkStrip } from '../../components/SideBar';\nexport const getLinks = permissions => {\n  const getAccess = value => permissions.find(permission => permission === value);\n\n  const result = [{\n    path: '/',\n    component: /*#__PURE__*/React.createElement(LinkStrip, {\n      icon: 'activity',\n      text: 'Главная'\n    })\n  }];\n  const isHasAccessToUsers = getAccess('VIEW_USER');\n  const isHasAccessToCategories = getAccess('VIEW_CATEGORY');\n  const isHasAccessToArticles = getAccess('VIEW_ARTICLE');\n  const isHasAccessToProjects = getAccess('VIEW_PROJECT');\n  const isHasAccessToTickets = getAccess('VIEW_TICKET');\n  const isHasAccessToRoles = getAccess('VIEW_ROLE');\n  const isHasAccessToSettings = getAccess('VIEW_USER');\n\n  if (isHasAccessToUsers) {\n    result.push({\n      path: '/users',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'user2',\n        text: 'Пользователи'\n      })\n    });\n  }\n\n  if (isHasAccessToCategories) {\n    result.push({\n      path: '/categories',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'folder',\n        text: 'Категории'\n      })\n    });\n  }\n\n  if (isHasAccessToArticles) {\n    result.push({\n      path: '/articles',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'document',\n        text: 'Статьи'\n      })\n    });\n  }\n\n  if (isHasAccessToProjects) {\n    result.push({\n      path: '/projects',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'work',\n        text: 'Проекты'\n      })\n    });\n  }\n\n  if (isHasAccessToTickets) {\n    result.push({\n      path: '/tickets',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'ticket',\n        text: 'Обращения'\n      })\n    });\n  }\n\n  if (isHasAccessToRoles) {\n    result.push({\n      divide: true,\n      path: '/roles',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'lock',\n        text: 'Роли'\n      })\n    });\n  }\n\n  if (isHasAccessToSettings) {\n    result.push({\n      path: '/settings',\n      component: /*#__PURE__*/React.createElement(LinkStrip, {\n        icon: 'setting',\n        text: 'Настройки'\n      })\n    });\n  }\n\n  return result;\n};\nexport default getLinks;","import React, { useEffect } from 'react';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Row from '../../atomic-ui/components/Row';\nimport Container from '../../atomic-ui/components/Container';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport Column from '../../atomic-ui/components/Column';\nimport Button from '../../atomic-ui/components/Button';\nimport Image from '../../atomic-ui/components/Image';\nimport Icon from '../../atomic-ui/components/Icon';\nimport Tooltip from '../../atomic-ui/components/Tooltip';\nimport { useHelper } from '../../hooks/useHelper';\nimport MainLayout from '../main';\nimport BaseSideBar from '../../components/SideBar';\nimport SearchBar from '../../components/SearchBar';\nimport { onMenu } from '../../store/helpers';\nimport { setUser } from '../../store/actions/user';\nimport getLinks from './links';\nimport queries from '../../graphql/queries';\nimport config from '../../config';\nconst Main = styled.main.withConfig({\n  displayName: \"dashboard__Main\",\n  componentId: \"sc-9r28sr-0\"\n})([\"display:flex;grid-gap:var(--default-gap);width:100%;\"]);\nconst Header = styled.header.withConfig({\n  displayName: \"dashboard__Header\",\n  componentId: \"sc-9r28sr-1\"\n})([\"position:fixed;top:0;left:0;z-index:var(--z-15);display:flex;grid-gap:var(--default-gap);background:var(--surface-background);border:var(--surface-border);box-shadow:var(--surface-shadow);padding:var(--default-gap);width:100%;flex-grow:100;\"]);\nconst SideBar = styled(BaseSideBar).withConfig({\n  displayName: \"dashboard__SideBar\",\n  componentId: \"sc-9r28sr-2\"\n})([\"position:fixed;top:70px;left:0;height:calc(100vh - 70px);z-index:var(--z-12);@media only screen and (max-width:480px){display:none;}\"]);\nconst MenuButton = styled(Button).withConfig({\n  displayName: \"dashboard__MenuButton\",\n  componentId: \"sc-9r28sr-3\"\n})([\"display:none;@media only screen and (max-width:768px){display:flex;justify-content:center;align-items:center;}\"]);\nconst LogoZone = styled(Row).withConfig({\n  displayName: \"dashboard__LogoZone\",\n  componentId: \"sc-9r28sr-4\"\n})([\"justify-content:space-between;@media only screen and (max-width:996px){width:auto;}\"]);\nconst Logotype = styled.div.withConfig({\n  displayName: \"dashboard__Logotype\",\n  componentId: \"sc-9r28sr-5\"\n})([\"display:flex;justify-content:flex-start;align-items:center;img{height:30px;object-fit:contain;}@media only screen and (max-width:996px){min-width:auto;}@media only screen and (max-width:480px){display:none;}\"]);\nconst Content = styled(Container).withConfig({\n  displayName: \"dashboard__Content\",\n  componentId: \"sc-9r28sr-6\"\n})([\"padding:70px 15px 15px 255px;flex-grow:1;@media only screen and (max-width:996px){padding:70px 15px 15px 80px;}@media only screen and (max-width:480px){padding:70px 15px 15px 15px;}\"]);\nconst Loader = styled.div.withConfig({\n  displayName: \"dashboard__Loader\",\n  componentId: \"sc-9r28sr-7\"\n})([\"position:fixed;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;\"]);\nexport const DashboardLayout = ({\n  children,\n  title = 'Панель администрирования'\n}) => {\n  var _user$avatar;\n\n  const recall = useHelper();\n  const router = useRouter();\n  const user = useSelector(state => state.user);\n  const [getUser, {\n    data,\n    loading\n  }] = useLazyQuery(queries.GET_USER);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (true) {\n      const token = localStorage.getItem(config.get('secret'));\n      if (token) getUser();else router.push('/');\n    }\n  }, []);\n  useEffect(() => {\n    if (data && data.getUser) {\n      var _data$getUser$role;\n\n      const isAccept = (_data$getUser$role = data.getUser.role) === null || _data$getUser$role === void 0 ? void 0 : _data$getUser$role.permissions.find(permission => permission === 'ACCESS_DASHBOARD');\n\n      if (isAccept) {\n        dispatch(setUser(data.getUser));\n      } else {\n        router.push('/');\n      }\n    }\n  }, [data, dispatch]);\n\n  if (loading || !user.authenticated) {\n    return /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(MainLayout, null, /*#__PURE__*/React.createElement(Head, null, /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"keywords\",\n    content: \"next,javascript,nextjs,react\"\n  }), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"primar project description\"\n  }), /*#__PURE__*/React.createElement(\"title\", null, title)), /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(MenuButton, {\n    appearance: 'clear',\n    kind: 'icon',\n    onClick: recall(onMenu, {\n      links: getLinks((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => ({\n        id: index,\n        text: link.component,\n        onClick: () => router.push(link.path)\n      }))\n    })\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'menu'\n  })), /*#__PURE__*/React.createElement(LogoZone, null, /*#__PURE__*/React.createElement(Logotype, null, /*#__PURE__*/React.createElement(Link, {\n    href: '/'\n  }, /*#__PURE__*/React.createElement(\"a\", null, /*#__PURE__*/React.createElement(Tooltip, {\n    text: 'Атомик – портал для формирования новой сферы образования',\n    offset: {\n      bottom: 5\n    },\n    place: 'bottom',\n    maxWidth: 256,\n    multiline: true\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: '/images/logo.png',\n    alt: 'Logotype'\n  })))))), /*#__PURE__*/React.createElement(SearchBar, {\n    appearance: 'ghost'\n  })), /*#__PURE__*/React.createElement(Main, null, /*#__PURE__*/React.createElement(SideBar, {\n    user: {\n      name: user.name,\n      role: user.role.name,\n      avatar: (user === null || user === void 0 ? void 0 : (_user$avatar = user.avatar) === null || _user$avatar === void 0 ? void 0 : _user$avatar.path) || '/images/avatar-default.png'\n    },\n    link: Link,\n    links: getLinks((user === null || user === void 0 ? void 0 : user.role.permissions) || []).map((link, index) => {\n      const path = `/dashboard${link.path.length > 1 ? link.path : ''}`;\n      return { ...link,\n        path,\n        component: /*#__PURE__*/React.createElement(\"a\", {\n          key: index,\n          className: router.pathname === path ? 'active' : ''\n        }, React.cloneElement(link.component, {\n          active: router.pathname === path\n        }))\n      };\n    })\n  }), /*#__PURE__*/React.createElement(Content, null, /*#__PURE__*/React.createElement(Column, null, children))));\n};\nexport default DashboardLayout;"]}}