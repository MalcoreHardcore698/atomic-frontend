{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{D85t:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/projects\",function(){return a(\"RHEb\")}])},EYtC:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),i=a(\"vOnD\"),o=a(\"nShV\"),r=a(\"ZeZO\"),c=a(\"feIE\"),d=a(\"t7jn\"),s=a(\"coMr\");const u=Object(i.d)(o.b).withConfig({displayName:\"SearchBar__Wrap\",componentId:\"sc-1ruwjhl-0\"})([\"width:100%;\"]),m=Object(i.d)(d.a).withConfig({displayName:\"SearchBar__WrapSearchField\",componentId:\"sc-1ruwjhl-1\"})([\"flex-grow:100;\"]),b=Object(i.d)(r.a).withConfig({displayName:\"SearchBar__WrapButton\",componentId:\"sc-1ruwjhl-2\"})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\",\"\"],(({visibleFilter:e})=>e&&Object(i.c)([\"background:var(--default-color-accent);\"])));t.a=({appearance:e,buttonCreateText:t,onCreate:a,onChangeFilter:i,onSubmit:o})=>{const[r,d]=Object(n.useState)(!1);return l.a.createElement(u,null,l.a.createElement(m,{appearance:e,placeholder:\"\\u041f\\u043e\\u0438\\u0441\\u043a\",onSubmit:o}),l.a.createElement(b,{type:\"button\",kind:\"icon\",onClick:()=>{d(!r),i&&i(!r)},visibleFilter:r},l.a.createElement(c.a,{icon:\"filter2\",stroke:r?\"white\":\"var(--default-color-accent)\"})),a&&l.a.createElement(s.a,{type:\"button\",onClick:a},l.a.createElement(\"span\",null,t),l.a.createElement(c.a,{type:\"button\",icon:\"add\",stroke:\"white\"})))}},QX5T:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),i=a(\"20a2\"),o=a(\"vOnD\"),r=a(\"VX74\"),c=a(\"RotF\"),d=a.n(c),s=a(\"7Cbv\"),u=a(\"8CDE\"),m=a(\"wZgm\"),b=a(\"auMy\"),p=a(\"QclZ\"),E=a(\"X+Rt\"),f=a(\"p9yE\"),v=a(\"RoTl\"),j=a(\"EYtC\"),h=a(\"coMr\"),O=a(\"586Q\"),y=a(\"/MKj\");const g=Object(o.d)(u.a).withConfig({displayName:\"content__Wrap\",componentId:\"sc-1afm75p-0\"})([\"margin-top:120px;margin-bottom:80px;\",\" @media only screen and (max-width:480px){margin-top:0;}\"],(({clear:e})=>e&&Object(o.c)([\"margin:0;\"])));t.a=({title:e,store:t,query:a,handle:o,filters:c,options:u,scaffold:C,dashboard:w,variables:_={},limit:S=6,startOffset:k=6,initialize:R,children:T})=>{const P=Object(i.useRouter)(),D=Object(y.c)((e=>e.root.search)),I=w?f.a:E.a,[x,L]=Object(n.useState)(),[M,A]=Object(n.useState)(),[q,N]=Object(n.useState)(null),[F,J]=Object(n.useState)(!1),[Q,V]=Object(n.useState)(k+1),[X,B]=Object(n.useState)((null===t||void 0===t?void 0:t.documents)||[]),[U,G]=Object(n.useState)(!1),W=Object(n.useMemo)((()=>{var e;return Number(null===(e=P.query)||void 0===e?void 0:e.page)||1}),[P]),[z,{data:K,loading:H,refetch:Z}]=Object(r.useLazyQuery)(a),[Y,{data:$,loading:ee,refetch:te}]=Object(r.useLazyQuery)(a),ae=e=>{if(B([]),e)N(e),z({variables:{..._,search:e,offset:0,limit:k*W}});else{const e={..._,offset:0,limit:S};N(null),te?te(e):Y({variables:e})}V(0)};return Object(n.useEffect)((()=>{R&&Y({variables:{offset:Q,limit:S}})}),[R]),Object(n.useEffect)((()=>{D&&ae(D)}),[D]),Object(n.useEffect)((()=>{const e=!q&&!ee&&$||q&&!H&&K;if(e){const t=e[Object.keys(e)[0]];t.length>0&&B((e=>[...e,...t])),0===t.length&&G(!0)}}),[q,ee,H,$,K,G]),l.a.createElement(I,{title:e,scaffold:C},l.a.createElement(g,{clear:C||w},!C&&!w&&l.a.createElement(j.a,{onChangeFilter:()=>J(!F),onSubmit:ae}),w&&o&&l.a.createElement(h.b,{title:e,icon:o.icon,buttonCreateText:o.buttonCreateText,onCreate:o.onCreate,onChangeVisibleFilter:()=>J(!F),onChangeDisplayMethod:o.onChangeDisplayMethod}),(c||u)&&l.a.createElement(v.a,{isOpen:F,filters:c.map((e=>{switch(e.type){case\"DATEPICKER\":return l.a.createElement(m.a,{key:Object(s.a)(),value:x,placeholder:e.placeholder||\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:L,withNavigate:!0});case\"SELECT\":return l.a.createElement(p.a,{key:Object(s.a)(),options:e.options,placeholder:e.placeholder||\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:M,onChange:e=>A(e)});default:return null}})),options:u}),l.a.createElement(d.a,{pageStart:W||0,loadMore:async e=>{const t={..._,offset:Q,limit:S};q&&Z?await Z(_):te?(await te(t),V(S*e+k+1)):await Y({variables:t})},hasMore:!U,loader:l.a.createElement(O.d,{key:\"loader\"},l.a.createElement(b.a,null))},\"function\"===typeof T?l.a.createElement(T,{documents:X}):T)))}},RHEb:function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),l=a.n(n),i=a(\"20a2\"),o=a(\"VX74\"),r=a(\"auMy\"),c=a(\"NWnW\"),d=a(\"QX5T\"),s=a(\"qF4B\"),u=a(\"586Q\"),m=a(\"u2Cb\");t.default=()=>{var e;const t=Object(i.useRouter)(),[a,{data:b,loading:p}]=Object(o.useLazyQuery)(m.a.GET_META_PROJECTS);return Object(n.useEffect)((()=>{var e,n;const l=null===(e=t.query)||void 0===e?void 0:e.page,i=null===(n=t.query)||void 0===n?void 0:n.c;i&&a({variables:{offset:l?6*l:0,limit:6,status:\"PUBLISHED\",category:i}})}),[t]),p?l.a.createElement(u.a,null,l.a.createElement(r.a,null)):l.a.createElement(d.a,{title:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",filters:[{type:\"DATEPICKER\"},{type:\"SELECT\",options:null===b||void 0===b?void 0:b.getCategories.map((e=>({value:e.id,label:Object(c.e)(e.name)})))}],options:[{label:\"\\u041a\\u043e\\u043c\\u043f\\u0430\\u043d\\u0438\\u044f\",value:\"company\"},{label:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043d\\u0438\\u043a\\u0438\",value:\"members\"},{label:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",value:\"createdAt\"}],query:m.a.GET_PROJECTS,variables:{category:null===(e=t.query)||void 0===e?void 0:e.c,status:\"PUBLISHED\"},store:{documents:null===b||void 0===b?void 0:b.getProjects}},(({documents:e})=>l.a.createElement(u.b,null,l.a.createElement(s.a,{initialList:e,layout:!0}))))}},qF4B:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),l=a.n(n),i=a(\"vOnD\"),o=a(\"VX74\"),r=a(\"/MKj\"),c=a(\"ZwIX\"),d=a(\"auMy\"),s=a(\"586Q\"),u=a(\"VP1n\"),m=a(\"1zqG\"),b=a(\"ApjV\"),p=a(\"lphG\"),E=a(\"8ihE\"),f=a(\"rP4V\"),v=a(\"IxyI\"),j=a(\"u2Cb\");const h=i.d.div.withConfig({displayName:\"ProjectList__Wrap\",componentId:\"zcwfmw-0\"})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]),O=({variables:e,layout:t,eliminable:a,initialList:i,initialRefetch:O,emptyMessage:y})=>{const g=Object(b.b)(),C=Object(p.a)(),{user:w,folder:_}=Object(r.c)((e=>({user:e.user,folder:e.root.folder}))),[S,k]=Object(n.useState)(i||[]),R=Object(r.b)(),{data:T,loading:P,error:D}=i?{data:null,loading:!1,error:!1}:Object(o.useQuery)(j.a.GET_PROJECTS,{variables:e}),I=Object(n.useCallback)((e=>g(v.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};R(Object(E.c)(a))}})()),[w]),x=Object(n.useCallback)((e=>g(v.f,{id:e.id,folder:_,mutation:j.a.REMOVE_USER_PROJECT,callback:()=>O&&O(S.filter((t=>t.id!==e.id)).map((e=>e.id)))})()),[w]);return Object(n.useEffect)((()=>{!P&&T&&k(T.getProjects)}),[T,P]),Object(n.useEffect)((()=>{!P&&(null===i||void 0===i?void 0:i.length)>0&&k(i)}),[P,i]),l.a.createElement(h,null,S.length>0?S.map((e=>{var n,i,o,r;const c=null===w||void 0===w||null===(n=w.projects)||void 0===n?void 0:n.find((t=>t.id===e.id));return l.a.createElement(u.a,{key:e.id},l.a.createElement(m.c,{project:e,eliminable:a,layout:t||\"column\",owned:c,added:!(null===w||void 0===w||null===(i=w.folders)||void 0===i||!i.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===w.email)),onLink:g(v.e,{id:e.id,auth:null===w||void 0===w?void 0:w.email,added:!(null===w||void 0===w||null===(o=w.folders)||void 0===o||!o.find((t=>!(null===t||void 0===t||!t.projects.find((t=>t===e.id)))))),liked:!!(e.rating||[]).find((e=>e.email===w.email)),onLike:w.email&&C(j.a.LIKE_PROJECT,{id:e.id},(e=>R(Object(E.e)(e.data.likeProject)))),onAdd:w.email&&g(v.a,{id:e.id,folders:null===w||void 0===w?void 0:w.folders,mutations:{addProject:j.a.ADD_USER_PROJECT,createFolder:j.a.ADD_USER_FOLDER},callback:t=>{const a={...t,projects:[...t.projects,e.id]};R(Object(E.c)(a))}}),owned:c}),onLike:w.email&&C(j.a.LIKE_PROJECT,{id:e.id},(e=>R(Object(E.e)(e.data.likeProject)))),onAdd:w.email&&(()=>I(e)),onRemove:w.email&&(()=>x(e)),onAboutMore:g(f.a,{user:e}),onCompanyLink:g(f.i,{id:null===(r=e.company)||void 0===r?void 0:r.email,auth:null===w||void 0===w?void 0:w.email,recipient:e.author,query:j.a.GET_USER_CHATS,mutation:j.a.SEND_MESSAGE}),onScreenshotClick:(t,a)=>g(v.g,{screenshots:[e.preview,...e.screenshots],key:a})(),withSocials:!0}))})):D?l.a.createElement(c.a,{appearance:\"error\",style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u0435 \\u0443\\u0434\\u0430\\u043b\\u043e\\u0441\\u044c \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044c \\u0434\\u0430\\u043d\\u043d\\u044b\\u0435\"):P?l.a.createElement(s.c,null,l.a.createElement(d.a,null)):l.a.createElement(c.a,{style:{width:\"100%\",textAlign:\"center\"}},y))};O.defaultProps={emptyMessage:\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u043e\\u0432 \\u043d\\u0435\\u0442\"},t.a=O}},[[\"D85t\",0,2,1,3,4,5,6,7]]]);","map":{"version":3,"sources":["static/chunks/pages/projects-e3e6fe4867f115b3b22a.js"],"names":["_N_E","window","push","D85t","module","exports","__webpack_require__","__NEXT_P","EYtC","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__","_HandleBar__WEBPACK_IMPORTED_MODULE_6__","Wrap","Object","withConfig","displayName","componentId","WrapSearchField","WrapButton","visibleFilter","appearance","buttonCreateText","onCreate","onChangeFilter","onSubmit","setVisibleFilter","a","createElement","placeholder","type","kind","onClick","icon","stroke","QX5T","next_router__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__","react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default","uuid__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__","_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__","_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__","_layouts_default__WEBPACK_IMPORTED_MODULE_10__","_dashboard__WEBPACK_IMPORTED_MODULE_11__","_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__","_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__","_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__","_components_Styled__WEBPACK_IMPORTED_MODULE_15__","react_redux__WEBPACK_IMPORTED_MODULE_16__","clear","title","store","query","handle","filters","options","scaffold","dashboard","variables","limit","startOffset","initialize","children","router","research","state","root","search","Layout","date","onChangeDate","select","onChangeSelect","setSearch","offset","setOffset","documents","setDocuments","isEnd","setIsEnd","pageStart","_router$query","Number","page","loadDocumentsBySearch","data","dataBySearch","loading","loadingBySearch","refetch","refetchBySearch","loadDocuments","onSearch","value","result","resultList","list","keys","length","prev","onChangeVisibleFilter","onChangeDisplayMethod","isOpen","map","filter","key","onChange","withNavigate","selected","item","loadMore","async","hasMore","loader","RHEb","r","_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_4__","_layouts_content__WEBPACK_IMPORTED_MODULE_5__","_components_ProjectList__WEBPACK_IMPORTED_MODULE_6__","_components_Styled__WEBPACK_IMPORTED_MODULE_7__","_graphql_queries__WEBPACK_IMPORTED_MODULE_8__","_router$query3","load","GET_META_PROJECTS","_router$query2","category","c","status","getCategories","id","label","name","GET_PROJECTS","getProjects","initialList","layout","qF4B","react_redux__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__","_Styled__WEBPACK_IMPORTED_MODULE_6__","_LazyLoad__WEBPACK_IMPORTED_MODULE_7__","_ProjectCard__WEBPACK_IMPORTED_MODULE_8__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__","_store_actions_user__WEBPACK_IMPORTED_MODULE_11__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__","_graphql_queries__WEBPACK_IMPORTED_MODULE_14__","div","ProjectList","eliminable","initialRefetch","emptyMessage","recall","mutate","user","folder","projects","setProjects","dispatch","error","onAdd","project","folders","mutations","addProject","ADD_USER_PROJECT","createFolder","ADD_USER_FOLDER","callback","onRemove","mutation","REMOVE_USER_PROJECT","pr","_user$projects","_user$folders","_user$folders2","_project$company","owned","find","candidate","added","liked","rating","email","onLink","auth","onLike","LIKE_PROJECT","response","likeProject","onAboutMore","onCompanyLink","company","recipient","author","GET_USER_CHATS","SEND_MESSAGE","onScreenshotClick","_","screenshots","preview","withSocials","style","width","textAlign","defaultProps"],"mappings":"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"},"name":"static/chunks/pages/projects-e3e6fe4867f115b3b22a.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[31],{\n\n/***/ \"D85t\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects\",\n        function () {\n          return __webpack_require__(\"RHEb\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"EYtC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export WrapSearchField */\n/* unused harmony export WrapButton */\n/* unused harmony export Search */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"nShV\");\n/* harmony import */ var _atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZeZO\");\n/* harmony import */ var _atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"feIE\");\n/* harmony import */ var _atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"t7jn\");\n/* harmony import */ var _HandleBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"coMr\");\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Row__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"b\"]).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nconst WrapSearchField = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Search__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nconst WrapButton = Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])(_atomic_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"]).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* css */ \"c\"])([\"background:var(--default-color-accent);\"]));\nconst Search = ({\n  appearance,\n  buttonCreateText,\n  onCreate,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    onSubmit: onSubmit\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_HandleBar__WEBPACK_IMPORTED_MODULE_6__[/* CreateButton */ \"a\"], {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Icon__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Search);\n\n/***/ }),\n\n/***/ \"QX5T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"RotF\");\n/* harmony import */ var react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"7Cbv\");\n/* harmony import */ var _atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"8CDE\");\n/* harmony import */ var _atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"wZgm\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"QclZ\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _dashboard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"p9yE\");\n/* harmony import */ var _components_FilterBar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"RoTl\");\n/* harmony import */ var _components_SearchBar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"EYtC\");\n/* harmony import */ var _components_HandleBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"586Q\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"/MKj\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"d\"])(_atomic_ui_components_Column__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"]).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && Object(styled_components__WEBPACK_IMPORTED_MODULE_2__[/* css */ \"c\"])([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const research = Object(react_redux__WEBPACK_IMPORTED_MODULE_16__[/* useSelector */ \"c\"])(state => state.root.search);\n  const Layout = dashboard ? _dashboard__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"] : _layouts_default__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"];\n  const [date, onChangeDate] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [select, onChangeSelect] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [search, setSearch] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const [offset, setOffset] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(startOffset + 1);\n  const [documents, setDocuments] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const pageStart = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_3__[\"useLazyQuery\"])(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n            key: Object(uuid__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SearchBar__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HandleBar__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"b\"], {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterBar__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_infinite_scroller__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_15__[/* LowerLoader */ \"d\"], {\n      key: 'loader'\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], null))\n  }, typeof children === 'function' ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(children, {\n    documents\n  }) : children)));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ContentLayout);\n\n/***/ }),\n\n/***/ \"RHEb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"VX74\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"NWnW\");\n/* harmony import */ var _layouts_content__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"QX5T\");\n/* harmony import */ var _components_ProjectList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"qF4B\");\n/* harmony import */ var _components_Styled__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Проекты';\nconst START_OFFSET = 6;\n\nconst Projects = () => {\n  var _router$query3;\n\n  const router = Object(next_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])();\n  const [load, {\n    data,\n    loading\n  }] = Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__[\"useLazyQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].GET_META_PROJECTS);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    var _router$query, _router$query2;\n\n    const page = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page;\n    const category = (_router$query2 = router.query) === null || _router$query2 === void 0 ? void 0 : _router$query2.c;\n\n    if (category) {\n      load({\n        variables: {\n          offset: page ? page * START_OFFSET : 0,\n          limit: START_OFFSET,\n          status: 'PUBLISHED',\n          category\n        }\n      });\n    }\n  }, [router]);\n\n  if (loading) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_7__[/* FixedLoader */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], null));\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_content__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER'\n    }, {\n      type: 'SELECT',\n      options: data === null || data === void 0 ? void 0 : data.getCategories.map(category => ({\n        value: category.id,\n        label: Object(_atomic_ui_utils_functions__WEBPACK_IMPORTED_MODULE_4__[/* getLabelCategory */ \"e\"])(category.name)\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата публикации',\n      value: 'createdAt'\n    }],\n    query: _graphql_queries__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].GET_PROJECTS,\n    variables: {\n      category: (_router$query3 = router.query) === null || _router$query3 === void 0 ? void 0 : _router$query3.c,\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: data === null || data === void 0 ? void 0 : data.getProjects\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Styled__WEBPACK_IMPORTED_MODULE_7__[/* GridAside */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectList__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n    initialList: documents,\n    layout: true\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Projects);\n\n/***/ }),\n\n/***/ \"qF4B\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export ProjectList */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var _apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"VX74\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"auMy\");\n/* harmony import */ var _Styled__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"586Q\");\n/* harmony import */ var _LazyLoad__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _ProjectCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Wrap = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"].div.withConfig({\n  displayName: \"ProjectList__Wrap\",\n  componentId: \"zcwfmw-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst ProjectList = ({\n  variables,\n  layout,\n  eliminable,\n  initialList,\n  initialRefetch,\n  emptyMessage\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_9__[/* useHelper */ \"b\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_10__[/* useMutate */ \"a\"])();\n  const {\n    user,\n    folder\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const [projects, setProjects] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(initialList || []);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : Object(_apollo_react_hooks__WEBPACK_IMPORTED_MODULE_2__[\"useQuery\"])(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_PROJECTS, {\n    variables\n  });\n  const onAdd = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectAdd */ \"a\"], {\n    id: project.id,\n    folders: user === null || user === void 0 ? void 0 : user.folders,\n    mutations: {\n      addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n      createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n    },\n    callback: item => {\n      const result = { ...item,\n        projects: [...item.projects, project.id]\n      };\n      dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n    }\n  })(), [user]);\n  const onRemove = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectRemove */ \"f\"], {\n    id: project.id,\n    folder,\n    mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].REMOVE_USER_PROJECT,\n    callback: () => initialRefetch && initialRefetch(projects.filter(pr => pr.id !== project.id).map(pr => pr.id))\n  })(), [user]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && data) {\n      setProjects(data.getProjects);\n    }\n  }, [data, loading]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (!loading && (initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setProjects(initialList);\n  }, [loading, initialList]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _user$folders2, _project$company;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LazyLoad__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n      key: project.id\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ProjectCard__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"c\"], {\n      project: project,\n      eliminable: eliminable,\n      layout: layout || 'column',\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n      liked: !!(project.rating || []).find(item => item.email === user.email),\n      onLink: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders2 = user.folders) !== null && _user$folders2 !== void 0 && _user$folders2.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* setUserFolder */ \"c\"])(result));\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n      onAdd: user.email && (() => onAdd(project)),\n      onRemove: user.email && (() => onRemove(project)),\n      onAboutMore: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__[/* onUserAboutMore */ \"a\"], {\n        user: project\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_12__[/* onUserLink */ \"i\"], {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].GET_USER_CHATS,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_13__[/* onProjectScreenshot */ \"g\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })(),\n      withSocials: true\n    }));\n  }) : error ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Styled__WEBPACK_IMPORTED_MODULE_6__[/* Loader */ \"c\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Spinner__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], null)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, emptyMessage));\n};\nProjectList.defaultProps = {\n  emptyMessage: 'Проектов нет'\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProjectList);\n\n/***/ })\n\n},[[\"D85t\",0,2,1,3,4,5,6,7]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fprojects&absolutePagePath=private-next-pages%2Fprojects.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\SearchBar\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\layouts\\content.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\projects.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\ProjectList\\index.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/projects\",\n        function () {\n          return require(\"private-next-pages/projects.js\");\n        }\n      ]);\n    ","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Row from '../../atomic-ui/components/Row';\nimport Button from '../../atomic-ui/components/Button';\nimport Icon from '../../atomic-ui/components/Icon';\nimport SearchField from '../../atomic-ui/components/Search';\nimport { CreateButton } from '../HandleBar';\nexport const Wrap = styled(Row).withConfig({\n  displayName: \"SearchBar__Wrap\",\n  componentId: \"sc-1ruwjhl-0\"\n})([\"width:100%;\"]);\nexport const WrapSearchField = styled(SearchField).withConfig({\n  displayName: \"SearchBar__WrapSearchField\",\n  componentId: \"sc-1ruwjhl-1\"\n})([\"flex-grow:100;\"]);\nexport const WrapButton = styled(Button).withConfig({\n  displayName: \"SearchBar__WrapButton\",\n  componentId: \"sc-1ruwjhl-2\"\n})([\"background:var(--default-color-accent-dim);border:none;&:hover{svg{path,circle{stroke:white;}}}\", \"\"], ({\n  visibleFilter\n}) => visibleFilter && css([\"background:var(--default-color-accent);\"]));\nexport const Search = ({\n  appearance,\n  buttonCreateText,\n  onCreate,\n  onChangeFilter,\n  onSubmit\n}) => {\n  const [visibleFilter, setVisibleFilter] = useState(false);\n\n  const onClick = () => {\n    setVisibleFilter(!visibleFilter);\n    if (onChangeFilter) onChangeFilter(!visibleFilter);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrap, null, /*#__PURE__*/React.createElement(WrapSearchField, {\n    appearance: appearance,\n    placeholder: 'Поиск',\n    onSubmit: onSubmit\n  }), /*#__PURE__*/React.createElement(WrapButton, {\n    type: 'button',\n    kind: 'icon',\n    onClick: onClick,\n    visibleFilter: visibleFilter\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: 'filter2',\n    stroke: visibleFilter ? 'white' : 'var(--default-color-accent)'\n  })), onCreate && /*#__PURE__*/React.createElement(CreateButton, {\n    type: 'button',\n    onClick: onCreate\n  }, /*#__PURE__*/React.createElement(\"span\", null, buttonCreateText), /*#__PURE__*/React.createElement(Icon, {\n    type: 'button',\n    icon: 'add',\n    stroke: 'white'\n  })));\n};\nexport default Search;","import React, { useState, useEffect, useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport styled, { css } from 'styled-components';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { v4 } from 'uuid';\nimport Column from '../atomic-ui/components/Column';\nimport DatePicker from '../atomic-ui/components/DatePicker';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport Select from '../atomic-ui/components/Select';\nimport DefaultLayout from '../layouts/default';\nimport DashboardLayout from './dashboard';\nimport FilterBar from '../components/FilterBar';\nimport SearchBar from '../components/SearchBar';\nimport HandleBar from '../components/HandleBar';\nimport { LowerLoader } from '../components/Styled';\nimport { useSelector } from 'react-redux';\nconst Wrap = styled(Column).withConfig({\n  displayName: \"content__Wrap\",\n  componentId: \"sc-1afm75p-0\"\n})([\"margin-top:120px;margin-bottom:80px;\", \" @media only screen and (max-width:480px){margin-top:0;}\"], ({\n  clear\n}) => clear && css([\"margin:0;\"]));\n\nconst ContentLayout = ({\n  title,\n  store,\n  query,\n  handle,\n  filters,\n  options,\n  scaffold,\n  dashboard,\n  variables = {},\n  limit = 6,\n  startOffset = 6,\n  initialize,\n  children\n}) => {\n  const router = useRouter();\n  const research = useSelector(state => state.root.search);\n  const Layout = dashboard ? DashboardLayout : DefaultLayout;\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [search, setSearch] = useState(null);\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [offset, setOffset] = useState(startOffset + 1);\n  const [documents, setDocuments] = useState((store === null || store === void 0 ? void 0 : store.documents) || []);\n  const [isEnd, setIsEnd] = useState(false);\n  const pageStart = useMemo(() => {\n    var _router$query;\n\n    return Number((_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page) || 1;\n  }, [router]);\n  const [loadDocumentsBySearch, {\n    data: dataBySearch,\n    loading: loadingBySearch,\n    refetch: refetchBySearch\n  }] = useLazyQuery(query);\n  const [loadDocuments, {\n    data,\n    loading,\n    refetch\n  }] = useLazyQuery(query);\n\n  const getFilters = () => {\n    return filters.map(filter => {\n      switch (filter.type) {\n        case 'DATEPICKER':\n          return /*#__PURE__*/React.createElement(DatePicker, {\n            key: v4(),\n            value: date,\n            placeholder: filter.placeholder || 'Дата публикации',\n            onChange: onChangeDate,\n            withNavigate: true\n          });\n\n        case 'SELECT':\n          return /*#__PURE__*/React.createElement(Select, {\n            key: v4(),\n            options: filter.options,\n            placeholder: filter.placeholder || 'Раздел',\n            selected: select,\n            onChange: item => onChangeSelect(item)\n          });\n\n        default:\n          return null;\n      }\n    });\n  };\n\n  const onSearch = value => {\n    setDocuments([]);\n\n    if (value) {\n      setSearch(value);\n      loadDocumentsBySearch({\n        variables: { ...variables,\n          search: value,\n          offset: 0,\n          limit: startOffset * pageStart\n        }\n      });\n    } else {\n      const result = { ...variables,\n        offset: 0,\n        limit\n      };\n      setSearch(null);\n      if (refetch) refetch(result);else loadDocuments({\n        variables: result\n      });\n    }\n\n    setOffset(0);\n  };\n\n  const loadMore = async page => {\n    const updateOffset = () => setOffset(limit * page + startOffset + 1);\n\n    const result = { ...variables,\n      offset,\n      limit\n    };\n\n    if (search && refetchBySearch) {\n      await refetchBySearch(variables);\n    } else {\n      if (refetch) {\n        await refetch(result);\n        updateOffset();\n      } else {\n        await loadDocuments({\n          variables: result\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (initialize) loadDocuments({\n      variables: {\n        offset,\n        limit\n      }\n    });\n  }, [initialize]);\n  useEffect(() => {\n    if (research) onSearch(research);\n  }, [research]);\n  useEffect(() => {\n    const commonList = !search && !loading && data;\n    const searchList = search && !loadingBySearch && dataBySearch;\n    const resultList = commonList || searchList;\n\n    if (resultList) {\n      const list = resultList[Object.keys(resultList)[0]];\n      if (list.length > 0) setDocuments(prev => [...prev, ...list]);\n      if (list.length === 0) setIsEnd(true);\n    }\n  }, [search, loading, loadingBySearch, data, dataBySearch, setIsEnd]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: title,\n    scaffold: scaffold\n  }, /*#__PURE__*/React.createElement(Wrap, {\n    clear: scaffold || dashboard\n  }, !scaffold && !dashboard && /*#__PURE__*/React.createElement(SearchBar, {\n    onChangeFilter: () => setVisibleFilter(!visibleFilter),\n    onSubmit: onSearch\n  }), dashboard && handle && /*#__PURE__*/React.createElement(HandleBar, {\n    title: title,\n    icon: handle.icon,\n    buttonCreateText: handle.buttonCreateText,\n    onCreate: handle.onCreate,\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: handle.onChangeDisplayMethod\n  }), (filters || options) && /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: getFilters(),\n    options: options\n  }), /*#__PURE__*/React.createElement(InfiniteScroll, {\n    pageStart: pageStart || 0,\n    loadMore: loadMore,\n    hasMore: !isEnd,\n    loader: /*#__PURE__*/React.createElement(LowerLoader, {\n      key: 'loader'\n    }, /*#__PURE__*/React.createElement(Spinner, null))\n  }, typeof children === 'function' ? React.createElement(children, {\n    documents\n  }) : children)));\n};\n\nexport default ContentLayout;","import React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport Spinner from '../atomic-ui/components/Spinner';\nimport { getLabelCategory } from '../atomic-ui/utils/functions';\nimport ContentLayout from '../layouts/content';\nimport ProjectList from '../components/ProjectList';\nimport { FixedLoader, GridAside as Container } from '../components/Styled';\nimport queries from '../graphql/queries';\nconst TITLE = 'Проекты';\nconst START_OFFSET = 6;\n\nconst Projects = () => {\n  var _router$query3;\n\n  const router = useRouter();\n  const [load, {\n    data,\n    loading\n  }] = useLazyQuery(queries.GET_META_PROJECTS);\n  useEffect(() => {\n    var _router$query, _router$query2;\n\n    const page = (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.page;\n    const category = (_router$query2 = router.query) === null || _router$query2 === void 0 ? void 0 : _router$query2.c;\n\n    if (category) {\n      load({\n        variables: {\n          offset: page ? page * START_OFFSET : 0,\n          limit: START_OFFSET,\n          status: 'PUBLISHED',\n          category\n        }\n      });\n    }\n  }, [router]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(FixedLoader, null, /*#__PURE__*/React.createElement(Spinner, null));\n  }\n\n  return /*#__PURE__*/React.createElement(ContentLayout, {\n    title: TITLE,\n    filters: [{\n      type: 'DATEPICKER'\n    }, {\n      type: 'SELECT',\n      options: data === null || data === void 0 ? void 0 : data.getCategories.map(category => ({\n        value: category.id,\n        label: getLabelCategory(category.name)\n      }))\n    }],\n    options: [{\n      label: 'Компания',\n      value: 'company'\n    }, {\n      label: 'Участники',\n      value: 'members'\n    }, {\n      label: 'Дата публикации',\n      value: 'createdAt'\n    }],\n    query: queries.GET_PROJECTS,\n    variables: {\n      category: (_router$query3 = router.query) === null || _router$query3 === void 0 ? void 0 : _router$query3.c,\n      status: 'PUBLISHED'\n    },\n    store: {\n      documents: data === null || data === void 0 ? void 0 : data.getProjects\n    }\n  }, ({\n    documents\n  }) => /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(ProjectList, {\n    initialList: documents,\n    layout: true\n  })));\n};\n\nexport default Projects;","import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Alert from '../../atomic-ui/components/Alert';\nimport Spinner from '../../atomic-ui/components/Spinner';\nimport { Loader } from '../Styled';\nimport LazyLoad from '../LazyLoad';\nimport ProjectCard from '../ProjectCard';\nimport { useHelper } from '../../hooks/useHelper';\nimport { useMutate } from '../../hooks/useMutate';\nimport { setUserFolder, updateUser } from '../../store/actions/user';\nimport { onUserAboutMore, onUserLink } from '../../store/helpers/user';\nimport { onProjectAdd, onProjectRemove, onProjectLink, onProjectScreenshot } from '../../store/helpers/project';\nimport queries from '../../graphql/queries';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"ProjectList__Wrap\",\n  componentId: \"zcwfmw-0\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nexport const ProjectList = ({\n  variables,\n  layout,\n  eliminable,\n  initialList,\n  initialRefetch,\n  emptyMessage\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const {\n    user,\n    folder\n  } = useSelector(state => ({\n    user: state.user,\n    folder: state.root.folder\n  }));\n  const [projects, setProjects] = useState(initialList || []);\n  const dispatch = useDispatch();\n  const {\n    data,\n    loading,\n    error\n  } = initialList ? {\n    data: null,\n    loading: false,\n    error: false\n  } : useQuery(queries.GET_PROJECTS, {\n    variables\n  });\n  const onAdd = useCallback(project => recall(onProjectAdd, {\n    id: project.id,\n    folders: user === null || user === void 0 ? void 0 : user.folders,\n    mutations: {\n      addProject: queries.ADD_USER_PROJECT,\n      createFolder: queries.ADD_USER_FOLDER\n    },\n    callback: item => {\n      const result = { ...item,\n        projects: [...item.projects, project.id]\n      };\n      dispatch(setUserFolder(result));\n    }\n  })(), [user]);\n  const onRemove = useCallback(project => recall(onProjectRemove, {\n    id: project.id,\n    folder,\n    mutation: queries.REMOVE_USER_PROJECT,\n    callback: () => initialRefetch && initialRefetch(projects.filter(pr => pr.id !== project.id).map(pr => pr.id))\n  })(), [user]);\n  useEffect(() => {\n    if (!loading && data) {\n      setProjects(data.getProjects);\n    }\n  }, [data, loading]);\n  useEffect(() => {\n    if (!loading && (initialList === null || initialList === void 0 ? void 0 : initialList.length) > 0) setProjects(initialList);\n  }, [loading, initialList]);\n  return /*#__PURE__*/React.createElement(Wrap, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _user$folders2, _project$company;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/React.createElement(LazyLoad, {\n      key: project.id\n    }, /*#__PURE__*/React.createElement(ProjectCard, {\n      project: project,\n      eliminable: eliminable,\n      layout: layout || 'column',\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n      liked: !!(project.rating || []).find(item => item.email === user.email),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        added: !!(user !== null && user !== void 0 && (_user$folders2 = user.folders) !== null && _user$folders2 !== void 0 && _user$folders2.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item === project.id)))),\n        liked: !!(project.rating || []).find(item => item.email === user.email),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          },\n          callback: item => {\n            const result = { ...item,\n              projects: [...item.projects, project.id]\n            };\n            dispatch(setUserFolder(result));\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onAdd: user.email && (() => onAdd(project)),\n      onRemove: user.email && (() => onRemove(project)),\n      onAboutMore: recall(onUserAboutMore, {\n        user: project\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: queries.GET_USER_CHATS,\n        mutation: queries.SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })(),\n      withSocials: true\n    }));\n  }) : error ? /*#__PURE__*/React.createElement(Alert, {\n    appearance: 'error',\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\") : loading ? /*#__PURE__*/React.createElement(Loader, null, /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, emptyMessage));\n};\nProjectList.defaultProps = {\n  emptyMessage: 'Проектов нет'\n};\nexport default ProjectList;"]}}