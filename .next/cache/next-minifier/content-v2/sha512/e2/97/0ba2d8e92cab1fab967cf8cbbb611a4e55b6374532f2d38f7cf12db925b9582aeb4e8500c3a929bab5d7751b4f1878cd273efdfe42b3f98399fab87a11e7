{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{RNiq:function(e,i,a){\"use strict\";a.r(i),a.d(i,\"__N_SSP\",(function(){return w}));var d=a(\"q1tI\"),t=a.n(d),n=a(\"vOnD\"),o=a(\"/MKj\"),l=a(\"ZwIX\"),r=a(\"7sPp\"),s=a(\"ApjV\"),c=a(\"lphG\"),m=a(\"X+Rt\"),u=a(\"1zqG\"),E=a(\"UwjQ\"),p=a(\"TsNn\"),_=a(\"8ihE\"),v=a(\"IxyI\"),h=a(\"owvJ\"),g=a(\"rP4V\"),f=a(\"+EEm\"),k=a(\"u2Cb\");const C=n.c.div.withConfig({displayName:\"pages__Container\",componentId:\"sc-1kp8388-0\"})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}\"]),S=n.c.aside.withConfig({displayName:\"pages__Projects\",componentId:\"sc-1kp8388-1\"})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]),A=n.c.aside.withConfig({displayName:\"pages__Aside\",componentId:\"sc-1kp8388-2\"})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);var w=!0;i.default=({store:e})=>{const i=Object(s.a)(),a=Object(c.a)(),d=Object(o.c)((e=>e.user)),n=Object(o.b)(),{projects:w,articles:D,users:j}=e;return t.a.createElement(m.a,{title:\"\\u0410\\u0442\\u043e\\u043c\\u0438\\u043a\",scaffold:{title:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0432\\u0430\\u0439 \\u0448\\u043a\\u043e\\u043b\\u0443 \\u0431\\u0443\\u0434\\u0443\\u0449\\u0435\\u0433\\u043e \\u0441 \\u043d\\u0430\\u043c\\u0438\",background:\"/images/main-background.png\",primary:w.length>0&&w[0],residue:w.length>4&&w.slice(1,3),onLink:(e,t)=>i(v.e,{id:e.id,auth:null===d||void 0===d?void 0:d.email,project:e,liked:!!((null===d||void 0===d?void 0:d.likedProjects)||[]).find((i=>i.id===e.id)),onLike:d.email&&a(k.a.LIKE_PROJECT,{id:e.id},(e=>n(Object(_.e)(e.data.likeProject)))),onAdd:d.email&&i(v.a,{id:e.id,project:e,folders:null===d||void 0===d?void 0:d.folders,mutations:{addProject:k.a.ADD_USER_PROJECT,createFolder:k.a.ADD_USER_FOLDER}}),owned:t})(),onLike:d.email&&(e=>a(k.a.LIKE_PROJECT,{id:e.id},(e=>n(Object(_.e)(e.data.likeProject))))()),onAdd:d.email&&(e=>i(v.a,{id:e.id,project:e,folders:null===d||void 0===d?void 0:d.folders,mutations:{addProject:k.a.ADD_USER_PROJECT,createFolder:k.a.ADD_USER_FOLDER}})()),onCompanyLink:e=>{var a;return i(g.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:d})()},onScreenshotClick:(e,a)=>i(v.f,{screenshots:[e.preview,...e.screenshots],key:a})()}},t.a.createElement(C,null,t.a.createElement(S,null,w.length>0?w.map((e=>{var o,l,r;const s=null===d||void 0===d||null===(o=d.projects)||void 0===o?void 0:o.find((i=>i.id===e.id));return t.a.createElement(u.b,{key:e.id,project:e,owned:s,added:!(null===d||void 0===d||null===(l=d.folders)||void 0===l||!l.find((i=>!(null===i||void 0===i||!i.projects.find((i=>i.id===e.id)))))),liked:!!((null===d||void 0===d?void 0:d.likedProjects)||[]).find((i=>i.id===e.id)),onLink:i(v.e,{id:e.id,auth:null===d||void 0===d?void 0:d.email,liked:!!((null===d||void 0===d?void 0:d.likedProjects)||[]).find((i=>i.id===e.id)),onLike:d.email&&a(k.a.LIKE_PROJECT,{id:e.id},(e=>n(Object(_.e)(e.data.likeProject)))),onAdd:d.email&&i(v.a,{id:e.id,project:e,folders:null===d||void 0===d?void 0:d.folders,mutations:{addProject:k.a.ADD_USER_PROJECT,createFolder:k.a.ADD_USER_FOLDER}}),owned:s}),onLike:d.email&&a(k.a.LIKE_PROJECT,{id:e.id},(e=>n(Object(_.e)(e.data.likeProject)))),onAdd:d.email&&i(v.a,{id:e.id,project:e,folders:null===d||void 0===d?void 0:d.folders,mutations:{addProject:k.a.ADD_USER_PROJECT,createFolder:k.a.ADD_USER_FOLDER}}),onCompanyLink:i(g.i,{id:null===(r=e.company)||void 0===r?void 0:r.email,auth:null===d||void 0===d?void 0:d.email,recipient:e.author,query:k.a.GET_USER_CHATS,mutation:k.a.SEND_MESSAGE}),onScreenshotClick:(a,d)=>i(v.f,{screenshots:[e.preview,...e.screenshots],key:d})()})})):t.a.createElement(l.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041f\\u0440\\u043e\\u0435\\u043a\\u0442\\u043e\\u0432 \\u043d\\u0435\\u0442\")),t.a.createElement(A,null,t.a.createElement(r.a,{tag:\"h4\"},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u044b\"),j.length>0?j.slice(0,3).map((e=>{var a;const n=e.name===(null===d||void 0===d?void 0:d.name);return t.a.createElement(p.a,{key:e.email,user:e,owned:n,onChat:d.email&&i(f.a,{email:e.email,auth:null===d||void 0===d?void 0:d.email,queries:{userChats:k.a.GET_USER_CHATS,chat:k.a.GET_CHAT},mutations:{addUserChat:k.a.ADD_USER_CHAT,sendMessage:k.a.SEND_MESSAGE}}),onLink:i(g.i,{id:e.email,auth:null===d||void 0===d?void 0:d.email,owned:n,queries:{userChats:k.a.GET_USER_CHATS,chat:k.a.GET_CHAT},mutations:{addUserChat:k.a.ADD_USER_CHAT,sendMessage:k.a.SEND_MESSAGE}}),onCompanyLink:i(g.i,{id:null===(a=e.company)||void 0===a?void 0:a.email,auth:null===d||void 0===d?void 0:d.email,queries:{userChats:k.a.GET_USER_CHATS,chat:k.a.GET_CHAT},mutations:{addUserChat:k.a.ADD_USER_CHAT,sendMessage:k.a.SEND_MESSAGE}})})})):t.a.createElement(l.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u0410\\u0432\\u0442\\u043e\\u0440\\u043e\\u0432 \\u043d\\u0435\\u0442\"),t.a.createElement(r.a,{tag:\"h4\"},\"\\u041d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0438\"),D.length>0?D.slice(0,2).map((e=>{var a;return t.a.createElement(E.a,{key:e.id,layout:\"column\",article:e,owned:null===d||void 0===d||null===(a=d.articles)||void 0===a?void 0:a.find((i=>i.id===e.id)),onLink:i(h.d,{id:e.id,auth:null===d||void 0===d?void 0:d.email})})})):t.a.createElement(l.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041d\\u043e\\u0432\\u043e\\u0441\\u0442\\u0435\\u0439 \\u043d\\u0435\\u0442\"))))}},vlRD:function(e,i,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return a(\"RNiq\")}])}},[[\"vlRD\",0,2,1,3,4,5,6,8]]]);","map":{"version":3,"sources":["static/chunks/pages/index-94864746d8e7f956ea04.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__","_hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__","_layouts_default__WEBPACK_IMPORTED_MODULE_7__","_components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__","_components_ArticleCard__WEBPACK_IMPORTED_MODULE_9__","_components_UserCard__WEBPACK_IMPORTED_MODULE_10__","_store_actions_user__WEBPACK_IMPORTED_MODULE_11__","_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__","_store_helpers_article__WEBPACK_IMPORTED_MODULE_13__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_14__","_store_helpers__WEBPACK_IMPORTED_MODULE_15__","_graphql_queries__WEBPACK_IMPORTED_MODULE_16__","Container","div","withConfig","displayName","componentId","Projects","aside","Aside","store","recall","Object","mutate","user","state","dispatch","projects","articles","users","a","createElement","title","scaffold","background","primary","length","residue","slice","onLink","project","owned","id","auth","email","liked","likedProjects","find","item","onLike","LIKE_PROJECT","response","data","likeProject","onAdd","folders","mutations","addProject","ADD_USER_PROJECT","createFolder","ADD_USER_FOLDER","onCompanyLink","_project$company","company","onScreenshotClick","key","screenshots","preview","map","_user$projects","_user$folders","_project$company2","candidate","added","folder","recipient","author","query","GET_USER_CHATS","mutation","SEND_MESSAGE","_","style","width","textAlign","tag","_author$company","name","onChat","queries","userChats","chat","GET_CHAT","addUserChat","ADD_USER_CHAT","sendMessage","article","_user$articles","layout","vlRD","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/index-94864746d8e7f956ea04.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[29],{\n\n/***/ \"RNiq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"7sPp\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"lphG\");\n/* harmony import */ var _layouts_default__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"X+Rt\");\n/* harmony import */ var _components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"1zqG\");\n/* harmony import */ var _components_ArticleCard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"UwjQ\");\n/* harmony import */ var _components_UserCard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"TsNn\");\n/* harmony import */ var _store_actions_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"8ihE\");\n/* harmony import */ var _store_helpers_project__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"IxyI\");\n/* harmony import */ var _store_helpers_article__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"owvJ\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _store_helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"+EEm\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"u2Cb\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Атомик';\nconst Container = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].div.withConfig({\n  displayName: \"pages__Container\",\n  componentId: \"sc-1kp8388-0\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}\"]);\nconst Projects = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].aside.withConfig({\n  displayName: \"pages__Projects\",\n  componentId: \"sc-1kp8388-1\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst Aside = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"c\"].aside.withConfig({\n  displayName: \"pages__Aside\",\n  componentId: \"sc-1kp8388-2\"\n})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);\n\nconst Home = ({\n  store\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_5__[/* useHelper */ \"a\"])();\n  const mutate = Object(_hooks_useMutate__WEBPACK_IMPORTED_MODULE_6__[/* useMutate */ \"a\"])();\n  const user = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useSelector */ \"c\"])(state => state.user);\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[/* useDispatch */ \"b\"])();\n  const {\n    projects,\n    articles,\n    users\n  } = store;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_default__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n    title: TITLE,\n    scaffold: {\n      title: 'Создавай школу будущего с нами',\n      background: '/images/main-background.png',\n      primary: projects.length > 0 && projects[0],\n      residue: projects.length > 4 && projects.slice(1, 3),\n      onLink: (project, owned) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        project,\n        liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          project,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_FOLDER\n          }\n        }),\n        owned\n      })(),\n      onLike: user.email && (project => mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject)))()),\n      onAdd: user.email && (project => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectAdd */ \"a\"], {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_PROJECT,\n          createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_FOLDER\n        }\n      })()),\n      onCompanyLink: project => {\n        var _project$company;\n\n        return recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_14__[/* onUserLink */ \"i\"], {\n          id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n          auth: user\n        })();\n      },\n      onScreenshotClick: (project, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectScreenshot */ \"f\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Container, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Projects, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _project$company2;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ProjectCard__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"b\"], {\n      key: project.id,\n      project: project,\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item.id === project.id)))),\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLink: recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectLink */ \"e\"], {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n        onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n        onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectAdd */ \"a\"], {\n          id: project.id,\n          project,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_PROJECT,\n            createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_FOLDER\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(_graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(Object(_store_actions_user__WEBPACK_IMPORTED_MODULE_11__[/* updateUser */ \"e\"])(response.data.likeProject))),\n      onAdd: user.email && recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectAdd */ \"a\"], {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_PROJECT,\n          createFolder: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_FOLDER\n        }\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_14__[/* onUserLink */ \"i\"], {\n        id: (_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USER_CHATS,\n        mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(_store_helpers_project__WEBPACK_IMPORTED_MODULE_12__[/* onProjectScreenshot */ \"f\"], {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    });\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u043E\\u0432 \\u043D\\u0435\\u0442\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Aside, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    tag: 'h4'\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"), users.length > 0 ? users.slice(0, 3).map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UserCard__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n      key: author.email,\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(_store_helpers__WEBPACK_IMPORTED_MODULE_15__[/* onChat */ \"a\"], {\n        email: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_14__[/* onUserLink */ \"i\"], {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      }),\n      onCompanyLink: recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_14__[/* onUserLink */ \"i\"], {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_USER_CHATS,\n          chat: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].GET_CHAT\n        },\n        mutations: {\n          addUserChat: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].ADD_USER_CHAT,\n          sendMessage: _graphql_queries__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].SEND_MESSAGE\n        }\n      })\n    });\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Title__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    tag: 'h4'\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), articles.length > 0 ? articles.slice(0, 2).map(article => {\n    var _user$articles;\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArticleCard__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n      key: article.id,\n      layout: 'column',\n      article: article,\n      owned: user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(candidate => candidate.id === article.id),\n      onLink: recall(_store_helpers_article__WEBPACK_IMPORTED_MODULE_13__[/* onArticleLink */ \"d\"], {\n        id: article.id,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    });\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439 \\u043D\\u0435\\u0442\"))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\n\n/***/ }),\n\n/***/ \"vlRD\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/\",\n        function () {\n          return __webpack_require__(\"RNiq\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"vlRD\",0,2,1,3,4,5,6,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2F&absolutePagePath=private-next-pages%2Findex.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Alert from '../atomic-ui/components/Alert';\nimport Title from '../atomic-ui/components/Title';\nimport { useHelper } from '../hooks/useHelper';\nimport { useMutate } from '../hooks/useMutate';\nimport DefaultLayout from '../layouts/default';\nimport ProjectCard from '../components/ProjectCard';\nimport ArticleCard from '../components/ArticleCard';\nimport UserCard from '../components/UserCard';\nimport { updateUser } from '../store/actions/user';\nimport { onProjectLink, onProjectAdd, onProjectScreenshot } from '../store/helpers/project';\nimport { onArticleLink } from '../store/helpers/article';\nimport { onUserLink } from '../store/helpers/user';\nimport { onChat } from '../store/helpers';\nimport queries from '../graphql/queries';\nconst TITLE = 'Атомик';\nconst Container = styled.div.withConfig({\n  displayName: \"pages__Container\",\n  componentId: \"sc-1kp8388-0\"\n})([\"display:grid;grid-template-columns:1fr min-content;grid-gap:var(--default-gap);margin-bottom:80px;@media only screen and (max-width:1196px){grid-template-columns:1fr;}\"]);\nconst Projects = styled.aside.withConfig({\n  displayName: \"pages__Projects\",\n  componentId: \"sc-1kp8388-1\"\n})([\"display:grid;grid-template-columns:repeat(auto-fit,minmax(442px,1fr));grid-gap:var(--default-gap);grid-auto-rows:max-content;@media only screen and (max-width:768px){grid-template-columns:repeat(auto-fit,minmax(285px,1fr));}\"]);\nconst Aside = styled.aside.withConfig({\n  displayName: \"pages__Aside\",\n  componentId: \"sc-1kp8388-2\"\n})([\"display:flex;flex-direction:column;grid-gap:var(--default-gap);width:394px;@media only screen and (max-width:1196px){width:auto;}\"]);\n\nconst Home = ({\n  store\n}) => {\n  const recall = useHelper();\n  const mutate = useMutate();\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const {\n    projects,\n    articles,\n    users\n  } = store;\n  return /*#__PURE__*/React.createElement(DefaultLayout, {\n    title: TITLE,\n    scaffold: {\n      title: 'Создавай школу будущего с нами',\n      background: '/images/main-background.png',\n      primary: projects.length > 0 && projects[0],\n      residue: projects.length > 4 && projects.slice(1, 3),\n      onLink: (project, owned) => recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        project,\n        liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          project,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          }\n        }),\n        owned\n      })(),\n      onLike: user.email && (project => mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject)))()),\n      onAdd: user.email && (project => recall(onProjectAdd, {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: queries.ADD_USER_PROJECT,\n          createFolder: queries.ADD_USER_FOLDER\n        }\n      })()),\n      onCompanyLink: project => {\n        var _project$company;\n\n        return recall(onUserLink, {\n          id: (_project$company = project.company) === null || _project$company === void 0 ? void 0 : _project$company.email,\n          auth: user\n        })();\n      },\n      onScreenshotClick: (project, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    }\n  }, /*#__PURE__*/React.createElement(Container, null, /*#__PURE__*/React.createElement(Projects, null, projects.length > 0 ? projects.map(project => {\n    var _user$projects, _user$folders, _project$company2;\n\n    const owned = user === null || user === void 0 ? void 0 : (_user$projects = user.projects) === null || _user$projects === void 0 ? void 0 : _user$projects.find(candidate => candidate.id === project.id);\n    return /*#__PURE__*/React.createElement(ProjectCard, {\n      key: project.id,\n      project: project,\n      owned: owned,\n      added: !!(user !== null && user !== void 0 && (_user$folders = user.folders) !== null && _user$folders !== void 0 && _user$folders.find(folder => !!(folder !== null && folder !== void 0 && folder.projects.find(item => item.id === project.id)))),\n      liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n      onLink: recall(onProjectLink, {\n        id: project.id,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        liked: !!((user === null || user === void 0 ? void 0 : user.likedProjects) || []).find(item => item.id === project.id),\n        onLike: user.email && mutate(queries.LIKE_PROJECT, {\n          id: project.id\n        }, response => dispatch(updateUser(response.data.likeProject))),\n        onAdd: user.email && recall(onProjectAdd, {\n          id: project.id,\n          project,\n          folders: user === null || user === void 0 ? void 0 : user.folders,\n          mutations: {\n            addProject: queries.ADD_USER_PROJECT,\n            createFolder: queries.ADD_USER_FOLDER\n          }\n        }),\n        owned\n      }),\n      onLike: user.email && mutate(queries.LIKE_PROJECT, {\n        id: project.id\n      }, response => dispatch(updateUser(response.data.likeProject))),\n      onAdd: user.email && recall(onProjectAdd, {\n        id: project.id,\n        project,\n        folders: user === null || user === void 0 ? void 0 : user.folders,\n        mutations: {\n          addProject: queries.ADD_USER_PROJECT,\n          createFolder: queries.ADD_USER_FOLDER\n        }\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_project$company2 = project.company) === null || _project$company2 === void 0 ? void 0 : _project$company2.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        recipient: project.author,\n        query: queries.GET_USER_CHATS,\n        mutation: queries.SEND_MESSAGE\n      }),\n      onScreenshotClick: (_, key) => recall(onProjectScreenshot, {\n        screenshots: [project.preview, ...project.screenshots],\n        key\n      })()\n    });\n  }) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u043E\\u0432 \\u043D\\u0435\\u0442\")), /*#__PURE__*/React.createElement(Aside, null, /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"), users.length > 0 ? users.slice(0, 3).map(author => {\n    var _author$company;\n\n    const owned = author.name === (user === null || user === void 0 ? void 0 : user.name);\n    return /*#__PURE__*/React.createElement(UserCard, {\n      key: author.email,\n      user: author,\n      owned: owned,\n      onChat: user.email && recall(onChat, {\n        email: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onLink: recall(onUserLink, {\n        id: author.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        owned,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      }),\n      onCompanyLink: recall(onUserLink, {\n        id: (_author$company = author.company) === null || _author$company === void 0 ? void 0 : _author$company.email,\n        auth: user === null || user === void 0 ? void 0 : user.email,\n        queries: {\n          userChats: queries.GET_USER_CHATS,\n          chat: queries.GET_CHAT\n        },\n        mutations: {\n          addUserChat: queries.ADD_USER_CHAT,\n          sendMessage: queries.SEND_MESSAGE\n        }\n      })\n    });\n  }) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u043E\\u0432 \\u043D\\u0435\\u0442\"), /*#__PURE__*/React.createElement(Title, {\n    tag: 'h4'\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"), articles.length > 0 ? articles.slice(0, 2).map(article => {\n    var _user$articles;\n\n    return /*#__PURE__*/React.createElement(ArticleCard, {\n      key: article.id,\n      layout: 'column',\n      article: article,\n      owned: user === null || user === void 0 ? void 0 : (_user$articles = user.articles) === null || _user$articles === void 0 ? void 0 : _user$articles.find(candidate => candidate.id === article.id),\n      onLink: recall(onArticleLink, {\n        id: article.id,\n        auth: user === null || user === void 0 ? void 0 : user.email\n      })\n    });\n  }) : /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0435\\u0439 \\u043D\\u0435\\u0442\"))));\n};\n\nexport var __N_SSP = true;\nexport default Home;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/\",\n        function () {\n          return require(\"private-next-pages/index.js\");\n        }\n      ]);\n    "]}}