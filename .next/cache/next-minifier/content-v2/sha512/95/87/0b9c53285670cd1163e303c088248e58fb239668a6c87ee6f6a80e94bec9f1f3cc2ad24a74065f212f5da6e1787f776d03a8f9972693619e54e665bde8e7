{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{\"07fs\":function(e,t,a){\"use strict\";var n=a(\"q1tI\"),i=a.n(n),r=a(\"vOnD\");const o=r.d.div.withConfig({displayName:\"FadeLoad__Wrap\",componentId:\"sc-1rdnrub-0\"})([\"opacity:0;transition:opacity 100ms ease;\",\"\"],(({isVisible:e})=>e&&Object(r.c)([\"opacity:1;\"])));t.a=({children:e})=>{const[t,a]=Object(n.useState)(!0),r=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>a(e.isIntersecting)))}));return e.observe(r.current),()=>e.unobserve(r.current)}),[]),i.a.createElement(o,{isVisible:t,ref:r},e)}},IUYj:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/dashboard/tickets\",function(){return a(\"dsNT\")}])},dsNT:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"__N_SSP\",(function(){return T}));var n=a(\"q1tI\"),i=a.n(n),r=a(\"/MKj\"),o=a(\"7BXr\"),c=a(\"ZwIX\"),l=a(\"wZgm\"),u=a(\"QclZ\"),d=a(\"EJJs\"),s=a(\"e3uv\"),b=a(\"ApjV\"),p=a(\"p9yE\"),f=a(\"coMr\"),m=a(\"RoTl\"),v=a(\"4nJQ\"),h=a(\"VP1n\"),E=a(\"07fs\"),w=a(\"ZbFR\"),j=a(\"j8/+\"),O=a(\"rP4V\"),g=a(\"u2Cb\"),k=a(\"wha1\");const _=\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u044f\";var T=!0;t.default=({store:e})=>{const t=Object(b.b)(),{user:a,documents:T}=Object(r.c)((e=>({user:e.user,documents:e.documents}))),C=Object(r.b)(),[y,I]=Object(n.useState)(),[N,D]=Object(n.useState)(),[x,P]=Object(n.useState)(!1),[S,V]=Object(n.useState)(\"grid\"),A=Object(n.useMemo)((()=>T||e.tickets),[T,e]);return Object(n.useEffect)((()=>{C(Object(j.a)(null))}),[]),i.a.createElement(p.a,{title:_},i.a.createElement(f.a,{icon:\"ticket\",title:_,buttonCreateText:\"\\u0421\\u043e\\u0437\\u0434\\u0430\\u0442\\u044c \\u043e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0435\",onCreate:t(w.a,{mutation:g.a.CREATE_TICKET}),onChangeVisibleFilter:()=>P(!x),onChangeDisplayMethod:e=>V(e.value)}),i.a.createElement(m.a,{isOpen:x,filters:[i.a.createElement(l.a,{key:0,value:y,placeholder:\"\\u0414\\u0430\\u0442\\u0430 \\u043f\\u0443\\u0431\\u043b\\u0438\\u043a\\u0430\\u0446\\u0438\\u0438\",onChange:I,withNavigate:!0}),i.a.createElement(u.a,{key:1,options:k.a,placeholder:\"\\u0420\\u0430\\u0437\\u0434\\u0435\\u043b\",selected:N,onChange:e=>D(e)})],options:\"list\"===S?[]:s.a.ticket.map(((e,t)=>({label:e.header,value:t})))}),0===A.length&&i.a.createElement(c.a,{style:{width:\"100%\",textAlign:\"center\"}},\"\\u041e\\u0431\\u0440\\u0430\\u0449\\u0435\\u043d\\u0438\\u0439 \\u043d\\u0435\\u0442\"),\"list\"===S&&i.a.createElement(d.b,{data:A,template:s.a.ticket,onChecked:()=>{},onClick:e=>t(w.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email})(),onDelete:e=>t(w.b,{ticket:e,mutation:g.a.DELETE_TICKET})(),onEdit:e=>t(w.c,{id:e.id,mutation:g.a.UPDATE_TICKET})(),style:{overflowX:\"auto\",width:\"calc(100vw - 290px)\"}}),\"grid\"===S&&i.a.createElement(o.a,null,A.map((e=>i.a.createElement(E.a,{key:e.id},i.a.createElement(h.a,null,i.a.createElement(v.a,{ticket:e,onChecked:()=>{},onLink:t(w.d,{id:e.id,auth:null===a||void 0===a?void 0:a.email}),onAuthorLink:e=>t(O.i,{id:e,auth:null===a||void 0===a?void 0:a.email,owned:e===a.name})(),onDelete:t(w.b,{ticket:e,mutation:g.a.DELETE_TICKET}),onEdit:t(w.c,{id:e.id,mutation:g.a.UPDATE_TICKET})})))))))}},vJvq:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return v}));var n=a(\"wx14\"),i=a(\"Ff2n\"),r=a(\"h4VS\"),o=a(\"q1tI\"),c=a.n(o),l=a(\"vOnD\"),u=a(\"cpGi\"),d=a(\"7Cbv\"),s=c.a.createElement;function b(){var e=Object(r.a)([\"\\n      width: \",\" !important;\\n    \"]);return b=function(){return e},e}function p(){var e=Object(r.a)([\"\\n      padding: 0 !important;\\n      border: none !important;\\n      box-shadow: var(--default-shadow) !important;\\n    \"]);return p=function(){return e},e}function f(){var e=Object(r.a)([\"\\n  padding: var(--default-gap) !important;\\n  border: 1px solid var(--surface-border) !important;\\n  background: var(--surface-background) !important;\\n  box-shadow: var(--default-shadow) !important;\\n  border-radius: var(--surface-border-radius) !important;\\n  border: none !important;\\n  pointer-events: initial !important;\\n\\n  \",\"\\n\\n  &.show {\\n    opacity: 1 !important;\\n  }\\n\\n  &::after {\\n    display: none !important;\\n  }\\n\\n  \",\"\\n\"]);return f=function(){return e},e}function m(){var e=Object(r.a)([\"\\n  position: relative;\\n  display: inline-flex;\\n\"]);return m=function(){return e},e}var v=l.d.div(m()),h=Object(l.d)(u.a)(f(),(function(e){return\"clear\"===e.appearance&&Object(l.c)(p())}),(function(e){var t=e.width;return t&&Object(l.c)(b(),t||\"auto\")})),E=function(e){var t=e.body,a=e.appearance,r=e.children,o=e.width,c=e.className,l=Object(i.a)(e,[\"body\",\"appearance\",\"children\",\"width\",\"className\"]),u=\"popper-\".concat(Object(d.a)());return s(v,{className:c},s(\"div\",{\"data-event\":\"click focus\",\"data-for\":u,\"data-tip\":!0},r),s(h,Object(n.a)({},l,{id:u,className:c,width:o,globalEventOff:\"click\",appearance:a}),t))};E.defaultProps={place:\"top\",effect:\"solid\",appearance:\"default\"},t.b=E},wha1:function(e,t,a){\"use strict\";a.d(t,\"e\",(function(){return n})),a.d(t,\"d\",(function(){return i})),a.d(t,\"b\",(function(){return r})),a.d(t,\"c\",(function(){return o})),a.d(t,\"a\",(function(){return c}));const n=[{label:\"\\u041e \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0435\",path:\"/about\"},{label:\"\\u041b\\u044e\\u0434\\u0438 \\u0440\\u0435\\u0441\\u0443\\u0440\\u0441\\u0430\",path:\"/creators\"},{label:\"\\u041f\\u043e\\u0434\\u0434\\u0435\\u0440\\u0436\\u043a\\u0430\",path:\"/support\"},{label:\"\\u0421\\u043f\\u0440\\u0430\\u0432\\u043e\\u0447\\u043d\\u0438\\u043a\",path:\"/guide\"}],i=[\"/images/socials/gmail.png\",\"/images/socials/vk.png\",\"/images/socials/facebook.png\"],r=[{label:\"\\u0433. \\u0415\\u043a\\u0430\\u0442\\u0435\\u0440\\u0438\\u043d\\u0431\\u0443\\u0440\\u0433, \\u0443\\u043b. \\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u0438\\u0441\\u0442\\u043e\\u0432 20\\u0430, \\u043e\\u0444. 302\",icon:\"location\"},{label:\"+7 (499) 222-54-86\",icon:\"call\"},{label:\"info@mail.ru\",icon:\"message\"}],o=[{label:\"\\u041c\\u043e\\u0438 \\u043f\\u0440\\u043e\\u0435\\u043a\\u0442\\u044b\",value:\"/projects\"},{label:\"\\u041d\\u0440\\u0430\\u0432\\u0438\\u0442\\u0441\\u044f\",value:\"/liked\"},{label:\"\\u0412 \\u0440\\u0430\\u0431\\u043e\\u0442\\u0435\",value:\"/feed\"}],c=[{value:0,label:\"\\u0421\\u0442\\u0440\\u043e\\u0438\\u0442\\u0435\\u043b\\u044c\\u0441\\u0442\\u0432\\u043e\"},{value:1,label:\"\\u0420\\u0435\\u043a\\u043e\\u043d\\u0441\\u0442\\u0440\\u0443\\u043a\\u0446\\u0438\\u044f\"},{value:2,label:\"\\u041a\\u0430\\u043f\\u0438\\u0442\\u0430\\u043b\\u044c\\u043d\\u044b\\u0439 \\u0440\\u0435\\u043c\\u043e\\u043d\\u0442\"},{value:3,label:\"\\u0426\\u0438\\u0444\\u0440\\u043e\\u0432\\u0430\\u044f \\u0441\\u0440\\u0435\\u0434\\u0430\"}]}},[[\"IUYj\",0,2,1,3,4,5,7,8]]]);","map":{"version":3,"sources":["static/chunks/pages/dashboard/tickets-1d0b591fe39e8c4a23b3.js"],"names":["_N_E","window","push","07fs","module","__webpack_exports__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","Wrap","div","withConfig","displayName","componentId","isVisible","Object","children","setVisible","domRef","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","current","unobserve","a","createElement","ref","IUYj","exports","__NEXT_P","dsNT","r","d","__N_SSP","react_redux__WEBPACK_IMPORTED_MODULE_1__","_atomic_ui_components_Grid__WEBPACK_IMPORTED_MODULE_2__","_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__","_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_4__","_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_5__","_atomic_ui_components_Table__WEBPACK_IMPORTED_MODULE_6__","_atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_7__","_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__","_layouts_dashboard__WEBPACK_IMPORTED_MODULE_9__","_components_HandleBar__WEBPACK_IMPORTED_MODULE_10__","_components_FilterBar__WEBPACK_IMPORTED_MODULE_11__","_components_TicketCard__WEBPACK_IMPORTED_MODULE_12__","_components_LazyLoad__WEBPACK_IMPORTED_MODULE_13__","_components_FadeLoad__WEBPACK_IMPORTED_MODULE_14__","_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__","_store_actions_documents__WEBPACK_IMPORTED_MODULE_16__","_store_helpers_user__WEBPACK_IMPORTED_MODULE_17__","_graphql_queries__WEBPACK_IMPORTED_MODULE_18__","_mock___WEBPACK_IMPORTED_MODULE_19__","TITLE","store","recall","user","documents","state","dispatch","date","onChangeDate","select","onChangeSelect","visibleFilter","setVisibleFilter","displayMethod","onChangeDisplayMethod","tickets","title","icon","buttonCreateText","onCreate","mutation","CREATE_TICKET","onChangeVisibleFilter","item","value","isOpen","filters","key","placeholder","onChange","withNavigate","options","selected","ticket","map","index","label","header","length","style","width","textAlign","data","template","onChecked","onClick","id","auth","email","onDelete","DELETE_TICKET","onEdit","UPDATE_TICKET","overflowX","onLink","onAuthorLink","author","owned","name","vJvq","C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","styled_components__WEBPACK_IMPORTED_MODULE_4__","react_tooltip__WEBPACK_IMPORTED_MODULE_5__","uuid__WEBPACK_IMPORTED_MODULE_6__","__jsx","_templateObject4","_templateObject3","_templateObject2","_templateObject","Content","_ref","appearance","_ref2","Popper","_ref3","body","className","props","concat","data-event","data-for","data-tip","globalEventOff","defaultProps","place","effect","wha1","supportLinks","socials","contacts","profilePages","categories","path"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAGqB,IAAIC,EAAqCD,EAAoB,QACzDE,EAA0DF,EAAoBG,EAAEF,GAChFG,EAAiDJ,EAAoB,QAG9F,MAAMK,EAAOD,EAAgE,EAAEE,IAAIC,WAAW,CAC5FC,YAAa,iBACbC,YAAa,gBAFFL,CAGV,CAAC,2CAA4C,KAAK,EACnDM,UAAAA,KACIA,GAAaC,OAAOP,EAA4D,EAAnEO,CAAsE,CAAC,iBAkB7DZ,EAAuB,EAjBnC,EACfa,SAAAA,MAEA,MAAOF,EAAWG,GAAcF,OAAOV,EAA6C,SAApDU,EAAuD,GACjFG,EAASH,OAAOV,EAA2C,OAAlDU,GAQf,OAPAA,OAAOV,EAA8C,UAArDU,EAAwD,KACtD,MAAMI,EAAW,IAAIC,sBAAqBC,IACxCA,EAAQC,SAAQC,GAASN,EAAWM,EAAMC,qBAG5C,OADAL,EAASM,QAAQP,EAAOQ,SACjB,IAAMP,EAASQ,UAAUT,EAAOQ,WACtC,IACiBpB,EAA2CsB,EAAEC,cAAcpB,EAAM,CACnFK,UAAWA,EACXgB,IAAKZ,GACJF,KAMCe,KACA,SAAU7B,EAAQ8B,EAAS5B,IAG1BL,OAAOkC,SAAWlC,OAAOkC,UAAY,IAAIjC,KAAK,CAC7C,qBACA,WACE,OAAOI,EAAoB,YAO/B8B,KACA,SAAUhC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoB+B,EAAEhC,GACSC,EAAoBgC,EAAEjC,EAAqB,WAAW,WAAa,OAAOkC,KACpF,IAAIhC,EAAqCD,EAAoB,QACzDE,EAA0DF,EAAoBG,EAAEF,GAChFiC,EAA2ClC,EAAoB,QAC/DmC,EAA0DnC,EAAoB,QAC9EoC,EAA2DpC,EAAoB,QAC/EqC,EAAgErC,EAAoB,QACpFsC,EAA4DtC,EAAoB,QAChFuC,EAA2DvC,EAAoB,QAC/EwC,EAAqExC,EAAoB,QACzFyC,EAAgDzC,EAAoB,QACpE0C,EAAkD1C,EAAoB,QACtE2C,EAAsD3C,EAAoB,QAC1E4C,EAAsD5C,EAAoB,QAC1E6C,EAAuD7C,EAAoB,QAC3E8C,EAAqD9C,EAAoB,QACzE+C,EAAqD/C,EAAoB,QACzEgD,EAAsDhD,EAAoB,QAC1EiD,EAAyDjD,EAAoB,QAC7EkD,EAAoDlD,EAAoB,QACxEmD,EAAiDnD,EAAoB,QACrEoD,EAAuCpD,EAAoB,QAqBpF,MAAMqD,EAAQ,yDAsGd,IAAIpB,GAAU,EACelC,EAA6B,QArG1C,EACduD,MAAAA,MAEA,MAAMC,EAAS5C,OAAO8B,EAAiE,EAAxE9B,IACT6C,KACJA,EAAIC,UACJA,GACE9C,OAAOuB,EAA8D,EAArEvB,EAAwE+C,IAAS,CACnFF,KAAME,EAAMF,KACZC,UAAWC,EAAMD,cAEbE,EAAWhD,OAAOuB,EAA8D,EAArEvB,IACViD,EAAMC,GAAgBlD,OAAOV,EAA6C,SAApDU,IACtBmD,EAAQC,GAAkBpD,OAAOV,EAA6C,SAApDU,IAC1BqD,EAAeC,GAAoBtD,OAAOV,EAA6C,SAApDU,EAAuD,IAC1FuD,EAAeC,GAAyBxD,OAAOV,EAA6C,SAApDU,CAAuD,QAChGyD,EAAUzD,OAAOV,EAA4C,QAAnDU,EAAsD,IAAM8C,GAAaH,EAAMc,SAAS,CAACX,EAAWH,IAIpH,OAHA3C,OAAOV,EAA8C,UAArDU,EAAwD,KACtDgD,EAAShD,OAAOsC,EAA6E,EAApFtC,CAAuF,SAC/F,IACiBT,EAA2CsB,EAAEC,cAAciB,EAAiE,EAAG,CACjJ2B,MAAOhB,GACOnD,EAA2CsB,EAAEC,cAAckB,EAAqE,EAAG,CACjJ2B,KAAM,SACND,MAAOhB,EACPkB,iBAAkB,oGAClBC,SAAUjB,EAAOP,EAA4E,EAAG,CAC9FyB,SAAUtB,EAAgE,EAAEuB,gBAE9EC,sBAAuB,IAAMV,GAAkBD,GAC/CG,sBAAuBS,GAAQT,EAAsBS,EAAKC,SAC3C3E,EAA2CsB,EAAEC,cAAcmB,EAAqE,EAAG,CAClJkC,OAAQd,EACRe,QAAS,CAAc7E,EAA2CsB,EAAEC,cAAcY,EAA+E,EAAG,CAClK2C,IAAK,EACLH,MAAOjB,EACPqB,YAAa,wFACbC,SAAUrB,EACVsB,cAAc,IACCjF,EAA2CsB,EAAEC,cAAca,EAA2E,EAAG,CACxJ0C,IAAK,EACLI,QAAShC,EAAyD,EAClE6B,YAAa,uCACbI,SAAUvB,EACVoB,SAAUN,GAAQb,EAAea,MAEnCQ,QAA2B,SAAlBlB,EAA2B,GAAK1B,EAAoF,EAAE8C,OAAOC,KAAI,CAACX,EAAMY,KAAU,CACzJC,MAAOb,EAAKc,OACZb,MAAOW,QAEY,IAAnBpB,EAAQuB,QAA6BzF,EAA2CsB,EAAEC,cAAcW,EAA0E,EAAG,CAC/KwD,MAAO,CACLC,MAAO,OACPC,UAAW,WAEZ,6EAAgG,SAAlB5B,GAAyChE,EAA2CsB,EAAEC,cAAcc,EAA0E,EAAG,CAChQwD,KAAM3B,EACN4B,SAAUxD,EAAoF,EAAE8C,OAChGW,UAAW,OACXC,QAASZ,GAAU/B,EAAOP,EAA0E,EAAG,CACrGmD,GAAIb,EAAOa,GACXC,KAAe,OAAT5C,QAA0B,IAATA,OAAkB,EAASA,EAAK6C,OAFtC9C,GAInB+C,SAAUhB,GAAU/B,EAAOP,EAA4E,EAAG,CACxGsC,OAAAA,EACAb,SAAUtB,EAAgE,EAAEoD,eAF1DhD,GAIpBiD,OAAQlB,GAAU/B,EAAOP,EAA0E,EAAG,CACpGmD,GAAIb,EAAOa,GACX1B,SAAUtB,EAAgE,EAAEsD,eAF5DlD,GAIlBqC,MAAO,CACLc,UAAW,OACXb,MAAO,yBAEW,SAAlB3B,GAAyChE,EAA2CsB,EAAEC,cAAcU,EAAyE,EAAG,KAAMiC,EAAQmB,KAAID,GAAuBpF,EAA2CsB,EAAEC,cAAcsB,EAAoE,EAAG,CAC7ViC,IAAKM,EAAOa,IACEjG,EAA2CsB,EAAEC,cAAcqB,EAAoE,EAAG,KAAmB5C,EAA2CsB,EAAEC,cAAcoB,EAAsE,EAAG,CACvSyC,OAAQA,EACRW,UAAW,OACXU,OAAQpD,EAAOP,EAA0E,EAAG,CAC1FmD,GAAIb,EAAOa,GACXC,KAAe,OAAT5C,QAA0B,IAATA,OAAkB,EAASA,EAAK6C,QAEzDO,aAAcC,GAAUtD,EAAOL,EAAsE,EAAG,CACtGiD,GAAIU,EACJT,KAAe,OAAT5C,QAA0B,IAATA,OAAkB,EAASA,EAAK6C,MACvDS,MAAOD,IAAWrD,EAAKuD,MAHDxD,GAKxB+C,SAAU/C,EAAOP,EAA4E,EAAG,CAC9FsC,OAAAA,EACAb,SAAUtB,EAAgE,EAAEoD,gBAE9EC,OAAQjD,EAAOP,EAA0E,EAAG,CAC1FmD,GAAIb,EAAOa,GACX1B,SAAUtB,EAAgE,EAAEsD,0BAU5EO,KACA,SAAUlH,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBgC,EAAEjC,EAAqB,KAAK,WAAa,OAAOM,KAG9E,IAAI4G,EAAiJjH,EAAoB,QACrKkH,EAAiKlH,EAAoB,QACrLmH,EAA+JnH,EAAoB,QACnLoH,EAAqCpH,EAAoB,QACzDqH,EAA0DrH,EAAoBG,EAAEiH,GAChFE,EAAiDtH,EAAoB,QACrEuH,EAA6CvH,EAAoB,QACjEwH,EAAoCxH,EAAoB,QAI7EyH,EAAQJ,EAA2C7F,EAAEC,cAEzD,SAASiG,IACP,IAAI3B,EAAOpF,OAAOwG,EAA8K,EAArLxG,CAAwL,CAAC,kBAAmB,uBAMvN,OAJA+G,EAAmB,WACjB,OAAO3B,GAGFA,EAGT,SAAS4B,IACP,IAAI5B,EAAOpF,OAAOwG,EAA8K,EAArLxG,CAAwL,CAAC,8HAMpM,OAJAgH,EAAmB,WACjB,OAAO5B,GAGFA,EAGT,SAAS6B,IACP,IAAI7B,EAAOpF,OAAOwG,EAA8K,EAArLxG,CAAwL,CAAC,+UAAgV,4GAA6G,OAMjoB,OAJAiH,EAAmB,WACjB,OAAO7B,GAGFA,EAGT,SAAS8B,IACP,IAAI9B,EAAOpF,OAAOwG,EAA8K,EAArLxG,CAAwL,CAAC,uDAMpM,OAJAkH,EAAkB,WAChB,OAAO9B,GAGFA,EAOT,IAAI1F,EAAOiH,EAAgE,EAAEhH,IAAIuH,KAC7EC,EAAUnH,OAAO2G,EAAgE,EAAvE3G,CAA0E4G,EAA4D,EAAtI5G,CAAyIiH,KAAoB,SAAUG,GAEnL,MAAsB,UADLA,EAAKC,YACWrH,OAAO2G,EAA4D,EAAnE3G,CAAsEgH,QACtG,SAAUM,GACX,IAAIpC,EAAQoC,EAAMpC,MAClB,OAAOA,GAASlF,OAAO2G,EAA4D,EAAnE3G,CAAsE+G,IAAoB7B,GAAS,WAEjHqC,EAAS,SAAgBC,GAC3B,IAAIC,EAAOD,EAAMC,KACbJ,EAAaG,EAAMH,WACnBpH,EAAWuH,EAAMvH,SACjBiF,EAAQsC,EAAMtC,MACdwC,EAAYF,EAAME,UAClBC,EAAQ3H,OAAOuG,EAAgL,EAAvLvG,CAA0LwH,EAAO,CAAC,OAAQ,aAAc,WAAY,QAAS,cAErPhC,EAAK,UAAUoC,OAAO5H,OAAO6G,EAAmD,EAA1D7G,IAC1B,OAAO8G,EAAMpH,EAAM,CACjBgI,UAAWA,GACVZ,EAAM,MAAO,CACde,aAAc,cACdC,WAAYtC,EACZuC,YAAY,GACX9H,GAAW6G,EAAMK,EAASnH,OAAOsG,EAAgK,EAAvKtG,CAA0K,GAAI2H,EAAO,CAChNnC,GAAIA,EACJkC,UAAWA,EACXxC,MAAOA,EACP8C,eAAgB,QAChBX,WAAYA,IACVI,KAENF,EAAOU,aAAe,CACpBC,MAAO,MACPC,OAAQ,QACRd,WAAY,WAEejI,EAAuB,EAAI,GAIlDgJ,KACA,SAAUjJ,EAAQC,EAAqBC,GAE7C,aAC+BA,EAAoBgC,EAAEjC,EAAqB,KAAK,WAAa,OAAOiJ,KACpEhJ,EAAoBgC,EAAEjC,EAAqB,KAAK,WAAa,OAAOkJ,KACpEjJ,EAAoBgC,EAAEjC,EAAqB,KAAK,WAAa,OAAOmJ,KACpElJ,EAAoBgC,EAAEjC,EAAqB,KAAK,WAAa,OAAOoJ,KAEpEnJ,EAAoBgC,EAAEjC,EAAqB,KAAK,WAAa,OAAOqJ,KAEnG,MAAMJ,EAAe,CAAC,CACpBvD,MAAO,oDACP4D,KAAM,UACL,CACD5D,MAAO,sEACP4D,KAAM,aACL,CACD5D,MAAO,yDACP4D,KAAM,YACL,CACD5D,MAAO,+DACP4D,KAAM,WAEFJ,EAAU,CAAC,4BAA6B,yBAA0B,gCAClEC,EAAW,CAAC,CAChBzD,MAAO,iMACPnB,KAAM,YACL,CACDmB,MAAO,qBACPnB,KAAM,QACL,CACDmB,MAAO,eACPnB,KAAM,YAEF6E,EAAe,CAAC,CACpB1D,MAAO,gEACPZ,MAAO,aACN,CACDY,MAAO,mDACPZ,MAAO,UACN,CACDY,MAAO,8CACPZ,MAAO,UAkBHuE,EAAa,CAAC,CAClBvE,MAAO,EACPY,MAAO,kFACN,CACDZ,MAAO,EACPY,MAAO,kFACN,CACDZ,MAAO,EACPY,MAAO,2GACN,CACDZ,MAAO,EACPY,MAAO,sFAeP,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/dashboard/tickets-1d0b591fe39e8c4a23b3.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[27],{\n\n/***/ \"07fs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export Wrap */\n/* unused harmony export FadeLoad */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vOnD\");\n\n\nconst Wrap = styled_components__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"].div.withConfig({\n  displayName: \"FadeLoad__Wrap\",\n  componentId: \"sc-1rdnrub-0\"\n})([\"opacity:0;transition:opacity 100ms ease;\", \"\"], ({\n  isVisible\n}) => isVisible && Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[/* css */ \"c\"])([\"opacity:1;\"]));\nconst FadeLoad = ({\n  children\n}) => {\n  const [isVisible, setVisible] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(true);\n  const domRef = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])();\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => setVisible(entry.isIntersecting));\n    });\n    observer.observe(domRef.current);\n    return () => observer.unobserve(domRef.current);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Wrap, {\n    isVisible: isVisible,\n    ref: domRef\n  }, children);\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (FadeLoad);\n\n/***/ }),\n\n/***/ \"IUYj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/tickets\",\n        function () {\n          return __webpack_require__(\"dsNT\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"dsNT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSP\", function() { return __N_SSP; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var _atomic_ui_components_Grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"7BXr\");\n/* harmony import */ var _atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"ZwIX\");\n/* harmony import */ var _atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"wZgm\");\n/* harmony import */ var _atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"QclZ\");\n/* harmony import */ var _atomic_ui_components_Table__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"EJJs\");\n/* harmony import */ var _atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"e3uv\");\n/* harmony import */ var _hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"ApjV\");\n/* harmony import */ var _layouts_dashboard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"p9yE\");\n/* harmony import */ var _components_HandleBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"coMr\");\n/* harmony import */ var _components_FilterBar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"RoTl\");\n/* harmony import */ var _components_TicketCard__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"4nJQ\");\n/* harmony import */ var _components_LazyLoad__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"VP1n\");\n/* harmony import */ var _components_FadeLoad__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"07fs\");\n/* harmony import */ var _store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"ZbFR\");\n/* harmony import */ var _store_actions_documents__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"j8/+\");\n/* harmony import */ var _store_helpers_user__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"rP4V\");\n/* harmony import */ var _graphql_queries__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"u2Cb\");\n/* harmony import */ var _mock___WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"wha1\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TITLE = 'Обращения';\n\nconst Tickets = ({\n  store\n}) => {\n  const recall = Object(_hooks_useHelper__WEBPACK_IMPORTED_MODULE_8__[/* useHelper */ \"b\"])();\n  const {\n    user,\n    documents\n  } = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useSelector */ \"c\"])(state => ({\n    user: state.user,\n    documents: state.documents\n  }));\n  const dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[/* useDispatch */ \"b\"])();\n  const [date, onChangeDate] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [select, onChangeSelect] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])();\n  const [visibleFilter, setVisibleFilter] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  const [displayMethod, onChangeDisplayMethod] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])('grid');\n  const tickets = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useMemo\"])(() => documents || store.tickets, [documents, store]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    dispatch(Object(_store_actions_documents__WEBPACK_IMPORTED_MODULE_16__[/* setDocuments */ \"a\"])(null));\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_dashboard__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n    title: TITLE\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HandleBar__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    icon: 'ticket',\n    title: TITLE,\n    buttonCreateText: 'Создать обращение',\n    onCreate: recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketCreate */ \"a\"], {\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].CREATE_TICKET\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterBar__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_DatePicker__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Select__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n      key: 1,\n      options: _mock___WEBPACK_IMPORTED_MODULE_19__[/* categories */ \"a\"],\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : _atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].ticket.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), tickets.length === 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Alert__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Table__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"b\"], {\n    data: tickets,\n    template: _atomic_ui_components_Table_templates__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"].ticket,\n    onChecked: () => {},\n    onClick: ticket => recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketLink */ \"d\"], {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    })(),\n    onDelete: ticket => recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketDelete */ \"b\"], {\n      ticket,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].DELETE_TICKET\n    })(),\n    onEdit: ticket => recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketEdit */ \"c\"], {\n      id: ticket.id,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].UPDATE_TICKET\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atomic_ui_components_Grid__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], null, tickets.map(ticket => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FadeLoad__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    key: ticket.id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyLoad__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TicketCard__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    ticket: ticket,\n    onChecked: () => {},\n    onLink: recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketLink */ \"d\"], {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    }),\n    onAuthorLink: author => recall(_store_helpers_user__WEBPACK_IMPORTED_MODULE_17__[/* onUserLink */ \"i\"], {\n      id: author,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      owned: author === user.name\n    })(),\n    onDelete: recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketDelete */ \"b\"], {\n      ticket,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].DELETE_TICKET\n    }),\n    onEdit: recall(_store_helpers_ticket__WEBPACK_IMPORTED_MODULE_15__[/* onTicketEdit */ \"c\"], {\n      id: ticket.id,\n      mutation: _graphql_queries__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].UPDATE_TICKET\n    })\n  }))))));\n};\n\nvar __N_SSP = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tickets);\n\n/***/ }),\n\n/***/ \"vJvq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Wrap; });\n/* unused harmony export Content */\n/* unused harmony export Popper */\n/* harmony import */ var C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wx14\");\n/* harmony import */ var C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"Ff2n\");\n/* harmony import */ var C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"h4VS\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"vOnD\");\n/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"cpGi\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"7Cbv\");\n\n\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement;\n\nfunction _templateObject4() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n      width: \", \" !important;\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n      padding: 0 !important;\\n      border: none !important;\\n      box-shadow: var(--default-shadow) !important;\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n  padding: var(--default-gap) !important;\\n  border: 1px solid var(--surface-border) !important;\\n  background: var(--surface-background) !important;\\n  box-shadow: var(--default-shadow) !important;\\n  border-radius: var(--surface-border-radius) !important;\\n  border: none !important;\\n  pointer-events: initial !important;\\n\\n  \", \"\\n\\n  &.show {\\n    opacity: 1 !important;\\n  }\\n\\n  &::after {\\n    display: none !important;\\n  }\\n\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])([\"\\n  position: relative;\\n  display: inline-flex;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\nvar Wrap = styled_components__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"d\"].div(_templateObject());\nvar Content = Object(styled_components__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"d\"])(react_tooltip__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_templateObject2(), function (_ref) {\n  var appearance = _ref.appearance;\n  return appearance === 'clear' && Object(styled_components__WEBPACK_IMPORTED_MODULE_4__[/* css */ \"c\"])(_templateObject3());\n}, function (_ref2) {\n  var width = _ref2.width;\n  return width && Object(styled_components__WEBPACK_IMPORTED_MODULE_4__[/* css */ \"c\"])(_templateObject4(), width || 'auto');\n});\nvar Popper = function Popper(_ref3) {\n  var body = _ref3.body,\n      appearance = _ref3.appearance,\n      children = _ref3.children,\n      width = _ref3.width,\n      className = _ref3.className,\n      props = Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref3, [\"body\", \"appearance\", \"children\", \"width\", \"className\"]);\n\n  var id = \"popper-\".concat(Object(uuid__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])());\n  return __jsx(Wrap, {\n    className: className\n  }, __jsx(\"div\", {\n    \"data-event\": 'click focus',\n    \"data-for\": id,\n    \"data-tip\": true\n  }, children), __jsx(Content, Object(C_Users_dan82_Documents_workspace_FREELANCE_atomic_atomic_frontend_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, props, {\n    id: id,\n    className: className,\n    width: width,\n    globalEventOff: 'click',\n    appearance: appearance\n  }), body));\n};\nPopper.defaultProps = {\n  place: 'top',\n  effect: 'solid',\n  appearance: 'default'\n};\n/* harmony default export */ __webpack_exports__[\"b\"] = (Popper);\n\n/***/ }),\n\n/***/ \"wha1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return supportLinks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return socials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return contacts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return profilePages; });\n/* unused harmony export notifications */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return categories; });\n/* unused harmony export filters */\nconst supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nconst socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nconst contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nconst profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nconst notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nconst categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nconst filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];\n\n/***/ })\n\n},[[\"IUYj\",0,2,1,3,4,5,7,8]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\components\\FadeLoad\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fdashboard%2Ftickets&absolutePagePath=private-next-pages%2Fdashboard%2Ftickets.js!","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\pages\\dashboard\\tickets.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\atomic-ui\\components\\Popper\\index.js","C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\dan82\\Documents\\workspace\\FREELANCE\\atomic\\atomic-frontend\\__mock__\\index.js"],"names":[],"mappings":"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ACA,kBAAkB,qEAAG;AACrB,CAAC;AACM;AACP;AACA;AACA;AACA;AACA;AACA,cAAc,yLAAwB;;AAEtC,4BAA4B,4DAAE;AAC9B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG,4BAA4B,yKAAQ,GAAG;AAC1C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACe,+DAAM,E;;;;;;;;ACrFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACA;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC,E","file":"x","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nexport const Wrap = styled.div.withConfig({\n  displayName: \"FadeLoad__Wrap\",\n  componentId: \"sc-1rdnrub-0\"\n})([\"opacity:0;transition:opacity 100ms ease;\", \"\"], ({\n  isVisible\n}) => isVisible && css([\"opacity:1;\"]));\nexport const FadeLoad = ({\n  children\n}) => {\n  const [isVisible, setVisible] = useState(true);\n  const domRef = useRef();\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => setVisible(entry.isIntersecting));\n    });\n    observer.observe(domRef.current);\n    return () => observer.unobserve(domRef.current);\n  }, []);\n  return /*#__PURE__*/React.createElement(Wrap, {\n    isVisible: isVisible,\n    ref: domRef\n  }, children);\n};\nexport default FadeLoad;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/dashboard/tickets\",\n        function () {\n          return require(\"private-next-pages/dashboard/tickets.js\");\n        }\n      ]);\n    ","import React, { useState, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Grid from '../../atomic-ui/components/Grid';\nimport Alert from '../../atomic-ui/components/Alert';\nimport DatePicker from '../../atomic-ui/components/DatePicker';\nimport Select from '../../atomic-ui/components/Select';\nimport Table from '../../atomic-ui/components/Table';\nimport templates from '../../atomic-ui/components/Table/templates';\nimport { useHelper } from '../../hooks/useHelper';\nimport DashboardLayout from '../../layouts/dashboard';\nimport HandleBar from '../../components/HandleBar';\nimport FilterBar from '../../components/FilterBar';\nimport TicketCard from '../../components/TicketCard';\nimport LazyLoad from '../../components/LazyLoad';\nimport FadeLoad from '../../components/FadeLoad';\nimport { onTicketCreate, onTicketEdit, onTicketDelete, onTicketLink } from '../../store/helpers/ticket';\nimport { setDocuments } from '../../store/actions/documents';\nimport { onUserLink } from '../../store/helpers/user';\nimport queries from '../../graphql/queries';\nimport { categories } from '../../__mock__';\nconst TITLE = 'Обращения';\n\nconst Tickets = ({\n  store\n}) => {\n  const recall = useHelper();\n  const {\n    user,\n    documents\n  } = useSelector(state => ({\n    user: state.user,\n    documents: state.documents\n  }));\n  const dispatch = useDispatch();\n  const [date, onChangeDate] = useState();\n  const [select, onChangeSelect] = useState();\n  const [visibleFilter, setVisibleFilter] = useState(false);\n  const [displayMethod, onChangeDisplayMethod] = useState('grid');\n  const tickets = useMemo(() => documents || store.tickets, [documents, store]);\n  useEffect(() => {\n    dispatch(setDocuments(null));\n  }, []);\n  return /*#__PURE__*/React.createElement(DashboardLayout, {\n    title: TITLE\n  }, /*#__PURE__*/React.createElement(HandleBar, {\n    icon: 'ticket',\n    title: TITLE,\n    buttonCreateText: 'Создать обращение',\n    onCreate: recall(onTicketCreate, {\n      mutation: queries.CREATE_TICKET\n    }),\n    onChangeVisibleFilter: () => setVisibleFilter(!visibleFilter),\n    onChangeDisplayMethod: item => onChangeDisplayMethod(item.value)\n  }), /*#__PURE__*/React.createElement(FilterBar, {\n    isOpen: visibleFilter,\n    filters: [/*#__PURE__*/React.createElement(DatePicker, {\n      key: 0,\n      value: date,\n      placeholder: 'Дата публикации',\n      onChange: onChangeDate,\n      withNavigate: true\n    }), /*#__PURE__*/React.createElement(Select, {\n      key: 1,\n      options: categories,\n      placeholder: 'Раздел',\n      selected: select,\n      onChange: item => onChangeSelect(item)\n    })],\n    options: displayMethod === 'list' ? [] : templates.ticket.map((item, index) => ({\n      label: item.header,\n      value: index\n    }))\n  }), tickets.length === 0 && /*#__PURE__*/React.createElement(Alert, {\n    style: {\n      width: '100%',\n      textAlign: 'center'\n    }\n  }, \"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442\"), displayMethod === 'list' && /*#__PURE__*/React.createElement(Table, {\n    data: tickets,\n    template: templates.ticket,\n    onChecked: () => {},\n    onClick: ticket => recall(onTicketLink, {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    })(),\n    onDelete: ticket => recall(onTicketDelete, {\n      ticket,\n      mutation: queries.DELETE_TICKET\n    })(),\n    onEdit: ticket => recall(onTicketEdit, {\n      id: ticket.id,\n      mutation: queries.UPDATE_TICKET\n    })(),\n    style: {\n      overflowX: 'auto',\n      width: 'calc(100vw - 290px)'\n    }\n  }), displayMethod === 'grid' && /*#__PURE__*/React.createElement(Grid, null, tickets.map(ticket => /*#__PURE__*/React.createElement(FadeLoad, {\n    key: ticket.id\n  }, /*#__PURE__*/React.createElement(LazyLoad, null, /*#__PURE__*/React.createElement(TicketCard, {\n    ticket: ticket,\n    onChecked: () => {},\n    onLink: recall(onTicketLink, {\n      id: ticket.id,\n      auth: user === null || user === void 0 ? void 0 : user.email\n    }),\n    onAuthorLink: author => recall(onUserLink, {\n      id: author,\n      auth: user === null || user === void 0 ? void 0 : user.email,\n      owned: author === user.name\n    })(),\n    onDelete: recall(onTicketDelete, {\n      ticket,\n      mutation: queries.DELETE_TICKET\n    }),\n    onEdit: recall(onTicketEdit, {\n      id: ticket.id,\n      mutation: queries.UPDATE_TICKET\n    })\n  }))))));\n};\n\nexport var __N_SSP = true;\nexport default Tickets;","import _extends from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _taggedTemplateLiteral from \"C:/Users/dan82/Documents/workspace/FREELANCE/atomic/atomic-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      width: \", \" !important;\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      padding: 0 !important;\\n      border: none !important;\\n      box-shadow: var(--default-shadow) !important;\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: var(--default-gap) !important;\\n  border: 1px solid var(--surface-border) !important;\\n  background: var(--surface-background) !important;\\n  box-shadow: var(--default-shadow) !important;\\n  border-radius: var(--surface-border-radius) !important;\\n  border: none !important;\\n  pointer-events: initial !important;\\n\\n  \", \"\\n\\n  &.show {\\n    opacity: 1 !important;\\n  }\\n\\n  &::after {\\n    display: none !important;\\n  }\\n\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: inline-flex;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled, { css } from 'styled-components';\nimport ReactTooltip from 'react-tooltip';\nimport { v4 } from 'uuid';\nexport var Wrap = styled.div(_templateObject());\nexport var Content = styled(ReactTooltip)(_templateObject2(), function (_ref) {\n  var appearance = _ref.appearance;\n  return appearance === 'clear' && css(_templateObject3());\n}, function (_ref2) {\n  var width = _ref2.width;\n  return width && css(_templateObject4(), width || 'auto');\n});\nexport var Popper = function Popper(_ref3) {\n  var body = _ref3.body,\n      appearance = _ref3.appearance,\n      children = _ref3.children,\n      width = _ref3.width,\n      className = _ref3.className,\n      props = _objectWithoutProperties(_ref3, [\"body\", \"appearance\", \"children\", \"width\", \"className\"]);\n\n  var id = \"popper-\".concat(v4());\n  return __jsx(Wrap, {\n    className: className\n  }, __jsx(\"div\", {\n    \"data-event\": 'click focus',\n    \"data-for\": id,\n    \"data-tip\": true\n  }, children), __jsx(Content, _extends({}, props, {\n    id: id,\n    className: className,\n    width: width,\n    globalEventOff: 'click',\n    appearance: appearance\n  }), body));\n};\nPopper.defaultProps = {\n  place: 'top',\n  effect: 'solid',\n  appearance: 'default'\n};\nexport default Popper;","export const supportLinks = [{\n  label: 'О ресурсе',\n  path: '/about'\n}, {\n  label: 'Люди ресурса',\n  path: '/creators'\n}, {\n  label: 'Поддержка',\n  path: '/support'\n}, {\n  label: 'Справочник',\n  path: '/guide'\n}];\nexport const socials = ['/images/socials/gmail.png', '/images/socials/vk.png', '/images/socials/facebook.png'];\nexport const contacts = [{\n  label: 'г. Екатеринбург, ул. Декабристов 20а, оф. 302',\n  icon: 'location'\n}, {\n  label: '+7 (499) 222-54-86',\n  icon: 'call'\n}, {\n  label: 'info@mail.ru',\n  icon: 'message'\n}];\nexport const profilePages = [{\n  label: 'Мои проекты',\n  value: '/projects'\n}, {\n  label: 'Нравится',\n  value: '/liked'\n}, {\n  label: 'В работе',\n  value: '/feed'\n}];\nexport const notifications = [{\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  img: '/images/avatar.png',\n  title: 'Владислав',\n  message: 'Прокомментировал(а) ваш проект',\n  date: '12.12.2020'\n}, {\n  icon: 'infoCircle',\n  title: 'Система',\n  message: 'Добро пожаловать!',\n  date: '12.12.2020'\n}];\nexport const categories = [{\n  value: 0,\n  label: 'Строительство'\n}, {\n  value: 1,\n  label: 'Реконструкция'\n}, {\n  value: 2,\n  label: 'Капитальный ремонт'\n}, {\n  value: 3,\n  label: 'Цифровая среда'\n}];\nexport const filters = [{\n  label: 'Рейтинг',\n  value: 'rating'\n}, {\n  label: 'Подписчики',\n  value: 'followers'\n}, {\n  label: 'Дата',\n  value: 'date'\n}];"]}}